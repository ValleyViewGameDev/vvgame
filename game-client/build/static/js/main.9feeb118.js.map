{"version":3,"file":"static/js/main.9feeb118.js","mappings":"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","sources":["../node_modules/react/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/react-dom/client.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","UI/StringsContext.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/core/AxiosError.js","../node_modules/axios/lib/helpers/toFormData.js","../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/defaults/transitional.js","../node_modules/axios/lib/platform/browser/index.js","../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../node_modules/axios/lib/platform/browser/classes/FormData.js","../node_modules/axios/lib/platform/browser/classes/Blob.js","../node_modules/axios/lib/platform/common/utils.js","../node_modules/axios/lib/platform/index.js","../node_modules/axios/lib/helpers/formDataToJSON.js","../node_modules/axios/lib/defaults/index.js","../node_modules/axios/lib/helpers/toURLEncodedForm.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/core/AxiosHeaders.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/CanceledError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/speedometer.js","../node_modules/axios/lib/helpers/throttle.js","../node_modules/axios/lib/helpers/progressEventReducer.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/resolveConfig.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/helpers/parseProtocol.js","../node_modules/axios/lib/helpers/composeSignals.js","../node_modules/axios/lib/helpers/trackStream.js","../node_modules/axios/lib/adapters/fetch.js","../node_modules/axios/lib/adapters/adapters.js","../node_modules/axios/lib/helpers/null.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/HttpStatusCode.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","config.js","Utils/TuningManager.js","GridState/GridStateNPCs.js","VFX/VFX.js","UI/FloatingText.js","GridState/GlobalGridStateTilesAndResources.js","AppInit.js","Utils/ResourceHelpers.js","UI/PanelContext.js","Utils/worldHelpers.js","Utils/GridManagement.js","GameFeatures/Transit/transitConfig.js","GameFeatures/Transit/Transit.js","PlayerMovement.js","Render/RenderAnimatePosition.js","GridState/PlayersInGrid.js","GameFeatures/Quests/QuestGoalTracker.js","GameFeatures/Combat/Combat.js","GameFeatures/NPCs/NPCHelpers.js","Utils/InventoryManagement.js","GameFeatures/NPCs/NPCGrazing.js","GameFeatures/NPCs/NPCQuestGiver.js","GameFeatures/NPCs/NPCEnemy.js","GameFeatures/NPCs/NPCHeal.js","GameFeatures/NPCs/NPCSpawner.js","GameFeatures/NPCs/NPCs.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/@socket.io/component-emitter/lib/esm/index.js","../node_modules/engine.io-client/build/esm/globals.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js","socketManager.js","Utils/appUtils.js","GameFeatures/Chat/Chat.js","Render/Render.js","GridState/GridStateContext.js","GridState/GridStatePCContext.js","UI/UILockContext.js","Render/RenderDynamic.js","Utils/ResourceLockManager.js","ResourceClicking.js","FarmState.js","GridState/NPCController.js","UI/StatusBar.js","ZoomedOut/ZoomedOut.js","ZoomedOut/SettlementView.js","Utils/Relocation.js","ZoomedOut/FrontierView.js","UI/Modal.js","UI/LanguagePickerModal.js","Authentication/ChangeIcon.js","../node_modules/@stripe/stripe-js/dist/index.mjs","Store/Store.js","UI/ChangeIconModal.js","UI/Panel.js","UI/ModalContext.js","Authentication/ProfilePanel.js","settings.js","Authentication/CreateAccount.js","Authentication/LoginPanel.js","Utils/GridStateDebug.js","Utils/debug.js","Utils/WorldGeneration.js","GameFeatures/Inventory/InventoryPanel.js","UI/ResourceButton.js","GameFeatures/BuildAndBuy.js","GameFeatures/Build/BuildPanel.js","GameFeatures/Buy/BuyPanel.js","GameFeatures/Skills/SkillsPanel.js","GameFeatures/Farming/Farming.js","GameFeatures/Farming/FarmingPanel.js","UI/HowToPanel.js","UI/HowToMoneyPanel.js","GameFeatures/Government/GovUtils.js","GameFeatures/Government/GovPanel.js","UI/Timers.js","GameFeatures/Trading/Bank.js","GameFeatures/Trading/Train.js","GameFeatures/Government/Courthouse.js","UI/QuestButton.js","GameFeatures/Quests/QuestPanel.js","GameFeatures/NPCs/NPCsPanel.js","Utils/playerManagement.js","GameFeatures/Crafting/CraftingStation.js","GameFeatures/FarmHands/FarmHand.js","GameFeatures/Crafting/TradingStation.js","GameFeatures/Crafting/ShopStation.js","GameFeatures/FarmAnimals/AnimalStall.js","GameFeatures/Deco/DecoPanel.js","GameFeatures/Trading/TradeStall.js","GameFeatures/Mailbox/Mailbox.js","GameFeatures/Seasons/OffSeasonModal.js","UI/TownNews.js","GameFeatures/Seasons/SeasonPanel.js","GameFeatures/Social/SocialPanel.js","GameFeatures/Combat/CombatPanel.js","UI/GoldBenefitsPanel.js","Utils/share.js","UI/ShareModal.js","App.js","reportWebVitals.js","index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"e009a26f\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"game-client:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgame_client\"] = self[\"webpackChunkgame_client\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import React, { createContext, useContext } from 'react';\nimport stringsEN from './Strings/stringsEN.json';\nimport stringsFR from './Strings/stringsFR.json';\nimport stringsES from './Strings/stringsES.json';\nimport stringsIT from './Strings/stringsIT.json';\nimport stringsDE from './Strings/stringsDE.json';\nimport stringsPT from './Strings/stringsPT.json';\nimport stringsRU from './Strings/stringsRU.json';\nimport stringsNO from './Strings/stringsNO.json';\nimport stringsSV from './Strings/stringsSV.json';\nimport stringsFI from './Strings/stringsFI.json';\n\nconst STRINGS_MAP = {\n  en: stringsEN,\n  fr: stringsFR,\n  es: stringsES,\n  de: stringsDE,\n  it: stringsIT,\n  pt: stringsPT,\n  ru: stringsRU,\n  no: stringsNO,\n  sv: stringsSV,\n  fi: stringsFI,\n  // Add more languages here as needed\n};\n\nconst StringsContext = createContext(stringsEN); // Default to English\n\nexport const StringsProvider = ({ language = 'en', children }) => {\n  const selectedStrings = STRINGS_MAP[language?.toLowerCase()] || stringsEN;\n\n  React.useEffect(() => {\n    const id = Math.floor(Math.random() * 10000);\n    console.log(`🧩 StringsProvider mounted. ID: ${id}`);\n    return () => console.warn(`🧨 StringsProvider unmounted. ID: ${id}`);\n  }, []);\n\n  console.log('🧬 StringsProvider:', {\n    rawLanguage: language,\n    normalized: language?.toLowerCase(),\n    resolvedFile: selectedStrings,\n  });\n\n  return (\n    <StringsContext.Provider value={selectedStrings}>\n      {children}\n    </StringsContext.Provider>\n  );\n};\n\nexport const useStrings = () => {\n  const ctx = useContext(StringsContext);\n  //console.log(\"📘 useStrings hook called, returning:\", ctx);\n  return ctx;\n};","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.8.4\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const API_BASE = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n\nexport default API_BASE;","import API_BASE from '../config';\nimport axios from 'axios';\n\nlet masterSkills = null;\nlet masterResources = null;\n\n/**\n * Fetch and cache skillsTuning.json\n */\nexport async function loadMasterSkills() {\n  if (!masterSkills) {\n    try {\n      const response = await axios.get(`${API_BASE}/api/skills-tuning`);\n      masterSkills = response.data;\n//      console.log('Skills tuning loaded:', masterSkills);\n    } catch (error) {\n      console.error('Error fetching master skills:', error);\n      masterSkills = {};\n    }\n  }\n  return masterSkills;\n}\n\n/**\n * Fetch and cache resources.json\n */\nexport async function loadMasterResources() {\n  if (!masterResources) {\n    try {\n      const response = await axios.get(`${API_BASE}/api/resources`);\n      masterResources = response.data;\nconsole.log('Master resources loaded:', masterResources);\n    } catch (error) {\n      console.error('Error fetching master resources:', error);\n      masterResources = [];\n    }\n  }\nconsole.log('Master resources available and being returned');\n  return masterResources;\n}\n\n\n/**\n * Clear cached data (optional, for debugging or forced reloads).\n */\nexport function clearTuningCache() {\n  masterSkills = null;\n  masterResources = null;\n}\n","import API_BASE from '../config';\nimport socket from '../socketManager'; \nimport axios from 'axios';\nimport NPC from '../GameFeatures/NPCs/NPCs';\nimport { loadMasterResources } from '../Utils/TuningManager';\n\nlet gridTimer = null; // For periodic grid updates\nlet externalSetGridState = null;\n\nlet lastGridStateTimestamp = 0;\nexport const updateLastGridStateTimestamp = (timestamp) => {\n  if (timestamp > lastGridStateTimestamp) {\n    lastGridStateTimestamp = timestamp;\n  }\n};\nexport const getLastGridStateTimestamp = () => lastGridStateTimestamp;\n\nclass GridStateManager {\n  constructor() {\n    this.NPCsInGrid = {}; // Store grid states in memory\n    console.log('GridStateManager instance created.');\n  }\n\n  registerSetGridState(setterFunction) {\n    externalSetGridState = setterFunction;\n  }\n\n  /**\n   * Initialize the NPCsInGrid for a specific gridId.\n   */\n  async initializeGridState(gridId) {\n\n    console.log('👍 Initialize NPCsInGrid for gridId:', gridId);\n    if (!gridId) {\n      console.error('initializeGridState: gridId is undefined.');\n      return;\n    }\n\n    try {\n      const response = await axios.get(`${API_BASE}/api/load-grid-state/${gridId}`);\n      const {\n        NPCsInGrid = { npcs: {}, lastUpdated: 0 },\n      } = response.data;\n\n      // Build a consolidated local state with independent timestamps\n      const hydratedState = {\n        npcs: NPCsInGrid.npcs || {},\n        NPCsInGridLastUpdated: new Date(NPCsInGrid.lastUpdated || 0).getTime(),\n      };\n      const npcs = hydratedState.npcs || {};\n      console.log('Fetched NPCsInGrid:', hydratedState);\n\n      // Load master resources\n      const masterResources = await loadMasterResources();\n\n      // Rehydrate NPCs\n      if (npcs) {\n        Object.keys(npcs).forEach((npcId) => {\n          const lightweightNPC = npcs[npcId];\n          const npcTemplate = masterResources.find((res) => res.type === lightweightNPC.type);\n          if (!npcTemplate) {\n            console.warn(`⚠️ Missing template for NPC type: ${lightweightNPC.type}`);\n            console.log('Master resources:', masterResources.map(res => res.type));\n          }\n          const hydrated = new NPC(\n            npcId,\n            lightweightNPC.type,\n            lightweightNPC.position,\n            { ...npcTemplate, ...lightweightNPC },\n            gridId\n          );\n\n          console.log('  ✅ Hydrated NPC instance:', hydrated);\n\n          NPCsInGrid.npcs[npcId] = hydrated;\n        });\n      }\n\n      this.NPCsInGrid[gridId] = NPCsInGrid;\n\n      if (this.setGridStateReact) {\n        console.log('📡 Syncing initialized NPCs to React state for gridId:', gridId);\n        this.setGridStateReact(prev => ({\n          ...prev,\n          [gridId]: {\n            ...(prev[gridId] || {}),\n            ...NPCsInGrid,\n          },\n        }));\n      }\n\n      console.log(`✅ Initialized and enriched NPCsInGrid for gridId ${gridId}:`, NPCsInGrid);\n    } catch (error) {\n      console.error('Error fetching NPCsInGrid:', error);\n    }\n  }\n\n  /**\n   * Get the NPCsInGrid for a specific gridId.\n   */\n  getNPCsInGrid(gridId) {\n    const NPCsInGrid = this.NPCsInGrid[gridId];\n    if (!NPCsInGrid) {\n      console.warn(`⚠️ No NPCsInGrid found for gridId: ${gridId}`);\n      return { npcs: {} }; // Only return NPCs\n    }\n    return NPCsInGrid.npcs;\n  }\n\n  /**\n   * Spawn a new NPC and immediately save the updated NPCsInGrid to the DB.\n   */\n  async spawnNPC(gridId, npcType, position) {\n    // DEBUG: Log input parameters for spawnNPC\n    console.log('spawnNPC called with:', { gridId, npcType, position });\n    if (typeof npcType === 'object' && npcType?.type) {\n      npcType = npcType.type; // Extract the type string\n    }\n    if (typeof npcType !== 'string') {\n      console.error('Invalid npcType. Expected a string but got:', npcType);\n      return;\n    }\n    const masterResources = await axios.get(`${API_BASE}/api/resources`);\n    const npcTemplate = masterResources.data.find((res) => res.type === npcType && res.category === 'npc');\n    if (!npcTemplate) {\n      console.error(`NPC template not found for type: ${npcType}`);\n      return;\n    }\n\n    const npcId = `${Date.now()}`;\n\n    let lightweightNPC;\n\n    if (npcTemplate.action === 'graze') {\n      lightweightNPC = {\n        id: npcId,\n        type: npcType,\n        action: npcTemplate.action,\n        state: 'idle',\n        position,\n        hp: 0,\n        maxhp: npcTemplate.maxhp,\n        lastUpdated: Date.now(),\n      };\n    } else if (npcTemplate.action === 'spawn') {  // Ensure spawners track nextspawn\n      lightweightNPC = {\n        id: npcId,\n        type: npcType,\n        action: npcTemplate.action,\n        state: 'hungry',\n        position,\n        hp: npcTemplate.maxhp,\n        maxhp: npcTemplate.maxhp,\n        lastUpdated: Date.now(),\n        nextspawn: Date.now() + npcTemplate.speed * 1000, // Ensure nextspawn is explicitly set\n      };\n    } else {\n      lightweightNPC = {\n        id: npcId,\n        type: npcType,\n        action: npcTemplate.action,\n        state: 'idle',\n        position,\n        hp: npcTemplate.maxhp,\n        maxhp: npcTemplate.maxhp,\n        lastUpdated: Date.now(),\n      };\n    }\n    console.log('Creating lightweightNPC:', lightweightNPC);\n\n    // Ensure NPC is properly instantiated as an `NPC` class object before adding\n    const npc = new NPC(\n      npcId,\n      npcType,\n      position,\n      { ...npcTemplate, ...lightweightNPC },\n      gridId // Include gridId\n    );\n    this.addNPC(gridId, npc);\n\n    console.log(`Successfully added NPC to NPCsInGrid. NPC ID: ${npcId}`);\n\n    const updatedGridState = this.getNPCsInGrid(gridId);\n    this.setAllNPCs(gridId, updatedGridState);\n  }\n\n  /**\n   * Add an NPC to the NPCsInGrid using per-NPC save model.\n   */\n  async addNPC(gridId, npc) {\n    console.log(`Adding NPC to NPCsInGrid for gridId: ${gridId}. NPC:`, npc);\n    let NPCsInGrid = this.NPCsInGrid[gridId];\n    if (!NPCsInGrid) {\n      console.warn(`⚠️ No NPCsInGrid found for gridId: ${gridId}. Initializing new entry.`);\n      NPCsInGrid = { npcs: {}, NPCsInGridLastUpdated: Date.now() };\n      this.NPCsInGrid[gridId] = NPCsInGrid;\n    }\n    if (!NPCsInGrid.npcs) NPCsInGrid.npcs = {};\n\n    const now = Date.now();\n    npc.lastUpdated = now;\n\n    NPCsInGrid.npcs[npc.id] = npc;\n\n    try {\n      await axios.post(`${API_BASE}/api/save-single-npc`, {\n        gridId,\n        npcId: npc.id,\n        npc,\n        lastUpdated: now,\n      });\n      console.log(`✅ Saved single NPC ${npc.id} to server.`);\n    } catch (error) {\n      console.error(`❌ Failed to save single NPC ${npc.id}:`, error);\n    }\n\n    if (socket && socket.emit) {\n      const payload = {\n        [gridId]: {\n          npcs: { [npc.id]: npc }, // or [npc.id]: npc in addNPC\n          NPCsInGridLastUpdated: now,\n        },\n        emitterId: socket.id,\n      };\n      console.log(\"📡 Emitting update-NPCsInGrid-NPCs with payload:\", JSON.stringify(payload, null, 2));\n      socket.emit('update-NPCsInGrid-NPCs', payload);\n    }\n  }\n\n  /**\n   * Update an NPC in the NPCsInGrid using the per-NPC save model.\n   */\n  async updateNPC(gridId, npcId, newProperties) {\n    //console.log(`🐮++ Updating NPC ${npcId} for gridId: ${gridId}`);\n    const NPCsInGrid = this.NPCsInGrid[gridId];\n    const existing = NPCsInGrid?.npcs?.[npcId];\n\n    if (!NPCsInGrid || !NPCsInGrid.npcs?.[npcId]) {\n      console.error(`Cannot update NPC ${npcId}. No NPCsInGrid or NPC found for gridId: ${gridId}`);\n      return;\n    }\n\n    if (!(existing instanceof NPC)) {\n      console.error(`🛑 Skipping updateNPC for ${npcId} — not an instance of NPC:`, existing);\n      return;\n    }\n  \n    const now = Date.now();\n    const npc = NPCsInGrid.npcs[npcId]; // already an instance of NPC\n    Object.assign(npc, newProperties);\n    npc.lastUpdated = now;\n\n    //console.log(`[🐮 NPCsInGridManager.updateNPC] NPC ${npcId} updated with:`, newProperties);\n\n    try {\n      await axios.post(`${API_BASE}/api/save-single-npc`, {\n        gridId,\n        npcId,\n        npc,\n        lastUpdated: now,\n      });\n      //console.log(`🐮✅ Saved single NPC ${npcId} to server.`);\n    } catch (error) {\n      console.error(`❌ Failed to save single NPC ${npcId}:`, error);\n    }\n\n    if (socket && socket.emit) {\n      const payload = {\n        [gridId]: {\n          npcs: { [npcId]: npc }, // or [npc.id]: npc in addNPC\n          NPCsInGridLastUpdated: now,\n        },\n        emitterId: socket.id,\n      };\n      //console.log(\"📡 Emitting update-NPCsInGrid-NPCs with payload:\", JSON.stringify(payload, null, 2));\n      socket.emit('update-NPCsInGrid-NPCs', payload);\n    }\n\n    const updatedGridState = this.getNPCsInGrid(gridId);\n    this.setAllNPCs(gridId, updatedGridState);\n  }\n\n  /**\n   * Remove an NPC from the NPCsInGrid using the per-NPC save model.\n   */\n  async removeNPC(gridId, npcId) {\n    console.log(`Removing NPC ${npcId} from gridId: ${gridId}`);\n    const NPCsInGrid = this.NPCsInGrid[gridId];\n    if (!NPCsInGrid || !NPCsInGrid.npcs) {\n      console.error(`Cannot remove NPC. No NPCsInGrid or NPCs found for gridId: ${gridId}`);\n      return;\n    }\n\n    delete NPCsInGrid.npcs[npcId];\n    this.setAllNPCs(gridId, NPCsInGrid.npcs); // 🧠 Update React state after deletion\n\n    try {\n      await axios.post(`${API_BASE}/api/remove-single-npc`, {\n        gridId,\n        npcId,\n      });\n      console.log(`✅ Removed single NPC ${npcId} from server.`);\n    } catch (error) {\n      console.error(`❌ Failed to remove single NPC ${npcId}:`, error);\n    }\n\n    if (socket && socket.emit) {\n      socket.emit('remove-NPC', {\n        gridId,\n        npcId,\n        emitterId: socket.id,\n      });\n      console.log(`📡 Emitted NPC removal for ${npcId}`);\n    }\n  }\n\n  /**\n   * Save only NPCs in the NPCsInGrid to the database.\n   * This version dehydrates live NPC instances into plain objects and matches the PC saving structure.\n   */\n  async saveGridStateNPCs(gridId) {\n    console.log('💾 saveGridStateNPCs called with gridId:', gridId);\n    try {\n      const NPCsInGrid = this.NPCsInGrid[gridId];\n      if (!NPCsInGrid || !NPCsInGrid.npcs) {\n        console.warn(`⚠️ No NPCs to save for grid ${gridId}`);\n        return;\n      }\n\n      // Update local NPC timestamp\n      const now = Date.now();\n      NPCsInGrid.NPCsInGridLastUpdated = now;\n\n      // Dehydrate the NPCs to simple objects\n      const dehydratedNPCs = {};\n      Object.entries(NPCsInGrid.npcs).forEach(([id, npc]) => {\n        dehydratedNPCs[id] = {\n          id: npc.id,\n          type: npc.type,\n          position: npc.position,\n          state: npc.state,\n          hp: npc.hp,\n          maxhp: npc.maxhp,\n          grazeEnd: npc.grazeEnd,\n          lastUpdated: npc.lastUpdated,\n        };\n      });\n\n      const payload = {\n        gridId,\n        npcs: dehydratedNPCs,\n        NPCsInGridLastUpdated: now,\n      };\n\n      console.log('💾 Payload for saving NPCs:', payload);\n\n      // Save to server\n      await axios.post(`${API_BASE}/api/save-grid-state-npcs`, payload);\n      console.log(`✅ 💾 Saved NPCs for grid ${gridId}`);\n\n      // Emit updated NPCs to other clients\n      if (socket && socket.emit) {\n        console.log(`📡 Emitting NPC grid-state for grid ${gridId}`);\n        socket.emit('update-NPCsInGrid-NPCs', {\n          gridId,\n          npcs: dehydratedNPCs,\n          NPCsInGridLastUpdated: now,\n        });\n      }\n    } catch (error) {\n      console.error(`❌ Error saving NPCs for grid ${gridId}:`, error);\n    }\n  }\n\n  /**\n   * Start periodic updates for NPCs in the NPCsInGrid.\n   */\n  startGridTimer(gridId) {\n    if (gridTimer) clearInterval(gridTimer);\n\n    gridTimer = setInterval(() => {\n      const NPCsInGrid = this.NPCsInGrid[gridId];\n      if (!NPCsInGrid) return;\n\n      const { npcs } = NPCsInGrid;\n      const now = Date.now();\n\n      Object.values(npcs || {}).forEach((npc) => {\n        if (npc instanceof NPC && typeof npc.update === 'function') {\n          //console.log(`Calling update() for NPC ID: ${npc.id}`);\n          npc.update(now, NPCsInGrid); // Let each NPC handle its own updates\n        } else {\n          console.error(`NPC ID: ${npc.id} is not a valid NPC instance or missing update method. NPC:`, npc);\n        }\n      });\n\n      console.log(`Processed NPC updates for gridId ${gridId}.`);\n    }, 1000);\n  }\n\n  /**\n   * Stop periodic updates for NPCs.\n   */\n  stopGridTimer() {\n    if (gridTimer) clearInterval(gridTimer);\n    gridTimer = null;\n  }\n\n  // Stop updates or clear grid state\n  stopGridStateUpdates() {\n    if (this.updateInterval) {\n      clearInterval(this.updateInterval); // Clear periodic updates\n      this.updateInterval = null;\n      //console.log('Grid state updates stopped.');\n    }\n    this.NPCsInGrid = {}; // Clear in-memory grid states\n  }\n\n  registerSetGridState(setter) {\n    this.setGridStateReact = setter;\n  }\n\n  setAllNPCs(gridId, npcsObject) {\n    //console.log('Setting all NPCs for gridId:', gridId, '; NPCs object:', npcsObject);\n  \n    // Safely get or create the current state\n    const existingState = this.NPCsInGrid[gridId] || {};\n    const lastUpdated = existingState.NPCsInGridLastUpdated || Date.now();\n  \n    this.NPCsInGrid[gridId] = {\n      ...existingState,\n      npcs: npcsObject || {},\n      NPCsInGridLastUpdated: lastUpdated,\n    };\n  \n    if (this.setGridStateReact) {\n      this.setGridStateReact(prev => ({\n        ...prev,\n        [gridId]: {\n          ...(prev[gridId] || {}),\n          npcs: npcsObject || {},\n          NPCsInGridLastUpdated: lastUpdated,\n        },\n      }));\n    }\n  }\n\n}\n\nconst NPCsInGridManager = new GridStateManager();\n\n// Export individual methods for direct use\nexport const {\n  initializeGridState,\n  getNPCsInGrid,\n  addNPC,\n  updateNPC,\n  removeNPC, \n  saveGridStateNPCs,\n  registerSetGridState,\n  setAllNPCs,\n} = NPCsInGridManager;\n\n// Default export for the entire manager\nexport default NPCsInGridManager;","// Configure animation durations (in milliseconds)\nconst VFX_TIMING = {\n    COLLECT_DURATION: 500,      // Doober collection poof animation\n    SWIPE_DURATION: 1000,        // Source conversion swipe animation (was 400)\n    FADE_DURATION: 400,         // How long fade-out takes\n};\n\nconst createParticleElement = (char, x, y) => {\n    const particle = document.createElement('div');\n    particle.innerText = char;\n    particle.style.position = 'absolute';\n    particle.style.left = `${x}px`;\n    particle.style.top = `${y}px`;\n    particle.style.pointerEvents = 'none';\n    particle.style.zIndex = '1000';\n    particle.style.fontSize = '12px';\n    return particle;\n};\n\n// Add this utility function\nexport const calculateTileCenter = (x, y, TILE_SIZE) => {\n    const centerX = (x * TILE_SIZE) + (TILE_SIZE / 2) - 6;\n    const centerY = (y * TILE_SIZE) + (TILE_SIZE / 2) - 6;\n    return { centerX, centerY };\n};\n\nexport const createCollectEffect = (x, y, TILE_SIZE) => {\n    const gameContainer = document.querySelector('.homestead');\n    if (!gameContainer) return;\n    // Use the utility function\n    const { centerX, centerY } = calculateTileCenter(x, y, TILE_SIZE);\n    console.log('centerX= ',centerX,'; centerY= ',centerY);\n\n    const directions = [\n        { dx: -1, dy: -1, startX: -2, startY: -2 }, \n        { dx: 1, dy: -1, startX: 2, startY: -2 },  \n        { dx: -1, dy: 1, startX: -2, startY: 2 },   \n        { dx: 1, dy: 1, startX: 2, startY: 2 }     \n    ];\n\n    directions.forEach(dir => {\n        // Position particle at tile center + small initial offset\n        const particle = createParticleElement('💨', \n            centerX + dir.startX, \n            centerY + dir.startY\n        );\n        gameContainer.appendChild(particle);\n\n        // Animate outward from center\n        particle.style.transition = 'all 0.5s ease-out';\n        requestAnimationFrame(() => {\n            particle.style.transform = `translate(${dir.dx * 20}px, ${dir.dy * 20}px)`;\n            particle.style.opacity = '0';\n        });\n\n        setTimeout(() => {\n            gameContainer.removeChild(particle);\n        }, VFX_TIMING.COLLECT_DURATION);\n    });\n};\n \nexport const createSourceConversionEffect = (x, y, TILE_SIZE, requiredSkill) => {\n    const gameContainer = document.querySelector('.homestead');\n    if (!gameContainer) return;\n    console.log('createSourceConversionEffect called with x:', x, 'y:', y, 'requiredSkill:', requiredSkill);\n    // Determine emoji based on required skill\n    const emoji = requiredSkill?.includes('Axe') ? '🪓' : \n                 requiredSkill?.includes('Pickaxe') ? '⛏️' : \n                 requiredSkill?.includes('Golden Key') ? '🔑' : \n                  requiredSkill?.includes('Skeleton Key') ? '🗝️' : \n                '💫';\n\n    const { centerX, centerY } = calculateTileCenter(x, y, TILE_SIZE);\n    \n    const particle = document.createElement('div');\n    particle.innerText = emoji;\n    particle.style.position = 'absolute';\n    particle.style.left = `${centerX - TILE_SIZE/2 + 5}px`; // Added OFFSET\n    particle.style.top = `${centerY - TILE_SIZE/2 - 4}px`;\n    particle.style.pointerEvents = 'none';\n    particle.style.zIndex = '1000';\n    particle.style.fontSize = '28px';\n    gameContainer.appendChild(particle);\n\n    particle.style.transition = `all ${VFX_TIMING.SWIPE_DURATION}ms cubic-bezier(0.2, 0, 0, 1)`; // More forceful start, gentle end\n    requestAnimationFrame(() => {\n        particle.style.transform = `translate(-${TILE_SIZE}px, ${TILE_SIZE}px)`;\n        particle.style.opacity = '0';\n    });\n\n    setTimeout(() => {\n        gameContainer.removeChild(particle);\n    }, VFX_TIMING.SWIPE_DURATION); // Match the new animation duration\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport './FloatingText.css';\nimport { calculateTileCenter } from '../VFX/VFX.js';\nimport { useStrings } from '../UI/StringsContext';\n\nconst FloatingTextManager = () => {\n    const [tick, setTick] = useState(0);\n    const floatingTextsRef = useRef([]);\n    const addFloatingTextRef = useRef(null);\n    const strings = useStrings();\n\n    const forceUpdate = () => setTick((prev) => prev + 1);\n\n    const instanceId = Math.floor(Math.random() * 10000);\nconsole.log(`✅ FloatingTextManager mounted. Instance ID: ${instanceId}`);\n\n    // Assign stable function to the static handler\n    useEffect(() => {\n        FloatingTextManager.addFloatingText = (message, x, y, TILE_SIZE) => {\n            const displayText = typeof message === 'number'\n                ? (strings[message] || `Missing string for code: ${message}`)\n                : message;\n\n            console.log('🎈 Adding floating text:', { message, displayText, x, y });\n\n            const container = document.querySelector('.homestead');\n            if (!container) return;\n\n            if (isNaN(x) || isNaN(y)) {\n                console.warn('Invalid coordinates in addFloatingText:', { x, y });\n                return;\n            }\n\n            const { centerX, centerY } = calculateTileCenter(x, y, TILE_SIZE);\n            const newId = `${Date.now()}-${Math.floor(Math.random() * 10000)}`;\n\n            floatingTextsRef.current.push({\n                id: newId,\n                text: displayText,\n                x: centerX,\n                y: centerY,\n                timestamp: Date.now()\n            });\n\n            forceUpdate();\n        };\n    }, [strings]);\n\n    const container = document.querySelector('.homestead');\n    if (!container) return null;\n\n    return createPortal(\n        <div className=\"floating-text-container\">\n            {floatingTextsRef.current.map(({ id, text, x, y }) => (\n                <div\n                    key={id}\n                    className=\"floating-text\"\n                    style={{\n                        position: 'absolute',\n                        left: x,\n                        top: y - 30,\n                        transform: 'translate(-50%, -50%)'\n                    }}\n                    onAnimationEnd={() => {\n                        floatingTextsRef.current = floatingTextsRef.current.filter(t => t.id !== id);\n                        forceUpdate();\n                    }}\n                >\n                    {text}\n                </div>\n            ))}\n        </div>,\n        container\n    );\n};\n\n// Will be assigned inside useEffect\nFloatingTextManager.addFloatingText = (...args) => {\n    console.warn('FloatingTextManager not ready yet', ...args);\n};\n\nexport default FloatingTextManager;","// GlobalGridStateTilesAndResources.js\nconst GlobalGridStateTilesAndResources = {\n    tiles: [],\n    resources: [],\n  \n    // Setter for tiles\n    setTiles(newTiles) {\n      this.tiles = newTiles;\n      //console.log('Global tiles updated:', this.tiles);\n    },\n  \n    // Setter for resources\n    setResources(newResources) {\n      this.resources = newResources;\n      //console.log('Global resources updated:', this.resources);\n    },\n  \n    // Getter for tiles\n    getTiles() {\n      return this.tiles;\n    },\n  \n    // Getter for resources\n    getResources() {\n      return this.resources;\n    },\n  };\n  \n  export default GlobalGridStateTilesAndResources;","import API_BASE from './config';\nimport axios from 'axios';\nimport { fetchGridData } from './Utils/GridManagement'; // Utility for fetching grid data\n\n//import { syncPlayerAndGridState } from './Utils/playerManagement';\n\n/**\n * Main App Initialization (Runs on Refresh or Login)\n */\nexport const initializeGrid = async (\n  TILE_SIZE,\n  gridId,\n  setGrid,\n  setResources,\n  setTileTypes,\n  updateStatus,\n  DBPlayerData\n) => {\n  try {\n    if (!gridId) {\n      console.error('GridId is missing. Cannot initialize grid.');\n      return;\n    }\n\n    console.log('Initializing grid for gridId:', gridId);\n\n    const gridData = await fetchGridData(gridId, updateStatus, DBPlayerData);\n    const { tiles, resources } = gridData;\n\n    setGrid(tiles || []);\n    setResources(resources || []);\n    setTileTypes(tiles || []);\n\n    console.log('Grid, tiles, and resources initialized for gridId:', gridId);\n  } catch (error) {\n    console.error('Error initializing grid:', error);\n  }\n};\n\n\n\n/**\n * Logout Player\n */\nexport const logoutPlayer = (setPlayerData, setisLoginPanelOpen, setGrid, setResources, setTileTypes) => {\n  localStorage.removeItem('player');\n  setPlayerData(null);\n  setGrid([]); // Clear the grid state\n  setResources([]); // Clear resources\n  setTileTypes([]); // Clear tile types\n  setisLoginPanelOpen(true); // Open login modal\n};","import playersInGridManager from \"../GridState/PlayersInGrid\";\nimport axios from \"axios\";\nimport API_BASE from \"../config\";\n  \nexport const getIngredientDetails = (recipe, allResources) => {\n  \n    const ingredients = [];\n    for (let i = 1; i <= 4; i++) {\n      const ingredientType = recipe[`ingredient${i}`];\n      const ingredientQty = recipe[`ingredient${i}qty`];\n      if (ingredientType && ingredientQty) {\n        const ingredientResource = allResources.find((res) => res.type === ingredientType);\n        const symbol = ingredientResource?.symbol || '';\n        ingredients.push(`${symbol} ${ingredientType} x${ingredientQty}`);\n      }\n    }\n    return ingredients;\n  };\n  \n\n// Utility Function for Socket Listener\nexport function mergeResources(existingResources, updatedResources) {\n  console.log(\"🧪 mergeResources called\");\n  console.log(\"📥 Existing Resources:\", existingResources.length);\n  console.log(\"📥 Updated Resources:\", updatedResources);\n\n  const map = new Map();\n\n  // Add all existing resources to map\n  for (const res of existingResources) {\n    const key = `${res.x},${res.y}`;\n    map.set(key, res);\n  }\n\n  // Track whether any actual changes were made\n  let changed = false;\n\n  // Overwrite with updated ones\n  for (const updated of updatedResources) {\n    const key = `${updated.x},${updated.y}`;\n    const existing = map.get(key);\n    const merged = { ...existing, ...updated };\n\n    // Deep compare for debugging\n    const changedFields = Object.entries(updated).filter(\n      ([k, v]) => existing?.[k] !== v\n    );\n    if (changedFields.length > 0) {\n      console.log(`🔄 Resource at (${key}) changed fields:`, changedFields);\n      changed = true;\n    } else {\n      console.log(`✅ Resource at (${key}) unchanged`);\n    }\n\n    map.set(key, merged);\n  }\n\n  const result = Array.from(map.values());\n\n  console.log(\"✅ mergeResources returning new array of length:\", result.length);\n  console.log(\"🔁 Resources actually changed?\", changed);\n  return result;\n}\n\n\nexport function mergeTiles(existingTiles, updatedTiles) {\n  console.log(\"🧪 mergeTiles called\");\n  console.log(\"📥 Existing Tiles:\", existingTiles.length, \"rows\");\n  console.log(\"📥 Updated Tiles:\", updatedTiles);\n\n  const newTiles = existingTiles.map(row => [...row]); // Create deep copy\n  let changed = false;\n\n  updatedTiles.forEach(({ x, y, type: tileType }) => {\n    if (newTiles[y] && typeof newTiles[y][x] !== 'undefined') {\n      const oldTile = newTiles[y][x];\n      if (oldTile !== tileType) {\n        console.log(`🔄 Tile at (${x},${y}) changed from \"${oldTile}\" to \"${tileType}\"`);\n        newTiles[y][x] = tileType;\n        changed = true;\n      } else {\n        console.log(`✅ Tile at (${x},${y}) is already \"${tileType}\" — no change`);\n      }\n    } else {\n      console.warn(`⚠️ Attempted to update invalid tile at (${x},${y})`);\n    }\n  });\n\n  console.log(\"✅ mergeTiles returning new tile array\");\n  console.log(\"🔁 Any tiles changed?\", changed);\n  return newTiles;\n}\n\n\nexport function enrichResourceFromMaster(raw, masterResources) {\n// Used by socket listeners to enrich raw resource data with template details\n  const template = masterResources.find(r => r.type === raw.type);  \n  if (!template) {\n    console.warn(`⚠️ No matching resource template found for ${raw.type}`);\n    return raw;\n  }\n  return {\n    ...template,\n    ...raw, // Allow raw to override specific fields like growEnd, x, y\n  };\n}\n\nexport function getCurrentTileCoordinates(gridId, currentPlayer) {\n  const playersInGrid = playersInGridManager.getPlayersInGrid(gridId);\n  if (!playersInGrid || !currentPlayer?.playerId) {\n    console.warn('⚠️ playersInGrid or playerId missing.');\n    return null;\n  }\n  const playerData = playersInGrid[currentPlayer.playerId];\n  if (!playerData) {\n    console.warn('⚠️ Player not found in playersInGrid.');\n    return null;\n  }\n  const { x, y } = playerData.position;\n  if (x == null || y == null) {\n    console.warn('⚠️ Invalid player position.');\n    return null;\n  }\n  const tileX = Math.floor(x);\n  const tileY = Math.floor(y);\n  return { tileX, tileY };\n}\n\n// export async function getTileResource(gridId, x, y) {\n//   try {\n//     console.log(`Fetching resource at (${x}, ${y}) in grid ${gridId}`);\n//     const response = await axios.get(`${API_BASE}/api/get-resource/${gridId}/${x}/${y}`);\n//     console.log(`Resource at (${x}, ${y}):`, response.data);\n//     return response.data;\n//   } catch (error) {\n//     console.error(`Error fetching resource at (${x}, ${y}) in grid ${gridId}:`, error);\n//     throw error;\n//   }\n// }\n\nexport async function validateTileType(gridId, x, y) {\n  try {\n    console.log(`Validating tile type at (${x}, ${y}) in grid ${gridId}`);\n    const response = await axios.get(`${API_BASE}/api/get-tile/${gridId}/${x}/${y}`);\n    console.log(`Tile type at (${x}, ${y}):`, response.data.tileType);\n    return response.data.tileType;\n  } catch (error) {\n    console.error(`Error fetching tile type at (${x}, ${y}) in grid ${gridId}:`, error);\n    throw error;\n  }\n}\n","import React, { createContext, useContext, useState } from 'react';\n\nconst PanelContext = createContext();\n\nexport const PanelProvider = ({ children }) => {\n  const [activePanel, setActivePanel] = useState(null);\n\n  React.useEffect(() => {\n    const id = Math.floor(Math.random() * 10000);\n    console.log(`🧩 PanelProvider mounted. ID: ${id}`);\n    return () => console.warn(`🧨 PanelProvider unmounted. ID: ${id}`);\n  }, []);\n\n  const openPanel = (panelName) => {\n    setActivePanel(panelName);\n  };\n  const closePanel = () => {\n    setActivePanel(null);\n  };\n  return (\n    <PanelContext.Provider value={{ activePanel, openPanel, closePanel, closeAllPanels: closePanel }}>\n      {children}\n    </PanelContext.Provider>\n  );\n};\nexport const usePanelContext = () => {\n  return useContext(PanelContext);\n};\n","import API_BASE from '../config';\nimport axios from 'axios';\nimport { loadMasterResources } from './TuningManager';\n \nexport const fetchHomesteadOwner = async (gridId) => {\n  try {\n    console.log(`Fetching homestead owner for gridId: ${gridId}`);\n\n    // 🔹 Step 1: Fetch grid details (to get `ownerId`)\n    const gridResponse = await axios.get(`${API_BASE}/api/load-grid/${gridId}`);\n    const { ownerId = null, gridType = null } = gridResponse.data;\n\n    console.log(\"ownerId =\",ownerId);\n\n    if (!ownerId) {\n      console.log(\"🏡 This homestead is unoccupied.\");\n      return { username: null, gridType };\n    }\n\n    // 🔹 Step 2: Fetch player document using `ownerId`\n    const playerResponse = await axios.get(`${API_BASE}/api/player/${ownerId._id}`);\n    const { username = null } = playerResponse.data;\n \n    if (username) {\n      console.log(`🏡 Homestead belongs to: ${username}`);\n      return { username, gridType };\n    } else {\n      console.warn(\"🚨 Owner's player document not found!\");\n      return { username: null, gridType };\n    }\n\n  } catch (error) {\n    console.error('❌ Error fetching homestead owner:', error);\n    return { username: null, gridType: null }; // Return defaults in case of an error\n  }\n};\n\n \nexport const addResourceToGrid = async (resources, newResource) => {\n  try {\n    const masterResources = await loadMasterResources();\n    console.log('masterResources:', masterResources);\n    console.log('current resources:', resources);\n    console.log('newResource:', newResource);\n\n    if (!Array.isArray(masterResources)) {\n      console.error('Failed to load masterResources or incorrect format:', masterResources);\n      return resources;\n    }\n\n    // Extract `type` from `newResource` payload\n    const resourceType = newResource?.type || newResource?.newResource;\n    if (!resourceType) {\n      console.error('[addResourceToGrid] Invalid resource payload:', newResource);\n      return resources;\n    }\n\n    // Find the resource template to get the symbol\n    const resourceTemplate = masterResources.find((template) => template.type === resourceType);\n\n    // Enrich only with the basics\n    const enrichedResource = {\n      ...resourceTemplate, // Use the full template from masterResources\n      type: resourceType, // Keep type\n      x: newResource.x,   // Keep x\n      y: newResource.y,   // Keep y\n      growEnd: newResource.growEnd, // Keep growEnd\n    };\n\n    console.log('Enriched resource:', enrichedResource);\n\n    // Ensure no duplicates exist at the same x, y position\n    return [\n      ...resources.filter((res) => !(res.x === newResource.x && res.y === newResource.y)),\n      enrichedResource, // Add the enriched resource\n    ];\n  } catch (error) {\n    console.error('Error enriching resource:', error);\n    return resources; // Return unmodified resources on error\n  }\n};\n\n\n// Inline function to calculate Euclidean distance safely\nexport const calculateDistance = (pos1, pos2) => {\n  if (!pos1 || !pos2 || typeof pos1.x === 'undefined' || typeof pos1.y === 'undefined' || typeof pos2.x === 'undefined' || typeof pos2.y === 'undefined') {\n    console.warn(\"Skipping distance calculation due to invalid position:\", { pos1, pos2 });\n    return Infinity;\n  }\n  return Math.sqrt(Math.pow(pos1.x - pos2.x, 2) + Math.pow(pos1.y - pos2.y, 2));\n};\n\n\n// Calculates the derived range based on base range + bonus from skill metadata\nexport const getDerivedRange = (currentPlayer, masterResources) => {\n  if (!currentPlayer || !Array.isArray(masterResources)) return 1;\n\n  const baseRange = currentPlayer.range || 1;\n\n  const bonusRangeFromSkills = currentPlayer.skills?.reduce((sum, skill) => {\n    const master = masterResources.find(r => r.type === skill.type);\n    if (master?.output === 'range' && typeof master.qtycollected === 'number') {\n      return sum + master.qtycollected;\n    }\n    return sum;\n  }, 0) || 0;\n\n  const gridType = currentPlayer?.location?.gtype;\n  const totalRange = gridType === 'homestead'\n    ? baseRange + bonusRangeFromSkills + 5\n    : baseRange + bonusRangeFromSkills;\n\n  return totalRange;\n};","import API_BASE from '../config';\nimport axios from 'axios';\nimport { initializeGrid } from '../AppInit';\nimport NPCsInGridManager from '../GridState/GridStateNPCs';\nimport playersInGridManager from '../GridState/PlayersInGrid';\nimport socket from '../socketManager'; // ⚠️ At top of file if not already present\nimport GlobalGridStateTilesAndResources from '../GridState/GlobalGridStateTilesAndResources';\nimport { mergeResources, mergeTiles } from './ResourceHelpers';\nimport { centerCameraOnPlayer } from '../PlayerMovement';\nimport { closePanel } from '../UI/PanelContext';\nimport { fetchHomesteadOwner } from './worldHelpers';\n\nexport const updateGridResource = async (\n  gridId,\n  resource,\n  broadcast = true\n) => {\n  console.log('UPDATE GRID RESOURCE; resource = ', resource);\n\n  try {\n    const { x, y, growEnd, craftEnd, craftedItem, type } = resource;\n    \n    // ✅ 1. Flat payload — no \"newResource\" key\n    const payload = {\n      resource: {\n        type,\n        x,\n        y,\n        ...(growEnd !== undefined && { growEnd }),\n        ...(craftEnd !== undefined && { craftEnd }),\n        ...(craftedItem !== undefined && { craftedItem }),\n      },\n      broadcast, // optional - depending on your server usage\n    };\n    console.log('UPDATE GRID RESOURCE; payload = ', payload);\n\n    // ✅ 2. Update the database\n    const response = await axios.patch(`${API_BASE}/api/update-grid/${gridId}`, payload);\n    if (!response.data.success) throw new Error('Failed DB update');\n\n    // ✅ 3. Emit to other clients\n    if (broadcast && socket && socket.emit) {\n      socket.emit('update-resource', {\n        gridId,\n        updatedResources: [resource?.type === null ? { x, y, type: null } : resource],\n      });\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.error('❌ Error in updateGridResource:', error);\n    return { success: false };\n  }\n};\n\n\nexport const convertTileType = async (gridId, x, y, newType, setTileTypes = null) => {\n  try {\n    console.log(`Converting tile at (${x}, ${y}) to type: ${newType}`);\n\n    // Update the tile in the database\n    const response = await axios.patch(`${API_BASE}/api/update-tile/${gridId}`, {\n      x,\n      y,\n      newType,\n    });\n\n    if (response.data.success) {\n      console.log(`✅ Tile at (${x}, ${y}) successfully updated to ${newType} in the database.`);\n\n      // ✅ Immediately update local state optimistically\n      if (setTileTypes) {\n        setTileTypes((prevTiles) => {\n          const updated = mergeTiles(prevTiles, [{ x, y, type: newType }]);\n          console.log(\"🌱 Optimistically updated tileTypes (emitter):\", updated);\n          return updated;\n        });\n      }\n\n      console.log('newType before emitter:', newType);\n      // Emit the change to all connected clients via the socket\n      socket.emit('update-tile', {\n        gridId,\n        updatedTiles: [{ x, y, type: newType }],\n      });\n    } else {\n      console.error(`❌ Failed to update tile at (${x}, ${y}):`, response.data.message);\n    }\n  } catch (error) {\n    console.error(`❌ Error converting tile at (${x}, ${y}):`, error);\n  }\n};\n\nexport const changePlayerLocation = async (\n  currentPlayer,\n  fromLocation,\n  toLocation,\n  setCurrentPlayer,\n  setGridId,\n  setGrid,\n  setTileTypes,\n  setResources,\n  TILE_SIZE,\n  updateStatus,\n  closeAllPanels // ✅ Add this prop\n) => {\n\n  console.log(\"🔁 changePlayerLocation invoked. closeAllPanels =\", !!closeAllPanels);\n  \n  // DEBUG: Log input parameters for changePlayerLocation\n  console.log('changePlayerLocation called with:', {\n    currentPlayer,\n    fromLocation,\n    toLocation,\n    TILE_SIZE,\n    // ...other setters omitted for brevity...\n  });\n\n\n  console.log('🔄 changePlayerLocation called');\n  console.log('FROM:', { grid: fromLocation.g, type: fromLocation.gtype });\n  console.log('TO:', { grid: toLocation.g, type: toLocation.gtype });\n  if (!fromLocation || !toLocation) {\n    console.error('❌ Invalid fromLocation or toLocation');\n    return;\n  }\n\n  try {\n\n    // STEP 1: Close any open panels before grid transition\n    if (closeAllPanels) {\n      closeAllPanels();\n      console.log(\"🧹 Closed all panels before location change.\");\n    }\n\n    // ✅ STEP 2: Update FROM grid's state (remove player)\n    console.log(`1️⃣ Removing player from grid ${fromLocation.g}`);\n\n    console.log('loading PCS gridstates from memory...');\n    const inMemoryFromPlayerState = playersInGridManager.getPlayersInGrid(fromLocation.g)?.[currentPlayer.playerId];\n    console.log('loading NPCS and PCS gridstates from db...');\n    const fromGridResponse = await axios.get(`${API_BASE}/api/load-grid-state/${fromLocation.g}`);\n    console.log('fromGridResponse.data: ', fromGridResponse.data);\n    const fromPCs = fromGridResponse.data?.playersInGrid?.pcs || {};\n    console.log('Extracted fromPCs from what we just loaded; fromPCs = ', fromPCs);\n    const fromPlayerState = inMemoryFromPlayerState || fromPCs[currentPlayer.playerId] || {};\n    console.log('fromPlayerState (prioritize what was in memory) = ', fromPlayerState);\n    console.log('Removing player from the fromPCs.');\n    if (fromPCs[currentPlayer.playerId]) {\n      delete fromPCs[currentPlayer.playerId];\n    }\n\n    console.log('📤 Calling /remove-single-pc route to remove player from grid...');\n    await axios.post(`${API_BASE}/api/remove-single-pc`, {\n      gridId: fromLocation.g,\n      playerId: currentPlayer.playerId,\n    });\n\n    // ✅ STEP 3: Emit AFTER saving to DB\n    socket.emit('player-left-grid', {\n      gridId: fromLocation.g,\n      playerId: currentPlayer.playerId,\n      username: currentPlayer.username,\n    });\n    console.log(`📢 Emitted [player-left-grid] for ${fromLocation.g}`);\n  \n    socket.emit('leave-grid', fromLocation.g);\n    console.log(`📢 Emitted [leave-grid] for grid: ${fromLocation.g}`);\n      \n    // ✅ STEP 4: Update TO grid's state (add player)\n\n    console.log(`2️⃣ Adding player to grid ${toLocation.g}`);\n    console.log('loading NPCsInGrid from db...');\n    const toGridResponse = await axios.get(`${API_BASE}/api/load-grid-state/${toLocation.g}`);\n    console.log('toGridResponse.data: ', toGridResponse.data);\n    const toPCs = toGridResponse.data?.playersInGrid?.pcs || {};\n    console.log('Extracted toPCs from what we just loaded; toPCs = ', toPCs);\n\n    const now = Date.now();\n\n    // ✅ STEP 5: Add the player to the `pcs` object`\n    console.log('IN CHANGE PLAYER LOCATION:  Adding player to the toPCs object')\n    // Use combat stats from the fromGrid state if available, fallback to currentPlayer\n    console.log('🚨🚨🚨🚨fromPlayerState = ', fromPlayerState);\n    console.log('🚨🚨🚨🚨currentPlayer = ', currentPlayer);\n\n    const playerData = {\n      playerId: currentPlayer.playerId,\n      type: 'pc',\n      username: currentPlayer.username,\n      position: { x: toLocation.x, y: toLocation.y },\n      icon: currentPlayer.icon || '😀',\n      hp: fromPlayerState.hp ?? currentPlayer.hp ?? 25,\n      maxhp: fromPlayerState.maxhp ?? currentPlayer.maxhp ?? 25,\n      armorclass: fromPlayerState.armorclass ?? currentPlayer.armorclass ?? 10,\n      attackbonus: fromPlayerState.attackbonus ?? currentPlayer.attackbonus ?? 0,\n      damage: fromPlayerState.damage ?? currentPlayer.damage ?? 1,\n      speed: fromPlayerState.speed ?? currentPlayer.speed ?? 1,\n      attackrange: fromPlayerState.attackrange ?? currentPlayer.attackrange ?? 1,\n      iscamping: fromPlayerState.iscamping ?? currentPlayer.iscamping ?? false,\n      lastUpdated: now,\n    };\n\n    // Construct the payload\n    const toPayload = {\n      gridId: toLocation.g,\n      playerId: currentPlayer.playerId,\n      pc: playerData,\n      lastUpdated: now,\n    };\n    console.log('📤 Constructed Payload for adding player:', toPayload);\n\n    // ✅ STEP 6: Save only this PC to DB\n    console.log('📤 Saving single PC to grid...');\n    await axios.post(`${API_BASE}/api/save-single-pc`, toPayload);\n\n    socket.emit('player-joined-grid', {\n      gridId: toLocation.g,\n      playerId: currentPlayer.playerId,\n      username: currentPlayer.username,\n      playerData,\n    });\n    console.log(`📢 Emitted player-joined-grid for ${toLocation.g}`);\n  \n\n    // ✅ STEP 7: Update player location in player record on the DB\n    console.log('3️⃣ Updating player location...');\n    const locationResponse = await axios.post(`${API_BASE}/api/update-player-location`, {\n      playerId: currentPlayer.playerId,\n      location: toLocation,\n    });\n\n    if (!locationResponse.data.success) {\n      throw new Error(locationResponse.data.error);\n    }\n    console.log('✅ Player location updated in DB');\n\n    // ✅ STEP 8: Update local state\n    console.log('4️⃣ Updating local Player Document...');\n    const updatedPlayer = {\n      ...currentPlayer,\n      location: toLocation,\n    };\n\n    setCurrentPlayer(updatedPlayer);\n    localStorage.setItem('player', JSON.stringify(updatedPlayer));\n\n    // 5. Change grid context & fetch new grid data\n    console.log('5️⃣ Calling setGridId...');\n    setGridId(toLocation.g);\n    // WHAT does this ^^ do?\n\n    // ✅ STEP 9: Initialize the new grid, PCs and NPCs\n    console.log('!! Running initializeGridState and setGridState');\n    await Promise.all([\n      initializeGrid(TILE_SIZE, toLocation.g, setGrid, setResources, setTileTypes, updateStatus, currentPlayer),\n      (async () => {\n        try {\n          await NPCsInGridManager.initializeGridState(toLocation.g);\n          await playersInGridManager.initializePlayersInGrid(toLocation.g);  \n          const freshGridState = NPCsInGridManager.getNPCsInGrid(toLocation.g);\n          const freshPCState = playersInGridManager.getPlayersInGrid(toLocation.g);\n\n          NPCsInGridManager.setGridStateReact({ [toLocation.g]: {\n            npcs: freshGridState,\n            NPCsInGridLastUpdated: Date.now(),\n          }});\n          playersInGridManager.setPlayersInGridReact({ [toLocation.g]: {\n            pcs: freshPCState,\n            playersInGridLastUpdated: Date.now(),\n          }});     \n\n        } catch (err) {\n          console.error('❌ Error initializing playersInGrid:', err);\n        }\n      })(),\n    ]);\n    console.log('✅ New grid fully initialized');\n\n    // ✅ STEP 10: Ensure the client joins the new grid room\n    socket.emit('join-grid', { gridId: toLocation.g, playerId: currentPlayer.playerId });\n    console.log(`📡 Emitted join-grid for grid: ${toLocation.g}`);\n    socket.emit('set-username', { username: currentPlayer.username });\n    \n    // ✅ STEP 11: Center view on player\n    console.log('6️⃣ Centering view...');\n\n    centerCameraOnPlayer({ x: toLocation.x, y: toLocation.y }, TILE_SIZE);\n\n    console.log('✅ Location change complete');\n  } catch (error) {\n    console.error('❌ Location change error:', error);\n    throw error;\n  } \n};\n\n\n\n\nexport async function fetchGridData(gridId, updateStatus, DBPlayerData) {\n  try {\n    console.log(`Fetching grid data for gridId: ${gridId}`);\n\n    // 1) Fetch the grid data (which now has separate playersInGrid and NPCsInGrid)\n    const gridResponse = await axios.get(`${API_BASE}/api/load-grid/${gridId}`);\n    const gridData = gridResponse.data || {};\n    const { gridType, _id: fetchedGridId, ownerId, playersInGrid, NPCsInGrid } = gridData;\n\n    console.log('Fetched grid data:', gridData);\n\n    // 2) Combine playersInGrid and NPCsInGrid into a single NPCsInGrid\n    const combinedGridState = {\n      pcs: playersInGrid?.pcs || {},\n      npcs: NPCsInGrid?.npcs || {},\n    };\n\n    if ([\"valley0\", \"valley1\", \"valley2\", \"valley3\"].includes(gridType)) {\n        updateStatus(16);\n      } else if (gridType === \"town\") {\n        updateStatus(111);\n      } else {\n        const { username, gridType } = await fetchHomesteadOwner(gridId);\n        if (username === DBPlayerData.username) { updateStatus(112) }\n        else { updateGridStatus(gridType, username, updateStatus) };\n      }\n\n    return { ...gridData, NPCsInGrid: combinedGridState }; // Return the full grid data with combined NPCsInGrid\n  } catch (error) {\n    console.error('Error fetching grid data:', error);\n    if (updateStatus) updateStatus('Failed to load grid data');\n    return {};\n  }\n}\n\n\n\n\n// Separate function for status updates\nexport function updateGridStatus(gridType, ownerUsername, updateStatus) {\n  if (!updateStatus) return;\n\n  console.log(\"😀😀 UPDATING GRID STATUS message\");\n  switch (gridType) {\n    case 'homestead':\n      updateStatus(`Welcome to ${ownerUsername || 'Unknown'}'s homestead.`);\n      break;\n    case 'town':\n      updateStatus(14); // Town view\n      break;\n    case 'valley0':\n    case 'valley1':\n    case 'valley2':\n    case 'valley3':\n      updateStatus(16); // Valley view\n      break;\n    case 'settlement':\n      updateStatus(12); // Settlement view\n      break;\n    case 'frontier':\n      updateStatus(13); // Frontier view\n      break;\n    default:\n      //updateStatus(0); // Default status\n      break;\n  }\n}\n","// Mapping of signpost directions to entrance positions on the destination grid\nconst TRANSIT_POSITIONS = {\n  N: { x: 30, y: 62 },   // Enter from south edge, middle\n  NE: { x: 1, y: 62 },   // Enter from southwest corner\n  E: { x: 1, y: 30 },    // Enter from west edge, middle\n  SE: { x: 1, y: 1 },    // Enter from northwest corner\n  S: { x: 30, y: 1 },    // Enter from north edge, middle\n  SW: { x: 62, y: 1 },   // Enter from northeast corner\n  W: { x: 62, y: 30 },   // Enter from east edge, middle\n  NW: { x: 62, y: 62 },  // Enter from southeast corner\n};\n\n// Get the opposite direction for entrance position\nconst OPPOSITE_DIRECTION = {\n  N: \"S\",\n  NE: \"SW\",\n  E: \"W\",\n  SE: \"NW\",\n  S: \"N\",\n  SW: \"NE\",\n  W: \"E\",\n  NW: \"SE\"\n};\n\nexport function getEntryPosition(direction) {\n  return TRANSIT_POSITIONS[direction] || { x: 0, y: 0 }; // Default to center if unknown\n}\n\nexport function getOppositeEntryPosition(direction) {\n  const oppositeDir = OPPOSITE_DIRECTION[direction];\n  return TRANSIT_POSITIONS[oppositeDir] || { x: 0, y: 0 };\n}\n","import API_BASE from \"../../config\";\nimport axios from \"axios\";\nimport { changePlayerLocation } from \"../../Utils/GridManagement\";\nimport { getEntryPosition } from './transitConfig';\nimport playersInGridManager from \"../../GridState/PlayersInGrid\";\nimport { fetchHomesteadOwner } from \"../../Utils/worldHelpers\";\nimport { updateGridStatus } from \"../../Utils/GridManagement\";\n\nexport async function handleTransitSignpost(\n  currentPlayer,\n  resourceType,\n  setCurrentPlayer,\n  setGridId,\n  setGrid,\n  setTileTypes,\n  setResources,\n  updateStatus,\n  TILE_SIZE,\n  skills,\n  closeAllPanels\n) {\n  try {\n    if (typeof updateStatus !== \"function\") {\n      console.warn(\"⚠️ updateStatus is not a function:\", updateStatus);\n    }\n    console.log(\"Handling transit for resource:\", resourceType);\n    console.log(\"🔍 currentPlayer before checking skills:\", currentPlayer);\n    console.log(\"📜 currentPlayer.skills:\", currentPlayer.skills);\n\n    // 1) Ensure the player has the Horse skill\n    skills = currentPlayer.skills.length ? currentPlayer.skills : await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`).then(res => res.data.skills || []);\n\n    console.log('skillResponse.data: ', skills);\n    console.log('currentPlayer = ',currentPlayer.username);\n    \n    const hasHorse = skills.some((item) => item.type === \"Horse\" && item.quantity > 0);\n    console.log('hasHorse: ', hasHorse);\n    if (!hasHorse) { updateStatus(15); return; }\n\n    // 2) Handle special signposts\n    const { g: currentGridId, s: settlementId, f: frontierId } = currentPlayer.location;\n\n    // Signpost Home\n    if (resourceType === \"Signpost Home\") {\n      console.log(\"🏠 Traveling to homestead:\", {\n        gridId: currentPlayer.gridId,\n        settlementId: currentPlayer.settlementId,\n        gridCoord: currentPlayer.gridCoord,\n      });\n      \n      const newPlayerPosition = {\n        x: 1,  // Center of the homestead\n        y: 1,\n        g: currentPlayer.gridId,      // The player's homestead grid\n        s: currentPlayer.settlementId,\n        f: currentPlayer.location.f,\n        gtype: \"homestead\",\n        gridCoord: currentPlayer.gridCoord,\n      };\n      updateStatus(101);\n      await changePlayerLocation(\n        currentPlayer,\n        currentPlayer.location,   // fromLocation\n        newPlayerPosition,        // toLocation\n        setCurrentPlayer,\n        setGridId,\n        setGrid,\n        setTileTypes,\n        setResources,\n        TILE_SIZE,\n        closeAllPanels,\n      );\n      updateStatus(112);\n      \n      return;\n    }\n\n    // Signpost Town\n    if (resourceType === \"Signpost Town\") {\n      console.log(\"Signpost Town clicked. Finding the first town grid in the settlement.\");\n\n      const settlementResponse = await axios.get(`${API_BASE}/api/get-settlement/${settlementId}`);\n      const settlement = settlementResponse.data;\n      if (!settlement || !settlement.grids) { updateStatus(104); return; }\n\n      // Find any sub-grid with gridType = town\n      const townGrid = settlement.grids.flat().find((grid) => grid.gridType === \"town\" && grid.gridId);\n      if (!townGrid) { updateStatus(104); return; }\n\n      console.log(\"Found town grid:\", townGrid);\n      const newPlayerPosition = {\n        x: 1,  // upper left of town\n        y: 1,\n        g: townGrid.gridId,\n        s: settlementId,\n        f: frontierId,\n        gtype: \"town\",\n        gridCoord: townGrid.gridCoord,\n      };\n      updateStatus(102);\n      await changePlayerLocation(\n        currentPlayer,\n        currentPlayer.location,   // fromLocation\n        newPlayerPosition,        // toLocation\n        setCurrentPlayer,\n        setGridId,\n        setGrid,\n        setTileTypes,\n        setResources,\n        TILE_SIZE,\n        closeAllPanels,\n      );\n      updateStatus(111);\n      return;\n    }\n\n    // 3) Regular signpost => Move directionally\n    console.log(\"Regular Signpost clicked. Calculating transit options dynamically.\");\n    const direction = resourceType.replace(\"Signpost \", \"\");\n    const offsets = {\n      N:  [-1,  0],\n      S:  [ 1,  0],\n      E:  [ 0,  1],\n      W:  [ 0, -1],\n      NE: [-1,  1],\n      SE: [ 1,  1],\n      SW: [ 1, -1],\n      NW: [-1, -1],\n    };\n\n    // 4) Fetch the current Settlement\n    const settlementResponse = await axios.get(`${API_BASE}/api/get-settlement/${settlementId}`);\n    const settlement = settlementResponse.data;\n    if (!settlement || !settlement.grids) {\n      console.error(\"Settlement data is invalid or missing grids.\"); updateStatus(105); return; }\n\n      // Find the sub-grid doc matching currentGridId\n    const currentGrid = settlement.grids.flat().find((grid) => grid.gridId === currentGridId);\n    if (!currentGrid) {\n      console.error(\"Current grid not found in settlement.\"); updateStatus(105); return; }\n\n      // 5) Decode the current gridCoord to get gRow/gCol\n    if (!currentGrid.gridCoord) {\n      console.error(\"No gridCoord found on current grid.\"); updateStatus(105); return; }\n\n    updateStatus(103); // \"Travelling ...\"\n\n    const { \n      frontierTier, frontierIndex, \n      setRow, setCol, gRow, gCol\n    } = decodeCoord(currentGrid.gridCoord); // Implement decodeCoord to match your system\n\n    // 6) Apply signpost offsets to sub-grid row/col\n    const [rowOffset, colOffset] = offsets[direction] || [0, 0];\n\n    let newGRow = gRow + rowOffset;\n    let newGCol = gCol + colOffset;\n    let newSetRow = setRow;\n    let newSetCol = setCol;\n\n    // 7) Check if crossing the local 8x8 sub-grid boundary\n    if (newGRow < 0) {\n      newGRow = 7;\n      newSetRow -= 1;\n    } else if (newGRow > 7) {\n      newGRow = 0;\n      newSetRow += 1;\n    }\n\n    if (newGCol < 0) {\n      newGCol = 7;\n      newSetCol -= 1;\n    } else if (newGCol > 7) {\n      newGCol = 0;\n      newSetCol += 1;\n    }\n\n    // 8) Verify we can still stay in bounds of the settlement array (0..7 for setRow/setCol)\n    if (newSetRow < 0 || newSetRow > 7 || newSetCol < 0 || newSetCol > 7) {\n      updateStatus(106); // \"Can't travel beyond frontier\"\n      return;\n    }\n\n    // 9) Fetch the new settlement if setRow/setCol changed\n    //    If your server has an endpoint like get-settlement-by-coords/:row/:col, do that:\n    const targetSettlementResponse = await axios.get(\n      `${API_BASE}/api/get-settlement-by-coords/${newSetRow}/${newSetCol}`\n    );\n    const targetSettlement = targetSettlementResponse.data;\n    if (!targetSettlement || !targetSettlement.grids) {\n      console.warn(\"Target settlement not found or invalid.\");\n      updateStatus(105);\n      return;\n    }\n \n    // 10) Find the sub-grid at newGRow/newGCol\n    const targetGrid = targetSettlement.grids[newGRow][newGCol];\n    console.log('targetGrid = ',targetGrid);\n    if (!targetGrid?.gridId) {\n      updateStatus(18);\n      return;\n    }\n\n    // 11) Get the entry position based on the direction traveled\n    let entryPosition;\n    const playerId = currentPlayer._id?.toString();\n    const gridId = currentPlayer.location?.g;\n    const playerData = playersInGridManager.getPlayersInGrid(gridId)?.[playerId];\n    const fromX = playerData?.position?.x ?? 0;\n    const fromY = playerData?.position?.y ?? 0;\n    console.log(\"Current player position:\", { x: fromX, y: fromY });\n    console.log(\"Direction:\", direction);\n\n    if ([\"E\", \"W\"].includes(direction)) {\n      // Preserve row (Y) when moving left/right\n      entryPosition = {\n        x: direction === \"E\" ? 0 : 63,\n        y: fromY\n      };\n      console.log(\"Preserving row (Y) for E/W direction:\", entryPosition);\n    } else if ([\"N\", \"S\"].includes(direction)) {\n      // Preserve column (X) when moving up/down\n      entryPosition = {\n        x: fromX,\n        y: direction === \"N\" ? 63 : 0\n      };\n      console.log(\"Preserving column (X) for N/S direction:\", entryPosition);\n    } else {\n      // Fallback to existing logic for diagonals and non-cardinal directions\n      entryPosition = getEntryPosition(direction);\n    }\n\n    // 12) Finally, update the player location\n    const newPlayerPosition = {\n      x: entryPosition.x,\n      y: entryPosition.y,\n      g: targetGrid.gridId,\n      s: targetSettlement._id,\n      f: frontierId,\n      gtype: targetGrid.gridType,\n      gridCoord: targetGrid.gridCoord,\n    };\n \n    await changePlayerLocation(\n      currentPlayer,\n      currentPlayer.location,   // fromLocation\n      newPlayerPosition,        // toLocation\n      setCurrentPlayer,\n      setGridId,\n      setGrid,\n      setTileTypes,\n      setResources,\n      TILE_SIZE,\n      closeAllPanels,\n    );\n    const { username, gridType } = await fetchHomesteadOwner(newPlayerPosition.g);\n    updateGridStatus(gridType, username, updateStatus);\n\n    console.log(`Player moved to grid ID: ${targetGrid.gridId}`);\n  } catch (error) {\n    console.error(\"Error handling transit:\", error.message || error);\n    updateStatus(\"Error during travel.\");\n  }\n}\n\n// Example decode function (adjust to match your chosen gridCoord structure)\nfunction decodeCoord(coord) {\n  const str = coord.toString().padStart(8, '0');\n  return {\n    frontierTier:  parseInt(str.slice(0, 2), 10), // first 2 digits\n    frontierIndex: parseInt(str.slice(2, 4), 10), // next 2 digits\n    setRow:        parseInt(str.slice(4, 5), 10), // next 1 digit\n    setCol:        parseInt(str.slice(5, 6), 10), // next 1 digit\n    gRow:          parseInt(str.slice(6, 7), 10), // next 1 digit\n    gCol:          parseInt(str.slice(7, 8), 10), // last 1 digit\n  };\n}\n","import axios from 'axios';\nimport { animateRemotePC } from './Render/RenderAnimatePosition';\nimport playersInGridManager from './GridState/PlayersInGrid'; // Correctly use NPCsInGridManager\nimport GlobalGridStateTilesAndResources from './GridState/GlobalGridStateTilesAndResources';\nimport FloatingTextManager from \"./UI/FloatingText\";\nimport { handleTransitSignpost } from './GameFeatures/Transit/Transit';\n// Temporary render-only animation state for interpolated player positions\nexport const renderPositions = {};\nlet currentAnimationFrame = null; \n\nexport function handleKeyMovement(event, currentPlayer, TILE_SIZE, masterResources, \n  setCurrentPlayer, \n  setGridId, \n  setGrid, \n  setTileTypes, \n  setResources, \n  updateStatus, \n  closeAllPanels) \n{\n\n  const directions = {\n    ArrowUp: { dx: 0, dy: -1 },\n    w: { dx: 0, dy: -1 },\n    W: { dx: 0, dy: -1 },\n    ArrowDown: { dx: 0, dy: 1 },\n    s: { dx: 0, dy: 1 },\n    S: { dx: 0, dy: 1 },\n    ArrowLeft: { dx: -1, dy: 0 },\n    a: { dx: -1, dy: 0 },\n    A: { dx: -1, dy: 0 },\n    ArrowRight: { dx: 1, dy: 0 },\n    d: { dx: 1, dy: 0 },\n    D: { dx: 1, dy: 0 },\n  };\n\n  const movement = directions[event.key];\n  if (!movement) return;\n\n  if (currentPlayer.iscamping) {\n    FloatingTextManager.addFloatingText(32, currentPlayer.location.x, currentPlayer.location.y, TILE_SIZE);\n    return;\n  }\n\n  const playerId = currentPlayer._id.toString();\n  const gridId = currentPlayer.location.g;\n  const playersInGrid = playersInGridManager.getPlayersInGrid(gridId);\n  if (!playersInGrid || !playersInGrid[playerId]) return;\n\n  const currentPosition = playersInGrid[playerId].position;\n  const targetX = Math.round(currentPosition.x + movement.dx);\n  const targetY = Math.round(currentPosition.y + movement.dy);\n\n  if (!Array.isArray(masterResources)) {\n    console.error('masterResources is not an array:', masterResources);\n    return;\n  }\n  if (!isValidMove(targetX, targetY, masterResources,\n    currentPlayer,\n    setCurrentPlayer,\n    setGridId,\n    setGrid,\n    setTileTypes,\n    setResources,\n    updateStatus,\n    TILE_SIZE,\n    closeAllPanels,\n  )) {\n    console.warn(`⛔ Player blocked from moving to (${targetX}, ${targetY}).`);\n    return;\n  }\n\n  const finalPosition = { x: targetX, y: targetY };\n  console.log('➡️ Simple move to:', finalPosition);\n\n  const now = Date.now();\n\n  playersInGridManager.updatePC(gridId, playerId, {\n    position: finalPosition,\n    lastUpdated: now,\n  });\n\n  centerCameraOnPlayer(finalPosition, TILE_SIZE);\n\n}\n\nfunction isValidMove(targetX, targetY, masterResources,\n  currentPlayer,\n  setCurrentPlayer,\n  setGridId,\n  setGrid,\n  setTileTypes,\n  setResources,\n  updateStatus,\n  TILE_SIZE,\n  closeAllPanels,\n ) {  // Function to check if movement is valid\n  const tiles = GlobalGridStateTilesAndResources.getTiles();\n  const resources = GlobalGridStateTilesAndResources.getResources();\n\n  if (!Array.isArray(resources)) {\n    console.warn('⛔ Movement blocked: resources is not an array yet.', resources);\n    return false;\n  }\n\n  // 1️⃣ **Check if the target is out of bounds**\n  if (targetX < 0 || targetY < 0 || targetX > 63 || targetY > 63) {\n//  console.warn(`⛔ Movement blocked: (${targetX}, ${targetY}) is out of bounds.`);\n    const direction =\n      targetX < 0 ? \"Signpost W\" :\n      targetX > 63 ? \"Signpost E\" :\n      targetY < 0 ? \"Signpost N\" :\n      targetY > 63 ? \"Signpost S\" :\n      null;\n    if (!direction) { console.warn(`⛔ Invalid movement direction from (${targetX}, ${targetY}).`); return false; }\n\n    console.log(`📦 Attempting directional travel via: ${direction}`);\n    const skills = currentPlayer.skills;\n\n    handleTransitSignpost(\n      currentPlayer,\n      direction,\n      setCurrentPlayer,\n      setGridId,\n      setGrid,\n      setTileTypes,\n      setResources,\n      updateStatus,\n      TILE_SIZE,\n      skills,\n      closeAllPanels\n    );\n    return false; // Prevent normal movement handling\n  };\n\n  // 2️⃣ **Check if tile is valid for movement (using existing isValidTile function)**\n  const canMove = isTileValidForPlayer(targetX, targetY, tiles, resources, masterResources, []);\n  if (!canMove) {\n    console.warn(`⛔ Movement blocked: Tile (${targetX}, ${targetY}) is not passable.`);\n  }\n  return canMove;\n}\n\n\nexport function centerCameraOnPlayer(position, TILE_SIZE) {\n  const gameContainer = document.querySelector(\".homestead\");\n  if (!gameContainer) return;\n\n  const LEFT_PANEL_WIDTH = 300;  // Scaled with zoom level\n  const HEADER_HEIGHT = 200;     // Same\n\n  const centerX = position.x * TILE_SIZE - (window.innerWidth - LEFT_PANEL_WIDTH) / 2;\n  const centerY = position.y * TILE_SIZE - (window.innerHeight - HEADER_HEIGHT) / 2;\n\n  // Clamp scroll positions so we don't scroll beyond the container's bounds\n  const maxScrollLeft = gameContainer.scrollWidth - gameContainer.clientWidth;\n  const maxScrollTop = gameContainer.scrollHeight - gameContainer.clientHeight;\n\n  const clampedX = Math.max(0, Math.min(centerX, maxScrollLeft));\n  const clampedY = Math.max(0, Math.min(centerY, maxScrollTop));\n\n  gameContainer.scrollTo({\n    left: clampedX,\n    top: clampedY,\n    behavior: \"smooth\",\n  });\n\n  console.log(`📷 Camera centered on player at (${position.x}, ${position.y})`);\n}\n\n\nexport function isTileValidForPlayer(x, y, tiles, resources, masterResources) {\n  x = Math.floor(x);\n  y = Math.floor(y);\n  // Check if tile is out of bounds\n  if (x < 0 || y < 0 || y >= tiles.length || x >= tiles[0].length) {\n    console.warn(`⛔ Tile (${x}, ${y}) is out of bounds.`);\n    return false;\n  }\n  // Get the tile type\n  const tileType = tiles[y][x];\n  // Ensure the tile type exists\n  if (!tileType) { console.warn(`⛔ Invalid tile at (${x}, ${y}) - No tileType found.`); return false; }\n\n  // **Step 1: Check if tile itself is passable using masterResources**\n  const tileResource = masterResources.find(resource => resource.type === tileType);\n\n  if (!tileResource || !tileResource.passable) {\n    console.warn(`⛔ Tile (${x}, ${y}) is not passable according to masterResources.`);\n    return false;\n  }\n  // **Step 2: Check for an impassable resource in this tile**\n  const resourceInTile = resources.find(res => res.x === x && res.y === y);\n  if (resourceInTile) {\n    if (!resourceInTile.passable) {\n      console.warn(`⛔ Tile (${x}, ${y}) contains an impassable resource (${resourceInTile.type}).`);\n      return false;\n    }\n  }\n  // ✅ If all checks pass, movement is allowed\n  return true;\n}","import { renderPositions } from '../PlayerMovement';\n\nexport function animateRemotePC(playerId, from, to, TILE_SIZE) {\n  const stepCount = 10;\n  let step = 0;\n\n  console.log('animateRemotePC', playerId, from, to);\n  \n  const currentX = from.x * TILE_SIZE;\n  const currentY = from.y * TILE_SIZE;\n  const targetX = to.x * TILE_SIZE;\n  const targetY = to.y * TILE_SIZE;\n\n  function animate() {\n    if (step >= stepCount) {\n      delete renderPositions[playerId];\n      return;\n    }\n\n    const interpolatedX = currentX + ((targetX - currentX) / stepCount) * step;\n    const interpolatedY = currentY + ((targetY - currentY) / stepCount) * step;\n\n    renderPositions[playerId] = {\n      x: interpolatedX / TILE_SIZE,\n      y: interpolatedY / TILE_SIZE,\n    };\n\n    step++;\n    requestAnimationFrame(animate);\n  }\n\n  animate();\n}","import API_BASE from '../config';\nimport socket from '../socketManager';\nimport axios from 'axios';\nimport { animateRemotePC } from '../Render/RenderAnimatePosition';\nimport { loadMasterResources } from '../Utils/TuningManager';\n\nclass GridStatePCManager {\n    constructor() {\n      this.playersInGrid = {}; // Store PC states in memory\n    }\n \n    registerSetPlayersInGrid(setter) {\n      this.setPlayersInGridReact = setter;\n    }\n    registerTileSize(tileSize) {\n      this.tileSize = tileSize;\n    }\n    /**\n     * Initialize the playersInGrid for a specific gridId.\n     */\n    async initializePlayersInGrid(gridId) {\n\n      console.log('🧠 Fetching playersInGrid for gridId:', gridId);\n      if (!gridId) {\n        console.error('initializePlayersInGrid: gridId is undefined.');\n        return;\n      }\n    \n      try {\n        const response = await axios.get(`${API_BASE}/api/load-grid-state/${gridId}`);\n        const {\n          playersInGrid = { pcs: {}, lastUpdated: 0 },\n        } = response.data;\n    \n        // Build a consolidated local state with independent timestamps\n        const state = {\n          pcs: playersInGrid.pcs || {},\n          playersInGridLastUpdated: new Date(playersInGrid.lastUpdated || 0).getTime(),\n        };\n        const pcs = state.pcs || {};\n        console.log('Fetched PC NPCsInGrid:', state);\n    \n        // Normalize PC format\n        Object.keys(pcs).forEach((playerId) => {\n          const pcData = pcs[playerId];\n          pcs[playerId] = {\n            ...pcData,\n            position: pcData.position || { x: 0, y: 0 },\n          };\n        });\n    \n        this.playersInGrid[gridId] = state;\n    \n        this.setPlayersInGridReact((prev) => ({\n          ...prev,\n          [gridId]: {\n            pcs: pcs,\n            playersInGridLastUpdated: Date.now(),\n          },\n        }));\n\n        console.log(`✅ Initialized playersInGrid for gridId ${gridId}:`, pcs);\n      } catch (error) {\n        console.error('❌ Error fetching playersInGrid:', error);\n      }\n    }\n    \n    getPlayersInGrid(gridId) {\n      const playersInGrid = this.playersInGrid[gridId];\n      if (!playersInGrid) {\n        console.warn(`⚠️ No PC state found for gridId: ${gridId}`);\n        return {};\n      }\n      return playersInGrid.pcs;\n    }\n\n    getAllPCs(gridId) {\n      return this.playersInGrid?.[gridId]?.pcs || {};\n    }\n    getPlayerPosition(gridId, playerId) {\n      return this.playersInGrid?.[gridId]?.pcs?.[playerId]?.position || null;\n    }\n\n    setAllPCs(gridId, pcsObject) {\n      this.playersInGrid[gridId] = {\n        pcs: pcsObject || {},\n        playersInGridLastUpdated: Date.now(),\n      };\n    \n      if (this.setPlayersInGridReact) {\n        this.setPlayersInGridReact(prev => ({\n          ...prev,\n          [gridId]: this.playersInGrid[gridId],\n        }));\n      }\n    }\n    \n    async addPlayer(gridId, playerId, pcData) {\n    // Add a new PC to the playersInGrid for a given gridId and playerId.\n    // This is only run on app initialization, IF the saved currentPlayer cannot be found in the playersInGrid.\n      if (!this.playersInGrid[gridId]) {\n        this.playersInGrid[gridId] = {\n          pcs: {},\n          playersInGridLastUpdated: Date.now(),\n        };\n      }\n\n      const now = Date.now();\n      const masterResources = await loadMasterResources();\n\n      // Compute modifiers from powers\n      const modifiers = {};\n      (pcData.powers || []).forEach(power => {\n        const resource = masterResources.find(r => r.type === power.type);\n        if (resource?.output && typeof resource.qtycollected === 'number') {\n          const value = (power.quantity || 0) * resource.qtycollected;\n          modifiers[resource.output] = (modifiers[resource.output] || 0) + value;\n        }\n      });\n\n      const getStat = (baseKey, modKey) => (pcData[baseKey] || 0) + (modifiers[modKey] || 0);\n\n      const newPC = {\n        playerId,\n        username: pcData.username,\n        type: 'pc',\n        icon: pcData.icon,\n        position: pcData.position || { x: 0, y: 0 },\n        hp: getStat('baseHp', 'hp'),\n        maxhp: getStat('baseMaxhp', 'maxhp'),\n        armorclass: getStat('baseArmorclass', 'armorclass'),\n        attackbonus: getStat('baseAttackbonus', 'attackbonus'),\n        damage: getStat('baseDamage', 'damage'),\n        attackrange: getStat('baseAttackrange', 'attackrange'),\n        speed: getStat('baseSpeed', 'speed'),\n        iscamping: pcData.iscamping || false,\n        lastUpdated: now,\n      };\n\n      this.playersInGrid[gridId].pcs[playerId] = newPC;\n\n      // Save to server\n      try {\n        await axios.post(`${API_BASE}/api/save-single-pc`, {\n          gridId,\n          playerId,\n          pc: newPC,\n          lastUpdated: now,\n        });\n        console.log(`✅ Added and saved new PC ${playerId} to server.`);\n      } catch (error) {\n        console.error(`❌ Failed to add PC ${playerId}:`, error);\n      }\n\n      // Emit to other clients\n      if (socket && socket.emit) {\n        socket.emit('update-NPCsInGrid-PCs', {\n          gridId,\n          pcs: { [playerId]: newPC },\n          playersInGridLastUpdated: now,\n        });\n      }\n\n      // Note: Caller should update React context using setPlayersInGrid if needed\n    }\n\n\n    // Add a new lightweight PC (from grid.playersInGrid schema) to the local in-memory playersInGrid\n    addPC(gridId, playerId, pcData) {\n      if (!this.playersInGrid[gridId]) {\n        this.playersInGrid[gridId] = {\n          pcs: {},\n          playersInGridLastUpdated: Date.now(),\n        };\n      }\n\n      const now = Date.now();\n      const newPC = {\n        playerId: pcData.playerId,\n        username: pcData.username,\n        type: pcData.type,\n        icon: pcData.icon,\n        position: pcData.position || { x: 0, y: 0 },\n        hp: pcData.hp,\n        maxhp: pcData.maxhp,\n        armorclass: pcData.armorclass,\n        attackbonus: pcData.attackbonus,\n        damage: pcData.damage,\n        attackrange: pcData.attackrange,\n        speed: pcData.speed,\n        iscamping: pcData.iscamping || false,\n        lastUpdated: now,\n      };\n\n      this.playersInGrid[gridId].pcs[playerId] = newPC;\n\n      // Also update React state if setter is registered\n      if (this.setPlayersInGridReact) {\n        this.setPlayersInGridReact(prev => ({\n          ...prev,\n          [gridId]: {\n            ...(prev[gridId] || {}),\n            pcs: {\n              ...(prev[gridId]?.pcs || {}),\n              [playerId]: newPC,\n            },\n          },\n        }));\n      }\n    }\n\n\n    // Update an existing PC in the playersInGrid for a given gridId and playerId.\n    async updatePC(gridId, playerId, newProperties) {\n      console.log(\"😀😀 updatePC -- gridId: \",gridId,\" playerId: \",playerId,\" newProperties:\", newProperties);\n      const gridPCs = this.playersInGrid[gridId]?.pcs;\n      if (!gridPCs || !gridPCs[playerId]) {\n        console.error(`Cannot update PC ${playerId}. No NPCsInGrid or PC found for gridId: ${gridId}`);\n        return;\n      }\n    \n      const currentData = gridPCs[playerId];\n      \n      const keysToCompare = Object.keys(newProperties).filter(key => key !== 'lastUpdated');\n      console.log('🔍 keysToCompare:', keysToCompare);\n      keysToCompare.forEach(key => {\n        const a = currentData[key];\n        const b = newProperties[key];\n        const isEqual = JSON.stringify(a) === JSON.stringify(b);\n        console.log(`🔍 Comparing key \"${key}\": current=${JSON.stringify(a)}, incoming=${JSON.stringify(b)}, equal=${isEqual}`);\n      });\n\n      const isSame = keysToCompare.every(key => {\n        const a = currentData[key];\n        const b = newProperties[key];\n        return JSON.stringify(a) === JSON.stringify(b);\n      });\n\n      if (isSame) {\n        console.log(`⏭️ Skipping update for PC ${playerId}; no meaningful changes.`);\n        return;\n      }\n    \n      const oldPosition = gridPCs[playerId]?.position;\n      const now = Date.now();\n      const updatedPC = {\n        ...gridPCs[playerId],\n        ...newProperties,\n        lastUpdated: now,\n      };\n      const newPosition = updatedPC.position; // 👈 and derive newPosition from updatedPC\n\n      this.playersInGrid[gridId].pcs[playerId] = updatedPC;\n    \n      // Emit to other clients\n      if (socket && socket.emit) {\n        const payload = {\n          [gridId]: {\n            pcs: { [playerId]: updatedPC },\n            playersInGridLastUpdated: now,\n          },\n          emitterId: socket.id,\n        };\n    \n        console.log(\"📡 Emitting update-NPCsInGrid-PCs with payload:\", JSON.stringify(payload, null, 2));\n        socket.emit('update-NPCsInGrid-PCs', payload);\n      }\n    \n      console.log('oldPosition:', oldPosition);\n      console.log('newPosition:', newPosition);\n      console.log('this.tileSize:', this.tileSize);\n\n      if (\n        this.tileSize &&\n        oldPosition &&\n        newPosition &&\n        (oldPosition.x !== newPosition.x || oldPosition.y !== newPosition.y)\n      ) {\n        console.log('Calling animateRemotePC from updatePC');\n        animateRemotePC(playerId, oldPosition, newPosition, this.tileSize);\n      }\n\n      // ✅ Also update React state if setter is registered\n      if (this.setPlayersInGridReact) {\n        this.setPlayersInGridReact(prev => ({\n          ...prev,\n          [gridId]: {\n            ...(prev[gridId] || {}),\n            pcs: {\n              ...(prev[gridId]?.pcs || {}),\n              [playerId]: updatedPC,\n            },\n          },\n        }));\n      }\n\n        // Save to server\n        try {\n          await axios.post(`${API_BASE}/api/save-single-pc`, {\n            gridId,\n            playerId,\n            pc: updatedPC,\n            lastUpdated: now,\n          });\n          console.log(`✅ Updated PC ${playerId} on server.`);\n        } catch (error) {\n          console.error(`❌ Failed to update PC ${playerId}:`, error);\n        }\n    }\n\n\n  // Remove a PC from the playersInGrid for a given gridId and playerId.\n  removePC(gridId, playerId) {\n    if (!this.playersInGrid[gridId]?.pcs?.[playerId]) {\n      console.warn(`⚠️ Cannot remove PC ${playerId}; not found in grid ${gridId}.`);\n      return;\n    }\n\n    delete this.playersInGrid[gridId].pcs[playerId];\n\n    // Also update React state if setter is registered\n    if (this.setPlayersInGridReact) {\n      this.setPlayersInGridReact(prev => {\n        const updatedGrid = { ...(prev[gridId]?.pcs || {}) };\n        delete updatedGrid[playerId];\n\n        return {\n          ...prev,\n          [gridId]: {\n            ...(prev[gridId] || {}),\n            pcs: updatedGrid,\n          },\n        };\n      });\n    }\n\n    console.log(`🗑️ Removed PC ${playerId} from grid ${gridId}`);\n  }\n\n  }\n    \n\n    const playersInGridManager = new GridStatePCManager();\n    export default playersInGridManager;\n    export const { initializePlayersInGrid } = playersInGridManager;","import API_BASE from '../../config';\nimport axios from 'axios';\n\n/**\n * Updates quest progress for a given player.\n * @param {Object} player - Current player object.\n * @param {String} action - Action performed (e.g., \"Skill\", \"Craft\").\n * @param {String} item - Item associated with the action (e.g., \"Horse\", \"Axe\").\n * @param {Number} quantity - Quantity of the item affected.\n * @param {Function} setCurrentPlayer - State updater for the current player.\n */\nexport async function trackQuestProgress(player, action, item, quantity, setCurrentPlayer) {\n  if (!player?.activeQuests?.length) return;\n\n  console.log(\"At trackQuestProgress; action = \",action);\n\n  let questUpdated = false;\n\n  const updatedQuests = player.activeQuests.map((quest) => {\n    if (quest.completed || quest.rewardCollected) return quest; // Skip completed or rewarded quests\n\n    const progress = { ...quest.progress };\n    let goalsCompleted = 0; // Tracks how many goals are completed\n    let totalGoals = 0;     // Tracks total defined goals\n\n    for (let i = 1; i <= 3; i++) {\n      const goalAction = quest[`goal${i}action`];\n      const goalItem = quest[`goal${i}item`];\n      const goalQty = quest[`goal${i}qty`];\n\n      if (!goalAction || !goalItem || !goalQty) continue; // Skip undefined goals\n      totalGoals++; // Count this as a valid goal\n\n      if (goalAction === action && goalItem === item) {\n        progress[`goal${i}`] = Math.min((progress[`goal${i}`] || 0) + quantity, goalQty); // Increment progress\n      }\n\n      // Check if the goal is completed\n      if (progress[`goal${i}`] >= goalQty) goalsCompleted++;\n    }\n\n    // Mark quest as completed if all goals are done\n    if (goalsCompleted === totalGoals && totalGoals > 0) {\n      quest.completed = true;\n    }\n\n    quest.progress = progress;\n    questUpdated = true;\n\n    return quest;\n  });\n\n  if (questUpdated) {\n    try {\n      console.log(\"Saving updated player quests; updatedQuests = \", updatedQuests);\n      const response = await axios.post(`${API_BASE}/api/update-player-quests`, {\n        playerId: player.playerId,\n        activeQuests: updatedQuests,\n      });\n      if (typeof setCurrentPlayer === 'function') {\n        setCurrentPlayer(response.data.player); // Update the player's state\n      }    \n      } catch (error) {\n      console.error('Error updating quest progress:', error);\n    }\n  }\n}","import FloatingTextManager from \"../../UI/FloatingText\";\nimport NPCsInGridManager from \"../../GridState/GridStateNPCs\";\nimport playersInGridManager from \"../../GridState/PlayersInGrid\";\nimport { calculateDistance } from \"../NPCs/NPCHelpers\";\nimport { extractXY } from \"../NPCs/NPCHelpers\";\nimport { updateGridResource } from \"../../Utils/GridManagement\";\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { createCollectEffect } from \"../../VFX/VFX\";\n\n/** Helper to check if target is in range and validate positions **/\nfunction checkRange(player, target, TILE_SIZE) {\n\n    const playerPos = player.position;\n    const targetPos = extractXY(target.position);\n    \n    console.log('Fetched positions: playerPos =', playerPos, '; targetPos =', targetPos);\n    if (!targetPos) {\n        console.error(\"Invalid target position\", { targetPos });\n        FloatingTextManager.addFloatingText(505, 0, 0, TILE_SIZE);\n        return false;\n    }\n\n    const distance = calculateDistance(playerPos, targetPos);\n    const playerRange = player.attackrange || 1;\n    console.log('playerRange = ',playerRange);\n    console.log('playerPos = ',playerPos);\n\n    if (distance > playerRange) {\n        FloatingTextManager.addFloatingText(501, targetPos.x, targetPos.y, TILE_SIZE);\n        console.log('target out of range: targetPos.x = ',targetPos.x,' targetPos.y= ',targetPos.y);\n        return false;\n    }\n    return true;  // Target is in range\n}\n\n/** Helper to determine if the attack hits **/\nfunction isAHit(player, target, TILE_SIZE) {\n\n    const attackRoll = Math.floor(Math.random() * 20) + 1;\n    const hitRoll = attackRoll + (player.attackbonus || 0);\n\n    console.log(`Attack roll: ${attackRoll}, Attack bonus: ${player.attackbonus}`);\n    console.log(`Total hit roll: ${hitRoll}, Target armor class: ${target.armorclass}`);\n\n    if (hitRoll >= target.armorclass) {\n        FloatingTextManager.addFloatingText(502, target.position.x, target.position.y-1, TILE_SIZE);\n        return true;\n    } else {\n        FloatingTextManager.addFloatingText(503, target.position.x, target.position.y, TILE_SIZE);\n        return false;\n    }\n}\n\n/** Helper to calculate damage **/\nfunction calculateDamage(player) {\n    const randomDamageModifier = Math.floor(Math.random() * 6) + 1;\n    const damage = (player.damage || 0) + randomDamageModifier;\n    console.log(`Damage roll: ${randomDamageModifier}, player damage: ${player.damage}, Damage dealt: ${damage}`);\n    return damage;\n}\n\n/** handle attack on NPC **/\nexport async function handleAttackOnNPC(npc, currentPlayer, setCurrentPlayer, TILE_SIZE, setResources, masterResources) {\n    console.log(`Handling attack on NPC ${npc.id}.`);\n\n    // Translate currentPlayer to pc from playersInGridManager\n    const gridId = currentPlayer.location.g;\n    const playerId = currentPlayer._id.toString();  // Convert ObjectId to string for matching\n    console.log('playerId = ', playerId);\n    const player = playersInGridManager.getPlayersInGrid(gridId)?.[playerId];\n    console.log('player = ', player);\n    if (!player) {\n        console.error(`Player not found in playersInGrid for playerId: ${playerId}.`);\n        return;\n    }\n\n    const freshNPC = NPCsInGridManager.getNPCsInGrid(gridId)?.[npc.id] || npc;\n\n    if (player.iscamping) {\n        FloatingTextManager.addFloatingText(31, freshNPC.position.x, freshNPC.position.y, TILE_SIZE);\n        return;\n    }\n    if (!checkRange(player, freshNPC, TILE_SIZE)) return;\n    if (!isAHit(player, freshNPC, TILE_SIZE)) return;\n \n    const damage = calculateDamage(player);\n    FloatingTextManager.addFloatingText(`- ${damage} ❤️‍🩹 HP`, freshNPC.position.x, freshNPC.position.y, TILE_SIZE);\n    createCollectEffect(freshNPC.position.x, freshNPC.position.y, TILE_SIZE);\n\n    freshNPC.hp -= damage;\n    await NPCsInGridManager.updateNPC(gridId, freshNPC.id, {\n      hp: freshNPC.hp,\n      position: freshNPC.position,\n      state: freshNPC.state,\n    });\n\n    if (freshNPC.hp <= 0) {\n        console.log(`NPC ${freshNPC.id} killed.`);\n        FloatingTextManager.addFloatingText(504, freshNPC.position.x, freshNPC.position.y-1, TILE_SIZE);\n\n        try {\n            await NPCsInGridManager.removeNPC(gridId, freshNPC.id);\n            console.log(`NPC ${freshNPC.id} successfully removed from grid.`);\n\n            // Add the Dead NPC \"output\" to the grid:\n            if (freshNPC.output) {\n                console.log(`Spawning resource: ${freshNPC.output} at NPC's death position.`);\n                const resourceDetails = masterResources.find((res) => res.type === freshNPC.output);\n\n                const enrichedResource = {\n                    ...resourceDetails,\n                    type: freshNPC.output,\n                    x: Math.floor(freshNPC.position.x),\n                    y: Math.floor(freshNPC.position.y),\n                    category: resourceDetails.category || 'doober',\n                    symbol: resourceDetails.symbol || '❓',\n                    qtycollected: resourceDetails.qtycollected || 1,\n                };\n\n                const updatedResources = [\n                    ...GlobalGridStateTilesAndResources.getResources(),\n                    enrichedResource\n                ];\n                GlobalGridStateTilesAndResources.setResources(updatedResources);\n                setResources((prevResources) => [...prevResources, enrichedResource]);\n\n                await updateGridResource(\n                    gridId, \n                    { \n                      type: freshNPC.output,\n                      x: Math.floor(freshNPC.position.x),\n                      y: Math.floor(freshNPC.position.y),\n                    },\n                    setResources,\n                    true\n                  );\n            } else {\n                console.warn(`NPC ${freshNPC.id} has no output resource defined.`);\n            }\n        } catch (error) {\n            console.error('Error removing NPC or spawning resource:', error);\n        }\n        await trackQuestProgress(currentPlayer, 'Kill', freshNPC.type, 1, setCurrentPlayer);    }\n}\n\n\nexport async function handleAttackOnPC(pc, currentPlayer, gridId, TILE_SIZE) {\n  const playerId = currentPlayer._id.toString();  // Convert ObjectId to string for matching\n  const player = playersInGridManager.getPlayersInGrid(gridId)?.[playerId];\n  if (!player) {\n    console.error('Player not found in playersInGrid.');\n    return;\n  }\n\n  // Refresh the target PC from memory\n  pc = playersInGridManager.getPlayersInGrid(gridId)?.[pc.playerId] || pc;\n\n  if (!checkRange(player, pc, TILE_SIZE)) return;\n  if (!isAHit(player, pc, TILE_SIZE)) return;\n\n  const damage = calculateDamage(player, gridId);\n  FloatingTextManager.addFloatingText(`- ${damage} HP`, pc.position.x, pc.position.y, TILE_SIZE);\n  createCollectEffect(pc.position.x, pc.position.y, TILE_SIZE);\n\n  const newHP = Math.max(0, pc.hp - damage);\n  console.log('📢 Calling updatePC after reducing HP; current HP:', newHP);\n  await playersInGridManager.updatePC(gridId, pc.playerId, { hp: newHP });\n\n  if (newHP <= 0) {\n    console.log(`PC ${pc.playerId} defeated.`);\n    FloatingTextManager.addFloatingText(504, pc.position.x, pc.position.y+1, TILE_SIZE);\n  }\n}","import API_BASE from \"../../config\";\nimport axios from \"axios\";    \nimport FloatingTextManager from \"../../UI/FloatingText\";\nimport NPCsInGridManager from \"../../GridState/GridStateNPCs\";\nimport { handleAttackOnNPC } from \"../Combat/Combat\";\nimport { gainIngredients } from \"../../Utils/InventoryManagement\";\nimport { trackQuestProgress } from '../../GameFeatures/Quests/QuestGoalTracker';\n\nexport function loadNPCDefinitions(resources) {\n    const npcDefinitions = {};\n    resources.forEach((resource) => {\n      if (resource.category === 'npc') {\n        npcDefinitions[resource.type] = resource;\n      }\n    });\n    return npcDefinitions;\n}\n  \nexport function extractXY(location) {\n  if (!location || location.x === undefined || location.y === undefined) {\n    console.error(\"Invalid location object\", location);\n    return null;\n  }\n  return { x: location.x, y: location.y };\n}\n\nexport function calculateDistance(pos1, pos2) {\n    return Math.abs(pos1.x - pos2.x) + Math.abs(pos1.y - pos2.y);\n}\n  \nexport async function handleNPCClick(\n  npc,\n  row,\n  col,\n  setInventory,\n  setResources,\n  currentPlayer,\n  setCurrentPlayer,\n  TILE_SIZE,\n  masterResources,\n  masterSkills,\n  currentGridId,\n  setModalContent,\n  setIsModalOpen,\n  updateStatus,\n  setUILocked,\n) {\n  if (!npc) {\n    console.warn(\"handleNPCClick was called with an undefined NPC.\");\n    return;\n  }\n  console.log(`[🐮↖️ handleNPCClick] NPC ${npc.id} clicked with state=${npc.state}`);\n\n  switch (npc.action) {\n\n    case 'quest': \n    case 'heal':\n      {\n        //handled directly in RenderDynamic  \n        break;\n      }\n \n    case 'graze': {\n      // Prevent repeated clicks by locking the cursor for 2 seconds\n      if (typeof setUILocked === 'function') {\n        setUILocked(true);\n        setTimeout(() => setUILocked(false), 2000);\n      }\n\n      console.log(`Handling grazing logic for NPC ${npc.id}.`);\n\n      // ✅ Special case: If in town, relocate NPC to home grid\n\n      if (currentPlayer.location.gtype === 'town') {\n        return new Promise((resolve) => {\n          const handleYes = async () => {\n            await NPCsInGridManager.removeNPC(currentGridId, npc.id);\n            const relocatedNPC = {\n              ...npc,\n              position: { x: 1, y: 7 },\n              state: 'idle',\n              lastUpdated: Date.now(),\n            };\n            await NPCsInGridManager.addNPC(currentPlayer.gridId, relocatedNPC);\n            setIsModalOpen(false);\n            resolve({ type: 'success', message: `NPC moved to your homestead.` });\n          };\n          const handleNo = () => {\n            setIsModalOpen(false);\n            resolve({ type: 'info', message: 'Cancelled.' });\n          };\n          setModalContent({\n            title: \"Send this animal to your homestead?\",\n            size: \"small\",\n            onClose: handleNo,\n            children: (\n              <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', marginTop: '10px' }}>\n                <button onClick={handleYes}>Yes</button>\n                <button onClick={handleNo}>No</button>\n              </div>\n            ),\n          });\n          setIsModalOpen(true);\n        });\n      }\n      \n      // ✅ Otherwise, handle Animals in stalls in \"procesing\" state\n\n      if (npc.state !== 'processing') {\n        console.log(`NPC clicked but not in processing state: ${npc.state}`);\n        return { type: 'info', message: 'NPC is not ready for collection.' };\n      }\n\n      const baseQuantity = npc.qtycollected || 1;\n      console.log('Base quantity to collect:', baseQuantity);\n\n      // Extract player skills and upgrades from inventory\n      const playerBuffs = currentPlayer?.skills\n        .filter((item) => {\n          const res = masterResources.find((r) => r.type === item.type);\n          const isSkill = res?.category === 'skill' || res?.category === 'upgrade';\n          const applies = (masterSkills?.[item.type]?.[npc.output] || 1) > 1;\n          return isSkill && applies;\n        })\n        .map((item) => item.type);\n\n      const skillModifier = playerBuffs.reduce((mult, buff) => {\n        const boost = masterSkills?.[buff]?.[npc.output] || 1;\n        return mult * boost;\n      }, 1);\n\n      const quantityToCollect = baseQuantity * skillModifier;\n      console.log('[DEBUG] quantityToCollect after multiplier:', quantityToCollect);\n\n      // Update the player's inventory\n      \n      const gainSuccess = await gainIngredients({\n        playerId: currentPlayer.playerId,\n        currentPlayer,\n        resource: npc.output,\n        quantity: quantityToCollect,\n        inventory: currentPlayer.inventory,\n        backpack: currentPlayer.backpack,\n        setInventory,\n        setBackpack: () => {}, // no change to backpack in graze flow\n        setCurrentPlayer: () => {}, // optional: skip player refresh\n        updateStatus: () => {},     // optional: or pass a real one if available\n        masterResources,\n      });\n\n      if (!gainSuccess) {\n        FloatingTextManager.addFloatingText(`❌ No space`, col, row, TILE_SIZE);\n        return { type: 'error', message: 'Failed to collect item (no space?)' };\n      }\n      FloatingTextManager.addFloatingText(`+${quantityToCollect} ${npc.output}`, col, row, TILE_SIZE);\n      const statusMessage =\n        skillModifier === 1\n          ? `✅ Gained ${quantityToCollect} ${npc.output}.`\n          : `✅ Gained ${quantityToCollect} ${npc.output} (${playerBuffs.join(', ')} skill applied).`;\n      updateStatus(statusMessage);\n\n      // ✅ Track quest progress for NPC graze collection\n      await trackQuestProgress(currentPlayer, 'Collect', npc.output, quantityToCollect, setCurrentPlayer);\n\n      try {\n          console.log('currentPlayer before update:', currentPlayer);\n          const existingNPC = NPCsInGridManager.getNPCsInGrid(currentPlayer.location.g)?.[npc.id];\n          console.log('Existing NPC:', existingNPC);\n          console.log('NPC ID:', npc.id);\n          if (existingNPC) {\n            await NPCsInGridManager.updateNPC(currentPlayer.location.g, npc.id, {\n              ...existingNPC,\n              state: 'emptystall',\n              hp: 0,\n            });\n          }\n          return { type: 'success', message: `Collected ${quantityToCollect} ${npc.output}.` };\n\n        } catch (error) {\n        console.error('Error updating inventory or grid state on server:', error);\n        return { type: 'error', message: 'Failed to update inventory or stall.' };\n      }\n    }\n\n    case 'attack': \n    case 'spawn':\n      handleAttackOnNPC(npc,currentPlayer,setCurrentPlayer,TILE_SIZE,setResources,masterResources);\n      \n    break;\n  \n\n    default:\n      console.log(`Unhandled NPC action: ${npc.action}`);\n      break;\n  }\n}\n","import API_BASE from '../config';\nimport axios from 'axios';\nimport playersInGridManager from '../GridState/PlayersInGrid';\n\n/**\n * Derives the total warehouse and backpack capacity based on player skills and master resources.\n * @param {object} currentPlayer - The player object including skills and base capacities.\n * @param {Array} masterResources - Array of all master resource definitions.\n * @returns {object} - { warehouse: number, backpack: number }\n */\n\nexport function deriveWarehouseAndBackpackCapacity(currentPlayer, masterResources) {\n  const baseWarehouse = currentPlayer?.warehouseCapacity || 0;\n  const baseBackpack = currentPlayer?.backpackCapacity || 0;\n  const isGold = currentPlayer?.accountStatus === \"Gold\";\n  const warehouseBonus = isGold ? 1000000 : 0;\n  const backpackBonus = isGold ? 1000000 : 0;\n\n  return (currentPlayer?.skills || []).reduce(\n    (acc, skill) => {\n      const skillDetails = masterResources?.find(res => res.type === skill.type);\n      if (skillDetails) {\n        const bonus = skillDetails.qtycollected || 0;\n        if (skillDetails.output === 'warehouseCapacity') {\n          acc.warehouse += bonus;\n        } else if (skillDetails.output === 'backpackCapacity') {\n          acc.backpack += bonus;\n        }\n      }\n      return acc;\n    },\n    { warehouse: baseWarehouse + warehouseBonus, backpack: baseBackpack + backpackBonus }\n  );\n}\n\n\n\nexport const canAfford = (recipe, inventory = [], backpack = [], amount = 1) => {\n  if (!recipe) return false;\n  const inv = Array.isArray(inventory) ? inventory : [];\n  const bp = Array.isArray(backpack) ? backpack : [];\n  for (let i = 1; i <= 4; i++) {\n    const ingredientType = recipe[`ingredient${i}`];\n    const ingredientQty = recipe[`ingredient${i}qty`] * amount;\n    if (ingredientType && ingredientQty >= 0) {\n      const backpackItem = bp.find((item) => item.type === ingredientType);\n      const inventoryItem = inv.find((item) => item.type === ingredientType);\n      const totalQty = (backpackItem?.quantity || 0) + (inventoryItem?.quantity || 0);\n      if (totalQty < ingredientQty) { return false; }\n    }\n  }\n  console.log(`✅ canAfford returns TRUE for ${recipe.type}`);\n  return true;\n};\n\n\nexport async function fetchInventoryAndBackpack(playerId) {\n  if (!playerId) {\n    console.error('No playerId provided for fetching inventory and backpack');\n    return { inventory: [], backpack: [] };\n  }\n  try {\n    const response = await axios.get(`${API_BASE}/api/inventory/${playerId}`);\n    return {\n      inventory: response.data?.inventory || [],\n      backpack: response.data?.backpack || [],\n      warehouseCapacity: response.data?.warehouseCapacity || 0,\n      backpackCapacity: response.data?.backpackCapacity || 0,\n    };\n  } catch (error) {\n    console.error('Error fetching inventory and backpack:', error);\n    return { inventory: [], backpack: [] };\n  }\n}\n\nexport async function fetchInventory(playerId) {\n  if (!playerId) {\n    console.error('No playerId provided for fetching inventory');\n    return [];\n  }\n  try {\n    const response = await axios.get(`${API_BASE}/api/inventory/${playerId}`);\n    return response.data?.inventory || [];\n  } catch (error) {\n    console.error('Error fetching inventory:', error);\n    return [];\n  }\n}\n\n \n/**\n * Refreshes the player's state after an inventory update.\n * Ensures that the latest inventory and other properties are reflected in the UI.\n * @param {string} playerId - The player's ID.\n * @param {Function} setCurrentPlayer - Function to update the currentPlayer state.\n */\nexport async function refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer) {\n  try {\n    const response = await axios.get(`${API_BASE}/api/player/${playerId}`);\n    const updatedPlayerData = response.data;\n    // Pull latest location from playersInGridManager if available\n    const gridPlayer = playersInGridManager.getPlayersInGrid(updatedPlayerData.location?.g)?.[playerId];\n    if (gridPlayer) {\n      updatedPlayerData.location = {\n        ...updatedPlayerData.location,\n        x: gridPlayer.position.x,\n        y: gridPlayer.position.y,\n      };\n    }\n    setCurrentPlayer(updatedPlayerData);\n    console.log('Player refreshed successfully:', response.data);\n  } catch (error) {\n    console.error('Error refreshing player:', error);\n  }\n}\n\n\n\n////////////////////////////////////////\nexport async function gainIngredients({\n  playerId,\n  currentPlayer,\n  resource,\n  quantity,\n  inventory,\n  backpack,\n  setInventory,\n  setBackpack,\n  setCurrentPlayer,\n  updateStatus,\n  masterResources,\n}) {\n  console.log(\"Made it to gainIngredients; resource = \", resource, \"; quantity = \", quantity);\n  console.log(\"Current player gtype:\", currentPlayer?.location?.gtype);\n  const isMoney = resource === \"Money\";\n  const isHomestead = currentPlayer?.location?.gtype === 'homestead';\n  const storingInBackpack = !isMoney && !isHomestead;\n  console.log(\"🏠 isHomestead:\", isHomestead, \"| 💰 isMoney:\", isMoney, \"| 🎒 storingInBackpack:\", storingInBackpack);\n\n  const target = isMoney || isHomestead ? [...inventory] : [...backpack];\n\n  // ✅ Backpack skill check if storing in backpack\n  if (storingInBackpack) {\n    const hasBackpackSkill = currentPlayer?.skills?.some((item) => item.type === 'Backpack' && item.quantity > 0);\n    if (!hasBackpackSkill) {\n      if (updateStatus) updateStatus(19); // Missing backpack\n      return false;\n    }\n  }\n    \n  // ✅ Capacity check\n  if (!isMoney) {\n    const { warehouse, backpack: maxBackpack } = deriveWarehouseAndBackpackCapacity(currentPlayer, masterResources || []);\n    const capacity = isHomestead ? warehouse : maxBackpack;\n    const totalItems = target\n      .filter(item => item && item.type !== 'Money' && typeof item.quantity === 'number')\n      .reduce((acc, item) => acc + item.quantity, 0);\n    if (totalItems + quantity > capacity) {\n      console.log(\"📦 Capacity check failed. totalItems =\", totalItems, \"quantity =\", quantity, \"capacity =\", capacity);\n      if (updateStatus) updateStatus(isHomestead ? 20 : 21); // 20 = warehouse full, 21 = backpack full\n      return false;\n    }\n  }\n\n  // ✅ Apply gain\n  const index = target.findIndex((item) => item.type === resource);\n  if (index >= 0) {\n    target[index].quantity += quantity;\n  } else {\n    target.push({ type: resource, quantity });\n  }\n\n  // Prepare delta payload for update-inventory-delta endpoint, including explicit target\n  const deltaPayload = {\n    playerId,\n    delta: [{\n      type: resource,\n      quantity: quantity,\n      target: storingInBackpack ? 'backpack' : 'inventory'\n    }]\n  };\n  console.log(\"📤 Sending inventory delta payload to server:\", deltaPayload);\n\n  try {\n    await axios.post(`${API_BASE}/api/update-inventory-delta`, deltaPayload);\n    setInventory(isMoney || isHomestead ? target : inventory);\n    setBackpack(!isMoney && !isHomestead ? target : backpack);\n    await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n    return true;\n  } catch (err) {\n    console.error(\"❌ Error gaining ingredient\", err);\n    return false;\n  }\n}\n\n\n////////////////////////////////////////\nexport async function spendIngredients({\n  playerId,\n  recipe,\n  inventory,\n  backpack,\n  setInventory,\n  setBackpack,\n  setCurrentPlayer,\n  updateStatus,\n}) {\n  console.log(\"Made it to spendIngredients; recipe = \",recipe);\n  let updatedInventory = [...inventory];\n  let updatedBackpack = [...backpack];\n\n  if (!canAfford(recipe, inventory, backpack, 1)) { updateStatus(4); return false; }\n\n  // Deduct ingredients with new logic\n  for (let i = 1; i <= 4; i++) {\n    const type = recipe?.[`ingredient${i}`];\n    const qty = recipe?.[`ingredient${i}qty`];\n    if (type && qty) {\n      let remaining = qty;\n\n      const deductFrom = (list) => {\n        const index = list.findIndex((item) => item.type === type);\n        if (index >= 0) {\n          const used = Math.min(remaining, list[index].quantity);\n          list[index].quantity -= used;\n          remaining -= used;\n          if (list[index].quantity <= 0) list.splice(index, 1);\n        }\n      };\n      deductFrom(updatedBackpack);\n      console.log(`✅ Deducted ${qty} of ${type} from inventory/backpack`);\n      if (remaining > 0) deductFrom(updatedInventory);\n    }\n  }\n\n  try {\n    await axios.post(`${API_BASE}/api/update-inventory`, {\n      playerId,\n      inventory: updatedInventory,\n      backpack: updatedBackpack,\n    });\n    setInventory(updatedInventory);\n    setBackpack(updatedBackpack);\n    await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n    return true;\n\n  } catch (err) {\n    console.error(\"❌ Error spending ingredients:\", err);\n    return false;\n  }\n}","import axios from 'axios';\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport { calculateDistance } from './NPCHelpers';\n\n// Behavior handler for farm animals (e.g., cows)\nasync function handleFarmAnimalBehavior(gridId) {\n    // Helper for updating just this NPC\n    const updateThisNPC = async () => {\n        // console.log(`[SAVE] NPC ${this.id}:`, {\n        //     state: this.state,\n        //     grazeEnd: this.grazeEnd,\n        //     position: this.position,\n        //   });\n        await NPCsInGridManager.updateNPC(gridId, this.id, {\n            state: this.state,\n            grazeEnd: this.grazeEnd,\n            position: this.position,\n      });\n    };\n    const tiles = GlobalGridStateTilesAndResources.getTiles();\n    const resources = GlobalGridStateTilesAndResources.getResources();\n    const npcs = Object.values(NPCsInGridManager.getNPCsInGrid(gridId) || {}); \n\n    gridId = gridId || this.gridId; // Fallback to npc.gridId if not provided\n\n    //console.log(`handleFarmAnimalBehavior: gridId: ${gridId}; NPC ${this.id} is in state: ${this.state}`);\n\n    if (!tiles || !resources) {\n        console.error(`Tiles or resources are missing for NPC ${this.id}.`);\n        return;\n    }\n\n    switch (this.state) {\n        case 'idle': {\n//            console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state}`);\n            const idleCompleted = await this.handleIdleState(tiles, resources, npcs, 4, async () => {\n//              console.log(`🔁 Retrying stall for NPC ${this.id}`);\n              this.state = 'stall';\n              await updateThisNPC();\n            });\n          \n            if (!idleCompleted) {\n              // Don't continue state processing if we're still idling\n              return;\n            }\n          \n            // If idle completed and `onTransition` fired, the state is now \"stall\"\n            break;\n          }\n\n        case 'hungry': {\n            //console.log(`NPC ${this.id} is in HUNGRY state.`);\n            console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state} grazeEnd: ${this.grazeEnd}`);\n\n            const currentTime = Date.now();\n            if (this.grazeEnd && currentTime >= this.grazeEnd) {\n                console.log(`⏳ Grazing already done — NPC ${this.id} skipping hungry.`);\n                this.state = 'stall';\n                await updateThisNPC();\n                break;\n            }\n\n            //console.log(\"this.targetGrassTile = \", this.targetGrassTile);\n\n            // Find the target grass tile if not already set\n            if (!this.targetGrassTile) {\n                //console.log(`NPC ${this.id} finding nearest grass tile.`);\n                \n                // Find all grass tiles within range\n                const grassTiles = await this.findTileInRange('g', tiles, resources);\n        \n                if (!Array.isArray(grassTiles) || grassTiles.length === 0) {\n                    console.warn(`No grass tiles found for NPC ${this.id}. Transitioning to idle.`);\n                    this.state = 'idle'; // Fallback to idle if no valid tiles\n                    break;\n                }\n        \n                // Filter out occupied grass tiles\n                const unoccupiedGrassTiles = grassTiles.filter(\n                    (tile) => !resources.some((res) => res.x === tile.x && res.y === tile.y)\n                );\n        \n                if (unoccupiedGrassTiles.length === 0) {\n                    console.warn(`No unoccupied grass tiles found for NPC ${this.id}. Transitioning to idle.`);\n                    this.state = 'idle'; // Fallback to idle if no valid tiles\n                    break;\n                }\n        \n                // Sort tiles by distance and select the closest\n                unoccupiedGrassTiles.sort(\n                    (a, b) => calculateDistance(this.position, a) - calculateDistance(this.position, b)\n                );\n                this.targetGrassTile = unoccupiedGrassTiles[0];\n                //console.log(`NPC ${this.id} selected grass tile at (${this.targetGrassTile.x}, ${this.targetGrassTile.y}).`);\n            }\n        \n            // Attempt to move toward the target grass tile\n            if (this.targetGrassTile && \n                typeof this.targetGrassTile.x === 'number' && \n                typeof this.targetGrassTile.y === 'number') \n            {\n                const dx = this.targetGrassTile.x - Math.floor(this.position.x);\n                const dy = this.targetGrassTile.y - Math.floor(this.position.y);\n                //console.log(`NPC ${this.id} movement vector: dx=${dx}, dy=${dy}, current position=(${this.position.x}, ${this.position.y}), target=(${this.targetGrassTile.x}, ${this.targetGrassTile.y})`);\n        \n                let direction = null;\n        \n                // Explicitly handle when dx and dy are both 0 (already at the target)\n                if (dx === 0 && dy === 0) {\n                   // console.log(`NPC ${this.id} is already at the target grass tile. Transitioning to grazing.`);\n                    this.state = 'grazing'; // Transition to grazing\n                    this.targetGrassTile = null; // Clear the target\n                    await updateThisNPC(); // Save after transition\n                    break;\n                }\n        \n                // Prioritize diagonal movement if dx and dy are both non-zero\n                if (dx > 0 && dy > 0) direction = 'SE';\n                else if (dx > 0 && dy < 0) direction = 'NE';\n                else if (dx < 0 && dy > 0) direction = 'SW';\n                else if (dx < 0 && dy < 0) direction = 'NW';\n                else if (dx > 0) direction = 'E';\n                else if (dx < 0) direction = 'W';\n                else if (dy > 0) direction = 'S';\n                else if (dy < 0) direction = 'N';\n        \n                //console.log(`NPC ${this.id} determined direction: ${direction}`);\n        \n                if (!direction) {\n                    console.warn(`NPC ${this.id} could not determine direction to grass tile.`);\n                    this.state = 'idle';\n                    this.targetGrassTile = null;\n                    break;\n                }\n        \n                if (!this.isMoving) {\n                    //console.log(`NPC ${this.id} moving one tile toward grass tile at (${this.targetGrassTile.x}, ${this.targetGrassTile.y}).`);\n                    this.isMoving = true;\n                    const moved = await this.moveOneTile(direction, tiles, resources, npcs);\n        \n                    // Ensure position snaps to integers after movement\n                    this.position.x = Math.floor(this.position.x);\n                    this.position.y = Math.floor(this.position.y);\n                    this.isMoving = false;\n                    if (!moved) {\n                        console.warn(`NPC ${this.id} is stuck and cannot move toward the grass. Switching to idle.`);\n                        this.targetGrassTile = null;\n                        this.state = 'idle';\n                        await updateThisNPC(); // ✅ Save failure state\n                        break;\n                      }\n                }\n        \n                // Check if NPC has reached the grass tile\n                if (\n                    Math.floor(this.position.x) === this.targetGrassTile.x &&\n                    Math.floor(this.position.y) === this.targetGrassTile.y\n                ) {\n                    //console.log(`NPC ${this.id} has reached the grass tile at (${this.targetGrassTile.x}, ${this.targetGrassTile.y}). Transitioning to grazing.`);\n                    this.state = 'grazing'; // Transition to grazing\n                    this.targetGrassTile = null; // Clear the target\n                    await updateThisNPC(); // Save after transition\n                }\n            }\n            else {\n                    console.warn(`🐄 [Hungry] NPC ${this.id} has invalid targetGrassTile. Roaming to unstuck.`);\n                    this.targetGrassTile = null;\n                    this.state = 'roam';\n                    await updateThisNPC();\n                    break;\n            }\n            break;\n        }\n \n          \n        case 'grazing': {\n            console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state} grazeEnd: ${this.grazeEnd}`);\n            const currentTime = Date.now();\n        \n            console.log(`grazeEnd: ${this.grazeEnd}, growTime: ${this.growTime}, type: ${this.type}`);\n\n            if (!this.grazeEnd) {\n                this.grazeEnd = currentTime + (this.growTime * 1000); // Calculate grazing end time\n                //console.log('in state = grazing; setting grazeEnd: ',this.grazeEnd);\n                await updateThisNPC();\n            }\n            \n            // ✅ Check if grazing is complete\n            if (currentTime >= this.grazeEnd) {\n                //console.log(`🐄 NPC ${this.id} finished grazing. Moving to stall.`);\n                // ✅ Transition to stall\n                this.state = 'stall';\n                await updateThisNPC();\n            }\n            break;\n        }\n\n\n            case 'stall': {\n                console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state} grazeEnd: ${this.grazeEnd}`);\n                const fullGridState = NPCsInGridManager.getNPCsInGrid(gridId);\n        \n                // Step 1: If no stall is currently assigned, find the nearest available stall\n                if (!this.targetStall) {\n                    //console.log(`NPC ${this.id} finding nearest stall.`);\n                    this.targetStall = this.findNearestResource('stall', tiles, resources);\n                    if (!this.targetStall) {\n                        console.log('No availalbe stall, returning to idle.');\n                        this.state = 'idle';\n                        break;\n                    }\n                }\n            \n                // Step 5: Confirm the stall is still valid before proceeding\n                const stallResource = resources.find(\n                    (res) => res.x === this.targetStall.x && res.y === this.targetStall.y\n                );\n                if (!stallResource) {\n                    console.warn(`Target stall at (${this.targetStall.x}, ${this.targetStall.y}) is no longer valid. Transitioning to idle.`);\n                    this.state = 'idle';\n                    this.targetStall = null;\n                    break;\n                }\n            \n                // Step 6: Calculate movement direction towards the stall\n                const dx = this.targetStall.x - Math.floor(this.position.x);\n                const dy = this.targetStall.y - Math.floor(this.position.y);\n                let direction = null;\n            \n                // ✅ Prefer diagonals if both dx and dy are non-zero\n                if (dx !== 0 && dy !== 0) {\n                    if (dx > 0 && dy > 0) direction = 'SE';\n                    else if (dx > 0 && dy < 0) direction = 'NE';\n                    else if (dx < 0 && dy > 0) direction = 'SW';\n                    else if (dx < 0 && dy < 0) direction = 'NW';\n                } else if (dx !== 0) {\n                    direction = dx > 0 ? 'E' : 'W';\n                } else if (dy !== 0) {\n                    direction = dy > 0 ? 'S' : 'N';\n                }\n            \n                // Step 7: If a valid movement direction isn't determined, revert to idle state\n                if (!direction &&\n                    (   Math.floor(this.position.x) !== this.targetStall.x &&\n                        Math.floor(this.position.y) !== this.targetStall.y )\n                    ) {\n                        console.warn(`NPC ${this.id} could not determine direction to stall.`);\n                        this.state = 'idle';\n                        this.targetStall = null;\n                        break;\n                    }\n            \n                // Step 8: Move the NPC one tile towards the stall\n                if (!this.isMoving) {\n                    this.isMoving = true;\n                    const moved = await this.moveOneTile(direction, tiles, resources, npcs);\n                    this.position.x = Math.floor(this.position.x);\n                    this.position.y = Math.floor(this.position.y);\n                    this.isMoving = false;\n                  \n                    if (!moved) {\n                      console.warn(`NPC ${this.id} is stuck and cannot move toward the stall. Switching to idle.`);\n                      this.targetStall = null;\n                      this.state = 'idle';\n                      this.triedStall = true;\n                      await updateThisNPC(); // ✅ Save failure state\n                      break;\n                    }\n                  \n                    await updateThisNPC(); // ✅ Save successful movement\n                  }\n            \n                // Step 9: If NPC reaches the stall, transition to processing state\n                if (Math.floor(this.position.x) === this.targetStall.x &&\n                    Math.floor(this.position.y) === this.targetStall.y) {\n                \n                    console.log(`🐮 NPC ${this.id} reached stall. Clearing grazeEnd and transitioning to processing.`);\n                    \n                    // ✅ Now safe to clear grazeEnd\n                    delete this.grazeEnd;\n                    const NPCsInGrid = NPCsInGridManager.getNPCsInGrid(gridId);\n                    if (NPCsInGrid?.npcs?.[this.id]) {\n                        delete NPCsInGrid.npcs[this.id].grazeEnd;\n                    }\n                    \n                    this.state = 'processing';\n                    await updateThisNPC();\n                    }\n\n                break;\n            }\n \n        case 'processing': {\n            // awaiting handleNPCClick\n            // console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state}`);\n            console.log('Awaiting handleNPCClick');\n        break;\n        }\n\n        case 'emptystall': {\n            // console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state}`);\n            this.targetStall = null;\n            this.state = 'roam'; // Transition to roam state\n            await updateThisNPC(); // Save after transition\n            break;\n        }\n         \n        case 'roam': {\n\n            // console.log(`🐮 [STATE] NPC ${this.id} entering state: ${this.state}`);\n            await this.handleRoamState(tiles, resources, npcs, async () => {\n                // ✅ This is your onTransition logic\n                if (!this.grazeEnd) {\n                  console.log(`🌱 NPC ${this.id} has no grazeEnd, transitioning to hungry.`);\n                  this.state = 'hungry';\n                } else {\n                  console.log(`😐 NPC ${this.id} completed roam but grazing NOT done. Going idle.`);\n                  this.state = 'idle';\n                }\n                await updateThisNPC();\n              });\n\n            break;\n          }\n\n        default:\n            console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`);\n            break;\n    }\n}\n\n// Export a function to attach the behavior to the NPC class\nexport function attachGrazingBehavior(NPC) {\n    NPC.prototype.handleFarmAnimalBehavior = handleFarmAnimalBehavior;\n}","import axios from 'axios';\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport { calculateDistance } from './NPCHelpers';\n\nconst updateThisNPC = async (npcInstance, gridId) => {\n  await NPCsInGridManager.updateNPC(gridId, npcInstance.id, {\n    state: npcInstance.state,\n    position: npcInstance.position,\n  });\n};\n\nasync function handleQuestGiverBehavior(gridId) {\n    const tiles = GlobalGridStateTilesAndResources.getTiles();\n    const resources = GlobalGridStateTilesAndResources.getResources();\n    const npcs = Object.values(NPCsInGridManager.getNPCsInGrid(gridId) || {});\n    //console.log('🐉 handleQuestGiver:  npcs = ', npcs);\n\n    gridId = gridId || this.gridId; // Fallback to npc.gridId if not provided\n\n    //console.log(`handleQuestGiverBehavior: gridId: ${gridId}; NPC ${this.id} is in state: ${this.state}`);\n\n    if (!tiles || !resources) {\n        console.error(`Tiles or resources are missing for NPC ${this.id}.`);\n        return;\n    }\n\n    switch (this.state) {\n        case 'idle': {\n            // const pcsInRange = Object.values(playersInGridManager.getPlayersInGrid(gridId) || {}).some(pc => \n            //     calculateDistance(pc.position, this.position) <= this.range && pc.hp>0\n            // );\n            // if (pcsInRange) { break; }\n            \n            await this.handleIdleState(tiles, resources, npcs, 5, async () => {\n                this.state = 'roam';\n                await updateThisNPC(this, gridId); // Save after transition\n            });\n\n            break;\n          }\n\n          case 'roam': {\n            //console.log(`NPC ${this.id} is roaming.`);\n            // const pcsInRange = Object.values(playersInGridManager.getPlayersInGrid(gridId) || {}).some(pc => \n            //     calculateDistance(pc.position, this.position) <= this.range\n            // );\n            // if (pcsInRange) { this.state = 'idle'; await updateThisNPC(); break; }\n            \n            await this.handleRoamState(tiles, resources, npcs, () => {\n                //console.log(`NPC ${this.id} transitioning back to idle.`);\n                this.state = 'idle'; // Transition to the idle state\n\n              });\n            break;\n          }\n\n        default:\n            console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`);\n            break;\n    }\n}\n\n// Attach the quest-giver behavior to the NPC class\nexport function attachQuestBehavior(NPC) {\n    NPC.prototype.handleQuestGiverBehavior = handleQuestGiverBehavior;\n}","import GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport FloatingTextManager from \"../../UI/FloatingText\";\n\nconst updateThisNPC = async function(gridId) {\n  await NPCsInGridManager.updateNPC(gridId, this.id, {\n    state: this.state,\n    position: this.position,\n  });\n};\n\nasync function handleEnemyBehavior(gridId, TILE_SIZE) {\n  //console.log(`🐺 NPC ${this.id} handling enemy behavior on grid ${gridId}.`);\n  const tiles = GlobalGridStateTilesAndResources.getTiles();\n  const resources = GlobalGridStateTilesAndResources.getResources();\n  const npcs = Object.values(NPCsInGridManager.getNPCsInGrid(gridId) || {});\n  //console.log('🐺 npcs = ', npcs);\n  const pcs = Object.values(playersInGridManager.getPlayersInGrid(gridId) || {}); // Get all PCs on the grid\n\n  if (!this.state) this.state = 'idle';\n\n  switch (this.state) {\n\n    case 'idle': {\n      this.pursueTimerStart = null; // Clear pursuit timer\n      await this.handleIdleState(tiles, resources, npcs, 5, async () => {\n        const pcsInRange = pcs.filter(pc => {\n          if (pc.hp <= 0) return false;\n          const dist = getDistance(this.position, pc.position);\n          return dist <= this.range;\n        });\n        const targetPC = pcsInRange[Math.floor(Math.random() * pcsInRange.length)];\n        if (targetPC) {\n          console.log(`NPC ${this.id} randomly chose PC ${targetPC.username} within range. Entering 'pursue' state.`);\n          this.targetPC = targetPC;\n          this.state = 'pursue';\n          await updateThisNPC.call(this, gridId);\n        } else {\n          console.log(`NPC ${this.id} did not detect any PCs within range. Entering 'roam' state.`);\n          this.state = 'roam';\n          await updateThisNPC.call(this, gridId);\n        }\n      });\n      break;\n    }\n\n    case 'pursue': {\n      this.targetPC = pcs.find(pc => pc.playerId === this.targetPC?.playerId); // Refresh position from latest state\n      this.targetPC = pcs.find(pc => pc.playerId === this.targetPC?.playerId);\n      if (!this.targetPC) {\n        //console.warn(`NPC ${this.id} lost its target. Returning to idle state.`);\n        this.state = 'idle';\n        this.pursueTimerStart = null;\n        await updateThisNPC.call(this, gridId); // Save after transition\n        break;\n      }\n      if (!this.pursueTimerStart) this.pursueTimerStart = Date.now();\n      const timeSincePursueStart = Date.now() - this.pursueTimerStart;\n      const distance = getDistance(this.position, this.targetPC?.position);\n      // Check if there's a closer PC to switch to\n      const closestPC = findClosestPC(this.position, pcs);\n      if (closestPC && closestPC.playerId !== this.targetPC.playerId) {\n        const distToCurrent = distance;\n        const distToClosest = getDistance(this.position, closestPC.position);\n        if (distToCurrent - distToClosest >= 2) {\n          console.log(`🔄 NPC ${this.id} switching target from ${this.targetPC.username} to much closer PC ${closestPC.username}.`);\n          this.targetPC = closestPC;\n        }\n      }\n      if (distance > this.range * 2 && timeSincePursueStart > 5000) {\n        console.log(`🐺 NPC ${this.id} gave up chasing ${this.targetPC?.username}.`);\n        this.state = 'idle';\n        this.pursueTimerStart = null;\n        this.targetPC = null;\n        await updateThisNPC.call(this, gridId);\n        break;\n      }\n      console.log(`NPC ${this.id} is pursuing PC ${this.targetPC.username}.`);\n      await this.handlePursueState(this.targetPC.position, tiles, resources, npcs, pcs, async () => {\n        //console.log(`NPC ${this.id} transitioned to ATTACK state targeting ${this.targetPC.username}.`);\n        this.state = 'attack';\n        await updateThisNPC.call(this, gridId); // Save after transition\n      });\n      break;\n    }\n\n    case 'attack': {\n      this.targetPC = pcs.find(pc => pc.playerId === this.targetPC?.playerId); // Refresh position from latest state\n      this.targetPC = pcs.find(pc => pc.playerId === this.targetPC?.playerId);\n\n      if (!this.targetPC) {\n        //console.warn(`NPC ${this.id} lost its target. Returning to idle state.`);\n        this.pursueTimerStart = null;\n        this.state = 'idle';\n        await updateThisNPC.call(gridId); // Save after transition\n        break;\n      }\n      if (this.targetPC.hp <= 0 || this.targetPC.iscamping) {\n        this.state = 'idle';\n        await updateThisNPC.call(this, gridId);\n        break; // ✅ Skip PCs that are dead or camping\n      }\n      const distanceToTarget = getDistance(this.position, this.targetPC.position);\n      if (distanceToTarget > this.attackrange) {\n        //console.log(`PC ${this.targetPC.username} moved out of attack range. Returning to 'pursue' state.`);\n        this.state = 'pursue';\n        await updateThisNPC.call(this, gridId); // Save after transition\n        break;\n      }\n \n      // Perform the attack\n      const attackRoll = Math.floor(Math.random() * 20) + 1;\n      const hitRoll = attackRoll + this.attackbonus;\n      const isAHit = hitRoll >= this.targetPC.armorclass;\n\n      // console.log('attackRoll = ', attackRoll);\n      // console.log('this.attackBonus = ', this.attackbonus)\n      // console.log('this.targetPC = ',this.targetPC);\n      // console.log('this.targetPC.armorclass = ',this.targetPC.armorclass);\n      // console.log('hitRoll = ', hitRoll);\n      // console.log('isAHit = ', isAHit);\n\n      if (!isAHit) {\n        //console.log(`NPC ${this.id} missed the attack on ${this.targetPC.username}.`);\n        FloatingTextManager.addFloatingText(503, this.targetPC.position.x, this.targetPC.position.y, TILE_SIZE);\n        setTimeout(() => {\n          this.state = 'attack'; // Retry attack after waiting\n        }, this.speed);\n      } else {\n        // apply damage\n        const damage = Math.floor(Math.random() * 6) + 1 + this.damage;\n        // Define the stat and amount to modify before calling modifyPlayerStats\n        const amountToMod = -damage;  // Damage is negative\n        \n        try {\n          const newHP = Math.max(0, this.targetPC.hp + amountToMod);\n          FloatingTextManager.addFloatingText(`- ${damage} ❤️‍🩹 HP`, this.targetPC.position.x, this.targetPC.position.y, TILE_SIZE );\n          playersInGridManager.updatePC(gridId, this.targetPC.playerId, {\n            hp: newHP,\n            lastUpdated: Date.now()\n          });\n        } catch (error) {\n          console.error(`Error applying damage to player ${this.targetPC.username}:`, error);\n        }\n      }\n      break;\n    }\n\n    case 'roam': {\n      this.pursueTimerStart = null;\n      await this.handleRoamState(tiles, resources, npcs, async () => {\n        //console.log(`NPC ${this.id} transitioning to IDLE state after roaming.`);\n        this.state = 'idle';\n        await updateThisNPC.call(this, gridId); // Save after transition\n      });\n      break;\n    }\n\n    default: {\n      console.warn(`Unhandled state: ${this.state}`);\n      break;\n    }\n  }\n}\n\n/**\n * Finds the closest PC to the given position.\n */\nfunction findClosestPC(npcPosition, pcs) {\n  let closestPC = null;\n  let minDistance = Infinity;\n\n  pcs.forEach((pc) => {\n    if (pc.hp <= 0) return; // ✅ Skip PCs that are dead\n    const distance = getDistance(npcPosition, pc.position);\n    if (distance < minDistance) {\n      minDistance = distance;\n      closestPC = pc;\n    }\n  });\n\n  return closestPC;\n}\n\n/**\n * Calculates the Euclidean distance between two points.\n */\nfunction getDistance(pos1, pos2) {\n  return Math.sqrt((pos1.x - pos2.x) ** 2 + (pos1.y - pos2.y) ** 2);\n}\n\n\nexport function attachEnemyBehavior(NPC) {\n  NPC.prototype.handleEnemyBehavior = handleEnemyBehavior;\n}","import axios from 'axios';\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport { calculateDistance } from './NPCHelpers';\n\nasync function handleHealBehavior(gridId) {\n    const updateThisNPC = async () => {\n        await NPCsInGridManager.updateNPC(gridId, this.id, {\n            state: this.state,\n            position: this.position,\n        });\n    };\n\n    const tiles = GlobalGridStateTilesAndResources.getTiles();\n    const resources = GlobalGridStateTilesAndResources.getResources();\n    const npcs = Object.values(NPCsInGridManager.getNPCsInGrid(gridId) || {}); \n\n    gridId = gridId || this.gridId; // Fallback to npc.gridId if not provided\n\n    //console.log(`handleHealerBehavior: gridId: ${gridId}; NPC ${this.id} is in state: ${this.state}`);\n\n    if (!tiles || !resources) {\n        console.error(`Tiles or resources are missing for NPC ${this.id}.`);\n        return;\n    }\n\n    switch (this.state) {\n        case 'idle': {\n            //console.log(`NPC ${this.id} is in IDLE state.`);\n\n            // ✅ **Check for nearby PCs using calculateDistance**\n            // const pcsInRange = Object.values(playersInGridManager.getPlayersInGrid(gridId) || {}).some(pc => \n            //     calculateDistance(pc.position, this.position) <= this.range\n            // );\n            // if (pcsInRange) { break; }\n            \n            await this.handleIdleState(tiles, resources, npcs, 5, async () => {\n                //console.log(`NPC ${this.id} transitioning to roam state.`);\n                this.state = 'roam'; // Transition to the roam state\n                await updateThisNPC();\n            });\n\n            break;\n          }\n\n          case 'roam': {\n            //console.log(`NPC ${this.id} is roaming.`);\n            // const pcsInRange = Object.values(playersInGridManager.getPlayersInGrid(gridId) || {}).some(pc => \n            //     calculateDistance(pc.position, this.position) <= this.range\n            // );\n            // if (pcsInRange) { this.state = 'idle'; await updateThisNPC(); break; }\n            \n            await this.handleRoamState(tiles, resources, npcs, () => {\n                //console.log(`NPC ${this.id} transitioning back to idle.`);\n                this.state = 'idle'; // Transition to the idle state\n            });\n            break;\n          }\n\n        default:\n            console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`);\n            break;\n    }\n}\n\n// Attach the quest-giver behavior to the NPC class\nexport function attachHealBehavior(NPC) {\n    NPC.prototype.handleHealBehavior = handleHealBehavior;\n}","import { calculateDistance } from './NPCHelpers';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\n\nasync function handleSpawnBehavior(gridId) {\n    const NPCsInGrid = NPCsInGridManager.getNPCsInGrid(gridId);\n    if (!NPCsInGrid) {\n        console.warn(`GridState unavailable for gridId ${gridId}.`);\n        return;\n    }\n\n    const npcsObject = NPCsInGridManager.getNPCsInGrid(gridId); // this *is* the npcs object\n    const npcs = Object.values(npcsObject || {});\n    \n    const playersInGrid = playersInGridManager.getPlayersInGrid(gridId);\n    const pcs = Object.values(playersInGrid || {});\n\n    //console.log(`[Spawner] Handling spawn behavior for ${this.type} at (${this.position.x}, ${this.position.y}). State: ${this.state}`);\n\n    // 🔴 Track position changes\n    const oldPosition = { x: this.position.x, y: this.position.y };\n\n    switch (this.state) {\n        case 'idle': {\n            const pcsInRange = pcs.some(pc => calculateDistance(pc.position, this.position) < this.range);\n            if (pcsInRange) {\n                console.log(`[Spawner] ${this.type} detected PCs nearby. Transitioning to spawn state.`);\n                this.state = 'spawn';\n                await NPCsInGridManager.saveGridStateNPCs(gridId);\n            }\n            break;\n        }\n\n        case 'spawn': {\n            const existingNPCs = npcs.filter(npc => npc.type === this.requires);\n            if (existingNPCs.length >= this.qtycollected) {\n                console.log(`[Spawner] Max ${this.requires} reached (${this.qtycollected}). Returning to idle.`);\n                this.state = 'idle';\n                await NPCsInGridManager.saveGridStateNPCs(gridId);\n                return;\n            }\n\n            if (!this.nextspawn || Date.now() >= this.nextspawn) {\n                console.log(`[Spawner] Spawning new ${this.requires} at (${this.position.x}, ${this.position.y}).`);\n                // 🛑 ENSURE THE SPAWNER AND NPC HAVE SEPARATE POSITION OBJECTS 🛑\n                const npcPosition = { x: this.position.x, y: this.position.y }; // NEW OBJECT, NOT A REFERENCE\n\n                await NPCsInGridManager.spawnNPC(gridId, { type: this.requires }, npcPosition);\n\n                this.nextspawn = Date.now() + this.speed * 1000;\n                await NPCsInGridManager.saveGridStateNPCs(gridId);\n            } else {\n                console.log(`[Spawner] Waiting for next spawn cycle.`);\n            }\n\n            const pcsStillInRange = pcs.some(pc => calculateDistance(pc.position, this.position) < this.range);\n            if (!pcsStillInRange) {\n                console.log(`[Spawner] No PCs nearby. Returning to idle.`);\n                this.state = 'idle';\n                await NPCsInGridManager.saveGridStateNPCs(gridId);\n            }\n            break;\n        }\n\n        default:\n            console.warn(`Unhandled state for NPC ${this.id}: ${this.state}`);\n            break;\n    }\n\n    // 🔴 Detect movement\n    if (this.position.x !== oldPosition.x || this.position.y !== oldPosition.y) {\n        console.error(`[Spawner] ERROR: Spawner ${this.id} moved from (${oldPosition.x}, ${oldPosition.y}) to (${this.position.x}, ${this.position.y})!`);\n    }\n}\n\n// Attach behavior to the NPC class\nexport function attachSpawnBehavior(NPC) {\n    NPC.prototype.handleSpawnBehavior = handleSpawnBehavior;\n}\n\n","import socket from '../../socketManager'; \nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport { calculateDistance } from './NPCHelpers';\nimport { attachGrazingBehavior } from './NPCGrazing';\nimport { attachQuestBehavior } from './NPCQuestGiver';\nimport { attachEnemyBehavior } from './NPCEnemy';\nimport { attachHealBehavior } from './NPCHeal';\nimport { attachSpawnBehavior } from './NPCSpawner';\n \nclass NPC {\n  constructor(id, type, position, properties, gridId) {\n    console.log('NPC constructor: properties:', properties);\n    console.log('NPC constructor: gridId:', gridId);\n    console.log(`NPC constructor: ID=${id}, type=${type}, grazeEnd=`, properties.grazeEnd);\n\n    if (!properties || typeof properties !== 'object') {\n      console.error(`Invalid properties passed to NPC constructor for type ${type}:`, properties);\n      throw new Error('NPC constructor requires valid properties.');\n    }\n\n    this.updateInterval = properties.updateInterval || 1000; // Default to 1 second updates\n    this.id = id;\n    this.type = type;\n    this.position = {\n      x: Math.floor(position.x),\n      y: Math.floor(position.y),\n    };\n    this.symbol = properties.symbol;\n    this.hp = properties.hp || 0; // Use hp as hunger\n    this.output = properties.output;\n    this.maxhp = properties.hp || 0;\n    this.range = properties.range;\n    this.action = properties.action; // High-level behavioral category (e.g., \"graze\")\n    this.state = 'idle'; // Default state\n    this.speed = properties.speed; // Keep speed for combat stats, but do not use for movement animation\n    this.growTime = properties.growtime || 0; // Time to fully graze\n    this.processingStartTime = undefined;\n    this.nextspawn = properties.nextspawn ?? (this.action === 'spawn' ? Date.now() + 5000 : null);\n    this.grazeEnd = properties.grazeEnd || null; // this is preserved from NPCsInGrid\n    this.lastUpdated = Date.now(); // Initialize lastUpdated\n    this.gridId = properties.gridId || gridId; // Use the passed gridId or default to the one in properties\n    // Assign additional properties\n    Object.assign(this, properties);\n    console.log(`✅ NPC ${this.id} constructed at position (${this.position.x}, ${this.position.y}) with state: ${this.state}`);\n  }\n\n\n/////////////////\n// NPC CORE   ///\n/////////////////\n\nupdate(currentTime, NPCsInGrid, gridId, TILE_SIZE) {\n\n  //console.log(`⏰ update() for NPC ${this.id} | currentTime: ${currentTime} | lastUpdated: ${this.lastUpdated} | elapsed: ${currentTime - this.lastUpdated}`);\n  const timeElapsed = currentTime - this.lastUpdated;\n  if (timeElapsed < this.updateInterval) { return; }\n  \n  this.processState(NPCsInGrid, gridId, TILE_SIZE);\n  this.lastUpdated = currentTime;\n}\n\nasync processState(NPCsInGrid, gridId, TILE_SIZE) {\n  \n  //console.log(`🧪 processState | NPC ${this.id} | state=${this.state} | action=${this.action} | gridId=${gridId}`);\n  try {\n\n    switch (this.action) {\n\n      case 'graze':\n        await this.handleFarmAnimalBehavior(gridId);\n        break;\n    \n      case 'pester':\n        // Future implementation for Pests\n        // console.log('Pester behavior not implemented yet.');\n        break;\n    \n      case 'quest':\n        await this.handleQuestGiverBehavior(gridId);\n        break;\n    \n      case 'attack':\n        await this.handleEnemyBehavior(gridId, TILE_SIZE);\n        break;\n    \n      case 'heal':\n        await this.handleHealBehavior(gridId);\n        break;\n    \n      case 'spawn':\n        await this.handleSpawnBehavior(gridId);\n        break;\n\n      case 'steal':\n        // Future implementation for Bandits\n        console.log('Steal behavior not implemented yet.');\n        break;\n    \n      case 'work':\n        // Future implementation for Farm Hands\n        console.log('Work behavior not implemented yet.');\n        break;\n    \n      default:\n        console.warn(`Unhandled NPC action: ${this.action}`);\n        break;\n    }\n    } catch (error) {\n      console.error(`Error in NPC ${this.id} processState:`, error);\n    }\n}\n\n\n//////////////////////////////\n// NPC -- SHARED BEHAVIORS //\n/////////////////////////////\n\nasync handleIdleState(tiles, resources, npcs, idleDuration, onTransition = () => {}) {\n  if (!this.idleTimer) this.idleTimer = 0;\n  this.idleTimer++;\n\n  if (this.idleTimer >= idleDuration) {\n    this.idleTimer = 0;\n\n    const directions = ['N', 'S', 'E', 'W', 'NE', 'SE', 'SW', 'NW'];\n    const validDirections = directions.filter((dir) => {\n      const { x, y } = this.getAdjacentTile(dir);\n      return this.isValidTile(x, y, tiles, resources, npcs);\n    });\n\n    if (validDirections.length > 0) {\n      const randomDirection = validDirections[Math.floor(Math.random() * validDirections.length)];\n      const moved = await this.moveOneTile(randomDirection, tiles, resources, npcs);\n      if (moved) console.log(`🚶 NPC ${this.id} moved in idle to (${this.position.x}, ${this.position.y})`);\n    }\n    onTransition(); // callback to re-evaluate state\n    return true; // idle completed\n  }\n  //console.log(`🐮 NPC ${this.id} is idling. Timer: ${this.idleTimer}/${idleDuration}`);\n  return false; // still idling\n}\n\n\nasync handleRoamState(tiles, resources, npcs, onTransition = () => {}) {  // Initialize roam step counter and range\n  this.roamSteps = this.roamSteps || 0;\n  const range = this.range || 4; // Default roam range\n\n  // If no initial direction is set, choose one at random\n  if (!this.currentDirection) {\n    const directions = ['N', 'S', 'E', 'W', 'NE', 'SE', 'SW', 'NW'];\n    this.currentDirection = directions[Math.floor(Math.random() * directions.length)];\n    //console.log(`NPC ${this.id} selected initial roam direction: ${this.currentDirection}`);\n  }\n  // Define preferred directions based on the initial direction\n  const preferredDirectionsMap = {\n    N: ['N', 'NE', 'NW'],\n    S: ['S', 'SE', 'SW'],\n    E: ['E', 'NE', 'SE'],\n    W: ['W', 'NW', 'SW'],\n    NE: ['NE', 'N', 'E'],\n    SE: ['SE', 'S', 'E'],\n    SW: ['SW', 'S', 'W'],\n    NW: ['NW', 'N', 'W'],\n  };\n\n  const preferredDirections = preferredDirectionsMap[this.currentDirection] || [this.currentDirection];\n  const validDirections = preferredDirections.filter((direction) => {\n    const { x, y } = this.getAdjacentTile(direction);\n    return this.isValidTile(x, y, tiles, resources, npcs);\n  })\n  if (validDirections.length > 0) {\n    const direction = validDirections[Math.floor(Math.random() * validDirections.length)];\n    await this.moveOneTile(direction, tiles, resources, npcs);\n    this.roamSteps++;\n  } else {\n    this.currentDirection = null;\n    console.warn(`🐄 NPC ${this.id} found no valid roam directions this step.`);\n  }\n\n  // Check if the NPC has completed the roam range\n  if (this.roamSteps >= range || validDirections.length === 0) {\n    //console.log(`NPC ${this.id} completed ${range} roam steps. Transitioning to the next state.`);\n    this.roamSteps = 0; // Reset roam steps\n    this.currentDirection = null; // Reset direction for the next roam\n    onTransition();\n  }\n}\n\nasync handlePursueState(playerPosition, tiles, resources, npcs, pcs, onAttackTransition) {\n\n  const dx = playerPosition.x - this.position.x;\n  const dy = playerPosition.y - this.position.y;\n\n  let direction = null;\n  if (Math.abs(dx) > Math.abs(dy)) {\n    direction = dx > 0 ? 'E' : 'W';\n  } else if (dy !== 0) {\n    direction = dy > 0 ? 'S' : 'N';\n  }\n  // Add diagonal movement if applicable\n  if (Math.abs(dx) === Math.abs(dy)) {\n    if (dx > 0 && dy > 0) direction = 'SE';\n    else if (dx > 0 && dy < 0) direction = 'NE';\n    else if (dx < 0 && dy > 0) direction = 'SW';\n    else if (dx < 0 && dy < 0) direction = 'NW';\n  } \n  \n  if (!direction) return;\n\n  const moved = await this.moveOneTile(direction, tiles, resources, npcs);\n  if (!moved) {\n    console.warn(`🚫 NPC ${this.id} couldn't move toward target. Stuck? Returning to idle.`);\n    this.state = 'idle';\n    this.pursueTimerStart = null;\n    this.targetPC = null;\n    return;\n  }\n\n  const distanceToPlayer = calculateDistance(this.position, playerPosition);\n  console.log(`🎯 NPC ${this.id} distance to player: ${distanceToPlayer} | range: ${this.attackrange}`);\n  if (distanceToPlayer <= this.attackrange) {\n    this.state = 'attack';\n    await onAttackTransition();\n  }\n}\n\n/////////////////\n// NPC UTILITY //\n/////////////////\n\nasync moveOneTile(direction, tiles, resources, npcs) {\n\n  if (this.action === 'spawn') {\n    console.warn(`Spawner ${this.id} cannot move!`);\n    return false; // ✅ Prevents spawners from moving at all\n  }\n  const directions = {\n      N: { x: 0, y: -1 },\n      S: { x: 0, y: 1 },\n      E: { x: 1, y: 0 },\n      W: { x: -1, y: 0 },\n      NE: { x: 1, y: -1 },\n      SE: { x: 1, y: 1 },\n      SW: { x: -1, y: 1 },\n      NW: { x: -1, y: -1 },\n  };\n\n  const delta = directions[direction];\n  if (!delta) {\n      console.error(`Invalid direction: ${direction}`);\n      return false;\n  }\n  const targetX = Math.floor(this.position.x + delta.x);\n  const targetY = Math.floor(this.position.y + delta.y);\n\n  // Validate the tile before moving\n  if (!this.isValidTile(targetX, targetY, tiles, resources, npcs)) {\n      console.warn(`NPC ${this.id} cannot move to invalid tile (${targetX}, ${targetY}).`);\n      return false;\n  }\n  //console.log('Tile was valid.');\n  const moveDuration = 1200; // Standard movement speed for all NPCs\n  const startTime = performance.now(); // Get the start time\n  const startX = this.position.x;\n  const startY = this.position.y;\n\n  return new Promise((resolve) => {\n      const step = () => {\n          const currentTime = performance.now();\n          const elapsedTime = currentTime - startTime;\n          \n          if (elapsedTime >= moveDuration) {\n              // Snap to the final position and resolve\n              this.position.x = targetX;\n              this.position.y = targetY;\n              if (socket && socket.connected) {\n                socket.emit('npc-moved', {\n                  gridId: this.gridId,\n                  npcId: this.id,\n                  newPosition: { x: targetX, y: targetY },\n                });\n                //console.log(`📡 Emitting npc-moved for NPC ${this.id} to (${targetX}, ${targetY})`);\n              }\n              resolve(true);\n              return;\n          }\n\n          // Calculate the fractional progress\n          const progress = elapsedTime / moveDuration;\n          this.position.x = startX + progress * (targetX - startX);\n          this.position.y = startY + progress * (targetY - startY);\n\n          // Request the next frame\n          requestAnimationFrame(step);\n      };\n\n      requestAnimationFrame(step);\n  });\n}\n\ngetAdjacentTile(direction) {\n  const directions = {\n      N: { x: 0, y: -1 },\n      S: { x: 0, y: 1 },\n      E: { x: 1, y: 0 },\n      W: { x: -1, y: 0 },\n      NE: { x: 1, y: -1 },\n      SE: { x: 1, y: 1 },\n      SW: { x: -1, y: 1 },\n      NW: { x: -1, y: -1 },\n  };\n\n  const delta = directions[direction];\n  if (!delta) {\n      console.error(`Invalid direction: ${direction}`);\n      return { x: this.position.x, y: this.position.y };\n  }\n\n  //console.log('getAdjacentTile: x = ',this.position.x + delta.x,' y = ',this.position.y + delta.y);\n  return {\n      x: this.position.x + delta.x,\n      y: this.position.y + delta.y,\n  };\n}\n\nisValidTile(x, y, tiles, resources, npcs) {\n\n    // Round x and y to ensure valid integer indices\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n  // Check if tiles data is valid\n  if (!tiles || !Array.isArray(tiles)) {\n    //console.error('isValidTile; Tiles data is invalid.');\n    return false;\n  }\n  if (!resources || !Array.isArray(resources)) {\n    //console.error('isValidTile; Resources data is invalid or missing.');\n    return false;\n}\n  // Check if tile is out of bounds\n  if (x < 0 || y < 0 || y >= tiles.length || x >= tiles[0].length) {\n    //console.error(`Tile (${x}, ${y}) is out of bounds.`);\n    return false;\n  } else {\n    //console.log(`Tile (${x}, ${y}) is in bounds.`);\n  }\n\n    // **Step 1: Check if NPC is allowed to step on this tile type**\n    const tileType = tiles[y][x]; // Get the tile type at x, y\n    //console.log(`Checking tileType: ${tileType} for NPC ${this.id}`);\n  \n    const canWalkOnTile =\n      (tileType === 'g' && this.validong) || \n      (tileType === 'p' && this.validonp) || \n      (tileType === 'w' && this.validonw) || \n      (tileType === 'd' && this.validond) || \n      (tileType === 'l' && this.validonl) || \n      (tileType === 's' && this.validons);\n  \n    if (!canWalkOnTile) {\n    //   console.warn(`NPC ${this.id} cannot step on tile type \"${tileType}\".`);\n      return false;\n    }\n  \n    // **Step 2: Check if there's an impassable resource in this tile**\n    const resourceInTile = resources.find((res) => res.x === x && res.y === y);\n    if (resourceInTile) {\n  \n      if (!resourceInTile.passable) {\n        //console.warn(`Tile (${x}, ${y}) is occupied by an impassable resource.`);\n        return false;\n      }\n    }\n  \n  // Ensure npcs is an array before calling .some()\n  if (!Array.isArray(npcs)) {\n    console.warn(`NPC list is invalid or undefined. Skipping NPC collision check.`);\n    return true;\n  }\n\n  // Check if another NPC is occupying the tile\n  const npcInTile = npcs.some(npc => Math.floor(npc.position.x) === x && Math.floor(npc.position.y) === y);\n  if (npcInTile) {\n    console.warn(`Tile (${x}, ${y}) is already occupied by another NPC.`);\n    return false;\n  }\n\n  //console.log(`Tile (${x}, ${y}) is valid for movement.`);\n  return true;\n}\n\n\n\nasync findTileInRange(tileType, tiles, resources) {\n  const range = Math.floor(this.range || 3); // Ensure integer range\n  const startX = Math.floor(this.position.x);\n  const startY = Math.floor(this.position.y);\n\n  if (!tiles || tiles.length === 0 || !Array.isArray(tiles)) {\n    // console.error('Tiles array is invalid or empty.');\n    return [];\n  }\n\n  const potentialTiles = [];\n  for (let dx = -range; dx <= range; dx++) {\n    for (let dy = -range; dy <= range; dy++) {\n      const x = startX + dx;\n      const y = startY + dy;\n\n      if (x < 0 || y < 0 || y >= tiles.length || x >= tiles[y]?.length) continue;\n\n      if (tiles[y][x] === tileType) {\n        potentialTiles.push({ x, y });\n      }\n    }\n  }\n\n  console.log(`Found ${potentialTiles.length} potential tiles for type \"${tileType}\".`);\n  return potentialTiles;\n}\n\n\nfindNearestResource(targetResource, tiles, resources) {\n  //console.log(`Finding nearest ${targetResource} for NPC ${this.id}.`);\n\n  if (!resources || !Array.isArray(resources) || resources.length === 0) {\n    //console.error(`Resources are invalid or empty for NPC ${this.id}.`);\n    return null;\n  }\n  const npcPosition = {\n    x: Math.floor(this.position.x),\n    y: Math.floor(this.position.y),\n  };\n  const availableResources = resources.filter((res) => {\n    return res.category === targetResource && typeof res.x === 'number' && typeof res.y === 'number';\n  });\n  if (availableResources.length === 0) {\n    //console.warn(`No available ${targetResource} found for NPC ${this.id}.`);\n    return null;\n  }\n  availableResources.sort((a, b) => {\n    const aPos = { x: Math.floor(a.x), y: Math.floor(a.y) };\n    const bPos = { x: Math.floor(b.x), y: Math.floor(b.y) };\n    return calculateDistance(npcPosition, aPos) - calculateDistance(npcPosition, bPos);\n  });\n  const closestResource = availableResources[0];\n  //console.log(`NPC ${this.id} selected nearest ${targetResource}:`, closestResource);\n  return closestResource;\n}\n\n\n}\n\n// Attach behaviors to the NPC prototype\nattachGrazingBehavior(NPC);\nattachQuestBehavior(NPC);\nattachEnemyBehavior(NPC);\nattachHealBehavior(NPC);\nattachSpawnBehavior(NPC);\n\nexport default NPC;","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import NPC from './GameFeatures/NPCs/NPCs';\nimport FloatingTextManager from './UI/FloatingText';\nimport NPCsInGridManager from './GridState/GridStateNPCs';\nimport playersInGridManager from './GridState/PlayersInGrid';\nimport { io } from 'socket.io-client';\nimport { animateRemotePC } from './Render/RenderAnimatePosition';\nimport { createCollectEffect } from './VFX/VFX';\n\nconst socket = io('https://vvgame-server.onrender.com', {\n  transports: ['websocket'],\n  autoConnect: false, // Don't connect until explicitly told to\n});\n\nexport function socketListenForPCJoinAndLeave(gridId, currentPlayer, isMasterResourcesReady, setPlayersInGrid) {\n\n  console.log(\"🌐 useEffect for PC join & leave running. gridId:\", gridId, \"socket:\", !!socket);\n  console.log(\"  🌐 isMasterResourcesReady = \", isMasterResourcesReady);\n\n  if (!gridId || !currentPlayer || !isMasterResourcesReady) return;\n\nconst handlePlayerJoinedGrid = ({ playerId, username, playerData, emitterId }) => {\n  if (emitterId === socket.id) {\n    console.log('😀 Ignoring player-joined event from self.');\n    return; // Ignore updates emitted by this client\n  }\n  console.log(`👋 Player ${username} joined grid with data:`, playerData);\n  setPlayersInGrid(prevState => {\n    const existing = prevState[gridId]?.pcs?.[playerId];\n    const incomingTime = new Date(playerData?.lastUpdated).getTime() || 0;\n    const localTime = new Date(existing?.lastUpdated).getTime() || 0;\n\n    if (!existing || incomingTime > localTime) {\n      console.log(`⏩ Inserting or updating PC ${playerId} from player-joined-sync.`);\n\n      // ✅ Update memory manager too\n      if (playersInGridManager.addPC) {\n        playersInGridManager.addPC(gridId, playerId, playerData);\n      } else {\n        console.warn('🛑 playersInGridManager.addPC is not defined.');\n      }\n\n      return {\n        ...prevState,\n        [gridId]: {\n          ...prevState[gridId],\n          pcs: {\n            ...(prevState[gridId]?.pcs || {}),\n            [playerId]: playerData,\n          },\n        },\n      };\n    }\n\n    console.log(`⏳ Skipping player-joined-sync for ${playerId}; local is newer.`);\n    return prevState;\n  });\n};\n\n  const handlePlayerLeftGrid = ({ playerId, username, emitterId }) => {\n    if (emitterId === socket.id) {\n      console.log('😀 Ignoring player-left event from self.');\n      return; // Ignore updates emitted by this client\n    }\n    console.log(`👋 Player ${username} left grid`);\n    // ✅ Remove from memory manager\n    if (playersInGridManager.removePC) {\n      playersInGridManager.removePC(gridId, playerId);\n    } else {\n      console.warn('🛑 playersInGridManager.removePC is not defined.');\n    }\n\n    setPlayersInGrid(prevState => {\n      if (!prevState[gridId]?.pcs) return prevState;\n      const updatedGrid = { ...prevState[gridId]?.pcs };\n      delete updatedGrid[playerId];\n      return {\n        ...prevState,\n        [gridId]: {\n          ...prevState[gridId],\n          pcs: updatedGrid,\n        },\n      };\n    });\n  };\n\n  const handleCurrentGridPlayers = ({ gridId, pcs }) => {\n    //console.log(`📦 Received current PCs for grid ${gridId}:`, pcs);\n    setPlayersInGrid(prev => ({\n      ...prev,\n      [gridId]: {\n        ...prev[gridId],\n        pcs: {\n          ...(prev[gridId]?.pcs || {}),\n          ...pcs,\n        },\n      },\n    }));\n  };\n\n  console.log(\"🧲 [NPCsInGrid join/leave] Subscribing to PC and NPC join/leave sync events for grid:\", gridId);\n  socket.on('player-joined-sync', handlePlayerJoinedGrid);\n  socket.on('player-left-sync', handlePlayerLeftGrid);\n  socket.on('current-grid-players', handleCurrentGridPlayers);\n\n  return () => {\n    socket.off('player-joined-sync', handlePlayerJoinedGrid);\n    socket.off('player-left-sync', handlePlayerLeftGrid);\n    socket.off('current-grid-players', handleCurrentGridPlayers);\n  };\n\n};\n\n// 🔄 SOCKET LISTENER: PCs: Real-time updates for GridState (PC sync)\nexport function socketListenForPCstateChanges(TILE_SIZE, gridId, currentPlayer, setPlayersInGrid, localPlayerMoveTimestampRef) {\n\n  console.log(\"🌐🌐🌐🌐🌐🌐 useEffect for PC & NPC grid-state-sync running. gridId:\", gridId, \"socket:\", !!socket);\n\n  if (!gridId) return;\n\n  // Updated handlePCSync to fully overwrite local PC with incoming PC if newer\n  const handlePCSync = (payload) => {\n    //console.log(\"📥 Received sync-PCs payload:\", JSON.stringify(payload, null, 2));\n  \n    const { emitterId } = payload;\n    const mySocketId = socket.id;\n    if (emitterId === mySocketId) {\n      console.log(`📤 Skipping sync-PCs from self (emitterId = socket.id)`);\n      return;\n    }\n  \n    // Extract gridId and gridData (we only expect one grid per payload)\n    const gridEntries = Object.entries(payload).filter(([key]) => key !== 'emitterId');\n    if (gridEntries.length === 0) {\n      console.warn(\"❌ No grid data found in sync-PCs payload:\", payload);\n      return;\n    }\n  \n    const [gridId, gridData] = gridEntries[0];\n    const { pcs, playersInGridLastUpdated } = gridData || {};\n    if (!pcs || typeof pcs !== 'object') {\n      console.warn(\"📤 Invalid sync-PCs payload (missing pcs):\", payload);\n      return;\n    }\n  \n    const [playerId, incomingPC] = Object.entries(pcs)[0];\n    const incomingTime = new Date(incomingPC?.lastUpdated).getTime();\n  \n    setPlayersInGrid((prevState) => {\n      const localPC = prevState[gridId]?.pcs?.[playerId];\n      const localTime = new Date(localPC?.lastUpdated).getTime() || 0;\n\n      // --- Begin changed fields logging and floating text (like NPCs) ---\n      const changedFields = Object.keys(incomingPC).filter(key => {\n        if (key === 'lastUpdated') return false;\n        return JSON.stringify(incomingPC[key]) !== JSON.stringify(localPC?.[key]);\n      });\n\n      if (changedFields.length > 0) {\n        console.log(`🔄 PC ${playerId} changed fields: ${changedFields.join(', ')}`);\n        // Show floating damage text if HP was reduced\n        if (changedFields.includes('hp') && localPC?.hp && incomingPC?.hp < localPC.hp) {\n          const damageTaken = localPC.hp - incomingPC.hp;\n          FloatingTextManager.addFloatingText(`- ${damageTaken} ❤️‍🩹 HP`, incomingPC.position.x, incomingPC.position.y, TILE_SIZE);\n        }\n      }\n      // --- End changed fields logging and floating text ---\n\n      if (currentPlayer && playerId === String(currentPlayer._id)) {\n        if (localPlayerMoveTimestampRef.current > incomingTime) {\n          console.log(`⏳ Skipping local PC (${playerId}) update; local movement is newer.`);\n          return prevState;\n        }\n      }\n\n      if (incomingTime <= localTime) {\n        console.log(`⏳ Skipping stale update for PC ${playerId}.`);\n        return prevState;\n      }\n\n      console.log(`⏩ Updating PC ${playerId} from socket event.`);\n      playersInGridManager.updatePC(gridId, playerId, incomingPC);\n\n      const prevPosition = localPC?.position;\n      const newPosition = incomingPC?.position;\n      if (\n        prevPosition &&\n        newPosition &&\n        (prevPosition.x !== newPosition.x || prevPosition.y !== newPosition.y)\n      ) {\n        animateRemotePC(playerId, prevPosition, newPosition, TILE_SIZE);\n      }\n\n      const prevGridState = prevState[gridId] || {};\n      const prevPCs = prevGridState.pcs || {};\n\n      const setPayload = {\n        ...prevState,\n        [gridId]: {\n          ...prevGridState,\n          pcs: {\n            ...prevPCs,\n            [playerId]: incomingPC,\n          },\n          playersInGridLastUpdated: playersInGridLastUpdated || prevGridState.playersInGridLastUpdated,\n        },\n      };\n\n      // console.log(\"🧠 Pre-state before merge:\", JSON.stringify(prevState, null, 2));\n      // console.log(\"📥 Incoming update for:\", playerId, \"with data:\", incomingPC);\n      // console.log(\"📦 setPlayersInGrid payload:\", JSON.stringify(setPayload, null, 2));\n\n      return setPayload;\n    });\n  };\n\n  console.log(\"🧲 Subscribing to PC sync events for grid:\", gridId);\n  socket.on(\"sync-PCs\", handlePCSync);\n\n  return () => {\n    console.log(\"🧹 Unsubscribing from PC sync events for grid:\", gridId);\n    socket.off(\"sync-PCs\", handlePCSync);\n  };\n};\n\n\n// 🔄 SOCKET LISTENER: NPCs:  Real-time updates for GridStateNPC snc\nexport function socketListenForNPCStateChanges(TILE_SIZE, gridId, setGridState, npcController) {\n  //console.log(\"🌐 useEffect for NPC grid-state-sync running. gridId:\", gridId, \"socket:\", !!socket);\n  if (!gridId) return;\n\n  const handleNPCSync = (payload) => {\n    //console.log('📥 Received sync-NPCs payload:');\n  \n    const { emitterId } = payload;\n    const mySocketId = socket.id;\n    if (emitterId === mySocketId) {\n      console.log(`📤 Skipping sync-NPCs from self (emitterId = socket.id)`);\n      return;\n    }\n  \n    // Extract gridId and gridData (we only expect one grid per payload)\n    const gridEntries = Object.entries(payload).filter(([key]) => key !== 'emitterId');\n    if (gridEntries.length === 0) {\n      console.warn(\"❌ No grid data found in sync-NPCs payload:\", payload);\n      return;\n    }\n  \n    const [gridId, gridData] = gridEntries[0];\n    const { npcs, NPCsInGridLastUpdated } = gridData || {};\n    if (!npcs || typeof npcs !== 'object') {\n      console.warn(\"📤 Invalid sync-NPCs payload (missing npcs):\", payload);\n      return;\n    }\n  \n    const isController = npcController.isControllingGrid(gridId);\n    console.log('IsNPCController:', isController);\n  \n    setGridState(prevState => {\n      const updatedNPCs = { ...prevState.npcs };\n      const liveGrid = NPCsInGridManager.NPCsInGrid?.[gridId];\n  \n      Object.entries(npcs).forEach(([npcId, incomingNPC]) => {\n        if (!incomingNPC) {\n          //console.log(`  🧹 Received null NPC ${npcId}; removing from local state.`);\n          delete updatedNPCs[npcId];\n          if (liveGrid?.npcs) {\n            delete liveGrid.npcs[npcId];\n            //console.log(`🧠 Removed NPC ${npcId} from live NPCsInGrid`);\n          } else {\n            console.warn(`⚠️ liveGrid.npcs missing for gridId ${gridId}`);\n          }\n          return;\n        }\n\n        const localNPC = updatedNPCs[npcId];\n        const incomingTime = new Date(incomingNPC.lastUpdated).getTime();\n        const localTime = localNPC?.lastUpdated ? new Date(localNPC.lastUpdated).getTime() : 0;\n\n        if (incomingTime > localTime) {\n          // Broadly log which attributes changed\n          const changedFields = Object.keys(incomingNPC).filter(key => {\n            if (key === 'lastUpdated') return false;\n            return JSON.stringify(incomingNPC[key]) !== JSON.stringify(localNPC?.[key]);\n          });\n          if (changedFields.length > 0) {\n            console.log(`🔄 NPC ${npcId} changed fields: ${changedFields.join(', ')}`);\n            // Show floating damage text if HP was reduced\n            if (changedFields.includes('hp') && localNPC?.hp && incomingNPC?.hp < localNPC.hp) {\n              const damageTaken = localNPC.hp - incomingNPC.hp;\n              FloatingTextManager.addFloatingText(`- ${damageTaken} ❤️‍🩹 HP`, incomingNPC.position.x, incomingNPC.position.y, TILE_SIZE);\n            }\n          }\n\n          //console.log(`  🐮📡 Updating NPC ${npcId} from emitter ${emitterId}: ${incomingNPC.state}`);\n\n          const rehydrated = new NPC(\n            incomingNPC.id,\n            incomingNPC.type,\n            incomingNPC.position,\n            incomingNPC,\n            incomingNPC.gridId || gridId\n          );\n\n          updatedNPCs[npcId] = rehydrated;\n\n          if (liveGrid?.npcs) {\n            liveGrid.npcs[npcId] = rehydrated;\n            //console.log(`🧠 Rehydrated NPC ${npcId} into live NPCsInGrid`);\n          } else {\n            console.warn(`⚠️ liveGrid.npcs missing for gridId ${gridId}`);\n          }\n        } else {\n          console.log(`  ⏳ Skipped NPC ${npcId}, newer or same version already present.`);\n        }\n      });\n  \n      return {\n        ...prevState,\n        npcs: updatedNPCs,\n      };\n    });\n  };\n\n  // Add handler for npc-moved-sync\n  const handleNPCMoveSync = ({ npcId, newPosition, emitterId }) => {\n    //console.log('📡 handleNPCMoveSync invoked.');\n    //console.log('📥 Received npc-moved-sync event:', { npcId, newPosition, emitterId });\n\n    if (!npcId || !newPosition) return;\n\n    setGridState(prevState => {\n      const updatedNPCs = { ...prevState.npcs };\n      const existing = updatedNPCs[npcId];\n      //console.log('📦 SETTING GridState for existing:', existing);\n      if (existing) {\n        // Cache previous position BEFORE rehydration\n        const prevPosition = existing?.position;\n        // ✅ Rehydrate if needed\n        const rehydrated = existing instanceof NPC\n          ? existing\n          : new NPC(\n              existing.id,\n              existing.type,\n              existing.position,\n              existing,\n              existing.gridId || gridId\n            );\n        //console.log('📦 Rehydrated NPC:', rehydrated);\n        // Animate movement if position changed\n        if (\n          prevPosition &&\n          newPosition &&\n          (prevPosition.x !== newPosition.x || prevPosition.y !== newPosition.y)\n        ) {\n          console.log('Calling animateRemotePC', npcId, prevPosition, newPosition);\n          animateRemotePC(npcId, prevPosition, newPosition, TILE_SIZE); // Assume TILE_SIZE = 64\n        }\n        // Assign new position AFTER animation call\n        rehydrated.position = newPosition;\n        updatedNPCs[npcId] = rehydrated;\n        // ✅ Also patch live memory state for controller\n        if (rehydrated instanceof NPC) {\n          NPCsInGridManager.NPCsInGrid[gridId].npcs[npcId] = rehydrated;\n        } else {\n          console.warn(`🛑 Tried to inject non-NPC instance into live NPCsInGrid for ${npcId}`);\n        }\n      }\n      return {\n        ...prevState,\n        npcs: updatedNPCs,\n      };\n    });\n  };\n\n    // Add handler for npc-removal-sync\n  const handleNPCRemoval = ({ gridId, npcId }) => {\n    //console.log(`🧹 Received remove-NPC for ${npcId} in grid ${gridId}`);\n    setGridState(prevState => {\n      const updatedNPCs = { ...prevState.npcs };\n      delete updatedNPCs[npcId];\n      const liveGrid = NPCsInGridManager.NPCsInGrid?.[gridId];\n      if (liveGrid?.npcs) {\n        delete liveGrid.npcs[npcId];\n        console.log(`🧠 Removed NPC ${npcId} from live NPCsInGrid (remove-NPC event)`);\n      }\n      return {\n        ...prevState,\n        npcs: updatedNPCs,\n      };\n    });\n  };\n\n  //console.log(\"🧲 Subscribing to NPC sync events for grid:\", gridId);\n  socket.on(\"sync-NPCs\", handleNPCSync);\n  socket.on(\"npc-moved-sync\", handleNPCMoveSync); // main handler\n  socket.on(\"remove-NPC\", handleNPCRemoval);\n\n  return () => {\n    //console.log(\"🧹 Unsubscribing from NPC sync events for grid:\", gridId);\n    socket.off(\"sync-NPCs\", handleNPCSync);\n    socket.off(\"npc-moved-sync\", handleNPCMoveSync);\n    socket.off(\"remove-NPC\", handleNPCRemoval);\n  };\n}\n\n\n// 🔄 SOCKET LISTENER: Real-time updates for resources\nexport function socketListenForResourceChanges(TILE_SIZE, gridId, isMasterResourcesReady, setResources, masterResources, enrichResourceFromMaster) {\n\n  //console.log(\"🌐 useEffect for resource-sync running. gridId:\", gridId, \"socket:\", !!socket);\n  \n  // Wait until masterResources is ready\n  if (!gridId || !socket || !isMasterResourcesReady) {\n    console.warn('Master Resources not ready or missing gridId/socket.');\n    return; // 🛑 Don't process until ready\n  }\n  const handleResourceSync = ({ updatedResources }) => {\n    //console.log(\"🌐 Real-time tile/resource update received!\", updatedResources);\n\n    if (updatedResources?.length) {\n      setResources((prevResources) => {\n        if (!masterResources?.length) {\n          console.warn(`⏳ Skipping resource enrichment; masterResources not yet ready`);\n          return prevResources; // Do nothing until master data is populated\n        }\n        const updated = [...prevResources];\n        updatedResources.forEach((newRes) => {\n          if (!newRes || typeof newRes.x !== 'number' || typeof newRes.y !== 'number') {\n            console.warn(\"⚠️ Skipping invalid socket resource:\", newRes);\n            return;\n          }\n\n          // ✅ HANDLE RESOURCE REMOVAL\n          if (newRes.type === null) {\n            //console.log(`🧹 Removing resource at (${newRes.x}, ${newRes.y})`);\n            const indexToRemove = updated.findIndex(\n              (res) => res.x === newRes.x && res.y === newRes.y\n            );\n            //console.log('TILE_SIZE:', TILE_SIZE);\n            createCollectEffect(newRes.x, newRes.y, TILE_SIZE);\n\n            if (indexToRemove !== -1) {\n              updated.splice(indexToRemove, 1);\n            }\n            return; // Skip enrichment\n          }\n  \n          // ✅ NORMAL ENRICHMENT PATH\n          const resourceTemplate = masterResources.find(r => r.type === newRes.type);\n          if (!resourceTemplate) {\n            console.warn(`⚠️ No matching resource template found for ${newRes.type}`);\n          }\n          const enriched = enrichResourceFromMaster(newRes, masterResources);\n          //console.log('🌐🌐 LISTENER: enriched resource = ', enriched);\n          const filtered = updated.filter(r => !(r.x === newRes.x && r.y === newRes.y));\n          filtered.push(enriched);\n          updated.splice(0, updated.length, ...filtered);\n        });\n\n        return updated;\n      });\n    }\n  };\n\n  console.log(\"🧲 [resources] Subscribing to real-time updates for grid:\", gridId);\n  socket.on(\"resource-sync\", handleResourceSync);\n\n  return () => {\n    socket.off(\"resource-sync\", handleResourceSync);\n  };\n};\n\n// 🔄 SOCKET LISTENER: Real-time updates for tiles\nexport function socketListenForTileChanges(gridId, setTileTypes, mergeTiles) {\n\n  //console.log(\"🌐 useEffect for tile-sync running. gridId:\", gridId, \"socket:\", !!socket);\n\n  if (!gridId || !socket) {\n    console.warn('Missing gridId or socket.');\n    return;\n  }\n\n  const handleTileSync = ({ updatedTiles }) => {\n    //console.log(\"🌐 Real-time tile update received!\", updatedTiles);\n\n    updatedTiles.forEach(tile => {\n      //console.log(\"📦 Tile type in update:\", tile.type); // Add this\n    });\n\n    if (updatedTiles?.length) {\n      setTileTypes((prev) => {\n        const merged = mergeTiles(prev, updatedTiles); // Merge updated tiles into the current state\n        return merged;\n      });\n    }\n  };\n\n  console.log(\"🧲 [tiles] Subscribing to real-time tile updates for grid:\", gridId);\n  socket.on(\"tile-sync\", handleTileSync);\n\n  return () => {\n    console.log(\"🧹 Unsubscribing from tile-sync for grid:\", gridId);\n    socket.off(\"tile-sync\", handleTileSync);\n  };\n};\n\n// Add socket event listeners for NPC controller status\nexport function socketListenForNPCControllerStatus(gridId, currentPlayer, setControllerUsername) {\n\n  console.log(\"🌐 useEffect for npc-controller running. gridId:\", gridId, \"socket:\", !!socket);\n\n  if (!socket || !currentPlayer) return;\n\n  // Send username to server when joining grid\n  if (gridId) {\n    socket.emit('set-username', { username: currentPlayer.username });\n  }\n\n  socket.on('npc-controller-update', ({ controllerUsername }) => {\n    setControllerUsername(controllerUsername);\n  });\n\n  socket.on('npc-controller-assigned', ({ gridId: controlledGridId }) => {\n    console.log(`🎮 Assigned as NPC controller for grid ${controlledGridId}`);\n  });\n\n  socket.on('npc-controller-revoked', ({ gridId: revokedGridId }) => {\n    console.log(`🎮 Revoked as NPC controller for grid ${revokedGridId}`);\n  });\n\n  return () => {\n    socket.off('npc-controller-update');\n    socket.off('npc-controller-assigned');\n    socket.off('npc-controller-revoked');\n  };\n\n};\n\n\n// 🔄 SOCKET LISTENER: Force refresh on season reset\nexport function socketListenForSeasonReset() {\n\n  if (!socket) return;\n\n  socket.on(\"force-refresh\", ({ reason }) => {\n    console.warn(`🔁 Server requested refresh: ${reason}`);\n    window.location.reload();\n  });\n\n  return () => {\n    socket.off(\"force-refresh\");\n  };\n};\n\n// 🔄 SOCKET LISTENER: Player Connect and Disconnect\nexport function socketListenForConnectAndDisconnect(gridId, currentPlayer, setIsSocketConnected) {\n  const handleConnect = () => {\n    console.log('📡 Socket connected!');\n    setIsSocketConnected(true);\n    // Emit presence info\n    socket.emit('player-connected', { playerId: currentPlayer._id, gridId });\n  };\n\n  const handleDisconnect = () => {\n    console.warn('📴 Socket disconnected.');\n    setIsSocketConnected(false);\n    // Notify others of disconnect\n    socket.emit('player-disconnected', { playerId: currentPlayer._id, gridId });\n  };\n\n  socket.on('connect', handleConnect);\n  socket.on('disconnect', handleDisconnect);\n\n  return () => {\n    socket.off('connect', handleConnect);\n    socket.off('disconnect', handleDisconnect);\n  };\n};\n\n// 🔄 SOCKET LISTENER: Listen for announcement that a player is connected/disconnected (I THINK ??)\nexport function socketListenForPlayerConnectedAndDisconnected(gridId, setConnectedPlayers) {\n  if (!socket || !gridId) return;\n\n  console.log(\"🌐 useEffect for player-connected/disconnected running. gridId:\", gridId);\n\n  // 🔄 Request current connection state on init\n  console.log(\"🔄 Requesting connected players list on startup.\");\n  socket.emit('request-connected-players', { gridId });\n\n  const handlePlayerConnected = ({ playerId }) => {\n    console.log(`📡 Player connected: ${playerId}`);\n    setConnectedPlayers(prev => new Set(prev).add(playerId));\n  };\n\n  const handlePlayerDisconnected = ({ playerId }) => {\n    console.log(`📴 Player disconnected: ${playerId}`);\n    setConnectedPlayers(prev => {\n      const newSet = new Set(prev);\n      newSet.delete(playerId);\n      return newSet;\n    });\n  };\n\n  const handleCurrentConnectedPlayers = ({ connectedPlayerIds }) => {\n    console.log(\"📦 Received full list of currently connected players:\", connectedPlayerIds);\n    setConnectedPlayers(new Set(connectedPlayerIds));\n  };\n\n  socket.on('player-connected', handlePlayerConnected);\n  socket.on('player-disconnected', handlePlayerDisconnected);\n  // Listen for the correct event name as emitted by the server\n  socket.on('connected-players', handleCurrentConnectedPlayers);\n\n  return () => {\n    socket.off('player-connected', handlePlayerConnected);\n    socket.off('player-disconnected', handlePlayerDisconnected);\n    socket.off('connected-players', handleCurrentConnectedPlayers);\n  };\n}\n\n\nexport function socketListenForChatMessages(setMessagesByScope) {\n  if (!socket) return;\n\n  const handleIncomingChatMessage = (msg) => {\n    console.log(\"💬 Incoming chat message:\", msg);\n    const { scope, scopeId } = msg;\n    setMessagesByScope(prev => {\n      const prevMessages = prev[scopeId] || [];\n      return {\n        ...prev,\n        [scopeId]: [...prevMessages, msg],\n      };\n    });\n    // 🔔 Emit badge update for chat to all players in this scope\n    const badgePayload = {\n      playerId: null, // null means broadcast to all clients\n      username: null,\n      hasUpdate: true,\n    };\n    socket.emit('chat-badge-update', badgePayload);\n  };\n  socket.on('receive-chat-message', handleIncomingChatMessage);\n  return () => {\n    socket.off('receive-chat-message', handleIncomingChatMessage);\n  };\n}\n\nexport function emitChatMessage({ playerId, username, message, scope, scopeId }) {\n  if (!socket) return;\n  socket.emit('send-chat-message', {\n    playerId,\n    username,\n    message,\n    scope,\n    scopeId,\n    emitterId: socket.id // ✅ Add this\n  });\n}\n\n\n\n// 🔄 SOCKET LISTENER: Consolidated badge updates (mailbox, store, chat, etc)\nexport function socketListenForBadgeUpdates(currentPlayer, setBadgeState, updateBadge) {\n  console.log(\"📡 socketListenForBadgeUpdates called with player:\", currentPlayer?.username);\n\n  if (!socket || !currentPlayer) return;\n\n  const handleBadge = ({ type, playerId, username, hasUpdate }) => {\n    console.log(\"🧪 handleBadge invoked with:\", { type, playerId, username, hasUpdate });\n    console.log(\"🔔 SOCKET LISTENER: Received badge update:\", { type, playerId, username, hasUpdate });\n    console.log(\"📛 Comparing currentPlayer._id:\", currentPlayer._id, \"to incoming:\", playerId);\n    \n    const isMatch =\n      type === 'chat' ? true :\n      (playerId && String(currentPlayer._id) === String(playerId)) ||\n      (username && currentPlayer.username === username);\n\n    console.log(\"🔔 isMatch:\", isMatch, \"for currentPlayer:\", currentPlayer.username);\n    if (!isMatch) return;\n\n    console.log(`📛 Badge update received for ${type}.`);\n    updateBadge(currentPlayer, setBadgeState, type, hasUpdate);\n  };\n\n  socket.on('mailbox-badge-update', (data) => handleBadge({ ...data, type: 'mailbox' }));\n  socket.on('store-badge-update', (data) => handleBadge({ ...data, type: 'store' }));\n  socket.on('chat-badge-update', (data) => handleBadge({ ...data, type: 'chat' }));\n\n  return () => {\n    socket.off('mailbox-badge-update');\n    socket.off('store-badge-update');\n    socket.off('chat-badge-update');\n  };\n}\n\n// Utility to clear the chat badge for the current player\nexport function clearChatBadge(currentPlayer, setBadgeState, updateBadge) {\n  if (!currentPlayer) return;\n  updateBadge(currentPlayer, setBadgeState, 'chat', false);\n}\n\nexport default socket;\n","import axios from 'axios';\nimport API_BASE from '../config';\n\n// Utility: detect mobile browser\nexport function isMobile() {\n  return /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n}\n\n// Utility function: return boolean indicating developer status\nexport const checkDeveloperStatus = async (username) => {\n  try {\n    const response = await axios.get(`${API_BASE}/api/check-developer-status/${username}`);\n    return !!response.data?.isDeveloper;\n  } catch (err) {\n    console.warn('⚠️ Failed to check developer status:', err);\n    return false;\n  }\n};\n\n// Badge update helper\nexport function updateBadge(currentPlayer, setBadgeState, category, value = true) {\n  const key = `badges_${currentPlayer.username}`;\n  const current = JSON.parse(localStorage.getItem(key)) || {};\n  const updated = { ...current, [category]: value };\n  localStorage.setItem(key, JSON.stringify(updated));\n  setBadgeState(updated);\n}\n\n// Badge read helper\nexport function getBadgeState(currentPlayer) {\n  if (!currentPlayer?.username) {\n    console.warn(\"⚠️ getBadgeState called without valid currentPlayer\");\n    return {};\n  }\n  const key = `badges_${currentPlayer.username}`;\n  const stored = localStorage.getItem(key);\n  return stored ? JSON.parse(stored) : {};\n}","import React, { useState, useEffect, useRef } from 'react';\nimport socket from '../../socketManager';\nimport { emitChatMessage } from '../../socketManager';\nimport { updateBadge } from '../../Utils/appUtils';\nimport './Chat.css';\nimport API_BASE from '../../config';\n\nconst TABS = ['Grid', 'Settlement', 'Frontier'];\n\nconst Chat = ({ currentGridId, currentSettlementId, currentFrontierId, currentPlayer, onClose }) => {\n\n  const [activeTab, setActiveTab] = useState('Grid');\n  const [messages, setMessages] = useState({ Grid: [], Settlement: [], Frontier: [] });\n  const [inputText, setInputText] = useState('');\n  const endRef = useRef(null);\n  const playerId = currentPlayer?._id || 'unknown'; // Fallback if currentPlayer is not available\n\n  useEffect(() => {\n    console.log(\"🟨 Chat component mounted with props:\", currentGridId, currentSettlementId, currentFrontierId);\n\n    // ✅ Delay room join until component is mounted\n    if (socket && socket.connected) {\n      console.log(\"📡 Joining chat rooms from Chat.js\");\n      socket.emit('join-chat-rooms', {\n        gridId: currentGridId,\n        settlementId: currentSettlementId,\n        frontierId: currentFrontierId,\n      });\n    } else {\n      console.warn(\"⚠️ Socket not connected when Chat mounted.\");\n    }\n\n    // ✅ Clear chat badge on open\n    if (currentPlayer) {\n      updateBadge(currentPlayer, () => {}, 'chat', false ?? true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on('receive-chat-message', (msg) => {\n  \n      if (!msg.username && currentPlayer?.username) {\n          msg.username = currentPlayer.username;\n        }\n        console.log(\"📨 Received chat message via socket:\", msg); // 🔍\n        setMessages(prev => {\n          const key = msg.scope === 'grid' ? 'Grid' : msg.scope === 'settlement' ? 'Settlement' : 'Frontier';\n          return {\n            ...prev,\n            [key]: [...prev[key], msg],\n          };\n        });\n    });\n\n    return () => {\n        socket.off('receive-chat-message');\n    };\n    }, [socket]);\n\n\nuseEffect(() => {\n  const fetchMessages = async () => {\n    const scope = activeTab.toLowerCase();\n    const scopeId =\n      scope === 'grid' ? currentGridId :\n      scope === 'settlement' ? currentSettlementId :\n      currentFrontierId;\n\n    if (!scopeId) return;\n\n    try {\n      const res = await fetch(`${API_BASE}/api/chat/${scope}/${scopeId}`);\n      const data = await res.json();\n      setMessages(prev => ({\n        ...prev,\n        [activeTab]: data,\n      }));\n    } catch (err) {\n      console.error(\"Failed to fetch chat history:\", err);\n    }\n  };\n\n  fetchMessages();\n}, [activeTab, currentGridId, currentSettlementId, currentFrontierId]);\n\n\n  useEffect(() => {\n    endRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n\n  const handleSend = (e) => {\n    e.preventDefault();\n    const trimmed = inputText.trim();\n    if (!trimmed) return;\n\n    const scope = activeTab.toLowerCase();\n    const scopeId =\n      scope === 'grid' ? currentGridId :\n      scope === 'settlement' ? currentSettlementId :\n      currentFrontierId;\n\n    console.log(\"📨 Sending chat message:\", trimmed);\n\n    emitChatMessage({\n      playerId,\n      username: currentPlayer?.username || 'unknown',\n      message: trimmed, // ✅ use the captured value\n      scope,\n      scopeId,\n    });\n\n    setInputText(''); // ✅ clear input after emitting\n  };\n\n  const handleKeyPress = (e) => {\n    console.log(\"📨 Key pressed:\", e.key);\n    if (e.key === 'Enter') {\n      e.preventDefault(); // Prevents default Enter behavior in input\n      handleSend(e); // Pass the actual event to handleSend\n    }\n  };\n\nreturn (\n    <div className=\"chat-container\">\n\n    <div className=\"chat-panel-header\">\n      <h3>💬 Chat ({activeTab})</h3>\n      <button className=\"chat-close-button\" onClick={onClose}>✖</button>\n    </div>\n\n    <div className=\"chat-panel\">\n      \n        <div className=\"chat-tabs\">\n            {TABS.map(tab => (\n            <button\n                key={tab}\n                className={`chat-tab ${tab === activeTab ? 'active' : ''}`}\n                onClick={() => setActiveTab(tab)}\n            >\n                {tab}\n            </button>\n            ))}\n        </div>\n\n        <div className=\"chat-messages\">\n        {messages[activeTab].map((msg, i) => (\n            <div key={msg.id || i} className=\"chat-message\">\n              <strong>{msg.username || '???'}</strong>: {msg.message || '[empty]'}\n            </div>\n        ))}\n        <div ref={endRef} />\n        </div>\n\n        <div className=\"chat-input\">\n        <input\n            type=\"text\"\n            value={inputText}\n            onChange={e => setInputText(e.target.value)}\n            onKeyDown={handleKeyPress}\n            placeholder={`Message ${activeTab}...`}\n        />\n        <button type=\"button\" onClick={handleSend}>Send</button>\n        </div>\n\n    </div>\n    </div>\n  );\n};\n\nexport default Chat;","import React, { memo, useState, useEffect, useRef } from 'react';\nimport { startAmbientVFX, stopAmbientVFX } from '../VFX/AmbientVFX';\nimport GlobalGridStateTilesAndResources from '../GridState/GlobalGridStateTilesAndResources';\nimport '../App.css';\n\nexport function generateResourceTooltip(resource) {\n  if (!resource || resource.category === 'doober' || resource.category === 'source') return '';\n\n  const lines = [];\n\n  const currentTime = Date.now();\n\n  switch (resource.category) {\n    case 'farmplot':\n      lines.push(`<p>${resource.type}</p>`);\n      if (resource.growEnd) {\n        const remainingTime = Math.max(0, resource.growEnd - currentTime);\n        const days = Math.floor(remainingTime / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);\n        if (remainingTime > 0) {\n          const parts = [];\n          if (days > 0) parts.push(`${days}d`);\n          if (hours > 0) parts.push(`${hours}h`);\n          if (minutes > 0) parts.push(`${minutes}m`);\n          if (seconds > 0 || parts.length === 0) parts.push(`${seconds}s`);\n          lines.push(`<p>🌱 ${parts.join(' ')} remaining</p>`);\n        }\n      }\n      break;\n\n    case 'crafting':\n      lines.push(`<p>${resource.type}</p>`);\n      if (resource.craftEnd) {\n        const remainingTime = Math.max(0, resource.craftEnd - currentTime);\n        const days = Math.floor(remainingTime / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);\n        if (remainingTime > 0) {\n          const parts = [];\n          if (days > 0) parts.push(`${days}d`);\n          if (hours > 0) parts.push(`${hours}h`);\n          if (minutes > 0) parts.push(`${minutes}m`);\n          if (seconds > 0 || parts.length === 0) parts.push(`${seconds}s`);\n          lines.push(`<p>⏳ ${parts.join(' ')} remaining</p>`);\n        }\n      }\n      break;\n\n    default:\n      lines.push(`<p>${resource.type}</p>`);\n      break;\n  }\n\n  return lines.join('');\n}\n\nexport const RenderGrid = memo(\n  ({ grid, tileTypes, resources, handleTileClick, TILE_SIZE, setHoverTooltip }) => {\n\n    const [, forceTick] = useState(0);\n      useEffect(() => {\n        const interval = setInterval(() => {\n          forceTick(t => t + 1);\n        }, 1000);\n        return () => clearInterval(interval);\n      }, []);\n\n    const hoverTimersRef = useRef({}); // ✅ Must be before any early return\n\n    // Validation\n    if (!grid || !Array.isArray(grid) || !tileTypes) { console.error('Invalid grid or tileTypes:', grid, tileTypes); return null; }\n    if (!TILE_SIZE || isNaN(TILE_SIZE)) { console.error('TILE_SIZE is invalid:', TILE_SIZE); return null; }\n\n    const currentTime = Date.now();\n\n    const craftingStatus = resources.reduce((acc, res) => {\n      if (res.category === 'crafting' && res.craftEnd) {\n        const key = `${res.x}-${res.y}`;\n        if (res.craftEnd < currentTime) {\n          acc.ready.push(key);\n        } else {\n          acc.inProgress.push(key);\n        }\n      }\n      return acc;\n    }, { ready: [], inProgress: [] });\n\n    // Render tiles and resources\n    return grid.map((row, rowIndex) =>\n      row.map((tile, colIndex) => {\n        const resource = resources.find((res) => res.x === colIndex && res.y === rowIndex);\n        const tileType = tileTypes[rowIndex]?.[colIndex] || 'unknown';\n        const tileClass = `tile-${tileType}`;\n        const key = `${colIndex}-${rowIndex}`;\n        const isCraftReady = craftingStatus.ready.includes(key);\n        const isCraftInProgress = craftingStatus.inProgress.includes(key);\n\n        return (\n          <div\n            key={`${rowIndex}-${colIndex}-${resource?.symbol || ''}`}\n            onClick={() => handleTileClick(rowIndex, colIndex)}\n            onMouseEnter={(event) => {\n              if (resource && resource.category !== 'doober' && resource.category !== 'source') {\n                const rect = event.currentTarget.getBoundingClientRect();\n                const updateTooltip = () => {\n                  setHoverTooltip({\n                    x: rect.left + rect.width / 2,\n                    y: rect.top,\n                    content: generateResourceTooltip(resource),\n                  });\n                };\n                updateTooltip(); // Immediate render\n                hoverTimersRef.current[key] = setInterval(updateTooltip, 1000); // Store interval ID\n              }\n            }}\n            onMouseLeave={() => {\n              if (hoverTimersRef.current[key]) {\n                clearInterval(hoverTimersRef.current[key]);\n                delete hoverTimersRef.current[key];\n              }\n              setHoverTooltip(null);\n            }}\n            className={tileClass}\n            style={{\n              position: 'absolute',\n              top: rowIndex * TILE_SIZE,\n              left: colIndex * TILE_SIZE,\n              width: TILE_SIZE,\n              height: TILE_SIZE,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1, // Base layer for tiles\n              cursor: resource ? 'pointer' : 'default',\n            }}\n          >\n            {/* Resource Overlay */}\n            {resource && (\n              <div\n                className=\"resource-overlay\"\n                style={{\n                  fontSize: `${TILE_SIZE * 0.7}px`,\n                  zIndex: 2, // Above tiles, below NPCs\n                  pointerEvents: 'none',\n                }}\n              >\n                {resource.symbol || ''}\n              </div>\n            )}\n\n            {/* ✅ Add Checkmark for Ready Crafting Stations */}\n            {isCraftReady && (\n              <div\n                className=\"craft-notification\"\n                style={{\n                  position: 'absolute',\n                  top: '10%',\n                  right: '10%',\n                  fontSize: `${TILE_SIZE * 0.5}px`,\n                  color: 'green',\n                  fontWeight: 'bold',\n                  zIndex: 3, // Ensure it's above everything else\n                  pointerEvents: 'none',\n                }}\n              >\n                ✅\n              </div>\n            )}\n\n            {/* ✅ Add Timer (⌛️) for Crafting Stations Still in Progress */}\n            {isCraftInProgress && (\n              <div\n                className=\"craft-notification\"\n                style={{\n                  position: 'absolute',\n                  top: '10%',\n                  right: '10%',\n                  fontSize: `${TILE_SIZE * 0.5}px`,\n                  color: 'orange',\n                  fontWeight: 'bold',\n                  zIndex: 3, // Ensure it's above everything else\n                  pointerEvents: 'none',\n                }}\n              >\n                ⌛️\n              </div>\n            )}\n          </div>\n        );\n      })\n    );\n  }\n);\n\n\nexport const RenderVFX = ({ toggleVFX }) => {\n  // useEffect(() => {\n  //   if (toggleVFX) {\n  //     startAmbientVFX();\n  //   } else {\n  //     stopAmbientVFX();\n  //   }\n  //   return () => {\n  //     stopAmbientVFX(); // Clean up on unmount\n  //   };\n  // }, [toggleVFX]);\n\n  return null;\n};\n\n\nexport const RenderTooltip = memo(({ resource, npc, pc, tooltipPosition, isTooltipVisible }) => {\n  // ✅ Always define hooks at the top\n  const [craftingCountdown, setCraftingCountdown] = useState(null);\n  const [farmingCountdown, setFarmingCountdown] = useState(null);\n\n  // ✅ Prevent the effect from running unnecessarily\n  useEffect(() => {\n    if (!resource) {\n      setCraftingCountdown(null);\n      setFarmingCountdown(null);\n      return;\n    }\n\n    const updateCountdowns = () => {\n      if (resource.craftEnd) {\n        const remainingTime = Math.max(0, resource.craftEnd - Date.now());\n        setCraftingCountdown(remainingTime);\n      }\n\n      if (resource.growEnd) {\n        const remainingTime = Math.max(0, resource.growEnd - Date.now());\n        setFarmingCountdown(remainingTime);\n      }\n    };\n\n    updateCountdowns(); // Initial fetch\n    const timer = setInterval(updateCountdowns, 1000); // Update every second\n\n    return () => clearInterval(timer);\n  }, [resource]); // ✅ Depend on `resource` so it updates correctly\n\n  // ✅ Prevent tooltip from rendering empty content\n  if (!isTooltipVisible || (!resource && !npc && !pc)) return null;\n\n  const tooltipContent = [];\n  const entity = npc || pc || resource; // Prioritize NPCs > PCs > Resources\n\n  // ✅ Tooltip content logic\n  switch (entity.category) {\n\n    case 'source':\n    case 'doober':\n      break;\n\n    case 'farmplot':\n      tooltipContent.push(`${entity.type}`);\n      if (farmingCountdown !== null && farmingCountdown > 0) {\n        const minutes = Math.floor((farmingCountdown % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((farmingCountdown % (1000 * 60)) / 1000);\n        tooltipContent.push(`🌱 ${minutes}m ${seconds}s remaining`);\n      }\n      break;\n\n    case 'crafting':\n      tooltipContent.push(`${entity.type}`);\n      if (craftingCountdown !== null && craftingCountdown > 0) {\n        const minutes = Math.floor((craftingCountdown % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((craftingCountdown % (1000 * 60)) / 1000);\n        tooltipContent.push(`⏳ ${minutes}m ${seconds}s remaining`);\n      }\n      break;\n\n    default:\n      tooltipContent.push(`${entity.type}`);\n      break;\n  }\n\n  if (tooltipContent.length === 0) return null; // Avoid rendering empty tooltips\n\n  return (\n    <div\n        className=\"HoverTooltip\"\n        style={{\n        position: 'absolute',\n        top: tooltipPosition.y,\n        left: tooltipPosition.x,\n        zIndex: 20, // Above all\n      }}\n    >\n      {tooltipContent.map((line, index) => (\n        <p key={index}>{line}</p>\n      ))}\n    </div>\n  );\n});","import React, { createContext, useContext, useState } from 'react';\n\nconst GridStateContext = createContext();\nconst GridStateUpdateContext = createContext();\n\nexport const useGridState = () => useContext(GridStateContext);\nexport const useGridStateUpdate = () => useContext(GridStateUpdateContext);\n\nlet externalSetGridState = null;\nexport const setGridStateExternally = (state) => {\n  if (externalSetGridState) {\n    externalSetGridState(state);\n  }\n};\n\nexport function GridStateProvider({ children }) {\n  const [NPCsInGrid, setGridState] = useState({}); // instead of null  externalSetGridState = setGridState;\n  React.useEffect(() => {\n    const id = Math.floor(Math.random() * 10000);\n    console.log(`🧩 GridStateProvider mounted. ID: ${id}`);\n    return () => console.warn(`🧨 GridStateProvider unmounted. ID: ${id}`);\n  }, []);\n\n  return (\n    <GridStateContext.Provider value={NPCsInGrid}>\n      <GridStateUpdateContext.Provider value={setGridState}>\n        {children}\n      </GridStateUpdateContext.Provider>\n    </GridStateContext.Provider>\n  );\n}","import React, { createContext, useContext, useState } from 'react';\n\nconst GridStatePCContext = createContext();\nconst GridStatePCUpdateContext = createContext();\n\nexport const usePlayersInGrid = () => useContext(GridStatePCContext);\nexport const useGridStatePCUpdate = () => useContext(GridStatePCUpdateContext);\n\nexport function GridStatePCProvider({ children }) {\n  const [playersInGrid, setPlayersInGrid] = useState({});\n\n  return (\n    <GridStatePCContext.Provider value={playersInGrid}>\n      <GridStatePCUpdateContext.Provider value={setPlayersInGrid}>\n        {children}\n      </GridStatePCUpdateContext.Provider>\n    </GridStatePCContext.Provider>\n  );\n}\n","import React, { createContext, useContext, useState } from 'react';\n\nconst UILockContext = createContext();\n\nexport const UILockProvider = ({ children }) => {\n  const [uiLocked, setUILocked] = useState(false);\n  return (\n    <UILockContext.Provider value={{ uiLocked, setUILocked }}>\n      {children}\n    </UILockContext.Provider>\n  );\n};\n\nexport const useUILock = () => useContext(UILockContext);","import '../App.css';\nimport '../UI/Panel.css';\nimport '../UI/Cursor.css';\n\nimport React, { useEffect, useRef } from 'react';\nimport { getDerivedRange } from '../Utils/worldHelpers';\nimport { useGridState } from '../GridState/GridStateContext'; \nimport { usePlayersInGrid } from '../GridState/GridStatePCContext';\nimport { handleNPCClick } from '../GameFeatures/NPCs/NPCHelpers';\nimport { handleAttackOnPC } from '../GameFeatures/Combat/Combat';\nimport { renderPositions } from '../PlayerMovement';\nimport NPCsInGridManager from '../GridState/GridStateNPCs';\nimport playersInGridManager from '../GridState/PlayersInGrid';\nimport { useUILock } from '../UI/UILockContext';\n\n\nconst DynamicRenderer = ({\n  TILE_SIZE,\n  setInventory,\n  setResources,\n  currentPlayer,\n  setCurrentPlayer,\n  onNPCClick, // This is needed because of the Quest NPCs and their Panels\n  onPCClick,  // This is needed for the Social Panel\n  masterResources,\n  masterSkills,\n  setHoverTooltip, \n  setModalContent,\n  setIsModalOpen,\n  updateStatus,\n}) => {\n  const NPCsInGrid = useGridState(); // Use the updated NPCsInGrid from context\n  const playersInGrid = usePlayersInGrid(); // Access PCs via modern PC-specific context\n  const hoveredEntityIdRef = useRef(null);\n  const suppressTooltipRef = useRef(false);\n  const { setUILocked } = useUILock();\n  \n  const masterResourcesRef = useRef(masterResources); // Keep masterResources in a ref\n  useEffect(() => {\n    masterResourcesRef.current = masterResources;\n  }, [masterResources]);\n\n  const containerRef = useRef(null);\n  const animationFrameId = useRef(null);\n  const reloadRef = useRef(0); // Stores the next allowed attack time\n\n  const npcElements = useRef(new Map());\n  const pcElements = useRef(new Map());\n\n  const hoveredNPCDivRef = useRef(null);\n\n  // Function to create or update NPC divs\n  function renderNPCs() {\n    const gridId = currentPlayer?.location?.g;\n    const npcs = Object.values(NPCsInGrid?.[gridId]?.npcs || {});\n    const container = containerRef.current;\n    if (!container) return;\n\n    const existingIds = new Set();\n\n    npcs.forEach((npc) => {\n      existingIds.add(npc.id);\n      let npcDiv = npcElements.current.get(npc.id);\n      const overridePos = renderPositions[npc.id];\n      const renderX = overridePos ? overridePos.x * TILE_SIZE : npc.position.x * TILE_SIZE;\n      const renderY = overridePos ? overridePos.y * TILE_SIZE : npc.position.y * TILE_SIZE;      if (!npcDiv) {\n        // REPLACED LOGIC FOR CREATING npcDiv:\n        npcDiv = document.createElement('div');\n        npcDiv.className = 'npc';\n        npcDiv.style.position = 'absolute';\n        npcDiv.style.width = `${TILE_SIZE}px`;\n        npcDiv.style.height = `${TILE_SIZE}px`;\n        npcDiv.style.fontSize = `${TILE_SIZE * 0.7}px`;\n        npcDiv.style.display = 'flex';\n        npcDiv.style.alignItems = 'center';\n        npcDiv.style.justifyContent = 'center';\n        npcDiv.style.zIndex = 15;\n        npcDiv.style.pointerEvents = 'auto';\n        npcDiv.textContent = npc.symbol;\n\n        // Use mousedown, not onclick, for better cross-browser support\n        npcDiv.addEventListener('mousedown', () => {\n          setHoverTooltip(null);\n          suppressTooltipRef.current = true;\n          const currentTime = Date.now();\n          if (npc.action === 'attack' || npc.action === 'spawn') {\n            const pcState = playersInGrid?.[gridId]?.pcs?.[currentPlayer._id];\n            const speed = pcState?.speed ?? currentPlayer.baseSpeed ?? 5;\n            if (currentTime < reloadRef.current) return;\n            reloadRef.current = currentTime + (speed * 1000);\n          }\n          if (npc.action === 'quest' || npc.action === 'heal') {\n            onNPCClick(npc);\n          } else {\n            handleNPCClick(\n              npc,\n              Math.round(npc.position.y),\n              Math.round(npc.position.x),\n              setInventory,\n              setResources,\n              currentPlayer,\n              setCurrentPlayer,\n              TILE_SIZE,\n              masterResourcesRef.current,\n              masterSkills,\n              currentPlayer?.location?.g,\n              setModalContent,\n              setIsModalOpen,\n              updateStatus,\n              setUILocked,\n            );\n          }\n        });\n\n        npcDiv.onmouseenter = (event) => {\n          if (suppressTooltipRef.current) return;\n          hoveredEntityIdRef.current = npc.id;\n          hoveredNPCDivRef.current = npcDiv;\n          handleNPCHover(event, npc, TILE_SIZE, hoveredEntityIdRef, setHoverTooltip);\n        };\n\n        npcDiv.onmouseleave = () => {\n          suppressTooltipRef.current = false;\n          npcDiv.classList.remove('cursor-wait', 'cursor-help', 'cursor-pointer');\n          npcDiv.classList.add('cursor-pointer');\n          hoveredNPCDivRef.current = null;\n          handleNPCHoverLeave(npc, hoveredEntityIdRef, setHoverTooltip);\n        };\n\n        container.appendChild(npcDiv);\n        npcElements.current.set(npc.id, npcDiv);\n\n        /// Dynamic Cursors for NPCs\n        const currentTime = Date.now();\n        if (npc.action === 'attack' || npc.action === 'spawn') {\n          if (currentTime < reloadRef.current) {\n            npcDiv.style.cursor = 'wait';\n          } else {\n            npcDiv.style.cursor = 'crosshair';\n          }\n        } else if (npc.action === 'quest' || npc.action === 'heal') {\n          npcDiv.style.cursor = 'help';\n        } else {\n          npcDiv.style.cursor = 'pointer';\n        }\n        \n      } else {\n        // Update symbol if changed\n        if (npcDiv.textContent !== npc.symbol) {\n          npcDiv.textContent = npc.symbol;\n        }\n      }\n      npcDiv.style.left = `${renderX}px`;\n      npcDiv.style.top = `${renderY}px`;\n    });\n\n    // Remove NPC divs that no longer exist\n    npcElements.current.forEach((div, id) => {\n      if (!existingIds.has(id)) {\n        div.remove(); \n        npcElements.current.delete(id);\n      }\n    });\n  }\n\n  // Function to create or update PC divs\n  function renderPCs() {\n    const gridId = currentPlayer?.location?.g;\n    const pcs = Object.values(playersInGrid?.[gridId]?.pcs || {});\n    const container = containerRef.current;\n    if (!container) return;\n\n    const existingIds = new Set();\n\n    pcs.forEach((pc) => {\n      existingIds.add(pc.playerId);\n      if (!pc || !pc.position || typeof pc.position.x !== 'number' || typeof pc.position.y !== 'number') {\n        return;\n      }\n      const overridePos = renderPositions[pc.playerId];\n      const renderX = overridePos ? overridePos.x * TILE_SIZE : pc.position.x * TILE_SIZE;\n      const renderY = overridePos ? overridePos.y * TILE_SIZE : pc.position.y * TILE_SIZE;\n\n      let symbol = pc.icon || '😊';\n      if (pc.iscamping) symbol = '⛺️';\n      else if (pc.hp <= 0) symbol = '💀';\n      else if (pc.hp < 20) symbol = '🤢';\n\n      let pcDiv = pcElements.current.get(pc.playerId);\n      if (!pcDiv) {\n        // REPLACED LOGIC FOR CREATING pcDiv:\n        pcDiv = document.createElement('div');\n        pcDiv.className = 'pc';\n        pcDiv.style.position = 'absolute';\n        pcDiv.style.width = `${TILE_SIZE}px`;\n        pcDiv.style.height = `${TILE_SIZE}px`;\n        pcDiv.style.fontSize = `${TILE_SIZE * 0.7}px`;\n        pcDiv.style.display = 'flex';\n        pcDiv.style.alignItems = 'center';\n        pcDiv.style.justifyContent = 'center';\n        pcDiv.style.zIndex = 16;\n        pcDiv.style.pointerEvents = 'auto';\n        //pcDiv.style.cursor = 'pointer';\n        pcDiv.textContent = symbol;\n\n        // Use mousedown, not onclick, for better cross-browser support\n        pcDiv.addEventListener('mousedown', () => {\n          setHoverTooltip(null);\n          suppressTooltipRef.current = true;\n          onPCClick(pc);\n          handlePCClick(pc, currentPlayer, currentPlayer.location.g, TILE_SIZE);\n        });\n\n        pcDiv.onmouseenter = (event) => {\n          if (suppressTooltipRef.current) return;\n          handlePCHover(event, pc, TILE_SIZE, setHoverTooltip);\n        };\n\n        pcDiv.onmouseleave = () => {\n          suppressTooltipRef.current = false;\n          handlePCHoverLeave(setHoverTooltip);\n        };\n\n        container.appendChild(pcDiv);\n        pcElements.current.set(pc.playerId, pcDiv);\n\n        /// Dynamic Cursors for PCs\n        if (pc.hp > 25) {\n            pcDiv.style.cursor = 'crosshair';\n        } else {\n          pcDiv.style.cursor = 'pointer';\n        }\n\n      } else {\n        if (pcDiv.textContent !== symbol) {\n          pcDiv.textContent = symbol;\n        }\n      }\n      pcDiv.style.left = `${renderX}px`;\n      pcDiv.style.top = `${renderY}px`;\n    });\n\n    // Remove PC divs that no longer exist\n    pcElements.current.forEach((div, id) => {\n      if (!existingIds.has(id)) {\n        div.remove();\n        pcElements.current.delete(id);\n      }\n    });\n  }\n\nfunction renderPlayerRange() {\n    if (currentPlayer?.settings?.rangeOn === false) return; \n    const gridId = currentPlayer?.location?.g;\n    if (!gridId || !currentPlayer) return;\n    const container = containerRef.current; if (!container) return;\n\n    // Ensure overflow and position only (no fixed size or margin here)\n    container.style.overflow = 'hidden';\n    container.style.position = 'relative';\n\n    let rangeCircle = document.getElementById('player-range-circle');\n\n    if (!rangeCircle) {\n      rangeCircle = document.createElement('div');\n      rangeCircle.id = 'player-range-circle';\n      rangeCircle.style.position = 'absolute';\n      rangeCircle.style.backgroundColor = 'rgba(128, 128, 128, 0.2)';\n      rangeCircle.style.border = 'none';\n      rangeCircle.style.borderRadius = '50%';\n      rangeCircle.style.pointerEvents = 'none';\n      rangeCircle.style.zIndex = 10;\n      container.appendChild(rangeCircle);\n    }\n\n    const position = playersInGrid?.[gridId]?.pcs?.[currentPlayer._id]?.position;\n    if (!position) return;\n\n    const pixelX = position.x * TILE_SIZE;\n    const pixelY = position.y * TILE_SIZE;\n\n    // Calculate derivedRange using utility\n    const derivedRange = getDerivedRange(currentPlayer, masterResourcesRef.current);\n    const radius = derivedRange * TILE_SIZE;\n\n    rangeCircle.style.width = `${radius * 2}px`;\n    rangeCircle.style.height = `${radius * 2}px`;\n    rangeCircle.style.left = `${pixelX - radius + TILE_SIZE / 2}px`;\n    rangeCircle.style.top = `${pixelY - radius + TILE_SIZE / 2}px`;\n\n    // Add a second ring for attackrange\n    const attackRange = playersInGrid?.[gridId]?.pcs?.[currentPlayer._id]?.attackrange;\n    if (attackRange && attackRange > 0) {\n      let attackRangeRing = document.getElementById('player-attackrange-ring');\n      if (!attackRangeRing) {\n        attackRangeRing = document.createElement('div');\n        attackRangeRing.id = 'player-attackrange-ring';\n        attackRangeRing.style.position = 'absolute';\n        attackRangeRing.style.border = '2px dotted rgba(255, 0, 0, 0.4)';\n        attackRangeRing.style.borderRadius = '50%';\n        attackRangeRing.style.pointerEvents = 'none';\n        attackRangeRing.style.zIndex = 11;\n        container.appendChild(attackRangeRing);\n      }\n\n      const attackRadius = attackRange * TILE_SIZE;\n      attackRangeRing.style.width = `${attackRadius * 2}px`;\n      attackRangeRing.style.height = `${attackRadius * 2}px`;\n      attackRangeRing.style.left = `${pixelX - attackRadius + TILE_SIZE / 2}px`;\n      attackRangeRing.style.top = `${pixelY - attackRadius + TILE_SIZE / 2}px`;\n    } else {\n      // Remove attack range ring if attackrange is not present or 0\n      const existingAttackRing = document.getElementById('player-attackrange-ring');\n      if (existingAttackRing) existingAttackRing.remove();\n    }\n  }\n\n  // Animation loop to update positions smoothly if needed\nfunction startRenderingLoop() {\n  if (!containerRef.current) return;\n  renderNPCs();\n  renderPCs();\n  renderPlayerRange();\n  \n  animationFrameId.current = requestAnimationFrame(startRenderingLoop);\n}\n\n\n\n  useEffect(() => {\n    startRenderingLoop();\n    return () => {\n      if (animationFrameId.current) {\n        cancelAnimationFrame(animationFrameId.current);\n      }\n      // Clean up all NPC divs\n      npcElements.current.forEach((div) => {\n        div.remove();\n      });\n      npcElements.current.clear();\n      // Clean up all PC divs\n      pcElements.current.forEach((div) => {\n        div.remove();\n      });\n      pcElements.current.clear();\n      const existingRangeCircle = document.getElementById('player-range-circle');\n      if (existingRangeCircle) existingRangeCircle.remove();\n      const existingAttackRing = document.getElementById('player-attackrange-ring');\n      if (existingAttackRing) existingAttackRing.remove();\n    };\n  }, [NPCsInGrid, playersInGrid, currentPlayer, TILE_SIZE, setInventory, setResources, onNPCClick, onPCClick, masterResourcesRef.current]);\n\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        position: 'relative',\n        width: `${64 * TILE_SIZE}px`,\n        height: `${64 * TILE_SIZE}px`,\n        overflow: 'hidden',\n//        margin: '0 auto'\n      }}\n    >\n      {/* NPCs and PCs are rendered manually in the container */}\n    </div>\n  );\n  \n};\n\n\n// CLICKING ON A PC\n//\nfunction handlePCClick(pc, currentPlayer, gridId, TILE_SIZE) {\n  if (!pc) {\n    console.warn(\"handlePCClick was called with an undefined PC.\");\n    return;\n  }\n\n  const isNotSelf = String(pc.playerId) !== String(currentPlayer._id);\n  const isAttackable = pc.hp > 0 && !pc.iscamping;\n  const isHomestead = currentPlayer?.location?.gtype === 'homestead';\n  const isTown = currentPlayer?.location?.gtype === 'town';\n\n  if (isNotSelf && isAttackable && !isHomestead && !isTown) {\n    handleAttackOnPC(pc, currentPlayer, gridId, TILE_SIZE);\n  }\n}\n\n\n// PC & NPC HOVER\n// CUSTOM TOOLTIP CODE FOR NPCS AND PCS\n\n// React-friendly tooltip handler for NPC hover\nfunction handleNPCHover(event, npc, TILE_SIZE, hoveredEntityIdRef, setHoverTooltip) {\n  const rect = event.target.getBoundingClientRect();\n  const x = rect.left + TILE_SIZE / 2;\n  const y = rect.top;\n\n  let tooltipContent = `<p>${npc.type}</p>`;\n\n  switch (npc.action) {\n    case 'graze': {\n      switch (npc.state) {\n        case 'processing':\n          tooltipContent = `<p>${npc.type}</p><p>is ready.</p>`;\n          break;\n        case 'hungry':\n          tooltipContent = `<p>${npc.type}</p><p>is hungry and</p><p>looking for grass.</p>`;\n          break;\n        case 'grazing': {\n          let countdownText = \"\";\n          if (npc.grazeEnd) {\n            const remainingTime = Math.max(0, npc.grazeEnd - Date.now());\n            const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));\n            const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);\n            countdownText = `<p>${minutes}m ${seconds}s</p>`;\n          }\n          tooltipContent = `<p>${npc.type}</p><p>is grazing.</p>${countdownText}`;\n          break;\n        }\n        case 'idle':\n          tooltipContent = `<p>Zzzz...</p>`;\n          break;\n        case 'roam':\n          tooltipContent = `<p>${npc.type}</p><p>is roaming.</p>`;\n          break;\n        case 'stall':\n          tooltipContent = `<p>${npc.type}</p><p>is looking for an Animal Stall.</p>`;\n          break;\n        default:\n          tooltipContent = `<p>${npc.type}</p>`;\n          break;\n      }\n      break;\n    }\n    case 'quest':\n      tooltipContent = `<p>${npc.type}</p><p>Quest, anyone?</p>`;\n      break;\n    case 'attack':\n    case 'spawn':\n      tooltipContent = `<p>${npc.type}</p><p>HP: ${npc.hp}/${npc.maxhp}</p>`;\n      break;\n    default:\n      tooltipContent = `<p>${npc.type}</p>`;\n      break;\n  }\n\n  hoveredEntityIdRef.current = npc.id;\n  setHoverTooltip({ x, y, content: tooltipContent });\n}\n\nfunction handleNPCHoverLeave(npc, hoveredEntityIdRef, setHoverTooltip) {\n  if (hoveredEntityIdRef.current === npc.id) {\n    setHoverTooltip(null);\n    hoveredEntityIdRef.current = null;\n  }\n}\n\nfunction handlePCHover(event, pc, TILE_SIZE, setHoverTooltip) {\n  const rect = event.target.getBoundingClientRect();\n  const x = rect.left + TILE_SIZE / 2;\n  const y = rect.top;\n  \n  const username = pc.username || 'Anonymous';\n  let content = `<p>${username}</p><p>❤️‍🩹 HP: ${pc.hp}</p>`;\n  if (pc.iscamping) content += `<p>🏕️ Camping</p>`;\n  \n  setHoverTooltip({ x, y, content });\n}\n\nfunction handlePCHoverLeave(setHoverTooltip) {\n  setHoverTooltip(null);\n}\n\nexport default DynamicRenderer;","const lockedResources = new Map(); // Key: \"x-y\", Value: timestamp\n\nexport function lockResource(x, y) {\n  lockedResources.set(`${x}-${y}`, Date.now());\n}\n\nexport function unlockResource(x, y) {\n    lockedResources.delete(`${x}-${y}`);\n}\n\nexport function isResourceLocked(x, y) {\n  const lockTime = lockedResources.get(`${x}-${y}`);\n  const now = Date.now();\n\n  // Ignore lock if it has expired (e.g., 3 seconds timeout)\n  return lockTime && now - lockTime < 1000;\n}\n","import API_BASE from './config.js'; \nimport axios from 'axios';\nimport { fetchInventoryAndBackpack, refreshPlayerAfterInventoryUpdate } from './Utils/InventoryManagement';\nimport { gainIngredients, spendIngredients } from './Utils/InventoryManagement';\nimport { updateGridResource } from './Utils/GridManagement';\nimport { loadMasterResources, loadMasterSkills } from './Utils/TuningManager'; // Centralized tuning manager\nimport FloatingTextManager from './UI/FloatingText';\nimport { lockResource, unlockResource } from './Utils/ResourceLockManager';\nimport { handleTransitSignpost } from './GameFeatures/Transit/Transit';\nimport { trackQuestProgress } from './GameFeatures/Quests/QuestGoalTracker';\nimport { createCollectEffect, createSourceConversionEffect, calculateTileCenter } from './VFX/VFX';\nimport { useStrings } from './UI/StringsContext';\n \n // Handles resource click actions based on category. //\n export async function handleResourceClick(\n  resource,\n  row,\n  col,\n  resources,\n  setResources,\n  setInventory,\n  setBackpack,\n  inventory,\n  backpack,\n  addFloatingText,\n  gridId,\n  TILE_SIZE,\n  tileTypes,\n  currentPlayer,\n  setCurrentPlayer,\n  setGridId,\n  setGrid,\n  setTileTypes,\n  updateStatus,\n  masterResources,\n  masterSkills,\n  setModalContent,\n  setIsModalOpen,\n  closeAllPanels,\n  strings\n) {\n  console.log(`Resource Clicked:  (${row}, ${col}):`, { resource, tileType: tileTypes[row]?.[col] });\n  if (!resource || !resource.category) { console.error(`Invalid resource at (${col}, ${row}):`, resource); return; }\n  \n  lockResource(col, row); // Optimistically lock the resource\n\n  try {\n    // Load master resources and skills (cached internally)\n    if (!masterResources || masterResources.length === 0) { \n      masterResources = await loadMasterResources();  // Direct assignment without `const`\n    }\n    if (!masterSkills || masterSkills.length === 0) { \n      masterSkills = await loadMasterSkills(); \n    }\n    const skills = currentPlayer.skills;\n    // Fetch inventory and backpack if either is empty\n    if ((!Array.isArray(inventory)) || (!Array.isArray(backpack))) {\n      console.warn('Inventory or backpack is not initialized; fetching from server.');\n      const { inventory: fetchedInventory, backpack: fetchedBackpack } = await fetchInventoryAndBackpack(currentPlayer.playerId);\n      setInventory(fetchedInventory); // Update state with fetched inventory\n      setBackpack(fetchedBackpack); // Update state with fetched backpack\n    }\n\n    switch (resource.category) {\n\n      case 'doober':\n      case 'special':\n        await handleDooberClick(\n          resource,\n          row,\n          col,\n          resources,\n          setResources,\n          setInventory,\n          setBackpack,\n          currentPlayer?.inventory || [],\n          currentPlayer?.backpack || [],\n          skills,\n          gridId,\n          addFloatingText,\n          TILE_SIZE,\n          currentPlayer,\n          setCurrentPlayer,\n          updateStatus,\n          masterResources,\n          masterSkills // Pass tuning data\n        );\n        break;\n\n      case 'source':\n        await handleSourceConversion(\n          resource,\n          row,\n          col,\n          resources,\n          setResources,\n          inventory,\n          setInventory,\n          backpack,\n          setBackpack,  \n          gridId,\n          addFloatingText,\n          TILE_SIZE,\n          currentPlayer,\n          setCurrentPlayer,\n          masterResources,\n          masterSkills, \n          setModalContent,\n          setIsModalOpen,\n          updateStatus,\n          strings\n        );\n        break;\n\n      case 'seed':\n        console.log('Seed clicked; do nothing');\n        break;\n\n      case 'deco':\n        console.log('Deco clicked; placeholder for future functionality');\n        break;\n\n      case 'travel':\n        console.log('Travel sign clicked');\n        try {\n          await handleTransitSignpost(\n            currentPlayer,\n            resource.type,\n            setCurrentPlayer,\n            setGridId, \n            setGrid,\n            setTileTypes, \n            setResources,\n            updateStatus,\n            TILE_SIZE,\n            skills,\n            closeAllPanels\n          );\n        } catch (error) {\n          console.error(\"Error handling travel signpost:\", error.message || error);\n        }\n        break;\n        \n      default:\n        console.warn(`Unhandled resource category: ${resource.category}`);\n    }\n  } catch (error) {\n    console.error('Error handling resource click:', error);\n    unlockResource(col, row); // Unlock the resource on error\n  } finally {\n    unlockResource(col, row);\n  }\n}\n\n\n// HANDLE DOOBER CLICKS //\n//\nexport async function handleDooberClick(\n  resource,\n  row,\n  col,\n  resources,\n  setResources,\n  setInventory,\n  setBackpack,\n  inventory = [],\n  backpack = [],\n  skills = [],\n  gridId,\n  addFloatingText,\n  TILE_SIZE,\n  currentPlayer,\n  setCurrentPlayer,\n  updateStatus,\n  masterResources,\n  masterSkills\n) {\n  console.log('handleDooberClick: Current Player:', currentPlayer);\n  console.log('handleDooberClick: Current backpack:', backpack);\n  const gtype = currentPlayer.location.gtype;\n  const baseQtyCollected = resource.qtycollected || 1;\n\n  if (!Array.isArray(inventory) || !Array.isArray(backpack)) {\n    console.warn(\"Inventory or backpack missing; aborting doober click.\");\n    return;\n  }\n\n  console.log('MasterSkills:', masterSkills);\n  // Extract player skills and upgrades from inventory\n  const playerBuffs = skills\n    .filter((item) => {\n      const resourceDetails = masterResources.find((res) => res.type === item.type);\n      const isSkill = resourceDetails?.category === 'skill' || resourceDetails?.category === 'upgrade';\n      const appliesToResource = (masterSkills?.[item.type]?.[resource.type] || 1) > 1;\n      return isSkill && appliesToResource;\n    })\n    .map((buffItem) => buffItem.type);\n\n\n  createCollectEffect(col, row, TILE_SIZE);\n\n  //console.log('Player Buffs (Skills and Upgrades):', playerBuffs);\n  // Calculate skill multiplier\n  const skillMultiplier = playerBuffs.reduce((multiplier, buff) => {\n    const buffValue = masterSkills?.[buff]?.[resource.type] || 1;\n    //console.log(`Buff \"${buff}\" applies to \"${resource.type}\" with multiplier x${buffValue}`);\n    return multiplier * buffValue;\n  }, 1);\n  const qtyCollected = baseQtyCollected * skillMultiplier;\n  console.log('[DEBUG] qtyCollected after multiplier:', qtyCollected);\n\n\n  FloatingTextManager.addFloatingText(`+${qtyCollected} ${resource.type}`, col, row, TILE_SIZE );\n  if (skillMultiplier != 1) {\n    const skillAppliedText =\n      `${playerBuffs.join(', ')} skill applied (${skillMultiplier}x collected).`;\n    updateStatus(skillAppliedText);\n  }\n  setResources((prevResources) =>\n    prevResources.filter((res) => !(res.x === col && res.y === row))\n  );\n\n  // Perform server validation\n  try {\n    // Use gainIngredients to handle inventory/backpack update, sync, and capacity check\n    console.log(\"Calling gainIngredients with: \",resource.type);\n    \n    const gainSuccess = await gainIngredients({\n      playerId: currentPlayer.playerId,\n      currentPlayer,\n      resource: resource.type,\n      quantity: qtyCollected,\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n      masterResources,\n    });\n\n    if (!gainSuccess) {\n      console.warn(\"❌ Failed to gain doober ingredient. Rolling back.\");\n      // Restore the doober visually\n      setResources((prevResources) => [...prevResources, resource]);\n      return;\n    }\n\n    const gridUpdateResponse = await updateGridResource(\n      gridId,\n      { type: null, x: col, y: row }, // Collecting doober removes it\n      true\n    );\n    if (!gridUpdateResponse?.success) {\n      console.warn('⚠️ Grid update failed even though inventory succeeded.');\n      return;\n    }\n\n\n\n        // Track quest progress for \"Collect\" actions\n    // trackQuestProgress expects: (player, action, item, quantity, setCurrentPlayer)\n    await trackQuestProgress(currentPlayer, 'Collect', resource.type, qtyCollected, setCurrentPlayer);\n\n    // Update currentPlayer state locally\n    await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n    console.log('[DEBUG] Player state refreshed after inventory update.');\n  } catch (error) {\n    console.error('Error during doober collection:', error);\n    // Rollback local resource state on server failure\n    setResources((prevResources) => [...prevResources, resource]);\n  } finally {\n    unlockResource(col, row); // Always unlock the resource\n  }\n}\n\n\n// Helper: Handles use of required key/item for a resource\n// Returns a Promise<boolean>: true if item used, false otherwise\nlet pendingKeyResolve = null; // Module-level temporary resolve callback\n\nexport async function handleUseKey(resource,requirement,col,row,TILE_SIZE,currentPlayer,setCurrentPlayer,inventory,setInventory,backpack,setBackpack,addFloatingText,strings,setModalContent,setIsModalOpen,updateStatus) {\n  console.log('handleUseKey: resource:', resource);\n  if (!requirement) return true;\n  if (pendingKeyResolve) {return false;}   // Only allow one modal pending at a time\n  const hasRequirement = currentPlayer.inventory.find((item) => item.type === requirement);\n  if (!hasRequirement) { updateStatus(`${strings[\"35\"]}${requirement}`); return false; }\n\n  return new Promise((resolve) => {\n    pendingKeyResolve = resolve;\n\n    const handleYes = async () => {\n      const spent = await spendIngredients({\n        playerId: currentPlayer.playerId,\n        recipe: { \n          item: requirement,\n          quantity: 1,\n        },\n        inventory,\n        backpack,\n        setInventory,\n        setBackpack,\n        setCurrentPlayer,\n        updateStatus,\n      });\n\n      if (!spent) {\n        console.warn('❌ Failed to spend key item.');\n        return;\n      }\n\n      updateStatus(`${strings[\"36\"]}${requirement}`);\n\n      setIsModalOpen(false);\n      if (pendingKeyResolve) {\n        pendingKeyResolve(true);\n        pendingKeyResolve = null;\n      }\n    };\n    const handleNo = () => {\n      setIsModalOpen(false);\n      if (pendingKeyResolve) {\n        pendingKeyResolve(false);\n        pendingKeyResolve = null;\n      }\n    };\n\n    const totalOwned =\n      (currentPlayer.inventory.find(item => item.type === requirement)?.quantity || 0) +\n      (currentPlayer.backpack?.find(item => item.type === requirement)?.quantity || 0);\n      \n    setModalContent({\n      title: `${strings[\"5045\"]} ${requirement}?`,\n      message: `${strings[\"5046\"]} ${requirement}?`,\n      message2: `${strings[\"5047\"]} ${totalOwned}.`,\n      size: 'small',\n      onClose: handleNo,  // 🔁 Close button acts like \"No\"\n      children: (\n        <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', marginTop: '10px' }}>\n          <button onClick={handleYes}>Yes</button>\n          <button onClick={handleNo}>No</button>\n        </div>\n      ),\n    });\n    setIsModalOpen(true);\n  });\n}\n\n// HANDLE SOURCE CONVERSIONS //\n//\nexport async function handleSourceConversion(\n  resource,\n  row,\n  col,\n  resources,\n  setResources,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  gridId,\n  addFloatingText,\n  TILE_SIZE,\n  currentPlayer,\n  setCurrentPlayer,\n  masterResources,\n  masterSkills,\n  setModalContent,\n  setIsModalOpen,\n  updateStatus,\n  strings\n) {\n  if (resource.action !== 'convertTo') return;\n\n  // Get target resource first\n  const targetResource = masterResources.find((res) => res.type === resource.output);\n  if (!targetResource) { console.warn(`⚠️ No matching resource found for output: ${resource.output}`); return; }\n\n  // Get required skill\n  const requirement = resource.requires;\n  const isSkillOrUpgrade = masterResources.some(\n    res => res.type === requirement && (res.category === \"skill\" || res.category === \"upgrade\")\n  );\n  const isKey = masterResources.some(\n    res => res.type === requirement && (res.category === \"doober\")\n  );\n\n  // Required Skill Missing\n  if (isSkillOrUpgrade) {\n    const hasSkill = currentPlayer.skills?.some(skill => skill.type === requirement);\n    if (!hasSkill) {\n      addFloatingText(`${requirement} Required`, col, row, TILE_SIZE);\n      return;\n    }\n  }\n  // 🔑 Handle Key Requirement\n  if (isKey) {\n    const usedKey = await handleUseKey(resource,requirement,col,row,TILE_SIZE,currentPlayer,setCurrentPlayer,inventory,setInventory,backpack,setBackpack,addFloatingText,strings,setModalContent,setIsModalOpen,updateStatus,);\n    if (!usedKey) return;\n  }\n  // Build the new resource object to replace the one we just clicked\n  const x = col;\n  const y = row;\n  const enrichedNewResource = {\n    ...targetResource,\n    x,\n    y,\n    symbol: targetResource.symbol,\n    qtycollected: targetResource.qtycollected || 1,\n    category: targetResource.category || 'doober',\n    growEnd: targetResource.growEnd || null,\n  };\n  console.log('Enriched newResource for local state: ', enrichedNewResource);\n\n    setResources((prevResources) => {\n    const filtered = prevResources.filter(r => !(r.x === col && r.y === row));\n    return [...filtered, enrichedNewResource];\n  });\n\n  // Perform server update\n    try {\n    const gridUpdateResponse = await updateGridResource(\n      gridId, \n      { type: targetResource.type, x: col, y: row }, \n      true\n    );\n    if (gridUpdateResponse?.success) {\n      // VFX\n      createSourceConversionEffect(col, row, TILE_SIZE, requirement);\n      console.log('✅ Source conversion completed successfully on the server.');\n    } else {\n      throw new Error('Server failed to confirm the source conversion.');\n    }\n  } catch (error) {\n    console.error('❌ Error during source conversion:', error);\n    console.warn('Server update failed. The client may become out of sync.');\n  } finally {\n    await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n    unlockResource(x, y);\n  }\n}","import axios from 'axios';\nimport { loadMasterResources } from './Utils/TuningManager';\nimport { updateGridResource } from './Utils/GridManagement';\n\nlet farmTimer = null;\n\nclass FarmState {\n    constructor() {\n      this.farmState = [];\n      console.log('FarmState instance created. Initial state:', this.farmState);\n    }\n  \n    initializeFarmState(resources = []) {\n      // Log incoming farmplot resources\n      console.log('🧪 initializeFarmState input:', resources.filter(r => r.category === 'farmplot'));\n      this.farmState = resources.filter((res) => res.category === 'farmplot' && res.growEnd);\n      // Log growEnd values and time remaining\n      console.log('🌱 Farm state initialized with growEnd values:', this.farmState.map(r => ({\n        type: r.type,\n        x: r.x,\n        y: r.y,\n        growEnd: r.growEnd,\n        secondsRemaining: (new Date(r.growEnd) - Date.now()) / 1000,\n      })));\n    }\n  \n    addSeed(seed) {\n      if (!seed.output) {\n        console.warn('⚠️ Trying to add a seed without an output! This will break later.', seed);\n      }\n      this.farmState.push(seed);\n      console.log('addSeed called. Updated farmState:', this.farmState);\n    }\n\n  /**\n   * Process seeds periodically to check for growth completion.\n   */\n  startSeedTimer({ gridId, setResources, TILE_SIZE, currentPlayer, setCurrentPlayer }) {\n    if (farmTimer) clearInterval(farmTimer);\n    console.log(\"🧪 FarmState starting timer with seeds:\");\n    this.farmState.forEach(seed => {\n      const now = Date.now();\n      const secondsRemaining = Math.floor((new Date(seed.growEnd) - now) / 1000);\n      console.log(`🌱 ${seed.type} → growEnd=${seed.growEnd}, now=${now}, secondsRemaining=${secondsRemaining}`);\n    });\n  \n    farmTimer = setInterval(async () => {\n      //console.log('FarmState timer ticking.');\n      //console.log('Current farmState:', this.farmState);\n  \n      const now = Date.now();\n      const completedSeeds = this.farmState.filter((seed) => seed.growEnd <= now);\n      //console.log('Completed seeds:', completedSeeds);\n  \n      if (completedSeeds.length > 0) {\n\n        // Update the Seeds to become Crops\n\n        const masterResources = await loadMasterResources();\n        console.log('Loaded masterResources:', masterResources);\n  \n        for (const seed of completedSeeds) {\n          console.log('Processing seed:', seed);\n          const newCrop = masterResources.find((res) => res.type === seed.output);\n          console.log('Target output (crop) found for seed:', newCrop);\n          if (newCrop) {\n\n          try {\n            console.log(`Updating grid resource for seed at (${seed.x}, ${seed.y}).`);\n            const response = await updateGridResource(\n              gridId, \n              { \n                type: newCrop.type,\n                x: seed.x,\n                y: seed.y,\n              },\n              true\n            );\n            console.log('updateGridResource response:', response);\n\n            if (response?.success) {\n              console.log(`Seed at (${seed.x}, ${seed.y}) converted to doober.`);\n              \n              const enriched = {\n                ...newCrop,\n                x: seed.x,\n                y: seed.y\n              };\n\n              setResources(prev => {\n                const filtered = prev.filter(r => !(r.x === seed.x && r.y === seed.y));\n                return [...filtered, enriched];\n              });\n              \n              } else {\n                console.warn(`Failed to update grid resource for seed at (${seed.x}, ${seed.y}).`);\n              }\n            } catch (error) {\n              console.error(`Error updating grid resource for seed at (${seed.x}, ${seed.y}):`, error);\n            }\n  \n            // Remove processed seed from farmState\n            this.farmState = this.farmState.filter((s) => s !== seed);\n            console.log('Updated farmState after removing processed seed:', this.farmState);\n          } else {\n            console.warn(`No target resource found for seed output: ${seed.output}`);\n          }\n        }\n      }\n    }, 1000);\n  }\n\n  \n  /**\n   * Stop the seed timer.\n   */\n  stopSeedTimer() {\n    if (farmTimer) clearInterval(farmTimer);\n    farmTimer = null;\n  }\n}\n\nconst farmStateInstance = new FarmState();\nexport default farmStateInstance;","import socket from '../socketManager';\nimport NPCsInGridManager from './GridStateNPCs';\n\nclass NPCController {\n  constructor() {\n    this.controlledGrids = new Map();\n    this.setupSocketListeners();\n    this.retryTimeout = null;\n  }\n\n  setupSocketListeners() {\n    socket.on('npc-controller-assigned', ({ gridId }) => {\n      console.log(`🎮 Assigned as NPC controller for grid ${gridId}`);\n      this.setAsController(gridId);\n    });\n\n    socket.on('npc-controller-revoked', ({ gridId }) => {\n      console.log(`🎮 Revoked as NPC controller for grid ${gridId}`);\n      this.removeController(gridId);\n    });\n\n    // Add new listener for controller updates\n    socket.on('npc-controller-update', ({ controllerUsername, gridId }) => {\n      console.log(`🎮 Controller update received for ${gridId}: ${controllerUsername}`);\n      const currentPlayer = JSON.parse(localStorage.getItem('player'));\n      if (controllerUsername && currentPlayer?.username === controllerUsername) {\n        this.setAsController(gridId);\n      } else {\n        this.removeController(gridId);\n      }\n    });\n \n    // Add connection status listeners\n    socket.on('connect', () => {\n      console.log('🔌 NPCController socket connected');\n    });\n\n    socket.on('disconnect', () => {\n      console.log('🔌 NPCController socket disconnected');\n    });\n\n    // Add response listener\n    socket.on('join-grid-controller-response', ({ success, gridId }) => {\n      console.log(`📡 Received controller join response: success=${success}, gridId=${gridId}`);\n    });\n  }\n\n  joinGrid(gridId) {\n    if (!socket.connected) {\n      console.log('⏳ Socket not ready, retrying controller join in 1s...');\n      clearTimeout(this.retryTimeout);\n      this.retryTimeout = setTimeout(() => this.joinGrid(gridId), 1000);\n      return;\n    }\n\n    console.log(`🎮 Requesting controller status for grid ${gridId}`);\n    socket.emit('join-grid-controller', { \n      gridId,\n      timestamp: Date.now() // Add timestamp for debugging\n    });\n  }\n\n  leaveGrid(gridId) {\n    console.log(`🎮 Leaving grid ${gridId}`);\n    socket.emit('leave-grid-controller', { gridId });\n    this.removeController(gridId);\n  }\n\n  setAsController(gridId) {\n    console.log(`🎮 Setting controller status for grid ${gridId}`);\n    // Add explicit true value and verify it's set\n    this.controlledGrids.set(gridId, { isController: true });\n    console.log(`🔍 Controller Map after set:`, \n      Array.from(this.controlledGrids.entries())\n    );\n\n    // Force an immediate NPC update\n    const NPCsInGrid = NPCsInGridManager.getNPCsInGrid(gridId);\n    if (NPCsInGrid?.npcs) {\n      Object.values(NPCsInGrid.npcs).forEach(npc => {\n        if (typeof npc.update === 'function') {\n          npc.update(Date.now(), NPCsInGrid);\n        }\n      });\n    }\n  }\n\n  removeController(gridId) {\n    this.controlledGrids.delete(gridId);\n    console.log(`🎮 Removed controller for grid ${gridId}`);\n    console.log(`🔍 Controller Map after remove:`, \n      Array.from(this.controlledGrids.entries())\n    );\n  }\n\n  isControllingGrid(gridId) {\n    const controllerData = this.controlledGrids.get(gridId);\n    const isController = controllerData?.isController === true;\n    // console.log(`🎮 Controller check for ${gridId}:`, {\n    //   hasData: !!controllerData,\n    //   isController: isController,\n    //   rawValue: controllerData?.isController\n    // });\n    return isController;\n  }\n}\n\nexport const npcController = new NPCController();\nexport default npcController;\n","import React, { createContext, useState, useContext } from 'react';\nimport { useStrings } from './StringsContext';\nimport './StatusBar.css';\n\n// Create Context\nexport const StatusBarContext = createContext();\n\n// Provider Component\nexport const StatusBarProvider = ({ children }) => {\n  const strings = useStrings(); // Get strings from context\n  const [message, setMessage] = useState('...'); // Default message\n\n  React.useEffect(() => {\n    const id = Math.floor(Math.random() * 10000);\n    console.log(`🧩 StatusBarProvider mounted. ID: ${id}`);\n    return () => console.warn(`🧨 StatusBarProvider unmounted. ID: ${id}`);\n  }, []);\n\n  /**\n   * Updates the status bar message.\n   * @param {number|string} input - Index for predefined message or custom string.\n   */\n  const updateStatus = (input) => {\n    // First clear the message to force animation\n    setMessage('');\n    \n    // Small delay before setting new message\n    setTimeout(() => {\n      if (typeof input === 'number') {\n        // Use predefined string from strings.json\n        const predefinedMessage = strings[input];\n        if (predefinedMessage) {\n          setMessage(predefinedMessage);\n        } else {\n          console.warn(`No string found for index ${input}. Falling back to default.`);\n        }\n      } else if (typeof input === 'string') {\n        // Use custom string directly\n        setMessage(input);\n      } else {\n        console.warn('Invalid status message input. Falling back to default.');\n      }\n    }, 10); // Very short delay to ensure state update\n  };\n\n  return (\n    <StatusBarContext.Provider value={{ message, updateStatus }}>\n      {children}\n    </StatusBarContext.Provider>\n  );\n};\n\n// StatusBar Component\nconst StatusBar = () => {\n  const { message } = React.useContext(StatusBarContext);\n\n  return (\n    <div className=\"status-bar\">\n      {/* The p tag will re-render and trigger the slide-in animation */}\n      <p key={message}>{message}</p>\n    </div>\n  );\n};\n\nexport default StatusBar;\n","import React from 'react';\nimport './ZoomedOut.css';\n\n// Helper function for grid tile colors\nexport const getGridBackgroundColor = (type) => {\n  switch (type) {\n    // Settlement grid types\n    case \"homestead\":\n    case \"homesteadSet\":\n      case \"homesteadSetN\":\n        case \"homesteadSetNE\":\n          case \"homesteadSetE\":\n            case \"homesteadSetSE\":\n              case \"homesteadSetS\":\n                case \"homesteadSetSW\":\n                  case \"homesteadSetW\":\n                    case \"homesteadSetNW\":\n      return 'var(--homestead-color)';\n    \n    // Valley types (both views)\n    case \"valley0\":\n    case \"valley1\":\n    case \"valley2\":\n    case \"valley3\":\n    case \"valley0Set\":  \n    case \"valley1Set\":\n    case \"valley2Set\":\n    case \"valley3Set\":\n      return 'var(--valley-color)';\n    \n    // Settlement-specific types\n    case \"reserved\":\n      return 'var(--reserved-color)';\n    case \"town\":\n      return 'var(--town-color)';\n    \n    default:\n      return 'var(--unknown-color)';\n  }\n};\n\nconst ZoomOut = ({ children }) => {\n  return (\n    <div className=\"zoom-out-container\">\n      {children}\n    </div>\n  );\n};\n\nexport default ZoomOut;\n","import API_BASE from \"../config\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport \"./SettlementView.css\";\nimport { StatusBarContext } from \"../UI/StatusBar\";\nimport { changePlayerLocation } from \"../Utils/GridManagement\";\nimport settlementTileData from './SettlementTile.json';\nimport { getGridBackgroundColor } from './ZoomedOut';\nimport { centerCameraOnPlayer } from \"../PlayerMovement\";\nimport playersInGridManager from \"../GridState/PlayersInGrid\";\nimport { fetchHomesteadOwner } from \"../Utils/worldHelpers\";\nimport { updateGridStatus } from \"../Utils/GridManagement\";\nimport { processRelocation } from \"../Utils/Relocation\";\n\nconst SettlementView = ({ \n  currentPlayer, \n  isDeveloper,\n  setZoomLevel, \n  isRelocating,\n  setIsRelocating,\n  setCurrentPlayer,            \n  setGridId,        \n  setGrid,      \n  setResources, \n  setTileTypes,  \n  TILE_SIZE,\n  masterResources,\n  closeAllPanels,\n  visibleSettlementId,\n  setVisibleSettlementId,\n}) => {\n\n  const [settlementGrid, setSettlementGrid] = useState([]);\n  const [players, setPlayers] = useState(new Map());  // Map player IDs to player data\n  const [error, setError] = useState(null);\n  const [NPCsInGrids, setGridStates] = useState({});  // Add new state for grid states\n  const [playersInGridMap, setPlayersInGrid] = useState({});\n  const { updateStatus } = useContext(StatusBarContext);\n\n  // Added diagnostic log for player-to-ownerId matching\n  if (players) {\n    const ownerIdsInGrid = settlementGrid.flat().map(tile => tile.ownerId).filter(Boolean);\n    const unmatchedOwnerIds = ownerIdsInGrid.filter(id => !players.get(id));\n  }\n\n  // Fetch both settlement grid and player data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        console.log(\"📦 Fetching settlement bundle for ID:\", visibleSettlementId);\n        const response = await axios.post(`${API_BASE}/api/get-settlement-bundle`, { settlementId: visibleSettlementId });\n        console.log(\"✅ Settlement bundle response:\", response.data);\n        const { gridStates, players: playersArray, settlement } = response.data;\n\n        // Transform playersArray (array) to playersById (object)\n        const playersById = {};\n        if (Array.isArray(playersArray)) {\n          for (const player of playersArray) {\n            playersById[player._id] = player;\n          }\n        }\n\n        setGridStates(gridStates || {});\n        setPlayers(new Map(Object.entries(playersById || {})));\n        setSettlementGrid(settlement?.grids || []);\n        console.log(\"📐 Settlement grid set:\", settlement?.grids);\n\n        // 🔄 Fetch playersInGrid for all grids in this settlement\n        const gridIds = (settlement?.grids || []).flat().map(tile => tile.gridId).filter(Boolean);\n        const gridStateResponse = await axios.post(`${API_BASE}/api/get-multiple-grid-states`, { gridIds });\n        const mergedPlayersInGrid = {};\n\n        for (const gridId in gridStateResponse.data) {\n          const pcs = gridStateResponse.data[gridId]?.playersInGrid?.pcs || {};\n          mergedPlayersInGrid[gridId] = pcs;\n        }\n\n        setPlayersInGrid(mergedPlayersInGrid);\n\n      } catch (err) {\n        console.error(\"Error fetching settlement bundle:\", err);\n        setError(\"Failed to fetch settlement data\");\n      }\n    };\n\n    fetchData();\n  }, [visibleSettlementId]);\n\n  useEffect(() => {\n    if (isRelocating) {\n      updateStatus(125);\n    }\n  }, [isRelocating]);\n\n\n  const handleTileClick = async (tile, TILE_SIZE) => {\n    console.log(\"Clicked tile:\", tile);\n\n    if (tile.settlementId && tile.settlementId !== visibleSettlementId) {\n      console.log(\"Switching visible settlement to:\", tile.settlementId);\n      setVisibleSettlementId(tile.settlementId);\n      return;\n    }\n  \n    // Are we in RELOCATIONN mode?\n    if (isRelocating) {\n      if (tile.gridType !== 'homestead') {\n        updateStatus(123); return;\n      }\n      if (tile.available != true) {\n        updateStatus(124); return; \n      }\n      if (tile.available === true) {\n        // CONFIRMATION MOADAL\n        processRelocation(currentPlayer, setCurrentPlayer, currentPlayer.gridId, tile.gridCoord, settlementGrid);\n        setIsRelocating(false);\n        setZoomLevel('close');\n        updateStatus(121);\n      }\n      return;\n    }\n\n    // Clicking on the tile where the player already is\n    if (tile.gridId === currentPlayer.location.g) {\n      setZoomLevel(\"far\");\n      if ([\"valley0\", \"valley1\", \"valley2\", \"valley3\"].includes(tile.gridType)) {\n        updateStatus(16);\n      } else if (tile.gridType === \"town\") {\n        updateStatus(111);\n      } else {\n        const { username, gridType } = await fetchHomesteadOwner(currentPlayer.location.g);\n        if (username === currentPlayer.username) { updateStatus(112) }\n        else { updateGridStatus(gridType, username, updateStatus) };\n      }\n      let pcs = null;\n      let pc = null;\n      pcs = playersInGridManager.getPlayersInGrid(tile.gridId);\n      pc = pcs?.[currentPlayer.playerId];\n      centerCameraOnPlayer(pc.position, TILE_SIZE);\n      return;\n    }\n  \n    // Clicking on any other valley tile\n    if ([\"valley0\", \"valley1\", \"valley2\", \"valley3\"].includes(tile.gridType) && !isDeveloper) {\n      updateStatus(9);\n      return;\n    }\n\n    try {\n      const toLocation = {\n        x: 1,  \n        y: 1,\n        g: tile.gridId,\n        s: currentPlayer.location.s,\n        f: currentPlayer.location.f,\n        gtype: tile.gridType || \"unknown\", \n      };\n  \n      console.log(\"Built toLocation object:\", toLocation);\n      console.log(\"About to call changePlayerLocation from SettlementView;  current player = \",currentPlayer, \"toLocatoin = \", toLocation);\n     \n      // Call changePlayerLocation using the properly built toLocation\n      await changePlayerLocation(\n        currentPlayer,\n        currentPlayer.location,\n        toLocation,  \n        setCurrentPlayer,\n        setGridId,                // ✅ Ensure this is passed\n        setGrid,                  // ✅ Pass setGrid function\n        setTileTypes,             // ✅ Pass setTileTypes function\n        setResources,             // ✅ Pass setResources function\n        TILE_SIZE,\n        updateStatus,\n        closeAllPanels\n      );\n      // Zoom into grid view after movement\n      setZoomLevel(\"far\"); \n\n    } catch (error) {\n      console.error(\"Error changing player location:\", error);\n      updateStatus(10); // General error\n    }\n  };\n\nconst getTooltip = (tile) => {\n    if (!tile.gridId) return '';\n    const pcs = playersInGridMap[tile.gridId];\n    if (!pcs || Object.keys(pcs).length === 0) return '';\n    return Object.values(pcs)\n      .map(pc => `${pc.username || 'Unknown'}: ${pc.hp || 0} HP`)\n      .join('\\n');\n  };\n\n  const renderMiniGrid = (tile) => {\n    let gridType = tile.gridType;\n    if (gridType === \"homestead\") {\n      gridType = tile.available ? \"homesteadEmpty\" : \"homesteadOccupied\";\n    }\n  \n    const tileData = settlementTileData[gridType] || Array(8).fill(Array(8).fill(\"\"));\n    const isPlayerHere = tile.gridId === currentPlayer.location.g;\n  \n    let owner = null;\n    if (tile.ownerId && players) {\n      const ownerIdStr = typeof tile.ownerId === 'object' ? tile.ownerId._id : tile.ownerId;\n      owner = players.get(ownerIdStr);\n    }\n  \n    if (tile.ownerId && !owner) {\n    }\n  \n    const tooltip = getTooltip(tile);\n  \n    let miniX = 0;\n    let miniY = 0;\n    const isValleyGrid = [\"valley0\", \"valley1\", \"valley2\", \"valley3\"].includes(gridType);\n    let playerPCs = null;\n    let playerPC = null;\n\n    if (isPlayerHere && isValleyGrid && tile.gridId) {\n      playerPCs = playersInGridManager.getPlayersInGrid(tile.gridId);\n      playerPC = playerPCs?.[currentPlayer.playerId];\n      if (playerPC?.position) {\n        miniX = Math.floor(playerPC.position.x / 8);\n        miniY = Math.floor(playerPC.position.y / 8);\n      }\n    }\n  \n    return (\n      <div className=\"mini-grid\">\n        {tileData.map((row, rowIndex) =>\n          row.map((cell, colIndex) => {\n            let content = cell;\n  \n            if (isPlayerHere && isValleyGrid && rowIndex === miniY && colIndex === miniX) {\n              content = currentPlayer.icon;\n            }\n  \n            // 🏠 For homestead or other grid types, show icon at default corner\n            else if (isPlayerHere && !isValleyGrid && rowIndex === 0 && colIndex === 0) {\n              content = currentPlayer.icon;\n            }\n  \n            // 🛒 Homestead trade stall rendering\n            if (gridType === \"homesteadOccupied\") {\n              if (rowIndex === 7 && colIndex < 6) {\n                if (owner && Array.isArray(owner.tradeStall)) {\n                  const stall = owner.tradeStall[colIndex];\n                  if (stall?.resource) {\n                    const template = masterResources.find(r => r.type === stall.resource);\n                    if (template?.symbol) content = template.symbol;\n                  }\n                }\n              } else if (cell === \"username\") {\n                content = owner?.username || \"\";\n              } else if (cell === \"role\") {\n                content = owner?.role || \"Citizen\";\n              } else if (cell === \"netWorth\") {\n                content = `${owner?.netWorth?.toLocaleString() || \"0\"} (net worth)`;\n              }\n            }\n  \n            return (\n              <div key={`${rowIndex}-${colIndex}`} className=\"mini-cell\">\n                <span>{content}</span>\n                {tooltip && (\n                  <div className=\"tooltip\">\n                    <p>Who's Here:</p>\n                    {tooltip}\n                  </div>\n                )}\n              </div>\n            );\n          })\n        )}\n      </div>\n    );\n  };\n\n  if (error) return <div>Error: {error}</div>;\n  if (!settlementGrid.length) return <div>Loading Settlement Grid...</div>;\n\n  return (\n    <div className=\"settlement-grid\">\n      {settlementGrid.map((row, rowIndex) =>\n        row.map((tile, colIndex) => (\n          <div\n            key={`${rowIndex}-${colIndex}`}\n            className=\"settlement-tile\"\n            style={{\n              backgroundColor: getGridBackgroundColor(tile.gridType),\n            }}\n            onClick={() => handleTileClick(tile,TILE_SIZE)}\n          >\n            {renderMiniGrid(tile)}\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default SettlementView;\n","import axios from \"axios\";\nimport API_BASE from \"../config\";\n\nexport const processRelocation = async (currentPlayer, setCurrentPlayer, fromGridId, targetGridCoord, settlementGrid) => {\n  console.log(\"At processRelocation; fromGridId =\", fromGridId, \"; targetGridCoord =\", targetGridCoord);\n  console.log(\"settlementGrid =\", settlementGrid);\n\n  try {\n    const relocationResponse = await axios.post(`${API_BASE}/api/relocate-homestead`, {\n      fromGridId,\n      targetGridCoord,\n    });\n\n    // 🔄 Refresh player data\n    try {\n      console.log(\"🔄 Fetching updated player data...\");\n      const playerResponse = await axios.get(`${API_BASE}/api/player/${currentPlayer.playerId}`);\n      console.log(\"📊 Updated player object:\", playerResponse.data);\n\n      if (playerResponse.data) {\n        setCurrentPlayer(playerResponse.data);\n        localStorage.setItem(\"player\", JSON.stringify(playerResponse.data));\n        console.log(\"✅ setCurrentPlayer + localStorage update complete\");\n      }\n    } catch (error) {\n      console.error(\"❌ Failed to refresh player data after relocation:\", error);\n    }\n\n    console.log(\"✅ Relocation successful:\", relocationResponse.data);\n    return relocationResponse.data;\n  } catch (error) {\n    console.error(\"❌ Relocation failed:\", error.response?.data || error.message);\n    return { success: false, error: error.response?.data || error.message };\n  }\n};","import API_BASE from \"../config\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport \"./FrontierView.css\";\nimport { StatusBarContext } from \"../UI/StatusBar\";\nimport { changePlayerLocation } from \"../Utils/GridManagement\";\nimport frontierTileData from './FrontierTile.json';\nimport { getGridBackgroundColor } from './ZoomedOut';\n\n\nconst FrontierView = ({ \n  currentPlayer, \n  isDeveloper,\n  setZoomLevel, \n  isRelocating,\n  setIsRelocating,\n  setCurrentPlayer,            \n  setGridId,                // ✅ Ensure this is passed\n  setGrid,                  // ✅ Pass setGrid function\n  setResources,             // ✅ Pass setResources function\n  setTileTypes,             // ✅ Pass setTileTypes function\n  TILE_SIZE,\n  closeAllPanels,\n  visibleSettlementId,\n  setVisibleSettlementId,\n}) => {\n\n  const [frontierGrid, setFrontierGrid] = useState([]);\n  const [settlementGrids, setSettlementGrids] = useState({}); // Store all settlement grids\n  const [error, setError] = useState(null);\n  const { updateStatus } = useContext(StatusBarContext);\n \n  // Fetch Frontier Grid and Settlement Grids together\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`${API_BASE}/api/frontier-bundle/${currentPlayer.location.f}?playerSettlementId=${currentPlayer.location.s}`);\n        const { frontierGrid, settlementGrids = {} } = response.data;\n        setFrontierGrid(frontierGrid);\n        const settlementData = settlementGrids;\n        setSettlementGrids(settlementData);\n      } catch (err) {\n        console.error(\"Error fetching frontier bundle:\", err);\n        setError(\"Failed to fetch grid data\");\n      }\n    };\n    fetchData();\n  }, [currentPlayer.location.f]);\n\n  useEffect(() => {\n    if (isRelocating) {\n      updateStatus(125);\n    }\n  }, [isRelocating]);\n\n  const handleTileClick = async (tile) => {\n    console.log('🎯 Tile clicked:', tile);\n    console.log('👤 Current player state:', {\n      id: currentPlayer?._id,\n      playerId: currentPlayer?.playerId,\n      location: currentPlayer?.location,\n      gridId: currentPlayer?.gridId\n    });\n\n    // Are we in RELOCATION mode?\n    if (isRelocating) {\n      if (tile.settlementType.startsWith('homesteadSet')) {\n        if (tile.settlementId) { setVisibleSettlementId(tile.settlementId);}\n        setZoomLevel('settlement'); return;\n      } else { updateStatus(122); return; }\n    };\n\n    try {\n      // Add validation before attempting transit\n      if (!tile.settlementId) {\n        console.warn('❌ Missing settlementId in clicked tile');\n        updateStatus(\"Invalid destination\");\n        return;\n      }\n\n      // Case 1: Current settlement\n      if (tile.settlementId === currentPlayer.location.s) {\n          console.log('🏠 Player clicked current settlement - zooming in');\n        setZoomLevel(\"settlement\");\n        updateStatus(12);\n        return;\n      }\n\n      // Case 2: Clicking on a tile where the player owns a homestead\n      if (tile.settlementType.startsWith('homesteadSet')) {\n        try {\n          // Fetch the settlement grid\n          const response = await axios.get(`${API_BASE}/api/get-settlement-grid/${tile.settlementId}`);\n          const grids = response.data.grid || [];\n          // Find the player's owned homestead\n          const ownedHomestead = grids.flat().find(\n            (grid) => grid.gridType === \"homestead\" && grid.gridId === currentPlayer.gridId\n          );    \n          if (ownedHomestead) {\n            console.log(\"Traveling to owned homestead:\", ownedHomestead);\n            const toLocation = {\n              x: 1,  \n              y: 1,\n              g: ownedHomestead.gridId, \n              s: tile.settlementId, \n              f: currentPlayer.location.f,\n              gtype: ownedHomestead.gridType, \n              gridCoord: ownedHomestead.gridCoord  \n            };\n            await changePlayerLocation(\n              currentPlayer,\n              currentPlayer.location, \n              toLocation,\n              setCurrentPlayer,\n              setGridId,                // ✅ Ensure this is passed\n              setGrid,                  // ✅ Pass setGrid function\n              setTileTypes,             // ✅ Pass setTileTypes function\n              setResources,             // ✅ Pass setResources function\n              TILE_SIZE,\n              updateStatus,\n              closeAllPanels\n            ); \n            setZoomLevel(\"far\");\n            return;\n          }\n        } catch (error) {\n          console.error(\"Error checking for owned homestead:\", error);\n          updateStatus(8); // General error\n          return;\n        }\n        updateStatus(17); // Homestead tile clicked but no ownership\n        return;\n      }\n\n      // Case 3: Clicking on any other valley tile\n      if ([\"valley0Set\", \"valley1Set\", \"valley2Set\", \"valley3Set\"].includes(tile.settlementType)) {\n        updateStatus(9); // Valley tile clicked\n        return;\n      }\n\n    } catch (error) {\n      console.error('❌ Transit error details:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status,\n        tile: tile\n      });\n      updateStatus(99);\n    }\n  };\n\n  const renderMiniGrid = (tile) => {\n    const tileData = frontierTileData[tile.settlementType] || Array(8).fill(Array(8).fill(\"\"));\n    const settlementGrid = settlementGrids[tile.settlementId]?.grid || [];\n    const flatSettlementGrid = settlementGrid.flat();\n\n    return (\n      <div className=\"mini-grid\">\n        {tileData.map((row, rowIndex) =>\n          row.map((cell, colIndex) => {\n            const gridIndex = rowIndex * 8 + colIndex;\n            const gridData = flatSettlementGrid[gridIndex];\n\n            // Default content from tile data\n            let content = cell;\n\n            // Player's icon always overrides other content\n            if (gridData?.gridId && gridData.gridId === currentPlayer.location.g) {\n              content = currentPlayer.icon;\n            } else if (gridData?.gridType === 'homestead' && !gridData.available) {\n              content = '🏠';\n            } else if (gridData?.gridType === 'town') {\n              content = '🚂';\n            }\n\n            return (\n              <div key={`${rowIndex}-${colIndex}`} className=\"mini-cell\">\n                <span>{content}</span>\n              </div>\n            );\n          })\n        )}\n      </div>\n    );\n  };\n\n  if (error) return <div>Error: {error}</div>;\n  if (!frontierGrid.length) return <div>Loading Frontier Grid...</div>;\n\n  return (\n    <div className=\"frontier-grid\">\n      {frontierGrid.map((row, rowIndex) =>\n        row.map((tile, colIndex) => (\n          <div\n            key={`${rowIndex}-${colIndex}`}\n            className=\"frontier-tile\"\n            style={{\n              backgroundColor: getGridBackgroundColor(tile.settlementType),\n            }}\n            onClick={() => handleTileClick(tile)}\n          >\n            {renderMiniGrid(tile)}\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default FrontierView;\n","// src/UI/Modal.js\nimport React from 'react';\nimport './Modal.css';\n\nfunction Modal({ isOpen = true, onClose, title, children, custom, message, message2, size = \"standard\", className }) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className={`modal-container ${size === \"small\" ? \"modal-small\" : \"\"} ${className || \"\"}`}>\n        {/* Close Button (X style) */}\n        <button className=\"modal-close-btn\" onClick={onClose}>\n          &times;\n        </button>\n\n        {title && <h2 className=\"modal-title\">{title}</h2>}\n\n        <div className=\"modal-content\">\n          {message && <p className=\"modal-message\">{message}</p>}\n          {message2 && <p className=\"modal-message\">{message2}</p>}\n          {children}\n          {custom}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;","import API_BASE from '../config';\nimport Modal from './Modal';\nimport React, { useState } from 'react';\nimport './LanguagePickerModal.css';\nimport './SharedButtons.css';\nimport LANGUAGE_OPTIONS from './Languages.json';\nimport axios from 'axios';\nimport { useStrings } from './StringsContext';\n\nexport default function LanguagePickerModal({ currentPlayer, setCurrentPlayer, updateStatus, onClose, onSave }) {\n  const strings = useStrings();\n  const [selectedLanguage, setSelectedLanguage] = useState(currentPlayer.language || '');\n\n  const handleLanguageClick = (langCode) => {\n    setSelectedLanguage(langCode);\n  };\n\nconst handleSave = async () => {\n  try {\n    const updatedPlayer = { ...currentPlayer, language: selectedLanguage };\n    localStorage.setItem('player', JSON.stringify(updatedPlayer));\n    setCurrentPlayer(updatedPlayer);\n\n    await axios.post(`${API_BASE}/api/update-profile`, {\n      playerId: currentPlayer._id,\n      updates: { language: selectedLanguage },\n    });\n\n    updateStatus && updateStatus('Language updated!');\n    onSave && onSave();\n\n    // ✅ Only reload after successful DB update\n    window.location.reload();\n  } catch (error) {\n    console.error('Error saving language:', error);\n    updateStatus && updateStatus('Failed to update language');\n  }\n};\n\n  return (\n    <Modal onClose={onClose} className=\"modal-LanguagePicker\" size=\"standard\">\n      <div className=\"language-modal\">\n        <h2>{strings[130]}</h2>\n        <ul className=\"language-list\">\n          {LANGUAGE_OPTIONS.map(({ code, label, flag }) => (\n            <li\n              key={code}\n              className={`language-item ${selectedLanguage === code ? 'selected' : ''}`}\n              onClick={() => handleLanguageClick(code)}\n            >\n              <span className=\"flag\">{flag}</span> {label}\n            </li>\n          ))}\n        </ul>\n        <div className=\"modal-buttons\">\n          <button className=\"shared-button\" onClick={handleSave}>{strings[131]}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}","import axios from 'axios';\nimport API_BASE from '../config';\nimport playersInGridManager from '../GridState/PlayersInGrid';\n\nexport const updatePlayerIcon = async (currentPlayer, setCurrentPlayer, playerId, icon, updateStatus) => {\n\n    // ✅ Validate that the icon is a proper emoji\n    const isEmoji = (icon) => {\n      return typeof icon === 'string' && /\\p{Emoji}/u.test(icon);\n    };\n\n    if (!isEmoji(icon)) {\n        console.error('❌ Attempted to set non-emoji icon:', icon);\n        updateStatus?.(\"Please select a valid emoji.\");\n        return;\n    }\n\n    const updates = { icon };\n\n    const res = await axios.post(`${API_BASE}/api/update-profile`, {\n        playerId,\n        updates\n    });\n    if (!res.data.success) {\n        throw new Error('Failed to update icon');\n    }\n\n    // ✅ Proceed only if DB update was successful\n    const gridId = currentPlayer?.location?.g;\n    if (gridId) {\n        const playerData = playersInGridManager.getPlayersInGrid(gridId)?.[currentPlayer.playerId];\n        if (playerData) {\n            const updatedPlayerData = {\n                ...playerData,\n                icon: icon,\n            };\n            playersInGridManager.updatePC(gridId, currentPlayer.playerId, updatedPlayerData);\n            console.log(`✅ Updated icon in playersInGrid: ${currentPlayer.playerId} → ${icon}`);\n        }\n    } else {\n        console.warn(\"⚠️ No valid gridId found, skipping NPCsInGrid update.\");\n    }\n\n    const updatedCurrentPlayer = { ...currentPlayer, icon };\n    localStorage.setItem('player', JSON.stringify(updatedCurrentPlayer));\n    setCurrentPlayer(updatedCurrentPlayer); // ✅ Trigger React state update\n    console.log('✅ Updated localStorage and state for currentPlayer:', icon);\n\n  return res.data.player;\n};","var RELEASE_TRAIN = 'basil';\n\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\n  return version === 3 ? 'v3' : version;\n};\n\nvar ORIGIN = 'https://js.stripe.com';\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar isStripeJSURL = function isStripeJSURL(url) {\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\n};\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!isStripeJSURL(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"7.4.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function (cause) {\n    reject(new Error('Failed to load Stripe.js', {\n      cause: cause\n    }));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var pk = args[0];\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\n\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\n  var expectedVersion = RELEASE_TRAIN;\n\n  if (isTestKey && version !== expectedVersion) {\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"7.4.0\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import API_BASE from '../config';\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport Modal from '../UI/Modal';\nimport './Store.css';\nimport '../UI/SharedButtons.css';\nimport { StatusBarContext } from '../UI/StatusBar';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { updateBadge } from '../Utils/appUtils';\nimport { useStrings } from '../UI/StringsContext';\n\nexport const handlePurchase = async (offerId, currentPlayer, updateStatus) => {\n  try {\n    const response = await axios.post(`${API_BASE}/api/create-checkout-session`, {\n      playerId: currentPlayer.playerId,\n      offerId\n    });\n\n    if (response.data?.id) {\n      const stripe = await loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY);\n      await stripe.redirectToCheckout({ sessionId: response.data.id });\n    } else {\n      updateStatus(\"❌ Failed to initiate checkout.\");\n    }\n  } catch (err) {\n    console.error(\"❌ Error initiating checkout:\", err);\n    updateStatus(\"❌ Error initiating checkout.\");\n  }\n};\n\nfunction Store({ onClose, currentPlayer, setCurrentPlayer, resources, openMailbox, setModalContent, setIsModalOpen }) {\n  const strings = useStrings();\n  const [offers, setOffers] = useState([]);\n  const { updateStatus } = useContext(StatusBarContext);\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const purchaseSuccess = params.get(\"purchase\");\n    console.log(\"🔍 URL query params:\", {\n      purchaseSuccess,\n      playerId: params.get(\"playerId\"),\n      offerId: params.get(\"offerId\")\n    });\n    const playerId = params.get(\"playerId\");\n    const offerId = params.get(\"offerId\");\n\n    if (purchaseSuccess === \"success\" && playerId && offerId) {\n\n      // ✅ Finalize fulfillment by notifying backend\n      axios.post(`${API_BASE}/api/purchase-store-offer`, {\n        playerId,\n        offerId\n      }).then(() => {\n        console.log(\"📬 Called /api/purchase-store-offer successfully for:\", { playerId, offerId });\n        console.log(\"✅ Store reward successfully delivered.\");\n        updateStatus(\"✅ Purchase successful! Check your Inbox.\");\n        updateBadge(currentPlayer, () => {}, \"store\", false); // Clear store badge\n\n        axios.get(`${API_BASE}/api/player/${playerId}`).then((playerResponse) => {\n          setCurrentPlayer(playerResponse.data);\n        }).catch((err) => {\n          console.error(\"❌ Failed to refresh player data:\", err);\n        });\n        \n      }).catch((err) => {\n        console.error(\"🛑 Error calling /api/purchase-store-offer with:\", { playerId, offerId });\n        console.error(\"❌ Failed to deliver store reward:\", err);\n        updateStatus(\"⚠️ Purchase may not have been delivered. Please contact support.\");\n      });\n\n      // ✅ Optionally hit backend to finalize fulfillment if needed\n\n      // ✅ Clean up query params from the URL\n      const url = new URL(window.location.href);\n      url.search = \"\";\n      window.history.replaceState({}, document.title, url.toString());\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchOffers();\n  }, []);\n\n  const fetchOffers = async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/store-offers`);\n      setOffers(response.data || []);\n    } catch (error) {\n      console.error(\"❌ Failed to load store offers:\", error);\n    }\n  };\n\n  const isOfferExpired = (offer) => {\n    if (!offer.shelflifeDays || !currentPlayer?.created) return false;\n\n    const created = new Date(currentPlayer.created);\n    const now = new Date();\n    const daysSince = Math.floor((now - created) / (1000 * 60 * 60 * 24));\n\n    return daysSince > offer.shelflifeDays;\n  };\n\n  return (\n    <Modal\n      onClose={(args) => {\n        if (args?.openMailbox && typeof openMailbox === 'function') {\n          openMailbox();\n        }\n        onClose();\n      }}\n      title={strings[1701]}\n    >\n        <h3>{strings[1702]}</h3>\n        <h4>{strings[1703]}</h4>\n        <h4>{strings[1704]}</h4>\n\n      <div className=\"store-offers\">\n        {offers\n          .filter((offer) => !isOfferExpired(offer))\n          .map((offer) => (\n\n\n            <div key={offer.id} className={`store-offer-card${String(offer.id) === \"1\" ? ' store-offer-card-gold' : ''}`}>\n            <div className=\"store-offer-left\">\n                <h3>{offer.title}</h3>\n                <p>{offer.body}</p>\n                <p className=\"store-reward-line\">\n                 {offer.rewards.map(r => {\n                    const symbol = resources.find(res => res.type === r.item)?.symbol || '';\n                    return `${symbol} ${r.qty} ${r.item}`;\n                }).join(\", \")}\n                </p>\n            </div>\n\n            <div className=\"store-offer-right\">\n                <div className=\"store-price\">USD ${offer.price.toFixed(2)}</div>\n                <div className=\"standard-buttons\">\n                  <button className=\"btn-purchase\" onClick={() => handlePurchase(offer.id, currentPlayer, updateStatus)}>Buy</button>\n                </div>\n            </div>\n            </div>\n\n\n          ))}\n      </div>\n    </Modal>\n  );\n}\n\nexport default Store;","import React, { useState } from 'react';\nimport './ChangeIconModal.css';\nimport '../UI/SharedButtons.css';\nimport { updatePlayerIcon } from '../Authentication/ChangeIcon';\nimport ICON_OPTIONS from '../Authentication/PlayerIcons.json';\nimport { handlePurchase } from '../Store/Store';\nimport { useStrings } from '../UI/StringsContext';\n\nexport default function ChangeIconModal({ currentPlayer, setCurrentPlayer, updateStatus, currentIcon, playerId, onClose, onSave, setModalContent, setModalIsOpen  }) {\n  const [selectedIcon, setSelectedIcon] = useState(currentIcon);\n  const strings = useStrings();\n  \n  const handleSave = async () => {\n    try {\n      // Save the emoji label instead of the ID\n      await updatePlayerIcon(currentPlayer, setCurrentPlayer, playerId, selectedIcon);\n      onSave(selectedIcon);\n    } catch (err) {\n      alert(\"Failed to update icon.\");\n    }\n  };\n\n  // Determine gold status\n  const isGold = currentPlayer.accountStatus === 'Gold';\n\n  // Split icons into free and paid\n  const freeIcons = ICON_OPTIONS.free || [];\n  const paidIcons = ICON_OPTIONS.paid || [];\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"icon-modal\">\n        <button className=\"modal-close-btn\" onClick={onClose}>×</button>\n        <h2>Choose Your Avatar</h2>\n\n        <br />\n\n        <div className=\"icon-grid\">\n          {freeIcons.map(icon => (\n            <button\n              key={icon.value}\n              className={`icon-button ${selectedIcon === icon.value ? 'selected' : ''}`}\n              onClick={() => setSelectedIcon(icon.value)}\n              disabled={false}\n            >\n              {icon.value}\n            </button>\n          ))}\n        </div>\n\n        <h3>Premium Avatars</h3>\n\n        {!isGold && (\n          <div className=\"standard-buttons\">\n            <button className=\"btn-purchase\" onClick={() => handlePurchase(1, currentPlayer, updateStatus)}>Unlock Premium Avatars</button>\n          </div>\n        )}\n\n        <div className=\"icon-grid\">\n          {paidIcons.map(icon => {\n            const locked = !isGold;\n            return (\n              <button\n                key={icon.value}\n                className={`icon-button ${selectedIcon === icon.value ? 'selected' : ''} ${locked ? 'locked' : ''}`}\n                disabled={locked}\n                onClick={() => {\n                  if (!locked) setSelectedIcon(icon.value);\n                }}\n              >\n                {icon.value}\n              </button>\n            );\n          })}\n        </div>\n\n\n        <div className=\"standard-buttons\">\n          <button className=\"btn-success\" onClick={handleSave}>Save</button>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useEffect } from 'react';\nimport { usePanelContext } from './PanelContext'; // Import the context\nimport './Panel.css';\nimport { useStrings } from './StringsContext';\n\nconst Panel = ({ onClose, children, descriptionKey, panelName, titleKey }) => {\n  const strings = useStrings();\n  const { activePanel, openPanel, closePanel } = usePanelContext();\n\n  useEffect(() => {\n    if (activePanel === panelName) {\n      openPanel(panelName); // Set this panel as active\n    }\n  }, [activePanel, panelName, openPanel]);\n\n  if (activePanel !== panelName) {\n    return null; // Ensure only the active panel is displayed\n  }\n\n  return (\n    <div className=\"panel-container\">\n      {/* Fixed Header with Title and Close Button */}\n      <div className=\"panel-header\">\n        <h2 className=\"panel-title\">{strings[titleKey] || \"Panel\"}</h2>\n        <button\n          className=\"panel-close-btn\"\n          onClick={() => {\n            closePanel();\n            onClose();\n          }}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            width=\"24\"\n            height=\"24\"\n          >\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n          </svg>\n        </button>\n      </div>\n\n      {/* Scrollable Content Area */}\n      <div className=\"panel-content\">{children}</div>\n\n      {/* Panel Description */}\n      {descriptionKey && (\n        <div className=\"panel-description\">\n          <p>{strings[descriptionKey]}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Panel;","import React, { createContext, useContext, useState } from 'react';\n\n// Create a context\nconst ModalContext = createContext();\n\n// Hook to use context\nexport const useModalContext = () => useContext(ModalContext);\n\n// Provider to wrap the app\nexport const ModalProvider = ({ children, custom }) => {\n  const [activeModal, setActiveModal] = useState(null);\n  React.useEffect(() => {\n    const id = Math.floor(Math.random() * 10000);\n    console.log(`🧩 ModalProvider mounted. ID: ${id}`);\n    return () => console.warn(`🧨 ModalProvider unmounted. ID: ${id}`);\n  }, []);\n\n  const openModal = (modalName) => {\n    console.log(`Opening modal: ${modalName}`);\n    setActiveModal(modalName);\n  };\n\n  const closeModal = () => {\n    setActiveModal(null);\n  };\n\n  return (\n    <ModalContext.Provider value={{ activeModal, setActiveModal, openModal, closeModal }}>\n      {children}\n      {custom}\n    </ModalContext.Provider>\n  );\n};\n","import API_BASE from '../config';\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport ChangeIconModal from '../UI/ChangeIconModal';\nimport axios from 'axios';\nimport '../UI/Panel.css'; // Use the standardized styles\nimport '../UI/SharedButtons.css'; // Use the standardized buttons\nimport Panel from '../UI/Panel';\nimport { updatePlayerSettings } from '../settings';  \nimport NPCsInGridManager from '../GridState/GridStateNPCs';\nimport playersInGridManager from '../GridState/PlayersInGrid';\nimport { StatusBarContext } from '../UI/StatusBar';\nimport { usePanelContext } from '../UI/PanelContext';\nimport LANGUAGE_OPTIONS from '../UI/Languages.json';\nimport { useModalContext } from '../UI/ModalContext';\nimport { useStrings } from '../UI/StringsContext';\n\nconst ProfilePanel = ({ onClose, currentPlayer, setCurrentPlayer, handleLogout, isRelocating, setIsRelocating, zoomLevel, setZoomLevel }) => {\n  const strings = useStrings();\n  const { openPanel } = usePanelContext();\n\n  const [isDeveloper, setIsDeveloper] = useState(false);\n  const hasCheckedDeveloperStatus = useRef(false);\n  const [showChangeIconModal, setShowChangeIconModal] = useState(false);\n\n  useEffect(() => {\n    const checkDevStatus = async () => {\n      try {\n        if (!hasCheckedDeveloperStatus.current && currentPlayer?.username) {\n          const res = await axios.get(`${API_BASE}/api/check-developer-status/${currentPlayer.username}`);\n          if (res.data?.isDeveloper) {\n            setIsDeveloper(true);\n          }\n          hasCheckedDeveloperStatus.current = true;\n          console.log('🔍 Developer check complete. isDeveloper:', res.data?.isDeveloper);\n        }\n      } catch (err) {\n        console.warn('⚠️ Failed to check developer status:', err);\n      }\n    };\n\n    checkDevStatus();\n  }, [currentPlayer]);\n\n  const [formData, setFormData] = useState({\n    username: '',\n    icon: '',\n    password: '',\n    accountStatus: 'Free',\n    role: 'Citizen',\n  });\n\n  const { updateStatus } = useContext(StatusBarContext);\n  const [isSaving, setIsSaving] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // Local settings to track changes independently\n  const [localSettings, setLocalSettings] = useState({\n    isStateMachineEnabled: false,\n    isTeleportEnabled: false,\n    toggleVFX: true,\n  });\n\n  // Initialize form fields and local settings\n  useEffect(() => {\n    if (currentPlayer) {\n      const { settings } = currentPlayer;\n      setLocalSettings({\n        isStateMachineEnabled: settings?.isStateMachineEnabled ?? false,\n        isTeleportEnabled: settings?.isTeleportEnabled ?? false,\n        toggleVFX: settings?.toggleVFX ?? true,\n        rangeOn: settings?.rangeOn ?? true,\n      });\n  \n      setFormData({\n        username: currentPlayer.username || '',\n        icon: currentPlayer.icon || '',\n        password: '',\n        accountStatus: currentPlayer.accountStatus || 'Free',\n        role: currentPlayer.role || 'Citizen',\n      });\n  \n      setErrorMessage('');\n\n      console.log('Profile: curentPlayer = ',currentPlayer);\n    }\n  }, [currentPlayer]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleToggleChange = (key) => {\n    setLocalSettings((prev) => {\n      const updatedSettings = {\n        ...prev,\n        [key]: !prev[key],\n      };\n\n      // ✅ Call the centralized function to update local and server settings\n      updatePlayerSettings(updatedSettings, currentPlayer, setCurrentPlayer);\n      return updatedSettings;\n    });\n  };\n\n  const { setActiveModal } = useModalContext();\n\n  const handleLanguage = () => {\n    setActiveModal('LanguagePicker');\n  };\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    setErrorMessage('');\n  \n    try {\n      // Validate username and icon inputs\n      if (!formData.username.trim()) {\n        throw new Error('Username cannot be empty.');\n      }\n  \n      // Prepare updates payload\n      const updates = {\n        username: formData.username.trim(),\n        icon: formData.icon.trim(),\n        ...(formData.password && { password: formData.password }),\n        accountStatus: formData.accountStatus,\n        role: formData.role,\n        settings: { ...localSettings }, // Save settings as an object\n      };\n  \n      console.log('Saving updates:', updates);\n  \n      // Call API to update the player profile\n      const response = await axios.post(`${API_BASE}/api/update-profile`, {\n        playerId: currentPlayer.playerId,\n        updates,\n      });\n  \n      if (response.data.success) {\n        console.log('Profile and settings successfully updated:', response.data.player);\n\n        // ✅ Update the React state\n        const updatedPlayer = {\n          ...currentPlayer,\n          settings: { ...localSettings },\n          username: formData.username.trim(),\n          icon: formData.icon.trim(),\n          accountStatus: formData.accountStatus,\n          role: formData.role,\n        };\n\n        setCurrentPlayer(updatedPlayer);\n        localStorage.setItem('player', JSON.stringify(updatedPlayer));\n        console.log('Updated localStorage after save:', updatedPlayer.settings);\n\n        // ✅ Update the Settlement with the player's new role\n        if (formData.role) {\n          console.log(`🏛️ Assigning player to role \"${formData.role}\" in the settlement...`);\n          \n          await axios.post(`${API_BASE}/api/update-settlement-role`, {\n            settlementId: currentPlayer.location.s, // ✅ Settlement ID\n            playerId: currentPlayer._id,           // ✅ Player's ID\n            roleName: formData.role                // ✅ Role they are assigned to\n          });\n        }\n\n        // ✅ Directly update playersInGrid via playersInGridManager\n        const gridId = currentPlayer?.location?.g;\n        if (gridId) {\n            const playerData = playersInGridManager.getPlayersInGrid(gridId)?.[currentPlayer.playerId];\n            if (playerData) {\n                const updatedPlayerData = {\n                    ...playerData,\n                    username: formData.username.trim(),\n                };\n\n                playersInGridManager.updatePC(gridId, currentPlayer.playerId, updatedPlayerData);\n\n                console.log(`✅ Updated username in playersInGrid: ${currentPlayer.playerId} → ${formData.username.trim()}`);\n            }\n        } else {\n            console.warn(\"⚠️ No valid gridId found, skipping NPCsInGrid update.\");\n        }\n\n        // Notify success and close panel\n        onClose();\n      } else {\n        const errorMessage = response.data.error || 'Failed to update profile.';\n        console.error(errorMessage);\n        setErrorMessage(errorMessage);\n      }\n    } catch (error) {\n      console.error('Error during save operation:', error);\n      // ✅ Check if the error message contains \"TAKEN\"\n      if (error.response?.data?.error === \"TAKEN\") {\n        console.log(\"❌ Username is already taken.\");\n        updateStatus(50); \n      }\n      setErrorMessage(error.message || 'An unexpected error occurred while saving.');\n    } finally {\n      setIsSaving(false);\n    }\n};\n\n\n  const handleRelocation = async () => {\n    if (isRelocating) {\n      setIsRelocating(false);\n      setZoomLevel('close');\n      updateStatus(0);\n    } else {\n      setIsRelocating(true);\n      setZoomLevel('frontier');\n    }\n  };\n\n  const handleGoldPanelSwitch = () => {\n    openPanel('GoldBenefitsPanel');\n  };\n\n  return (\n    <Panel\n      onClose={() => {\n        setIsRelocating(false);\n        if (zoomLevel === 'settlement' || zoomLevel === 'frontier') {\n          setZoomLevel('close');\n          updateStatus(0);\n        }\n        onClose();\n      }}\n      descriptionKey=\"1019\"\n      titleKey=\"1119\"\n      panelName=\"ProfilePanel\"\n    >\n      <div className=\"panel-content\">\n\n        <h2>{strings[4051]} {currentPlayer.username} {currentPlayer.icon}</h2>\n\n        <div className=\"panel-buttons\">\n          <button className=\"btn-success\" onClick={() => setShowChangeIconModal(true)}>{strings[4065]}</button>\n        </div>\n\n        <br />\n\n        {/* User Details Form */}\n        <div className=\"form-group\">\n          <label>{strings[4052]}</label>\n          <input\n            name=\"username\"\n            type=\"text\"\n            value={formData.username}\n            onChange={handleInputChange}\n            placeholder=\"Enter your username\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>{strings[4053]}</label>\n          <input\n            name=\"password\"\n            type=\"password\"\n            value={formData.password}\n            onChange={handleInputChange}\n            placeholder=\"Enter new password (optional)\"\n          />\n        </div>\n\n        <div className=\"panel-buttons\">\n          <button className=\"btn-success\" onClick={handleSave} disabled={isSaving}>\n            {isSaving ? 'Saving...' : strings[10128]}\n          </button>\n        </div>\n\n        <br />\n        <br />\n\n        <h3>{strings[4054]}</h3>\n\n        {isDeveloper && (\n          <div className=\"form-group\">\n            <label>{strings[4055]}</label>\n            <select name=\"accountStatus\" value={formData.accountStatus} onChange={handleInputChange}>\n              <option value=\"Free\">Free</option>\n              <option value=\"Bronze\">Bronze</option>\n              <option value=\"Silver\">Silver</option>\n              <option value=\"Gold\">Gold</option>\n            </select>\n          </div>\n        )}\n\n        <div className=\"panel-buttons\">\n          <button className=\"btn-gold\" onClick={handleGoldPanelSwitch}>\n            {formData.accountStatus === 'Gold' ? strings[10130] : strings[10131]}\n          </button>\n        </div>\n        <div className=\"panel-buttons\">\n          <button className=\"btn-danger\" onClick={handleLogout}>\n            {strings[4056]}\n          </button>\n        </div>\n        <div className=\"panel-buttons\">\n          <button\n            className=\"btn-danger\"\n            onClick={async () => {\n              const confirmed = window.confirm(\"Are you sure you want to delete your account? This action cannot be undone.\");\n              if (!confirmed) return;\n\n              try {\n                const response = await axios.post(`${API_BASE}/api/delete-player`, {\n                  playerId: currentPlayer.playerId,\n                });\n\n                if (response.data.success) {\n                  alert(\"Account deleted successfully.\");\n                  localStorage.removeItem('player');\n                  window.location.reload();\n                } else {\n                  alert(\"Failed to delete account.\");\n                }\n              } catch (err) {\n                console.error(\"Error deleting account:\", err);\n                alert(\"An error occurred while trying to delete your account.\");\n              }\n            }}\n          >\n            {strings[4057]}\n          </button>\n        </div>\n        <p>{strings[4058]} {currentPlayer?.playerId || 'N/A'}</p>\n\n        <br/>\n\n\n        {/* Relocation Controls */}\n\n        <h3>{strings[4059]}</h3>\n        <p>{strings[4060]} <strong>{currentPlayer.relocations}</strong></p>\n        <div className=\"panel-buttons\">\n          <button className=\"btn-success\" onClick={handleRelocation} disabled={!currentPlayer.relocations}>\n            {isRelocating ? strings[10132] : strings[10133]}\n          </button>\n        <p>{strings[4061]}</p>\n        </div>\n\n\n        {/* Settings Toggles */}\n\n        <h3>{strings[4062]}</h3>\n        <div className=\"panel-buttons\">\n          <button className=\"btn-success\" onClick={handleLanguage}>\n            🌎 {LANGUAGE_OPTIONS.find(l => l.code === currentPlayer.language)?.label || 'Language'}\n          </button>\n        </div>\n\n        <div className=\"debug-toggles\">\n          <button\n            className={`btn-toggle ${localSettings.rangeOn ? 'btn-enabled' : 'btn-disabled'}`}\n            onClick={() => handleToggleChange('rangeOn')}\n          >\n            {strings[4064]}{localSettings.rangeOn ? 'is ON' : 'is OFF'}\n          </button>\n\n          {isDeveloper && (\n            <button\n              className={`btn-toggle ${localSettings.isTeleportEnabled ? 'btn-enabled' : 'btn-disabled'}`}\n              onClick={() => handleToggleChange('isTeleportEnabled')}\n            >\n              Teleport: {localSettings.isTeleportEnabled ? 'is ON' : 'is OFF'}\n            </button>\n          )}\n\n          <button\n            className={`btn-toggle ${localSettings.toggleVFX ? 'btn-enabled' : 'btn-disabled'}`}\n            onClick={() => handleToggleChange('toggleVFX')}\n          >\n            VFX: {localSettings.toggleVFX ? 'is ON' : 'is OFF'}\n          </button>\n        </div>\n\n        {showChangeIconModal && (\n          <ChangeIconModal\n            currentPlayer={currentPlayer}\n            setCurrentPlayer={setCurrentPlayer}\n            updateStatus={updateStatus}\n            currentIcon={formData.icon}\n            playerId={currentPlayer.playerId}\n            onClose={() => setShowChangeIconModal(false)}\n            onSave={(newIcon) => {\n              setFormData(prev => ({ ...prev, icon: newIcon }));\n              setShowChangeIconModal(false);\n            }}\n          />\n        )}\n      </div>\n    </Panel>\n    \n  );\n};\n\nexport default ProfilePanel;","import API_BASE from './config';\nimport axios from 'axios';\n\n/**\n * Update player settings both locally and on the server.\n */\nexport async function updatePlayerSettings(newSettings, currentPlayer, setCurrentPlayer) {\n  try {\n    // Prepare payload\n    const updatedPlayer = {\n      ...currentPlayer,\n      settings: { ...newSettings }, // Merge new settings\n    };\n\n    // Save to local storage first for immediate responsiveness\n    localStorage.setItem('player', JSON.stringify(updatedPlayer));\n    setCurrentPlayer(updatedPlayer);\n\n    console.log('Updating settings on server:', newSettings);\n\n    // Send update to server\n    const response = await axios.post(`${API_BASE}/api/update-settings`, {\n      playerId: currentPlayer.playerId,\n      settings: newSettings,\n    });\n\n    if (response.data.success) {\n      console.log('Settings updated successfully on server.');\n    } else {\n      console.error('Server update failed:', response.data.error);\n    }\n  } catch (error) {\n    console.error('Error updating player settings:', error);\n  }\n}","import API_BASE from '../config';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport NPCsInGridManager from '../GridState/GridStateNPCs';\nimport { useStrings } from '../UI/StringsContext';\nimport LANGUAGE_OPTIONS from '../UI/Languages.json';\n\nconst CreateAccount = ({ setCurrentPlayer, zoomLevel, setZoomLevel, setIsLoggedIn, closeModal }) => {\n  const strings = useStrings();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [language, setLanguage] = useState('en');\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\nconst handleCreateAccount = async (e) => {\n  e.preventDefault();\n  if (isSubmitting) return;\n  setIsSubmitting(true);\n\n  try {\n    const frontierName = 'Valley View 1';\n    const accountStatus = 'Free';\n    const role = 'Citizen';\n\n    // 1. Fetch the Frontier by Name\n    const frontierResponse = await axios.get(`${API_BASE}/api/frontiers-by-name`, { params: { name: frontierName } });\n    if (!frontierResponse.data || frontierResponse.data.length === 0) throw new Error('Frontier not found');\n    const frontier = frontierResponse.data[0];\n\n    // 2. Locate an available sub-grid in a settlement\n    let assignedSettlementId = null;\n    let assignedGridCoord = null;\n    let gridType = null;\n\n    for (const settlementRow of frontier.settlements || []) {\n      for (const settlement of settlementRow) {\n        if (settlement.available !== true) continue;\n\n        const settlementResponse = await axios.get(`${API_BASE}/api/get-settlement/${settlement.settlementId}`);\n        const settlementData = settlementResponse.data;\n\n        const availableGrid = settlementData.grids.flat().find((grid) => grid.available === true);\n        if (availableGrid) {\n          assignedSettlementId = settlement.settlementId;\n          assignedGridCoord = availableGrid.gridCoord;\n          gridType = availableGrid.gridType;\n          break;\n        }\n      }\n      if (assignedGridCoord) break;\n    }\n\n    if (!assignedSettlementId || !assignedGridCoord) {\n      throw new Error('No available sub-grids in the Frontier.');\n    }\n\n    // 3. Register player using unified endpoint (server will create the grid)\n    const registerPayload = {\n      username,\n      password,\n      language,\n      location: {\n        x: 2,\n        y: 2,\n        gridCoord: assignedGridCoord,\n        settlementId: assignedSettlementId,\n        frontierId: frontier._id,\n        gtype: gridType,\n      },\n    };\n\n    console.log('Calling /api/register-new-player with payload:', registerPayload);\n    const response = await axios.post(`${API_BASE}/api/register-new-player`, registerPayload);\n    if (!response.data.success || !response.data.player) {\n      throw new Error('Player registration failed');\n    }\n\n    const player = response.data.player;\n    const location = player.location;\n    const assignedGridId = location?.g;\n\n    console.log('✅ Player registered:', player);\n\n    // 4. Finalize account setup\n    setCurrentPlayer(player);\n    localStorage.removeItem('player');\n    localStorage.setItem('player', JSON.stringify(player));\n\n    // 5. Save PC to grid\n    const now = Date.now();\n    const newPC = {\n      playerId: player._id,\n      type: 'pc',\n      username: player.username,\n      position: { x: 2, y: 2 },\n      icon: player.icon || '😀',\n      hp: player.baseHp || 25,\n      maxhp: player.baseMaxhp || 25,\n      attackbonus: player.baseAttackbonus || 1,\n      armorclass: player.baseArmorclass || 1,\n      damage: player.baseDamage || 1,\n      attackrange: player.baseAttackrange || 1,\n      speed: player.baseSpeed || 1,\n      iscamping: false,\n      lastUpdated: now,\n    };\n\n    const payload = {\n      gridId: assignedGridId,\n      playerId: player._id,\n      pc: newPC,\n      lastUpdated: now,\n    };\n\n    await axios.post(`${API_BASE}/api/save-single-pc`, payload);\n\n    // 6. Send welcome message\n    try {\n      await axios.post(`${API_BASE}/api/send-mailbox-message`, {\n        playerId: player._id,\n        messageId: 1,\n      });\n    } catch (mailError) {\n      console.error(\"❌ Failed to send welcome message:\", mailError);\n    }\n\n    // 7. Close modal and reload\n    if (closeModal) closeModal();\n    localStorage.setItem(\"initialZoomLevel\", \"far\");\n    window.location.reload();\n\n  } catch (err) {\n    console.error('Error during account creation:', err);\n    setError(err.response?.data?.error || 'Account creation failed. Please try again.');\n    setIsSubmitting(false);\n  }\n};\n\nreturn (\n  <div id=\"create-account-form\">\n    <h2>{strings[4002]}</h2>\n    <form onSubmit={handleCreateAccount}>\n      <input\n        type=\"text\"\n        placeholder=\"Username\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <select\n        value={language}\n        onChange={(e) => setLanguage(e.target.value)}\n      >\n        <option value=\"\">{strings[4067]}</option>\n        {LANGUAGE_OPTIONS.map(({ code, label }) => (\n          <option key={code} value={code}>\n            {label}\n          </option>\n        ))}\n      </select>\n      <div className=\"panel-buttons\">\n        <button className=\"btn-success\" type=\"submit\" disabled={isSubmitting}>\n          {strings[4002]}\n        </button>\n      </div>\n    </form>\n\n    <div className=\"panel-buttons\">\n      <button className=\"btn-neutral\"\n        type=\"button\"\n        onClick={() => setIsLoggedIn(false)}\n      >\n        {strings[4066]}\n      </button>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      </div>\n\n      <p> <strong>{strings[4004]}</strong></p>\n    </div>\n    \n  );\n};\n\nexport default CreateAccount;","import API_BASE from '../config';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Panel from '../UI/Panel';\nimport CreateAccount from './CreateAccount';\nimport '../UI/Panel.css'; \nimport { useStrings } from '../UI/StringsContext';\n\nconst LoginPanel = ({ onClose, setCurrentPlayer, zoomLevel, setZoomLevel, onLoginSuccess }) => {\n  const strings = useStrings();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [showCreateAccount, setShowCreateAccount] = useState(false);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      console.log('Login attempt:', { username, password });\n\n      const response = await axios.post(`${API_BASE}/api/login`, { username, password });\n      if (response.data.success) {\n        const player = response.data.player;\n        console.log('Login successful:', player);\n\n        setCurrentPlayer(player); // Set player data\n        localStorage.setItem('player', JSON.stringify(player)); // Store in local storage\n        onClose(); // Close panel\n\n        if (onLoginSuccess) {\n          onLoginSuccess(player); // Notify parent component\n        }\n      } else {\n        setError(response.data.error || 'Invalid username or password');\n      }\n    } catch (err) {\n      console.error('Error during login:', err);\n      setError('Login failed. Please try again.');\n    }\n  };\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1021\" titleKey=\"1121\" panelName=\"LoginPanel\">\n      {showCreateAccount ? (\n        <CreateAccount\n          setCurrentPlayer={setCurrentPlayer}\n          zoomLevel={zoomLevel}\n          setZoomLevel={setZoomLevel}\n          setIsLoggedIn={() => {\n            setShowCreateAccount(false);\n            onClose();\n          }}\n        />\n      ) : (\n        <div className=\"panel-content\">\n          <form onSubmit={handleLogin} className=\"panel-form\">\n            <div className=\"form-group\">\n\n            <div className=\"panel-buttons\">\n            <h3>{strings[4001]}</h3>\n              <button\n                type=\"button\"\n                className=\"btn-success\"\n                onClick={() => setShowCreateAccount(true)}\n              >\n                {strings[4002]}\n              </button>\n            </div>  \n            <h4>{strings[4004]}</h4>\n            <h4>{strings[4005]}</h4>\n\n            <h3>Have an existing account?</h3>\n\n              <label htmlFor=\"username\">Username</label>\n              <input\n                id=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">{strings[4006]}</label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            {error && <p className=\"error-message\">{error}</p>}\n\n            <div className=\"panel-buttons\">\n              <button type=\"submit\" className=\"btn-success\">\n                {strings[4007]}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </Panel>\n  );\n};\n\nexport default LoginPanel;\n","// A small component to add to App.js Base Panel for visual debugging\nimport React from 'react';\nimport './GridStateDebug.css';\n\nconst GridStateDebugPanel = ({ gridId, gridCoord, gridType, NPCsInGrid, playersInGrid }) => {\n  const formatJSON = (obj) => {\n    try {\n      return JSON.stringify(obj, null, 2);\n    } catch {\n      return '[Unserializable]';\n    }\n  };\n\n  const currentNPCs = NPCsInGrid?.[gridId] || 'Not loaded';\n  const currentPCs = playersInGrid?.[gridId] || 'Not loaded';\n\n  return (\n    <div className=\"grid-debug-panel\">\n      <h4 style={{ color: 'white' }}>Debug:</h4>\n      <br></br>\n      <h5>gridId:</h5>\n      <pre>{formatJSON(gridId)}</pre>\n      <h5>gridCoord: {formatJSON(gridCoord)}</h5>\n      <h5>gridType: {formatJSON(gridType)}</h5>\n      <br></br>\n      <h5>🐮 NPCsInGrid?[gridId]</h5>\n      <pre>{formatJSON(currentNPCs)}</pre>\n      <h5>👥 PlayersInGrid?[gridId]</h5>\n      <pre>{formatJSON(currentPCs)}</pre>\n    </div>\n  );\n};\n\nexport default GridStateDebugPanel;\n","import API_BASE from '../config'; \nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Panel from '../UI/Panel';\nimport '../UI/Panel.css'; // Specific styles for Debug Panel\nimport { fetchInventory, refreshPlayerAfterInventoryUpdate } from './InventoryManagement';\nimport { fetchGridData } from './GridManagement';\nimport NPCsInGridManager from '../GridState/GridStateNPCs'; // Use default export for NPCsInGridManager\nimport playersInGridManager from '../GridState/PlayersInGrid';\nimport GridStateDebugPanel from './GridStateDebug';\nimport { generateTownGrids, generateValleyGrids, createSingleValleyGrid } from './WorldGeneration';\n \nconst DebugPanel = ({ onClose, currentPlayer, setCurrentPlayer, setInventory, setResources, currentGridId, updateStatus }) => {\n  const [timers, setTimers] = useState([]);\n  const [npcs, setNPCs] = useState([]);\n  const [pcs, setPCs] = useState([]);\n  const [updatedNPCs, setUpdatedNPCs] = useState(npcs);\n  const [refreshDebug, setRefreshDebug] = useState(false);\n  const [singleGridCoord, setSingleGridCoord] = useState('');\n  const [usernameToDelete, setUsernameToDelete] = useState('');\n  const [messageIdentifier, setMessageIdentifier] = useState('');\n  \n  // Fetch resources with timers when the panel opens or gridId changes\n  useEffect(() => {\n    if (!currentGridId) return;\n\n    const fetchTimers = async () => {\n        try {\n            console.log('Fetching timers for gridId:', currentGridId);\n            const gridData = await fetchGridData(currentGridId,updateStatus,currentPlayer);\n\n            // ✅ Include both growEnd (Farming) and craftEnd (Crafting)\n            const resourcesWithTimers = (gridData.resources || []).filter(\n                (res) => res.growEnd || res.craftEnd\n            );\n\n            console.log('⏳ Active Timers:', resourcesWithTimers);\n            setTimers(resourcesWithTimers);\n        } catch (error) {\n            console.error('Error fetching timers:', error);\n        }\n    };\n\n    fetchTimers();\n  }, [currentGridId]);\n\n  // Refresh timers periodically\n  useEffect(() => {\n    const timerInterval = setInterval(() => {\n      setTimers((prevTimers) =>\n        prevTimers.map((timer) => {\n          const growTimeRemaining = timer.growEnd ? Math.max(0, Math.floor((timer.growEnd - Date.now()) / 1000)) : null;\n          const craftTimeRemaining = timer.craftEnd ? Math.max(0, Math.floor((timer.craftEnd - Date.now()) / 1000)) : null;\n\n          return {\n            ...timer,\n            remainingTime: growTimeRemaining !== null ? growTimeRemaining : craftTimeRemaining, // Prioritize active timer\n          };\n        })\n      );\n    }, 1000);\n\n    return () => clearInterval(timerInterval);\n  }, []);\n\n  // Fetch NPCs and PCs from GridState\n  useEffect(() => {\n    if (!currentGridId) return;\n\n    const fetchGridStateEntities = () => {\n      const NPCsInGrid = NPCsInGridManager.getNPCsInGrid(currentGridId);\n      const playersInGrid = playersInGridManager.getPlayersInGrid(currentGridId);\n\n      if (!NPCsInGrid) {\n        console.warn(`No NPCsInGrid found for gridId: ${currentGridId}`);\n        setNPCs([]);\n      } else {\n        setNPCs(Object.values(NPCsInGrid.npcs || {}));\n      }\n\n      if (!playersInGrid) {\n        console.warn(`No playersInGrid found for gridId: ${currentGridId}`);\n        setPCs([]);\n      } else {\n        setPCs(Object.values(playersInGrid));\n      }\n    };\n\n    fetchGridStateEntities();\n  }, [currentGridId, refreshDebug]);\n  \n  // Synchronize updatedNPCs with npcs when npcs changes\n  useEffect(() => {\n    setUpdatedNPCs(npcs);\n  }, [npcs]);\n\n\n\n\n  const handleResetGrid = async () => {\n    if (!currentGridId) { console.error('currentGridId is not defined.'); return; }\n    console.log('handleResetGrid: gridId:', currentGridId);\n  \n    try {\n      // Fetch settlement details using the player's current location\n      const settlementId = currentPlayer?.location?.s; // Fetch settlementId from current player location\n      if (!settlementId) {\n        console.error('Settlement ID not found for the current player.');\n        alert('Settlement ID not found for the current player.');\n        return;\n      }\n  \n      // Fetch settlement data to retrieve frontierId\n      const settlementResponse = await axios.get(`${API_BASE}/api/get-settlement/${settlementId}`);\n      const settlement = settlementResponse.data;\n  \n      if (!settlement || !settlement.frontierId) {\n        console.error('Settlement data is incomplete or missing frontierId.');\n        alert('Settlement data is incomplete or missing frontierId.');\n        return;\n      }\n  \n      const frontierId = settlement.frontierId; // Extract frontierId from the settlement\n      console.log('Settlement and frontierId resolved:', { settlementId, frontierId });\n  \n      // Fetch grid data to determine the gridType dynamically\n      const gridResponse = await axios.get(`${API_BASE}/api/load-grid/${currentGridId}`);\n      const gridData = gridResponse.data;\n  \n      if (!gridData || !gridData.gridType) {\n        console.error('Grid data is incomplete or missing gridType.');\n        alert('Grid data is incomplete or missing gridType.');\n        return;\n      }\n  \n      const gridType = gridData.gridType;\n\n      let gridCoord = null;\n      for (const row of settlement.grids) {\n        for (const cell of row) {\n          if (cell.gridId && String(cell.gridId) === String(currentGridId)) {\n            gridCoord = cell.gridCoord;\n            break;\n          }\n        }\n        if (gridCoord !== null) break;\n      }\n\n      if (gridCoord === null) {\n        console.error('Could not resolve gridCoord from settlement.');\n        alert('Could not resolve gridCoord from settlement.');\n        return;\n      }\n\n      console.log('Extracted gridData: gridType=', gridType, '; gridCoord=', gridCoord);\n  \n      // Send request to reset the grid\n      const resetResponse = await axios.post(`${API_BASE}/api/reset-grid`, {\n        gridCoord,\n        gridId: currentGridId, // Use the Mongo `_id` of the grid\n        gridType,\n        settlementId,\n        frontierId,\n      });\n  \n      console.log(`Grid ${currentGridId} of type ${gridType} reset successfully:`, resetResponse.data);\n      updateStatus(903);\n      window.location.reload();\n    } catch (error) {\n      console.error(`Error resetting grid \"${currentGridId}\":`, error);\n      alert(`Failed to reset grid \"${currentGridId}\". Check the console for details.`);\n    }\n  }; \n\n  \n  const handleAddMoney = async () => {\n    try {\n      const playerId = currentPlayer?.playerId;\n      if (!playerId) { console.error('No user logged in. Cannot add money.'); return; }\n      // Call delta-based inventory update\n      await axios.post(`${API_BASE}/api/update-inventory-delta`, {\n        playerId,\n        delta: { type: 'Money', quantity: 10000, target: 'inventory' },\n      });\n      // Refresh player data\n      await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n      // Update local inventory state\n      const updatedInventory = await fetchInventory(playerId);\n      setInventory(updatedInventory);\n      console.log('✅ Added 10,000 Money successfully using delta update.');\n    } catch (error) {\n      console.error('❌ Error adding money:', error);\n    }\n  };\n\nconst handleGetRich = async () => {\n  try {\n    const playerId = currentPlayer?.playerId;\n    if (!playerId) {\n      console.error('No user logged in. Cannot perform Get Rich.');\n      return;\n    }\n\n    // Define resources to add\n    const resourcesToAdd = [\n      { type: 'Money', quantity: 100000 },\n      { type: 'Wood', quantity: 10000 },\n      { type: 'Clay', quantity: 10000 },\n      { type: 'Stone', quantity: 10000 },\n      { type: 'Wheat', quantity: 10000 },\n      { type: 'Corn', quantity: 10000 },\n      { type: 'Carrot', quantity: 10000 },\n      { type: 'Potion 1', quantity: 50 },\n      { type: 'Potion 2', quantity: 50 },\n      { type: 'Cloth', quantity: 500 },\n      { type: 'Lumber', quantity: 500 },\n      { type: 'Thread', quantity: 500 },\n      { type: 'Metal', quantity: 500 },\n      { type: 'Aged Wine', quantity: 500 },\n      { type: 'Sweater', quantity: 5000 },\n      { type: 'Cheese', quantity: 5000 },\n      { type: 'Sugarcane', quantity: 5000 },\n      { type: 'Strawberry', quantity: 5000 },\n      { type: 'Diamond', quantity: 500 },\n      { type: 'Feverfew', quantity: 100 },\n      { type: 'Golden Key', quantity: 100 },\n      { type: 'Skeleton Key', quantity: 100 },\n      { type: 'Book', quantity: 100 },\n      { type: 'Furniture', quantity: 1000 },\n      { type: 'Port', quantity: 1000 },\n    ];\n\n    // Use delta endpoint for batched update, adding target: 'inventory' to each resource\n    await axios.post(`${API_BASE}/api/update-inventory-delta`, {\n      playerId,\n      delta: resourcesToAdd.map(item => ({ ...item, target: 'inventory' })),\n    });\n\n    // Refresh player data after the batched update\n    await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n\n    // Update local inventory state\n    const updatedInventory = await fetchInventory(playerId);\n    setInventory(updatedInventory);\n\n    console.log('💰 Get Rich: Inventory updated successfully via delta.');\n  } catch (error) {\n    console.error('❌ Error performing Get Rich:', error);\n  }\n};\n  \n  const handleGetSkills = async () => {\n    try {\n      const playerId = currentPlayer?.playerId;\n      if (!playerId) {\n        console.error('No user logged in. Cannot add skills.');\n        return;\n      }\n  \n      // Fetch master resources\n      const response = await axios.get(`${API_BASE}/api/resources`);\n      const masterResources = response.data;\n  \n      if (!Array.isArray(masterResources)) {\n        console.error('Master resources are not an array:', masterResources);\n        return;\n      }\n  \n      // Filter resources of type \"skill\"\n      const skillResources = masterResources.filter((res) => res.category === 'skill');\n      if (skillResources.length === 0) {\n        console.warn('No skill resources found.');\n        alert('No skill resources available to add.');\n        return;\n      }\n  \n      // Fetch the latest skills\n      const skillsResponse = await axios.get(`${API_BASE}/api/skills/${playerId}`);\n      const currentSkills = skillsResponse.data.skills || [];\n  \n      // Create a new skills list by adding one of each skill\n      const updatedSkills = [...currentSkills];\n      skillResources.forEach((skill) => {\n        const existingSkill = updatedSkills.find((item) => item.type === skill.type);\n        if (existingSkill) {\n          existingSkill.quantity += 1;\n        } else {\n          updatedSkills.push({ type: skill.type, quantity: 1 });\n        }\n      });\n  \n      // Send the full updated skills list to the server\n      await axios.post(`${API_BASE}/api/update-skills`, {\n        playerId,\n        skills: updatedSkills,\n      });\n  \n      // Update the `currentPlayer` state with new skills\n      const updatedPlayer = { ...currentPlayer, skills: updatedSkills };\n      setCurrentPlayer(updatedPlayer);\n      localStorage.setItem('player', JSON.stringify(updatedPlayer));\n      updateStatus(904);\n      console.log('Get Skills: Added skills successfully.');\n    } catch (error) {\n      console.error('Error adding skills:', error);\n      alert('Failed to add skills. Check console for details.');\n    }\n  };\n  \n  const handleClearInventory = async () => {\n    try {\n      const playerId = currentPlayer?.playerId;\n      if (!playerId) {\n        console.error('No player ID found. Cannot clear inventory.');\n        return;\n      }\n\n      // Retain only Money in the inventory\n      const filteredInventory = currentPlayer.inventory.filter(\n        (item) => item.type === 'Money'\n      );\n      console.log('Filtered inventory to retain only Money:', filteredInventory);\n\n      // Update inventory on the server\n      await axios.post(`${API_BASE}/api/update-inventory`, {\n        playerId,\n        inventory: filteredInventory,\n        backpack: currentPlayer.backpack || [],\n      });\n      console.log('Inventory updated successfully on the server.');\n\n      // Refresh player data after updates\n      await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n\n      // Force a re-fetch to confirm changes are saved\n      const updatedInventory = await fetchInventory(playerId);\n      console.log('Fetched inventory after clearing:', updatedInventory);\n\n      // Update the local state for inventory\n      setInventory(updatedInventory);\n      setCurrentPlayer((prevPlayer) => ({\n        ...prevPlayer,\n        inventory: updatedInventory,\n      }));\n      updateStatus(900);\n      console.log('Inventory cleared successfully except for Money.');\n    } catch (error) {\n      console.error('Error clearing inventory:', error);\n    }\n  };\n\n  const handleClearSkillsAndPowers = async () => {\n    try {\n      const playerId = currentPlayer?.playerId;\n      if (!playerId) {\n        console.error('No player ID found. Cannot clear skills and powers.');\n        return;\n      }\n\n      // Clear skills\n      const clearedSkills = [];\n      console.log('Clearing all skills.');\n      await axios.post(`${API_BASE}/api/update-skills`, {\n        playerId,\n        skills: clearedSkills,\n      });\n      console.log('Skills cleared successfully on the server.');\n\n      // Clear powers\n      const clearedPowers = [];\n      console.log('Clearing all powers.');\n      await axios.post(`${API_BASE}/api/update-powers`, {\n        playerId,\n        powers: clearedPowers,\n      });\n      console.log('Powers cleared successfully on the server.');\n\n      // Refresh player data after updates\n      await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n\n      // Update the local state for skills and powers\n      setCurrentPlayer((prevPlayer) => ({\n        ...prevPlayer,\n        skills: clearedSkills,\n        powers: clearedPowers,\n      }));\n      updateStatus(905);\n      console.log('Skills and powers cleared successfully.');\n    } catch (error) {\n      console.error('Error clearing skills and powers:', error);\n    }\n  };\n  \n  const handleClearQuestHistory = async () => {\n    try {\n        const playerId = currentPlayer?.playerId;\n        if (!playerId) {\n            console.error('No player logged in. Cannot clear quest history.');\n            return;\n        }\n\n        // Make the API request to clear both activeQuests and completedQuests\n        await axios.post(`${API_BASE}/api/clear-quest-history`, { playerId });\n\n        // Update the `currentPlayer` state to reflect changes\n        const updatedPlayer = { \n            ...currentPlayer, \n            activeQuests: [], \n            completedQuests: [] \n        };\n        setCurrentPlayer(updatedPlayer);\n\n        console.log('Quest history cleared successfully.');\n        updateStatus(901); // Update with a debug-specific status code\n\n    } catch (error) {\n        console.error('Error clearing quest history:', error);\n    }\n  };\n\n  const handleClearTradeStall = async () => {\n    try {\n      const username = currentPlayer?.username;\n      if (!username) {\n        console.error('No user logged in. Cannot clear Trade Stall.');\n        return;\n      }\n\n      await axios.post(`${API_BASE}/api/update-player-trade-stall`, {\n        username,\n        tradeStall: [], // Clear the trade stall\n      });\n\n      console.log('Trade Stall cleared successfully.');\n    } catch (error) {\n      console.error('Error clearing Trade Stall:', error);\n    }\n  };\n\n  const handleWelcomeMessage = async () => {\n    const playerId = currentPlayer?.playerId;\n    if (!playerId) { console.error(\"❌ No player ID available.\"); return; }\n    try {\n      await axios.post(`${API_BASE}/api/send-mailbox-message`, {\n        playerId,\n        messageId: 1, // Assuming 1 is the Welcome message ID\n      });\n      console.log(\"📬 Welcome message added to mailbox.\");\n      updateStatus(\"✅ Welcome message delivered.\");\n      await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n\n    } catch (mailError) {\n      console.error(\"❌ Failed to send welcome message:\", mailError);\n      updateStatus(\"❌ Failed to deliver welcome message.\");\n    }\n  };\n\n  const handleRewardMessage = async () => {\n    const playerId = currentPlayer?.playerId;\n    if (!playerId) { console.error(\"❌ No player ID available.\"); return; }\n    try {\n      await axios.post(`${API_BASE}/api/send-mailbox-message`, {\n        playerId,\n        messageId: 101, \n      });\n      console.log(\"📬 Welcome message added to mailbox.\");\n      updateStatus(\"✅ Welcome message delivered.\");\n      await refreshPlayerAfterInventoryUpdate(playerId, setCurrentPlayer);\n\n    } catch (mailError) {\n      console.error(\"❌ Failed to send welcome message:\", mailError);\n      updateStatus(\"❌ Failed to deliver welcome message.\");\n    }\n  };\n\n  const sendMessageToAll = async (messageId) => {\n    try {\n      await axios.post(`${API_BASE}/api/send-mailbox-message-all`, {\n        messageId: messageId, // Send to all players\n      });\n      console.log(`📬 Message ${messageId} added to mailbox for all users.`);\n      updateStatus(`✅ Message ${messageId} delivered to all users.`);\n      // Optionally refresh current player\n      if (currentPlayer?.playerId) {\n        await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n      }\n    } catch (mailError) {\n      console.error(`❌ Failed to send message ${messageId}:`, mailError);\n      updateStatus(`❌ Failed to deliver message ${messageId}.`);\n    }\n  };\n  \n  const handleClearGridState = async (command) => {\n    switch (command) {\n      case 'cleargrid':\n        if (NPCsInGridManager.clearGridState(currentGridId)) {\n          updateStatus('Grid state cleared successfully');\n          // Clear from localStorage if you're using it\n          localStorage.removeItem(`NPCsInGrid_${currentGridId}`);\n        } else {\n          updateStatus('Failed to clear grid state');\n        }\n        break;\n\n      // Add other debug commands here\n      default:\n        console.warn(`Unknown debug command: ${command}`);\n    }\n  };\n\n  // Add Reset Combat Stats handler\n  const handleResetCombatStats = async () => {\n    try {\n      const playerId = currentPlayer?.playerId;\n      if (!playerId) {\n        console.error('No player ID found. Cannot reset combat stats.');\n        return;\n      }\n\n      const combatStats = {\n        maxhp: currentPlayer.baseMaxhp,\n        attackbonus: currentPlayer.baseAttackbonus,\n        armorclass: currentPlayer.baseArmorclass,\n        damage: currentPlayer.baseDamage,\n        attackrange: currentPlayer.baseAttackrange,\n        speed: currentPlayer.baseSpeed,\n      };\n\n      await playersInGridManager.updatePC(currentGridId, playerId, combatStats);\n\n      console.log('Combat stats reset successfully using updatePC.');\n      updateStatus(906); // Optional: new debug status\n    } catch (error) {\n      console.error('Error resetting combat stats:', error);\n    }\n  };\n\n  const handleCreateNewFrontier = async () => {\n    try {\n      const response = await axios.post(`${API_BASE}/api/create-frontier`);\n      console.log('Create New Frontier response:', response.data);\n      alert('New Frontier created successfully!');\n    } catch (error) {\n      console.error('Error creating new Frontier:', error);\n      alert('Failed to create new Frontier. Check console for details.');\n    }\n  };\n\n  const handleGenerateTown = async () => {\n    try { await generateTownGrids({ currentPlayer }); } catch (error) {\n      console.error('Error generating town:', error);\n      alert('Failed to generate town. Check console for details.');\n    }\n  };\n\n  const handleGenerateValley = async (valleyType) => {\n    try { await generateValleyGrids({ valleyType, currentPlayer }); } catch (error) {\n      console.error(`Error generating valley${valleyType} grids:`, error);\n      alert(`Failed to generate valley${valleyType} grids. Check the console for details.`);\n    }\n  };\n\n  const handleDeleteAccount = async (username) => {\n    // Accept either {username} or username string for backward compatibility\n    if (typeof username === \"object\" && username?.username) {\n      username = username.username;\n    }\n    if (!username) {\n      alert(\"Please enter a username.\");\n      return;\n    }\n\n    try {\n      // Step 1: Look up the player by username\n      const lookupResponse = await axios.get(`${API_BASE}/api/get-player-by-username/${username}`);\n      const player = lookupResponse.data;\n\n      if (!player || !player._id) {\n        alert(`Player not found for username: ${username}`);\n        return;\n      }\n\n      const confirmed = window.confirm(`Are you sure you want to delete the account for \"${username}\"? This cannot be undone.`);\n      if (!confirmed) return;\n\n      // Step 2: Delete the player by ID\n      const deleteResponse = await axios.post(`${API_BASE}/api/delete-player`, {\n        playerId: player._id,\n      });\n\n      if (deleteResponse.data.success) {\n        alert(`✅ Account for \"${username}\" deleted successfully.`);\n        console.log(`✅ Account deleted for username: ${username}`);\n      } else {\n        alert(\"❌ Failed to delete account. See console for details.\");\n        console.error(\"Delete failed:\", deleteResponse.data);\n      }\n    } catch (error) {\n      console.error(\"❌ Error deleting account:\", error);\n      alert(\"An error occurred while trying to delete the account.\");\n    }\n  };\n\n  return (\n    <Panel onClose={onClose} titleKey=\"1120\" panelName=\"DebugPanel\">\n      <div className=\"debug-buttons\">\n        <button className=\"btn-danger\" onClick={handleCreateNewFrontier}> Create New Frontier </button>\n        <button className=\"btn-danger\" onClick={handleResetGrid}> Reset This Grid </button>\n        <button className=\"btn-danger\" onClick={handleGenerateTown}> Generate Town </button>\n        <button className=\"btn-danger\" onClick={() => handleGenerateValley(0)}> Generate Valley 0 </button>\n        <button className=\"btn-danger\" onClick={() => handleGenerateValley(1)}> Generate Valley 1 </button>\n        <button className=\"btn-danger\" onClick={() => handleGenerateValley(2)}> Generate Valley 2 </button>\n        <button className=\"btn-danger\" onClick={() => handleGenerateValley(3)}> Generate Valley 3 </button>\n        <button className=\"btn-neutral\" onClick={handleClearInventory}> Clear Inventory </button>\n        <button className=\"btn-neutral\" onClick={handleClearSkillsAndPowers}> Clear Skills & Powers </button>\n        <button className=\"btn-neutral\" onClick={handleResetCombatStats}> Reset Combat Stats </button>\n        <button className=\"btn-neutral\" onClick={handleClearQuestHistory}> Clear Quest History </button>\n        <button className=\"btn-neutral\" onClick={handleClearGridState}> Clear Grid State </button>\n        <button className=\"btn-neutral\" onClick={handleClearTradeStall}> Clear Trade Stall </button>\n        <button className=\"btn-success\" onClick={handleWelcomeMessage}> Resend Welcome Message </button>\n        <button className=\"btn-success\" onClick={handleRewardMessage}> Resend Reward Message </button>\n        <button className=\"btn-success\" onClick={handleAddMoney}> Add Money </button>\n        <button className=\"btn-success\" onClick={handleGetRich}> Get Rich </button>\n        <button className=\"btn-success\" onClick={handleGetSkills}> Get Skills </button>\n\n        <h3>Create Single Valley Grid</h3>\n        <input\n          type=\"text\"\n          placeholder=\"Enter GridCoord\"\n          value={singleGridCoord}\n          onChange={(e) => setSingleGridCoord(e.target.value)}\n        />\n        <button\n          className=\"btn-danger\"\n          onClick={async () => {\n            const settlementId = currentPlayer?.location?.s;\n            const frontierId = currentPlayer?.location?.f;\n            const gridType = currentPlayer?.location?.gtype || 'valley0';\n            if (!singleGridCoord || !settlementId || !frontierId) {\n              alert(\"Missing gridCoord, settlementId, or frontierId.\");\n              return;\n            }\n            try {\n              await createSingleValleyGrid({\n                gridCoord: singleGridCoord,\n              });\n            } catch (error) {\n              console.error(\"Error creating single valley grid:\", error);\n              alert(\"Failed to create valley grid. See console for details.\");\n            }\n          }}\n        >\n          Create Grid\n        </button>\n\n        <h3>Delete User Account</h3>\n        <input\n          type=\"text\"\n          placeholder=\"Enter Username\"\n          value={usernameToDelete}\n          onChange={(e) => setUsernameToDelete(e.target.value)}\n        />\n        <button\n          className=\"btn-danger\"\n          onClick={async () => {\n            const confirmed = window.confirm(`⚠️ Are you absolutely sure you want to permanently delete the account for \"${usernameToDelete}\"? This cannot be undone.`);\n            if (!confirmed) return;\n\n            try {\n              await handleDeleteAccount({\n                username: usernameToDelete,\n              });\n            } catch (error) {\n              console.error(\"Error deleting user account:\", error);\n              alert(\"Failed to delete user account. See console for details.\");\n            }\n          }}\n        >\n          Delete\n        </button>\n        \n\n        <h3>Send Message to All Users</h3>\n        <input\n          type=\"text\"\n          placeholder=\"Enter Message ID\"\n          value={messageIdentifier}\n          onChange={(e) => setMessageIdentifier(e.target.value)}\n        />\n        <button\n          className=\"btn-danger\"\n          onClick={async () => {\n            if (!messageIdentifier) {\n              alert(\"Please enter a message ID.\");\n              return;\n            }\n            try {\n              await sendMessageToAll(Number(messageIdentifier));\n            } catch (error) {\n              console.error(\"Error sending message to all users:\", error);\n              alert(\"Failed to send message. See console for details.\");\n            }\n          }}\n        >\n          Send Message\n        </button>\n\n\n      </div>\n\n\n\n      <div className=\"debug-timers\">\n        <h3>⏳ Active Timers:</h3>\n        {timers.length > 0 ? (\n          <ul>\n            {timers.map((res, index) => (\n              <li key={index}>\n                {res.type} at ({res.x}, {res.y}) - \n                {res.growEnd ? ` 🌱 Farming Timer Ends in ${res.remainingTime}s` : \"\"}\n                {res.craftedItem ? ` 🛠️ ${res.craftedItem}: ` : \"\"}\n                {res.craftEnd ? ` Ends in ${res.remainingTime}s` : \"\"}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No active timers.</p>\n        )}\n      </div>\n          \n    <GridStateDebugPanel\n      gridId={currentGridId}\n      gridCoord={currentPlayer?.location?.gridCoord}\n      gridType={currentPlayer?.location?.gtype}\n      NPCsInGrid={{ [currentGridId]: NPCsInGridManager.getNPCsInGrid(currentGridId) }}\n      playersInGrid={{ [currentGridId]: playersInGridManager.getPlayersInGrid(currentGridId) }}\n    />\n\n    </Panel>\n  );\n};\n\nexport default DebugPanel;","import API_BASE from '../config';\nimport axios from 'axios';\n\n\nexport async function generateTownGrids ({ currentPlayer })\n    {\n    try {\n      const settlementId = currentPlayer.location.s;\n      if (!settlementId) {\n        console.error('No settlement ID found for the current player.');\n        alert('No settlement ID found for the current player.');\n        return;\n      }\n  \n      // Fetch the settlement data\n      const response = await axios.get(\n        `${API_BASE}/api/get-settlement/${settlementId}`\n      );\n  \n      const settlement = response.data;\n      if (!settlement || !settlement.grids || settlement.grids.length === 0) {\n        console.error('Settlement data is incomplete or missing grids.');\n        alert('Settlement data is incomplete or missing grids.');\n        return;\n      }\n  \n      // Find all uninitialized town grids by looking for gridType === 'town' but no gridId\n      const townGrids = [];\n      settlement.grids.forEach((row) => {\n        row.forEach((grid) => {\n          if (grid.gridType === 'town' && !grid.gridId) {\n            // Instead of placeholderName, push the gridCoord\n            townGrids.push(grid.gridCoord);\n          }\n        });\n      });\n  \n      if (townGrids.length === 0) {\n        console.log('No uninitialized town grids found in this settlement.');\n        alert('No uninitialized town grids found in this settlement.');\n        return;\n      }\n  \n      console.log(`Found ${townGrids.length} uninitialized town grids. Processing grids...`);\n  \n      // Generate/create each town grid by passing gridCoord\n      for (const gridCoord of townGrids) {\n        try {\n          console.log(`Creating Town grid with gridCoord: ${gridCoord}`);\n  \n          const result = await axios.post(`${API_BASE}/api/create-grid`, {\n            gridCoord,             // instead of placeholderName\n            gridType: 'town',\n            settlementId,\n            frontierId: settlement.frontierId,\n          });\n  \n          console.log(`Processed town grid for gridCoord: ${gridCoord}`, result.data);\n  \n        } catch (gridError) {\n          console.error(`Failed to process grid for gridCoord: ${gridCoord}`, gridError);\n        }\n      }\n  \n      alert('Town grids created successfully!');\n    } catch (error) {\n      console.error('Error processing town grids:', error);\n      alert('Failed to create town grids. Check the console for details.');\n    }\n  };\n\n\n\n\nexport async function generateValleyGrids({ valleyType, currentPlayer }) {\n    try {\n      const frontierId = currentPlayer?.location?.f;\n      if (!frontierId) {\n        console.error(\"No frontier ID found for the current player.\");\n        alert(\"No frontier ID found for the current player.\");\n        return;\n      }\n      console.log(`Fetching frontier data for ID: ${frontierId}`);\n      const frontierResponse = await axios.get(`${API_BASE}/api/get-frontier/${frontierId}`);\n      const frontierData = frontierResponse.data;\n      if (!frontierData || !frontierData.settlements) {\n        console.error(\"Frontier data is incomplete or missing settlements.\");\n        alert(\"Frontier data is incomplete or missing settlements.\");\n        return;\n      }\n      console.log(`Searching settlements for valley${valleyType} grids.`);\n      const valleyGrids = [];\n  \n      // 1) For each settlement in the frontier, fetch its data\n      for (const settlementRow of frontierData.settlements) {\n        for (const settlement of settlementRow) {\n          if (!settlement?.settlementId) {\n            console.warn(\"Settlement is invalid or missing settlementId. Skipping.\");\n            continue;\n          }\n          try {\n            console.log(\"Fetching settlement data for settlement ID:\", settlement.settlementId);\n            const settlementResponse = await axios.get(\n              `${API_BASE}/api/get-settlement/${settlement.settlementId}`\n            );\n            const settlementData = settlementResponse.data;\n  \n            if (!settlementData?.grids) {\n              console.warn(`Settlement ${settlement.settlementId} has no grids. Skipping.`);\n              continue;\n            }\n            // 2) Find all uninitialized valleyX sub-grids (i.e., same valleyType, no gridId)\n            settlementData.grids.flat().forEach((grid) => {\n              if (grid.gridType === `valley${valleyType}` && !grid.gridId) {\n                valleyGrids.push({\n                  ...grid,\n                  settlementId: settlement.settlementId,\n                });\n              }\n            });\n          } catch (error) {\n            console.error(`Failed to fetch data for settlement ${settlement.settlementId}:`, error);\n          }\n        }\n      }\n  \n      if (valleyGrids.length === 0) {\n        console.log(`No valley${valleyType} grids found in this frontier.`);\n        alert(`No valley${valleyType} grids found in this frontier.`);\n        return;\n      }\n  \n      console.log(`Found ${valleyGrids.length} valley${valleyType} grids. Starting generation process.`);\n  \n      // 3) Create each valley grid via /create-grid, sending gridCoord instead of placeholderName\n      for (const valleyGrid of valleyGrids) {\n        try {\n          console.log(\n            `Creating valley${valleyType} grid with gridCoord: ${valleyGrid.gridCoord}, Settlement ID: ${valleyGrid.settlementId}`\n          );\n  \n          await axios.post(`${API_BASE}/api/create-grid`, {\n            gridCoord: valleyGrid.gridCoord,\n            gridType: valleyGrid.gridType, // 'valley0', 'valley1', 'valley2', or 'valley3'\n            settlementId: valleyGrid.settlementId,\n            frontierId: frontierId,\n          });\n  \n          console.log(`Successfully created valley${valleyType} grid for gridCoord: ${valleyGrid.gridCoord}`);\n        } catch (error) {\n          console.error(\n            `Error creating valley${valleyType} grid with gridCoord ${valleyGrid.gridCoord}:`,\n            error\n          );\n        }\n      }\n  \n      alert(`Valley${valleyType} grids processed successfully!`);\n    } catch (error) {\n      console.error(`Error processing valley${valleyType} grids:`, error);\n      alert(`Failed to process valley${valleyType} grids. Check the console for details.`);\n    }\n  };\n\n\nexport async function createSingleValleyGrid({ gridCoord }) {\n  try {\n    console.log(\"🔍 Fetching all settlements to determine gridType for gridCoord:\", gridCoord);\n    const settlementsResponse = await axios.get(`${API_BASE}/api/settlements`);\n    const settlements = settlementsResponse.data;\n\n    if (!settlements || settlements.length === 0) {\n      throw new Error(\"No settlements returned from the server\");\n    }\n\n    let foundGrid = null;\n    let foundSettlementId = null;\n    let foundFrontierId = null;\n\n    for (const settlement of settlements) {\n      if (!settlement.grids) continue;\n\n      for (const row of settlement.grids) {\n        for (const grid of row) {\n          console.log(`🔍 Checking gridCoord ${grid.gridCoord} (type: ${typeof grid.gridCoord}) against input ${gridCoord}`);\n          if (String(grid.gridCoord) === String(gridCoord)) {\n            foundGrid = grid;\n            foundSettlementId = settlement._id;\n            foundFrontierId = settlement.frontierId;\n            break;\n          }\n        }\n        if (foundGrid) break;\n      }\n      if (foundGrid) break;\n    }\n\n    if (!foundGrid) {\n      console.warn(`❗ GridCoord ${gridCoord} not found in any settlement.`);\n      alert(\"GridCoord not found in any settlement data.\");\n      return;\n    }\n\n    const payload = {\n      gridCoord,\n      gridType: foundGrid.gridType,\n      settlementId: foundSettlementId,\n      frontierId: foundFrontierId,\n    };\n\n    console.log(\"📤 Sending grid creation request with:\", payload);\n\n    const response = await axios.post(`${API_BASE}/api/create-grid`, payload);\n\n    console.log(`✅ Grid created: ${gridCoord}`, response.data);\n    alert(`Grid ${gridCoord} created successfully!`);\n  } catch (error) {\n    console.error(`❌ Failed to create grid ${gridCoord}:`, error);\n    alert(`Failed to create grid ${gridCoord}. See console for details.`);\n  }\n}","import API_BASE from '../../config';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport '../../UI/Panel.css';\nimport './InventoryPanel.css'; \nimport { useStrings } from '../../UI/StringsContext';\nimport { deriveWarehouseAndBackpackCapacity } from '../../Utils/InventoryManagement';\n\nfunction InventoryPanel({ onClose, masterResources, currentPlayer, setCurrentPlayer, updateStatus }) {\n\n    const strings = useStrings();\n    const inventory = currentPlayer?.inventory || [];\n    const backpack = currentPlayer?.backpack || [];\n    const baseWarehouseCapacity = currentPlayer?.warehouseCapacity || 0;\n    const baseBackpackCapacity = currentPlayer?.backpackCapacity || 0;\n    const [showBackpackModal, setShowBackpackModal] = useState(false);\n\n    const hasBackpackSkill = currentPlayer?.skills?.some(item => item.type === 'Backpack');\n\n    const finalCapacities = deriveWarehouseAndBackpackCapacity(currentPlayer, masterResources);\n\n\n    const calculateTotalQuantity = (inventory) =>\n        inventory.filter((item) => item.type !== 'Money').reduce((total, item) => total + item.quantity, 0);\n\n    const handleMoveItem = async (item) => {\n        const isAtHome = currentPlayer.location.g === currentPlayer.gridId;\n\n        try {\n            if (isAtHome) {\n                const updatedWarehouse = [...inventory];\n                const existingIndex = updatedWarehouse.findIndex(i => i.type === item.type);\n                if (existingIndex !== -1) {\n                    updatedWarehouse[existingIndex].quantity += item.quantity;\n                } else {\n                    updatedWarehouse.push(item);\n                }\n\n                const updatedBackpack = backpack.filter(i => i.type !== item.type);\n\n                await axios.post(`${API_BASE}/api/update-inventory`, {\n                    playerId: currentPlayer.playerId,\n                    inventory: updatedWarehouse,\n                    backpack: updatedBackpack,\n                });\n\n                setCurrentPlayer({\n                    ...currentPlayer,\n                    inventory: updatedWarehouse,\n                    backpack: updatedBackpack,\n                });\n\n                updateStatus(`✅ Moved ${item.quantity}x ${item.type} to warehouse`);\n            } else {\n                const updatedBackpack = backpack.filter(i => i.type !== item.type);\n\n                await axios.post(`${API_BASE}/api/update-inventory`, {\n                    playerId: currentPlayer.playerId,\n                    backpack: updatedBackpack,\n                });\n\n                setCurrentPlayer({\n                    ...currentPlayer,\n                    backpack: updatedBackpack,\n                });\n\n                updateStatus(`❌ Discarded ${item.quantity}x ${item.type}`);\n            }\n        } catch (error) {\n            console.error('Error updating inventory:', error);\n        }\n    };\n\n    const handleMoveAll = async () => {\n        const isAtHome = currentPlayer.location.g === currentPlayer.gridId;\n\n        try {\n            if (isAtHome) {\n                const itemsToMove = backpack.filter((item) => item.type !== \"Tent\");\n\n                const updatedWarehouseInventory = [...inventory];\n\n                itemsToMove.forEach((item) => {\n                    const existingIndex = updatedWarehouseInventory.findIndex((invItem) => invItem.type === item.type);\n                    if (existingIndex !== -1) {\n                        updatedWarehouseInventory[existingIndex].quantity += item.quantity;\n                    } else {\n                        updatedWarehouseInventory.push(item);\n                    }\n                });\n\n                const updatedBackpack = backpack.filter((item) => item.type === \"Tent\");\n\n                await axios.post(`${API_BASE}/api/update-inventory`, {\n                    playerId: currentPlayer.playerId,\n                    inventory: updatedWarehouseInventory,\n                    backpack: updatedBackpack,\n                });\n\n                setCurrentPlayer({\n                    ...currentPlayer,\n                    inventory: updatedWarehouseInventory,\n                    backpack: updatedBackpack,\n                });\n\n                updateStatus(`✅ Moved all items to warehouse`);\n            } else {\n                await axios.post(`${API_BASE}/api/update-inventory`, {\n                    playerId: currentPlayer.playerId,\n                    backpack: [],\n                });\n\n                setCurrentPlayer({\n                    ...currentPlayer,\n                    backpack: [],\n                });\n\n                updateStatus(`❌ Discarded all items`);\n            }\n        } catch (error) {\n            console.error('Error updating inventory:', error);\n        }\n    };\n\n    return (\n        <Panel onClose={onClose} descriptionKey=\"1001\" titleKey=\"1101\" panelName=\"InventoryPanel\">\n            <h3>🎒 Backpack</h3>\n            {hasBackpackSkill ? (\n              <>\n                <div className=\"capacity-display\">Capacity: {calculateTotalQuantity(backpack)}/{finalCapacities.backpack}</div>\n\n                {backpack.length > 0 && (\n                <div className=\"panel-buttons\">\n                    <button className=\"btn-success\" onClick={() => setShowBackpackModal(true)}>\n                    {strings[78]}\n                    </button>\n                </div>\n                )}\n\n                <br></br>\n                <br></br>\n                <div className=\"inventory-table\">\n                    {backpack.filter(item => item.type !== 'Money').length > 0 ? (\n                        backpack.filter(item => item.type !== 'Money').map((item, index) => (\n                            <div className=\"inventory-row\" key={index}>\n                                <div className=\"inventory-cell name-cell\">{item.type}</div>\n                                <div className=\"inventory-cell quantity-cell\">{item.quantity.toLocaleString()}</div>\n                            </div>\n                        ))\n                    ) : (\n                        <p>{strings[77]}</p>\n                    )}\n                </div>\n              </>\n            ) : (\n              <div className=\"capacity-display\">{strings[75]}</div>\n            )}\n\n            <hr className=\"inventory-divider\" />\n\n            <h3>📦 Warehouse</h3>\n            <div className=\"capacity-display\">Capacity: {calculateTotalQuantity(inventory)}/{finalCapacities.warehouse}</div>\n\n            <div className=\"inventory-table\">\n                {inventory.filter(item => item.type !== 'Money').length > 0 ? (\n                    inventory.filter(item => item.type !== 'Money').map((item, index) => (\n                        <div className=\"inventory-row\" key={index}>\n                            <div className=\"inventory-cell name-cell\">{item.type}</div>\n                            <div className=\"inventory-cell quantity-cell\">{item.quantity.toLocaleString()}</div>\n                        </div>\n                    ))\n                ) : (\n                    <p>{strings[76]}</p>\n                )}\n            </div>\n\n\n            {showBackpackModal && (() => {\n                const isAtHome = currentPlayer.location.g === currentPlayer.gridId;\n                const nonTentItems = backpack.filter((item) => item.type !== \"Tent\");\n                const isAddAllDisabled = isAtHome && (backpack.length === 0 || nonTentItems.length === 0);\n\n                return (\n                    <div className=\"inventory-modal\">\n                        <button className=\"close-button\" onClick={() => setShowBackpackModal(false)}>✖</button>\n                        <h2>{isAtHome ? 'Add Items to Warehouse' : 'Discard Items'}</h2>\n\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Item</th>\n                                    <th>Quantity</th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {backpack.map((item) => {\n                                    const isTentAtHome = isAtHome && item.type === \"Tent\";\n\n                                    return (\n                                        <tr key={item.type}>\n                                            <td>{item.type}</td>\n                                            <td>{item.quantity.toLocaleString()}</td>\n                                            <td>\n                                                <button\n                                                    className=\"add-button\"\n                                                    onClick={() => handleMoveItem(item)}\n                                                    disabled={isTentAtHome}\n                                                >\n                                                    {isAtHome ? \"Add to Warehouse\" : \"Discard\"}\n                                                </button>\n                                            </td>\n                                        </tr>\n                                    );\n                                })}\n                            </tbody>\n                        </table>\n\n                        <button \n                            className=\"sell-button\" \n                            onClick={handleMoveAll} \n                            disabled={isAddAllDisabled}\n                        >\n                            {isAtHome ? \"Add All to Warehouse\" : \"Discard All\"}\n                        </button>\n                    </div>\n                );\n            })()}\n        </Panel>\n    );\n}\n\nexport default InventoryPanel;","import React, { useState, useRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './ResourceButton.css';\n \nconst ResourceButton = ({ symbol, name, details, info, disabled, className, onClick, hideInfo = false, children }) => { \n  const [showInfo, setShowInfo] = useState(false);\n  const [tooltipPosition, setTooltipPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef(null);\n\n  const updateTooltipPosition = (event) => {\n    setTooltipPosition({\n      top: event.clientY + window.scrollY + 10, // ✅ Adjust Y position (below cursor)\n      left: event.clientX + window.scrollX + 15, // ✅ Adjust X position (to the right of cursor)\n    });\n  };\n\n  return (\n    <>\n      <div\n        className=\"resource-button-wrapper\"\n        onMouseLeave={() => setShowInfo(false)}\n      >\n        <button\n          ref={buttonRef}\n          className={`resource-button ${disabled ? 'disabled' : ''} ${className || ''}`}\n          onClick={onClick}\n          disabled={disabled}\n        >\n\n          {/* ✅ Ensure default content is displayed */}\n          <span className=\"resource-title\">\n            {symbol} {name}\n          </span>\n          <span className=\"resource-details\" dangerouslySetInnerHTML={{ __html: details }} />\n\n\n          {/* ✅ Render children properly (fixes missing text issue) */}\n          {children}\n          \n          {/* ✅ Hide \"ℹ️\" info button when `hideInfo` is true */}\n          {!hideInfo && info && (\n            <span\n              className=\"info-button\"\n              onMouseEnter={(event) => {\n                setShowInfo(true);\n                updateTooltipPosition(event);\n              }}\n              onMouseMove={updateTooltipPosition} // ✅ Dynamically reposition on cursor move\n            >\n              ℹ️\n            </span>\n            )}\n\n        </button>\n      </div>\n\n      {/* ✅ Render info toaster inside `document.body` for proper layering */}\n      {showInfo && info && ReactDOM.createPortal(\n        <div\n          className=\"info-toaster\"\n          style={{\n            top: tooltipPosition.top,\n            left: tooltipPosition.left,\n            position: 'absolute', // ✅ Prevents clipping\n          }}\n        >\n          {typeof info === 'string' ? (\n            <p dangerouslySetInnerHTML={{ __html: info }} />\n          ) : (\n            <>{info}</> // ✅ Supports JSX rendering\n          )}\n        </div>,\n        document.body\n      )}\n    </>\n  );\n};\n\nexport default ResourceButton;","import API_BASE from '../config';\nimport axios from 'axios';\nimport { refreshPlayerAfterInventoryUpdate, spendIngredients } from '../Utils/InventoryManagement';\nimport { updateGridResource } from '../Utils/GridManagement';\nimport { addResourceToGrid } from '../Utils/worldHelpers';\nimport FloatingTextManager from '../UI/FloatingText';\nimport { trackQuestProgress } from './Quests/QuestGoalTracker';\nimport NPCsInGridManager from '../GridState/GridStateNPCs';\nimport playersInGridManager from '../GridState/PlayersInGrid';\nimport { getCurrentTileCoordinates, enrichResourceFromMaster } from '../Utils/ResourceHelpers';\nimport GlobalGridStateTilesAndResources from '../GridState/GlobalGridStateTilesAndResources';\n\nexport const handleConstruction = async ({\n  TILE_SIZE,\n  selectedItem,\n  buildOptions,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  resources,\n  setResources,\n  currentPlayer,\n  setCurrentPlayer,\n  gridId,\n  updateStatus,\n}) => {\n  if (!currentPlayer) {\n    console.warn('Current Player not provided; inventory changes will not be saved.');\n    return;\n  }\n  if (!selectedItem) {\n    console.warn('Invalid building selection.');\n    return;\n  }\n  // **Get player position dynamically from the NPCsInGrid**\n  const playerId = currentPlayer._id.toString();  // Convert ObjectId to string\n  const NPCsInGrid = NPCsInGridManager.getNPCsInGrid(gridId);\n  const playersInGrid = playersInGridManager.getPlayersInGrid(gridId);\n  const player = playersInGrid?.[playerId];\n  const playerPosition = player?.position;  // Use grid-relative coordinates directly (no scaling)\n\n  const coords = getCurrentTileCoordinates(gridId, currentPlayer);\n  if (!coords) return;\n  const { tileX, tileY } = coords;\n  const x = tileX;\n  const y = tileY;\n\n  console.log('playerPosition = ', playerPosition);\n  console.log('x = ',tileX,\" y = \",tileY);\n\n  // Ensure valid player position\n  if (!playerPosition || tileX == null || tileY == null) {\n    console.warn('Player position is invalid.');\n    return;\n  }\n\n  const selectedResource = buildOptions.find((item) => item.type === selectedItem);\n\n  // Check if the tile is already occupied\n  const isTileOccupied = resources.some((res) => res.x === x && res.y === y);\n  if (isTileOccupied) {\n    console.warn('Cannot build on an occupied tile.');\n    FloatingTextManager.addFloatingText(306, x, y, TILE_SIZE);\n    return; // Exit before deducting inventory\n  }\n\n  const success = await spendIngredients({\n    playerId: currentPlayer.playerId,\n    recipe: selectedResource,\n    inventory,\n    backpack,\n    setInventory,\n    setBackpack,\n    setCurrentPlayer,\n    updateStatus,\n  });\n  if (!success) {\n    FloatingTextManager.addFloatingText(305, playerPosition.x, playerPosition.y, TILE_SIZE);\n    return;\n  }\n  await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n\n  console.log('selectedResource.action=', selectedResource.action);\n\n  if (selectedResource.category === 'npc') {\n    // Spawning NPC directly at player’s tile coordinates\n    NPCsInGridManager.spawnNPC(gridId, selectedResource, playerPosition);\n    console.log('Spawned NPC:', gridId, selectedResource, playerPosition);\n    // Track quest progress for \"Buy\" actions\n    await trackQuestProgress(currentPlayer, 'Buy', selectedResource.type, 1, setCurrentPlayer);\n\n  } else {\n    console.log('Placing resource on the grid:', selectedItem);\n    const debugBefore = resources.find(res => res.x === x && res.y === y);\n    console.log('🔍 Existing resource at location before setResources:', debugBefore);\n\n    const rawResource = { type: selectedItem, x, y };\n    const enriched = enrichResourceFromMaster(rawResource, buildOptions); // buildOptions contains masterResources\n    const merged = [...resources, enriched];\n\n    console.log('📦 Forcing Global and local resource update with:', enriched);\n    GlobalGridStateTilesAndResources.setResources(merged);\n    setResources(merged); // still triggers React re-render\n\n    console.log('🧪 setResources was called to update client state.');\n    \n    try {\n      await updateGridResource(gridId, rawResource, true);\n      FloatingTextManager.addFloatingText(300, playerPosition.x, playerPosition.y, TILE_SIZE);\n      await trackQuestProgress(currentPlayer, 'Build', selectedItem, 1, setCurrentPlayer);\n      await trackQuestProgress(currentPlayer, 'Buy', selectedItem, 1, setCurrentPlayer);\n    } catch (error) {\n      console.error('Error placing resource on grid:', error);\n      return;\n    }\n  }\n};","import API_BASE from '../../config';\nimport React, { useState, useEffect } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { handleConstruction } from '../BuildAndBuy';\nimport { getIngredientDetails } from '../../Utils/ResourceHelpers';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { usePanelContext } from '../../UI/PanelContext';\nimport '../../UI/ResourceButton.css'; // ✅ Ensure the correct path\n\nconst BuildPanel = ({\n  TILE_SIZE,\n  resources,\n  setResources,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  gridId,\n  masterResources, // Added for quest tracking\n  masterSkills, // Uncomment if needed for skill checks\n  updateStatus,\n}) => {\n  const { closePanel } = usePanelContext(); // Use closePanel from context\n  const [buildOptions, setBuildOptions] = useState([]);\n  const [allResources, setAllResources] = useState([]);\n\n  // Fetch inventory and build options when the panel initializes\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch inventory\n        const inventoryResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        setInventory(inventoryResponse.data.inventory || []);\n\n        // Fetch all resources and filter for build options\n        const resourcesResponse = await axios.get(`${API_BASE}/api/resources`);\n        const allResourcesData = resourcesResponse.data;\n        setAllResources(allResourcesData);\n\n        // ✅ Filter build options based on the player's location\n        const validBuildOptions = allResourcesData.filter(resource => \n          resource.source === 'Build' || \n          (resource.source === 'BuildTown' && currentPlayer.location.gtype === 'town' && currentPlayer.role === 'Mayor')\n        );\n\n        setBuildOptions(validBuildOptions);\n        \n      } catch (error) {\n        console.error('Error fetching build panel data:', error);\n      }\n    };\n\n    fetchData();\n  }, [currentPlayer]);\n\n  const hasRequiredSkill = (requiredSkill) => {\n    return !requiredSkill || currentPlayer.skills?.some((owned) => owned.type === requiredSkill);\n  };\n\n\n  \n  return (\n    <Panel onClose={closePanel} descriptionKey=\"1002\" titleKey=\"1102\" panelName=\"BuildPanel\">\n      <div className=\"standard-panel\">\n      {buildOptions.map((item) => {\n          const ingredients = getIngredientDetails(item, allResources);\n          const affordable = canAfford(item, inventory);\n          const requirementsMet = hasRequiredSkill(item.requires);\n\n          const formattedCosts = [1, 2, 3, 4].map((i) => {\n            const type = item[`ingredient${i}`];\n            const qty = item[`ingredient${i}qty`];\n            if (!type || !qty) return '';\n\n            const playerQty = inventory?.find(inv => inv.type === type)?.quantity || 0;\n            const color = playerQty >= qty ? 'green' : 'red';\n            const symbol = allResources.find(r => r.type === type)?.symbol || '';\n            return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n          }).join('');\n\n          const skillColor = requirementsMet ? 'green' : 'red';\n          const details =\n            `Costs:<div>${formattedCosts}</div>` +\n            (item.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${item.requires}</span>` : '');\n\n          // Dynamically create \"info\" content for the toaster\n          const info = `\n            Makes: ${\n              allResources\n                .filter((res) => res.source === item.type)\n                .map((res) => `${res.symbol || ''} ${res.type}`)\n                .join(', ') || 'None'\n            }\n          `;\n\n          return (\n            <ResourceButton\n              key={item.type}\n              symbol={item.symbol}\n              name={item.type}\n              details={details}\n              info={info}\n              disabled={!affordable || !requirementsMet}\n              onClick={() =>\n                affordable &&\n                requirementsMet &&\n                handleConstruction({\n                  TILE_SIZE,\n                  selectedItem: item.type,\n                  buildOptions,\n                  inventory,\n                  setInventory,\n                  backpack,\n                  setBackpack, \n                  resources,\n                  setResources,\n                  setErrorMessage: console.error, // Replace with real error handling if needed\n                  currentPlayer,\n                  setCurrentPlayer,\n                  gridId,\n                  updateStatus,\n                })\n              }\n            />\n          );\n        })}\n    </div>   \n    </Panel>\n  );\n};\n\nexport default React.memo(BuildPanel);","import API_BASE from '../../config'; \nimport React, { useState, useEffect } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { handleConstruction } from '../BuildAndBuy';\nimport { getIngredientDetails } from '../../Utils/ResourceHelpers';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { usePanelContext } from '../../UI/PanelContext';\nimport '../../UI/ResourceButton.css'; // ✅ Ensure the correct path\n\nconst BuyPanel = ({\n  TILE_SIZE,\n  resources,\n  setResources,\n  inventory,\n  setInventory, \n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  gridId,\n  masterResources, \n  masterSkills, \n  updateStatus,\n}) => {\n  const { closePanel } = usePanelContext();\n  const [buyOptions, setBuyOptions] = useState([]);\n  const [allResources, setAllResources] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const inventoryResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        setInventory(inventoryResponse.data.inventory || []);\n\n        const resourcesResponse = await axios.get(`${API_BASE}/api/resources`);\n        const allResourcesData = resourcesResponse.data;\n        setAllResources(allResourcesData);\n\n        const isHomestead = currentPlayer?.location?.gtype === 'homestead';\n        const purchasableItems = allResourcesData.filter(\n          (resource) => resource.source === 'Buy' && (isHomestead || resource.passable !== false)\n        );\n        setBuyOptions(purchasableItems);\n      } catch (error) {\n        console.error('Error fetching buy panel data:', error);\n      }\n    }; \n\n    fetchData();\n  }, [currentPlayer]);\n\n  const hasRequiredSkill = (requiredSkill) => {\n    return !requiredSkill || currentPlayer.skills?.some((owned) => owned.type === requiredSkill);\n  };\n\n  return ( \n    <Panel onClose={closePanel} descriptionKey=\"1003\" titleKey=\"1103\" panelName=\"BuyPanel\">\n      <div className=\"standard-panel\">\n          {buyOptions.map((item) => {\n            const ingredients = getIngredientDetails(item, allResources);\n            const affordable = canAfford(item, inventory);\n            const requirementsMet = hasRequiredSkill(item.requires);\n\n            const formattedCosts = [1, 2, 3, 4].map((i) => {\n              const type = item[`ingredient${i}`];\n              const qty = item[`ingredient${i}qty`];\n              if (!type || !qty) return '';\n\n              const playerQty = inventory?.find(inv => inv.type === type)?.quantity || 0;\n              const color = playerQty >= qty ? 'green' : 'red';\n              const symbol = allResources.find(r => r.type === type)?.symbol || '';\n              return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n            }).join('');\n\n            const skillColor = requirementsMet ? 'green' : 'red';\n            const details =\n              `Costs:<div>${formattedCosts}</div>` +\n              (item.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${item.requires}</span>` : '');\n\n            return (\n              <ResourceButton\n                key={item.type}\n                symbol={item.symbol}\n                name={item.type}\n                details={details}\n                disabled={!affordable || !requirementsMet}\n                onClick={() =>\n                  affordable &&\n                  requirementsMet &&\n                  handleConstruction({\n                    TILE_SIZE,\n                    selectedItem: item.type,\n                    buildOptions: buyOptions,\n                    inventory,\n                    setInventory,\n                    backpack,\n                    setBackpack,\n                    resources,\n                    setResources,\n                    setErrorMessage: console.error,\n                    currentPlayer,\n                    setCurrentPlayer,\n                    gridId,\n                    updateStatus,\n                  })\n                }\n              />\n            );\n          })}\n        </div>\n    </Panel>\n  );\n};\n\nexport default React.memo(BuyPanel);","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport ResourceButton from '../../UI/ResourceButton';\nimport FloatingTextManager from '../../UI/FloatingText';\nimport { refreshPlayerAfterInventoryUpdate } from '../../Utils/InventoryManagement';\nimport { getIngredientDetails } from '../../Utils/ResourceHelpers';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { useStrings } from '../../UI/StringsContext';\nimport '../../UI/ResourceButton.css'; // ✅ Ensure the correct path\nimport { spendIngredients } from '../../Utils/InventoryManagement';\n\nconst SkillsAndUpgradesPanel = ({ \n    onClose,\n    inventory,\n    setInventory,\n    backpack,\n    setBackpack,\n    currentPlayer,\n    setCurrentPlayer,\n    stationType, \n    TILE_SIZE,\n    updateStatus,\n    masterSkills,\n}) => {\n  const strings = useStrings();\n  const [entryPoint, setEntryPoint] = useState(stationType || \"Skills Panel\"); \n  const [allResources, setAllResources] = useState([]);\n  const [skillsToAcquire, setSkillsToAcquire] = useState([]);\n  const [upgradesToAcquire, setUpgradesToAcquire] = useState([]);\n  const [ownedSkills, setOwnedSkills] = useState([]);\n  const [ownedUpgrades, setOwnedUpgrades] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isContentLoading, setIsContentLoading] = useState(false);\n  const [stationEmoji, setStationEmoji] = useState('📘'); // Default emoji for Skills Panel\n\n  // ✅ Update `entryPoint` when `stationType` changes\n  useEffect(() => {\n    if (!stationType) {\n      setEntryPoint(\"Basic Skills\"); // ✅ Ensure default entry point when coming from the UI button\n      // NOTE: This \"Basic Skills\" string comes from resources.json\n    } else if (stationType !== entryPoint) {\n      setEntryPoint(stationType);\n    }\n  }, [stationType]);\n\n  // ✅ Fetch resources when `entryPoint` changes\n  useEffect(() => {\n    const fetchResourcesAndInventory = async () => {\n      setIsContentLoading(true);\n      try {\n        console.log(\"Fetching skills and inventory for:\", entryPoint);\n        \n        const [inventoryResponse, skillsResponse, resourcesResponse] = await Promise.all([\n          axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`),\n          axios.get(`${API_BASE}/api/skills/${currentPlayer.playerId}`),\n          axios.get(`${API_BASE}/api/resources`),\n        ]);\n\n        const serverInventory = inventoryResponse.data.inventory || [];\n        const serverBackpack = inventoryResponse.data.backpack || [];\n        const serverSkills = skillsResponse.data.skills || [];\n        const allResourcesData = resourcesResponse.data;\n\n        setInventory(serverInventory);\n        setBackpack(serverBackpack);\n        setAllResources(allResourcesData);\n\n        const stationResource = allResourcesData.find((resource) => resource.type === stationType);\n        setStationEmoji(stationResource?.symbol || '💪');\n\n        // ✅ Separate skills and upgrades\n        const ownedSkills = serverSkills.filter(skill =>\n          allResourcesData.some(res => res.type === skill.type && res.category === 'skill')\n        );\n        setOwnedSkills(ownedSkills);\n\n        const ownedUpgrades = serverSkills.filter(skill =>\n          allResourcesData.some(res => res.type === skill.type && res.category === 'upgrade')\n        );\n        setOwnedUpgrades(ownedUpgrades);\n\n        // ✅ Filter skills & upgrades based on `entryPoint`\n        const availableSkills = allResourcesData.filter(\n          res => res.category === 'skill' &&\n          res.source === entryPoint && \n          !ownedSkills.some(owned => owned.type === res.type)\n        );\n\n        const availableUpgrades = allResourcesData.filter(\n          res => res.category === 'upgrade' &&\n          res.source === entryPoint && \n          !ownedUpgrades.some(owned => owned.type === res.type)\n        );\n\n        setSkillsToAcquire(availableSkills);\n        setUpgradesToAcquire(availableUpgrades);\n      } catch (error) {\n        console.error('Error fetching resources, inventory, or skills:', error);\n      } finally {\n        setIsContentLoading(false);\n      }\n    };\n\n    fetchResourcesAndInventory();\n  }, [entryPoint]); // ✅ Re-fetch when `entryPoint` changes\n\n\n  const hasRequiredSkill = (requiredSkill) => {\n    return !requiredSkill || \n        ownedSkills.some((owned) => owned.type === requiredSkill) || \n        ownedUpgrades.some((owned) => owned.type === requiredSkill); // ✅ Now checks upgrades too\n  };\n\n\nconst handlePurchase = async (resourceType) => {\n  const resource = [...skillsToAcquire, ...upgradesToAcquire].find((item) => item.type === resourceType);\n  const spendSuccess = await spendIngredients({\n    playerId: currentPlayer.playerId,\n    recipe: resource,\n    inventory,\n    backpack,\n    setInventory,\n    setBackpack,\n    setCurrentPlayer,\n    updateStatus,\n  });\n\n  if (!spendSuccess) {\n    console.warn('Failed to spend ingredients.');\n    return;\n  }\n\n  const updatedSkills = [...ownedSkills];\n  const updatedUpgrades = [...ownedUpgrades];\n\n  // ✅ Check category before adding\n  if (resource.category === \"skill\") {\n    updatedSkills.push({ type: resource.type, category: resource.category, quantity: 1 });\n  } else if (resource.category === \"upgrade\") {\n    updatedUpgrades.push({ type: resource.type, category: resource.category, quantity: 1 });\n  }\n  setOwnedSkills(updatedSkills);\n  setOwnedUpgrades(updatedUpgrades);\n  updateStatus(`✅ ${resource.type} skill acquired.`);\n  \n  try { \n    await axios.post(`${API_BASE}/api/update-skills`, {\n      playerId: currentPlayer.playerId,\n      skills: [...updatedSkills, ...updatedUpgrades], // ✅ Ensure all are sent to the server\n    });\n    await trackQuestProgress(currentPlayer, 'Gain skill with', resource.type, 1, setCurrentPlayer);\n    await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n\n    // Instead of re-fetching, update the acquire lists locally\n    if (resource.category === \"skill\") {\n      setSkillsToAcquire(prev => prev.filter(skill => skill.type !== resource.type));\n    } else if (resource.category === \"upgrade\") {\n      setUpgradesToAcquire(prev => prev.filter(upg => upg.type !== resource.type));\n    }\n\n  } catch (error) {\n    console.error('Error updating player on server:', error);\n    setErrorMessage('Error updating player on server.');\n  }\n};\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1005\" titleKey=\"1105\" panelName=\"SkillsAndUpgradesPanel\">\n      <div className=\"standard-panel\">\n      <h2>{stationEmoji} {entryPoint}</h2> {/* ✅ Display emoji before entry point */}\n      {isContentLoading ? (\n          <p>Loading...</p>\n        ) : (\n          <>\n            {![\"Warehouse\", \"Adventure Camp\", \"Laboratory\", \"School\"].includes(entryPoint) && (\n              <div className=\"skills-owned\">\n                <h3>{strings[1303]}</h3>\n                {ownedSkills.length > 0 ? (\n                  ownedSkills.map((skill, index) => (\n                    <div key={index}>\n                      {skill.type} \n                    </div>\n                  ))\n                ) : (\n                  <p>{strings[1305]}</p>\n                )}\n              </div>\n            )}\n\n            {![\"Warehouse\", \"Adventure Camp\", \"Laboratory\", \"School\"].includes(entryPoint) && (\n              <div className=\"upgrades-owned\">\n                <h3>{strings[1304]}</h3>\n                {ownedUpgrades.length > 0 ? (\n                  ownedUpgrades.map((upgrade, index) => (\n                    <div key={index}>\n                      {upgrade.type} \n                    </div>\n                  ))\n                ) : (\n                  <p>{strings[1306]}</p>\n                )}\n              </div>\n            )}\n\n            <div className=\"skills-to-acquire\">\n              {skillsToAcquire.length > 0 && <h3>{strings[1301]}</h3>}\n              <div className=\"skills-options\">\n                {skillsToAcquire.map((resource) => {\n                  const ingredients = getIngredientDetails(resource, allResources);\n                  const affordable = canAfford(resource, inventory, 1, backpack);\n                  const meetsRequirement = hasRequiredSkill(resource.requires, ownedSkills);\n\n                  const formattedCosts = [1, 2, 3, 4].map((i) => {\n                    const type = resource[`ingredient${i}`];\n                    const qty = resource[`ingredient${i}qty`];\n                    if (!type || !qty) return '';\n\n                    const playerQty = inventory?.find(inv => inv.type === type)?.quantity || 0;\n                    const color = playerQty >= qty ? 'green' : 'red';\n                    const symbol = allResources.find(r => r.type === type)?.symbol || '';\n                    return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n                  }).join('');\n\n                  const skillColor = meetsRequirement ? 'green' : 'red';\n                  const details =\n                    `Costs:<div>${formattedCosts}</div>` +\n                    (resource.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${resource.requires}</span>` : '');\n\n                  // ✅ **Check if this skill modifies a player attribute**\n                  const attributeModifier = resource.output\n                    ? `+${resource.qtycollected || 1} to ${strings[resource.output] || resource.output}`\n                    : null;\n\n                  // ✅ Check if this skill provides a collection buff\n                  let buffText = '';\n                  const buffedItems = masterSkills[resource.type];\n                  if (buffedItems && typeof buffedItems === 'object') {\n                    const items = Object.keys(buffedItems);\n                    if (items.length > 0) {\n                      const prettyList = items.slice(0, 10).join(', ');\n                      const plural = items.length > 1 ? 'resources' : 'resource';\n                      buffText = `Collection multiplied on ${items.length} ${plural} (${prettyList}${items.length > 10 ? ', ...' : ''}).`;\n                    }\n                  }\n\n                  const unlocks = allResources\n                    .filter((res) => res.requires === resource.type)\n                    .map((res) => `${res.symbol || ''} ${res.type}`)\n                    .join(', ') || 'None';\n\n                    const info = (\n                      <div className=\"info-content\">\n                        {attributeModifier && <div>{attributeModifier}</div>}\n                        {buffText && <div style={{ color: 'blue' }}>{buffText}</div>}\n                        {unlocks !== 'None' && (\n                          <div style={{ display: 'block', marginBottom: '3px' }}>\n                            <strong>Unlocks:</strong> {unlocks}\n                          </div>\n                        )}\n                      </div>\n                    );\n\n                  return (\n                    <ResourceButton\n                      key={resource.type}\n                      symbol={resource.symbol}\n                      name={resource.type}\n                      details={details}\n                      info={info}\n                      disabled={!affordable || !meetsRequirement}\n                      onClick={() => handlePurchase(resource.type)}\n                    />\n                  );\n                })}\n              </div>\n            </div>\n\n            <div className=\"upgrades-to-acquire\">\n              {upgradesToAcquire.length > 0 && <h3>{strings[1302]}</h3>}\n              <div className=\"skills-options\">\n                {upgradesToAcquire.map((resource) => {\n                  const ingredients = getIngredientDetails(resource, allResources);\n                  const affordable = canAfford(resource, inventory, 1, backpack);\n                  const meetsRequirement = hasRequiredSkill(resource.requires, ownedSkills);\n\n                  const formattedCosts = [1, 2, 3, 4].map((i) => {\n                    const type = resource[`ingredient${i}`];\n                    const qty = resource[`ingredient${i}qty`];\n                    if (!type || !qty) return '';\n\n                    const playerQty = inventory?.find(inv => inv.type === type)?.quantity || 0;\n                    const color = playerQty >= qty ? 'green' : 'red';\n                    const symbol = allResources.find(r => r.type === type)?.symbol || '';\n                    return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n                  }).join('');\n\n                  const skillColor = meetsRequirement ? 'green' : 'red';\n                  const details =\n                    `Costs:<div>${formattedCosts}</div>` +\n                    (resource.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${resource.requires}</span>` : '');\n\n                  // ✅ Check for attribute modifiers\n                  const attributeModifier = resource.output\n                    ? `+${resource.qtycollected || 1} to ${strings[resource.output] || resource.output}`\n                    : null;\n\n                  // ✅ Check if this upgrade provides a collection buff\n                  let buffText = '';\n                  const buffedItems = masterSkills[resource.type];\n                  if (buffedItems && typeof buffedItems === 'object') {\n                    const items = Object.keys(buffedItems);\n                    if (items.length > 0) {\n                      const prettyList = items.slice(0, 10).join(', ');\n                      const plural = items.length > 1 ? 'resources' : 'resource';\n                      buffText = `Collection multiplied on ${items.length} ${plural} (${prettyList}${items.length > 10 ? ', ...' : ''}).`;\n                    }\n                  }\n\n                  const unlocks = allResources\n                    .filter((res) => res.requires === resource.type)\n                    .map((res) => `${res.symbol || ''} ${res.type}`)\n                    .join(', ') || 'None';\n\n                    const info = (\n                      <div className=\"info-content\">\n                        {attributeModifier && <div>{attributeModifier}</div>}\n                        {buffText && <div style={{ color: 'blue' }}>{buffText}</div>}\n                        {unlocks !== 'None' && (\n                          <div style={{ display: 'block', marginBottom: '3px' }}>\n                            <strong>Unlocks:</strong> {unlocks}\n                          </div>\n                        )}\n                      </div>\n                    );\n\n                  return (\n                    <ResourceButton\n                      key={resource.type}\n                      symbol={resource.symbol}\n                      name={resource.type}\n                      details={details}\n                      info={info}\n                      disabled={!affordable || !meetsRequirement}\n                      onClick={() => handlePurchase(resource.type)}\n                    />\n                  );\n                })}\n              </div>\n            </div>\n          </>\n        )}\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n      </div>\n    </Panel>\n  );\n};\n\nexport default React.memo(SkillsAndUpgradesPanel);","import API_BASE from '../../config';\nimport axios from 'axios';\nimport { addResourceToGrid } from '../../Utils/worldHelpers';\nimport { convertTileType, updateGridResource } from '../../Utils/GridManagement';\nimport { validateTileType, enrichResourceFromMaster } from '../../Utils/ResourceHelpers';\nimport { refreshPlayerAfterInventoryUpdate, spendIngredients } from '../../Utils/InventoryManagement';\nimport FloatingTextManager from '../../UI/FloatingText';\nimport farmState from '../../FarmState';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { getCurrentTileCoordinates } from '../../Utils/ResourceHelpers';\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\n\nexport const handleFarmPlotPlacement = async ({\n  selectedItem,\n  TILE_SIZE,\n  resources,\n  setResources,\n  currentPlayer,\n  setCurrentPlayer,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  gridId,\n  masterResources,\n  masterSkills,\n  updateStatus,\n}) => {\n  try {\n    console.log(masterResources);\n    \n    const coords = getCurrentTileCoordinates(gridId, currentPlayer);\n    if (!coords) return;\n    const { tileX, tileY } = coords;\n\n    const tileType = await validateTileType(gridId, tileX, tileY);\n    if (tileType !== 'd') {\n      FloatingTextManager.addFloatingText(303, tileX, tileY, TILE_SIZE); // \"Must be dirt\"\n      return;\n    }\n\n    const tileOccupied = resources.find((res) => res.x === tileX && res.y === tileY);\n    if (tileOccupied) {\n      FloatingTextManager.addFloatingText(304, tileX, tileY, TILE_SIZE); // \"Occupied\"\n      return;\n    }\n\n    const didSpend = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe: selectedItem,\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n    });\n    if (!didSpend) {\n      FloatingTextManager.addFloatingText(305, tileX, tileY, TILE_SIZE); // \"Missing ingredients\"\n      return;\n    }\n\n    // Timer setup\n    const growEndTime = Date.now() + (selectedItem.growtime || 0) * 1000;\n    console.log(`⏱️ Planting ${selectedItem.type}: growtime = ${selectedItem.growtime}, growEndTime = ${growEndTime}, secondsFromNow = ${(growEndTime - Date.now()) / 1000}`);\n\n    // Lookup from masterResources for enrichment\n    console.log(\"🌱 Attempting to plant:\", selectedItem.type, \"at\", tileX, tileY);\n    const enrichedNewResource = enrichResourceFromMaster(\n      {\n        type: selectedItem.type,\n        x: tileX,\n        y: tileY,\n        growEnd: growEndTime,\n      },\n      masterResources\n    );\n    console.log(\"🌾 Enriched resource before setResources:\", enrichedNewResource);\n\n    // Optimistically update local client state\n    const existing = GlobalGridStateTilesAndResources.getResources() || [];\n    GlobalGridStateTilesAndResources.setResources([...existing, enrichedNewResource]);\n    console.log(\"🧪 Global resources after planting:\", GlobalGridStateTilesAndResources.getResources());\n    setResources([...existing, enrichedNewResource]);\n\n    // Update server and all clients\n    const gridUpdateResponse = await updateGridResource(\n      gridId,\n      {\n        type: selectedItem.type,\n        x: tileX,\n        y: tileY,\n        growEnd: growEndTime,\n      },\n      true\n    );\n\n    if (gridUpdateResponse?.success) {\n      farmState.addSeed({\n        type: selectedItem.type,\n        x: tileX,\n        y: tileY,\n        growEnd: growEndTime,\n        output: selectedItem.output, // ✅ required for crop conversion\n      });\n\n      FloatingTextManager.addFloatingText(302, tileX, tileY, TILE_SIZE); // \"Planted!\"\n    } else {\n      throw new Error('Server update failed.');\n    }\n  } catch (error) {\n    console.error('❌ Error in handleFarmPlotPlacement:', error);\n  }\n};\n\n\n\nexport const handleTerraform = async ({ TILE_SIZE, actionType, gridId, currentPlayer, tileTypes, setTileTypes }) => {\n\n  console.log(\"handleTerraform;  currentPlayer = \",currentPlayer);\n  \n  if (!currentPlayer?.location) {\n    console.error(\"❌ handleTerraform: Missing currentPlayer location.\");\n    return;\n  }\n\n  const coords = getCurrentTileCoordinates(gridId, currentPlayer);\n  if (!coords) return;\n  const { tileX, tileY } = coords;\n  const tile = tileTypes?.[tileY]?.[tileX];\n  console.log(\"tile at \",tileY,\", \",tileX,\" = \",tile);\n\n  if (!tile) {\n    console.error(\"❌ handleTerraform: Could not find tile at given coordinates.\");\n    return;\n  }\n  if (tile === 'l') {\n      FloatingTextManager.addFloatingText(320, tileX, tileY, TILE_SIZE);\n    return;\n  }\n\n  let newType;\n  // Determine the new tile type based on the action\n  switch (actionType) {\n    case \"till\":\n      newType = \"d\";\n      break;\n    case \"plantGrass\":\n      newType = \"g\";\n      break;\n    case \"pave\":\n      newType = \"p\";\n      break;\n    default:\n      console.error(`❌ handleTerraform: Unknown actionType \"${actionType}\"`);\n      return;\n  }\n\n  console.log(`🌱 handleTerraform: Changing tile at (${tileX}, ${tileY}) to \"${newType}\"`);\n\n  // Call convertTileType to update the tile in the database and emit the change\n  await convertTileType(gridId, tileX, tileY, newType, setTileTypes);\n};\n","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useUILock } from '../../UI/UILockContext';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { getIngredientDetails } from '../../Utils/ResourceHelpers';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { handleFarmPlotPlacement, handleTerraform } from './Farming';\nimport { useStrings } from '../../UI/StringsContext';\nimport '../../UI/ResourceButton.css'; // ✅ Ensure the correct path\n\nconst FarmingPanel = ({\n  onClose,\n  TILE_SIZE,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  resources,\n  setResources,\n  tiles,\n  tileTypes,\n  setTileTypes,\n  currentPlayer,\n  setCurrentPlayer,\n  gridId,\n  masterResources,\n  masterSkills,\n  updateStatus\n}) => {\n\n  const { setUILocked } = useUILock();\n  const strings = useStrings();\n  const [farmPlots, setFarmPlots] = useState([]);\n  const [allResources, setAllResources] = useState([]);\n  const [isActionCoolingDown, setIsActionCoolingDown] = useState(false);\n  const COOLDOWN_DURATION = 800;\n\n \n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const inventoryResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n      setInventory(inventoryResponse.data.inventory || []);\n\n      const resourcesResponse = await axios.get(`${API_BASE}/api/resources`);\n      const allResourcesData = resourcesResponse.data;\n      setAllResources(allResourcesData);\n\n      const farmPlotItems = allResourcesData.filter((resource) => resource.category === 'farmplot');\n      setFarmPlots(farmPlotItems);\n    } catch (error) {\n      console.error('Error fetching farming panel data:', error);\n    }\n  };\n\n  const hasRequiredSkill = (requiredSkill) => {\n    return !requiredSkill || currentPlayer.skills?.some((owned) => owned.type === requiredSkill);\n  };\n\n\n  // Wrap for Terraform Actions\n  const handleTerraformWithCooldown = async (actionType) => {\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    await handleTerraform({\n      TILE_SIZE,\n      actionType,\n      gridId,\n      currentPlayer,\n      tileTypes,\n      setTileTypes,\n    });\n  };\n\n  // Wrap for Farm Plot Placement\n  const handleFarmPlacementWithCooldown = async (item) => {\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    await handleFarmPlotPlacement({\n      selectedItem: item,\n      TILE_SIZE,\n      resources,\n      setResources,\n      currentPlayer,\n      setCurrentPlayer,\n      inventory,\n      setInventory,\n      backpack,\n      setBackpack,\n      gridId,\n      masterResources,\n      masterSkills,\n      updateStatus,\n    });\n  };\n\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1004\" titleKey=\"1104\" panelName=\"FarmingPanel\">\n      <div className=\"standard-panel\">\n \n           {/* Till Land Button */}\n           <ResourceButton\n            symbol=\"⛏️\"\n            name=\"Till Land\"\n            details=\"Costs: None<br>Requires: Pickaxe\"\n            disabled={isActionCoolingDown || !hasRequiredSkill('Pickaxe')}\n            info={strings[310]}\n            onClick={() => handleTerraformWithCooldown(\"till\")}\n          />\n\n          {/* Plant Grass Button */}\n          <ResourceButton\n            symbol=\"🟩\"\n            name=\"Plant Grass\"\n            details=\"Costs: None<br>Requires: Grower\"\n            disabled={isActionCoolingDown || !hasRequiredSkill('Grower')}\n            info={strings[311]}\n            onClick={() => handleTerraformWithCooldown(\"plantGrass\")}\n          />\n\n          {/* Plant Grass Button */}\n          <ResourceButton\n            symbol=\"🟨\"\n            name=\"Lay Pavement\"\n            details=\"Costs: None\"\n            disabled={isActionCoolingDown}\n            info={strings[312]}\n            onClick={() => handleTerraformWithCooldown(\"pave\")}\n          />\n\n          {/* Farm Plot Options */}\n          {farmPlots.map((item) => {\n            const ingredients = getIngredientDetails(item, allResources);\n            const affordable = canAfford(item, inventory, 1);\n            const requirementsMet = hasRequiredSkill(item.requires);\n            const formatCountdown = (seconds) => {\n              const days = Math.floor(seconds / 86400);\n              const hours = Math.floor((seconds % 86400) / 3600);\n              const minutes = Math.floor((seconds % 3600) / 60);\n              const secs = Math.floor(seconds % 60);\n              return days > 0\n                ? `${days}d ${hours}h ${minutes}m`\n                : hours > 0\n                ? `${hours}h ${minutes}m ${secs}s`\n                : minutes > 0\n                ? `${minutes}m ${secs}s`\n                : `${secs}s`;\n            };\n\n            const symbol = item.symbol || '';\n\n            const formattedCosts = [1, 2, 3, 4].map((i) => {\n              const type = item[`ingredient${i}`];\n              const qty = item[`ingredient${i}qty`];\n              if (!type || !qty) return '';\n\n              const playerQty = inventory?.find(inv => inv.type === type)?.quantity || 0;\n              const color = playerQty >= qty ? 'green' : 'red';\n              const symbol = allResources.find(r => r.type === type)?.symbol || '';\n              return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n            }).join('');\n\n            const skillColor = requirementsMet ? 'green' : 'red';\n\n            const details =\n              `Costs:<div>${formattedCosts}</div>` +\n              (item.growtime ? `<br>Time: ${formatCountdown(item.growtime)}` : '') +\n              (item.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${item.requires}</span>` : '');\n\n            const info =\n              `Makes: ${\n                allResources\n                  .filter((res) => res.source === item.type)\n                  .map((res) => `${res.symbol || ''} ${res.type}`)\n                  .join(', ') || 'None'\n              }`;\n\n            return (\n              <ResourceButton\n                key={item.type}\n                symbol={symbol}\n                name={item.type}\n                details={details}\n                info={info}\n                disabled={isActionCoolingDown || !affordable || !requirementsMet}\n                onClick={() =>\n                  affordable &&\n                  requirementsMet &&\n                  handleFarmPlacementWithCooldown(item)\n                }\n              />\n            );\n          })}\n        </div>\n    </Panel>\n  );\n}; \n\nexport default React.memo(FarmingPanel);","import React, { memo } from 'react';\nimport Panel from './Panel'; // Importing the shared Panel component\nimport { useStrings } from './StringsContext';\n\nconst HowToPanel = memo(({ onClose }) => {\n  const strings = useStrings();\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1018\" titleKey=\"1118\" panelName=\"HowToPanel\">\n      <div className=\"panel-content\">\n        <p>{strings[9000]}</p>\n        <h2>{strings[9001]}</h2>\n        <p>{strings[9002]}</p>\n        <p>{strings[9003]}</p>\n        <h3>{strings[9004]}</h3>\n        <p>{strings[9005]}</p>\n        <p>{strings[9006]}</p>\n        <p>{strings[9007]}</p>\n        <h3>{strings[9008]}</h3>\n        <p>{strings[9009]}</p>\n        <p>{strings[9010]}</p>\n        <p>{strings[9011]}</p>\n        <h3>{strings[9012]}</h3>\n        <p>{strings[9013]}</p>\n        <p>{strings[9014]}</p>\n      </div>\n    </Panel>\n  );\n});\n\nexport default HowToPanel;\n","import React, { memo } from 'react';\nimport Panel from './Panel'; // Importing the shared Panel component\nimport { useStrings } from './StringsContext';\n\nconst HowToMoneyPanel = memo(({ onClose }) => {\n\n  const strings = useStrings();\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1026\" titleKey=\"1126\" panelName=\"HowToMoneyPanel\">\n      <div className=\"panel-content\">\n\n        <h2>{strings[9020]}</h2>\n        <p>{strings[9021]}</p>\n        <p>{strings[9022]}</p>\n        <p>{strings[9023]}</p>\n        <p>{strings[9024]}</p>\n        <h2>{strings[9025]}</h2>\n        <p>{strings[9026]}</p>\n        <p>{strings[9027]}</p>\n\n\n      </div>\n    </Panel>\n  );\n});\n\nexport default HowToMoneyPanel;\n","// governmentUtils.js\nimport axios from 'axios';\nimport API_BASE from '../../config';\n\n/**\n * Fetches the mayor's username for a given settlementId.\n * Returns \"Vacant\" if no mayor is assigned,\n * \"Error\" if something went wrong,\n * or the mayor's username.\n */\nexport async function getMayorUsername(settlementId) {\n  if (!settlementId) {\n    console.warn(\"⚠️ No settlementId provided to getMayorUsername.\");\n    return \"Error\";\n  }\n\n  try {\n    // Step 1: Fetch settlement data\n    const res = await axios.get(`${API_BASE}/api/get-settlement/${settlementId}`);\n    const settlement = res.data;\n\n    // Step 2: Find the role entry for Mayor\n    const mayorRole = settlement.roles?.find(role => role.roleName === \"Mayor\");\n    if (!mayorRole || !mayorRole.playerId || mayorRole.playerId === \"Vacant\") {\n      return \"Vacant\";\n    }\n\n    // Step 3: Fetch player info\n    const playerRes = await axios.get(`${API_BASE}/api/player/${mayorRole.playerId}`);\n    return playerRes.data.username || \"Unknown\";\n    \n  } catch (err) {\n    console.error(\"❌ Failed to fetch mayor username:\", err);\n    return \"Error\";\n  }\n}","import API_BASE from '../../config';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport { getMayorUsername } from './GovUtils';\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport '../../UI/Modal.css';\nimport { useStrings } from '../../UI/StringsContext';\n\nfunction GovPanel({ onClose, currentPlayer, setModalContent, setIsModalOpen }) {\n  const strings = useStrings();\n  const [settlementData, setSettlementData] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [taxRate, setTaxRate] = useState(0);\n  const [population, setPopulation] = useState(0);\n  const [taxLog, setTaxLog] = useState([]);\n  const [mayor, setMayor] = useState(\"\");\n  // Community Buildings counts\n  const resources = GlobalGridStateTilesAndResources.getResources() || [];\n  const buildingCounts = {\n      School: 0,\n      Hospital: 0,\n      AnimalYard: 0,\n      Library: 0\n  };\n  resources.forEach(res => {\n      if (res.type === 'School') buildingCounts.School++;\n      if (res.type === 'Hospital') buildingCounts.Hospital++;\n      if (res.type === 'Animal Yard') buildingCounts.AnimalYard++;\n      if (res.type === 'Library') buildingCounts.Library++;\n  });\n  \n  useEffect(() => {\n    const fetchGovernmentData = async () => {\n      if (!currentPlayer || !currentPlayer.settlementId) {\n        console.warn(\"⚠️ currentPlayer or settlementId is not available yet.\");\n        return; \n      }\n  \n      try {\n        console.log(\"🏛️ Fetching full settlement data for ID:\", currentPlayer.settlementId);\n        \n        const settlementResponse = await axios.get(`${API_BASE}/api/get-settlement/${currentPlayer.settlementId}`);\n        const settlement = settlementResponse.data;\n        setSettlementData(settlement);\n        setTaxLog(settlement.taxlog || []);\n        setTaxRate(settlement.taxrate || 0);\n        \n        const allGrids = settlement.grids?.flat() || []; \n        const occupiedHomesteads = allGrids.filter(grid => \n            grid.gridType === \"homestead\" && grid.available === false\n        ).length || 0;\n        setPopulation(occupiedHomesteads);\n        \n        const mayorName = await getMayorUsername(currentPlayer.settlementId);\n        setMayor(mayorName);\n          \n      } catch (error) {\n        console.error(\"❌ Error fetching government data:\", error);\n      }\n    };\n  \n    fetchGovernmentData();\n  }, [currentPlayer]);\n\n  const handleShowTaxLog = async () => {\n    if (!currentPlayer?.settlementId) {\n      console.warn(\"⚠️ Cannot show tax log: settlementId missing.\");\n      return;\n    }\n\n    console.log(\"📤 Requesting tax log for settlement ID:\", currentPlayer.settlementId);\n \n    try {\n      const response = await axios.get(`${API_BASE}/api/settlement/${currentPlayer.settlementId}/taxlog`);\n      console.log(\"📥 Tax log response:\", response.data);\n      const taxlog = response.data.taxlog || [];\n\n      console.log(\"📊 Parsed taxlog:\", taxlog);\n\n      const taxLogTable = (\n        <table className=\"tax-log-table\" style={{ width: \"100%\", textAlign: \"left\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th style={{ padding: \"6px 12px\" }}>{strings[\"5102\"]}</th>\n              <th style={{ padding: \"6px 12px\" }}>{strings[\"5103\"]}</th>\n              <th style={{ padding: \"6px 12px\" }}>{strings[\"5104\"]}</th>\n              <th style={{ padding: \"6px 12px\" }}>{strings[\"5105\"]}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {[...taxlog].reverse().map((entry, i) => (\n              <tr key={i}>\n                <td style={{ padding: \"6px 12px\" }}>{new Date(entry.date).toLocaleDateString()}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.totalcollected}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.currentmayor}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.mayortake}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      );\n\n      setModalContent({\n        title: strings[\"5100\"],\n        size: \"large\",\n        message: taxlog.length === 0\n          ? strings[\"5101\"]\n          : undefined,\n        custom: taxLogTable,\n      });\n      setIsModalOpen(true);\n    } catch (error) {\n      console.error(\"❌ Failed to fetch tax log:\", error);\n      setModalContent({\n        title: \"Error\",\n        message: \"Failed to load tax log.\",\n        size: \"small\",\n      });\n      setIsModalOpen(true);\n    }\n  };\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1007\" titleKey=\"1107\" panelName=\"GovPanel\">\n      <div className=\"panel-content\">\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n  \n        {/* Settlement Information */}\n        {settlementData && (\n          <>\n            <h3><strong>{strings[\"3001\"]}</strong></h3>  \n            <h3><strong>{settlementData.displayName || settlementData.name || 'Unnamed Settlement'}</strong></h3>\n            <h3>{strings[\"3002\"]} <strong>{population}</strong></h3>\n          </>\n        )}\n\n        {/* Taxes Section */}\n        <h3>{strings[\"3003\"]} {taxRate}%</h3>\n        <p>{strings[\"3004\"]}</p>\n        <p>{strings[\"3005\"]}</p>\n        <div className=\"panel-buttons\">\n          <button className=\"btn-success\" onClick={handleShowTaxLog}>\n            {strings[3020]}\n          </button>\n        </div>\n        \n        {/* Government Officials Section */}\n        <h3>{strings[\"3006\"]}</h3>\n        <div>\n        <p><strong>Mayor:</strong> {mayor || \"Vacant\"}</p>\n        </div>\n\n        <p>{strings[\"3009\"]}</p>\n        <p>{strings[\"3010\"]}</p>\n        <p>{strings[\"3011\"]}</p>\n        <p>{strings[\"3012\"]}</p>\n        <p>{strings[\"3013\"]}</p>\n\n\n        {/* COMMUNITY BUILDINGS section */}\n        <h3>{strings[\"2090\"]}</h3>\n        <p>{buildingCounts.School > 0 ? `${strings[\"2092\"]}${buildingCounts.School}` : strings[\"2093\"]}</p>\n        <p>{buildingCounts.Hospital > 0 ? `${strings[\"2094\"]}${buildingCounts.Hospital}` : strings[\"2095\"]}</p>\n        <p>{buildingCounts.AnimalYard > 0 ? `${strings[\"2096\"]}${buildingCounts.AnimalYard}` : strings[\"2097\"]}</p>\n        <p>{buildingCounts.Library > 0 ? `${strings[\"2098\"]}${buildingCounts.Library}` : strings[\"2099\"]}</p>\n\n\n      </div>\n    </Panel>\n  );\n}\n\nexport default GovPanel;","// MOVE THIS TO A HELPER COMPONENT:  Function to format the countdown\n// ✅ Ensures endTime is a valid Date object before doing calculations.\nexport const formatCountdown = (endTime, now) => {\n    if (!endTime || endTime <= now) return \"0d 0h 0m 0s\"; // ✅ Show when expired\n  \n    const timeDiff = endTime - now;\n    const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));\n    const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));\n    const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);\n  \n    return `${days}d ${hours}h ${minutes}m ${seconds}s`;\n  }; ","import API_BASE from '../../config.js';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { refreshPlayerAfterInventoryUpdate, spendIngredients, gainIngredients } from '../../Utils/InventoryManagement';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport '../../UI/ResourceButton.css'; // ✅ Ensure the correct path\nimport { formatCountdown } from '../../UI/Timers.js';\nimport { useStrings } from '../../UI/StringsContext';\n\nfunction BankPanel({ \n    onClose, \n    inventory,\n    setInventory,\n    backpack,\n    setBackpack,\n    currentPlayer, \n    setCurrentPlayer, \n    updateStatus,\n    masterResources, }) \n{\n    const strings = useStrings();\n    const [bankOffers, setBankOffers] = useState([]);\n    const [bankTimer, setBankTimer] = useState(\"\");\n    const [bankPhase, setBankPhase] = useState(\"\");\n\n    // Fetch data - separated from timer logic\n    const fetchBankOffers = async () => {\n        try {\n            const response = await axios.get(`${API_BASE}/api/get-frontier/${currentPlayer.frontierId}`);\n            setBankOffers(response.data.bank?.offers || []);\n            setBankPhase(response.data.bank?.phase || \"\");\n        } catch (error) {\n            console.error('❌ Error fetching bank offers:', error);\n        }\n    };\n\n    // Timer + Phase Change Detection\n    useEffect(() => {\n        const updateCountdown = () => {\n            const now = Date.now();\n            const storedTimers = JSON.parse(localStorage.getItem(\"timers\")) || {};\n            const bankTimerData = storedTimers.bank || {};\n            \n            // Check for phase change\n            if (bankTimerData.phase !== bankPhase) {\n                console.log(\"🏦 Bank phase changed, fetching new data...\");\n                fetchBankOffers();\n            }\n            \n            setBankTimer(formatCountdown(bankTimerData.endTime, now));\n        };\n\n        updateCountdown();\n        const interval = setInterval(updateCountdown, 1000);\n        return () => clearInterval(interval);\n    }, [bankPhase, currentPlayer?.frontierId]);\n\n    // Initial load\n    useEffect(() => {\n        if (currentPlayer?.frontierId) {\n            fetchBankOffers();\n        }\n    }, [currentPlayer]);\n\n    // ✅ Handle trade transaction\n    const handleTrade = async (offer) => {\n        if (!offer || !currentPlayer) return;\n\n        // Spend ingredients\n        const success = await spendIngredients({\n          playerId: currentPlayer.playerId,\n          recipe: {\n            ingredient1: offer.itemBought,\n            ingredient1qty: offer.qtyBought,\n          },\n          inventory,\n          backpack,\n          setInventory,\n          setBackpack,\n          setCurrentPlayer,\n          updateStatus,\n        });\n\n        if (!success) return;\n\n        // Gain the given item (usually Money)\n        const gainSuccess = await gainIngredients({\n          playerId: currentPlayer.playerId,\n          currentPlayer,\n          resource: offer.itemGiven,\n          quantity: offer.qtyGiven,\n          inventory,\n          backpack,\n          setInventory,\n          setBackpack,\n          setCurrentPlayer,\n          updateStatus,\n          masterResources,\n        });\n\n        if (!gainSuccess) return;\n\n        await trackQuestProgress(currentPlayer,'Sell',offer.itemBought,offer.qtyBought,setCurrentPlayer);\n\n        updateStatus(`✅ Exchanged ${offer.qtyBought} ${offer.itemBought} for ${offer.qtyGiven} ${offer.itemGiven}.`);\n    };\n\n    // ✅ Lookup function for symbols from `masterResources`\n    const getSymbol = (resourceType) => {\n        const resource = masterResources.find(res => res.type === resourceType);\n        return resource?.symbol || \"❓\"; // Default to question mark if no symbol found\n    };\n\n    const handleRefreshOffers = async () => {\n        try {\n            const response = await axios.post(\n                `${API_BASE}/api/debug/refresh-bank-offers/${currentPlayer.location.f}`\n            );\n            if (response.data.success) {\n                fetchBankOffers();\n            }\n        } catch (error) {\n            console.error('Failed to refresh bank offers:', error);\n        }\n    };\n\n    return (\n        <Panel onClose={onClose} descriptionKey=\"1017\" titleKey=\"1117\" panelName=\"BankPanel\">\n        {/* Active phase showing current offers */}\n            {bankPhase === \"active\" ? (\n                <>\n                    <h3>{strings[\"1402\"]}</h3> {/* \"These offers good for\" */}\n                    <h2>{bankTimer}</h2>\n                    {bankOffers.length > 0 ? (\n                        bankOffers.map((offer, index) => (\n                            <ResourceButton\n                                key={index}\n                                className=\"resource-button\"\n                                onClick={() => handleTrade(offer)}\n                                disabled={!currentPlayer.inventory.some((item) => \n                                    item.type === offer.itemBought && \n                                    item.quantity >= offer.qtyBought\n                                )}\n                                hideInfo={true}\n                            >\n                                <div className=\"resource-details\">\n                                    <span><strong>{strings[\"1403\"]}</strong></span> {/* \"Will buy\" */}\n                                    {getSymbol(offer.itemBought)} {offer.itemBought} x{offer.qtyBought}\n                                    <br />\n                                    {strings[\"1404\"]} {getSymbol(offer.itemGiven)} {offer.qtyGiven} {/* \"for\" */}\n                                </div>\n                            </ResourceButton>\n                        ))\n                    ) : (\n                        <p>{strings[\"1405\"]}</p>  \n                    )}\n                </>\n            ) : (\n                <>\n                    <h3>{strings[\"1406\"]}</h3> {/* \"New offers in\" */}\n                    <h2>{bankTimer}</h2>\n                    <p>{strings[\"1407\"]}</p> {/* \"Generating new orders. Thank you for your patience.\" */}\n                </>\n            )}\n            {/* <div className=\"debug-section\" style={{ marginTop: '20px', borderTop: '1px solid #ccc', paddingTop: '10px' }}>\n                <button \n                    className=\"debug-button\" \n                    onClick={handleRefreshOffers}\n                    style={{ \n                        padding: '5px 10px',\n                        backgroundColor: '#444',\n                        color: '#fff',\n                        border: 'none',\n                        borderRadius: '4px',\n                        cursor: 'pointer'\n                    }}\n                >\n                    🔄 Debug: Refresh Bank Offers\n                </button>\n            </div> */}\n        </Panel>\n    );\n}\n\nexport default BankPanel;","import API_BASE from '../../config';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { spendIngredients, gainIngredients } from '../../Utils/InventoryManagement';\nimport './Train.css';\nimport FloatingTextManager from '../../UI/FloatingText';\nimport { formatCountdown } from '../../UI/Timers';\nimport { useStrings } from '../../UI/StringsContext';\n\nfunction TrainPanel({ \n  onClose, \n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer, \n  setCurrentPlayer, \n  updateStatus,\n  masterResources,\n  setModalContent,\n  setIsModalOpen\n  }) \n{\n  const strings = useStrings();\n  const [trainOffers, setTrainOffers] = useState([]);\n  const [trainPhase, setTrainPhase] = useState(\"loading\");\n  const [trainTimer, setTrainTimer] = useState(\"⏳\");\n  const [nextOffers, setNextOffers] = useState([]);\n  const [trainRewards, setTrainRewards] = useState([]);\n  const [latestInventory, setLatestInventory] = useState([]);\n\n  // 1. Initial load for the player\n  useEffect(() => {\n    const fetchInventory = async () => {\n      if (!currentPlayer?.playerId) return;\n      try {\n        const response = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        setLatestInventory(response.data.inventory || []);\n      } catch (error) {\n        console.error(\"❌ Error fetching latest inventory:\", error);\n      }\n    };\n    fetchInventory();\n\n    if (currentPlayer?.settlementId) {\n      fetchTrainOffers();\n    }\n  }, [currentPlayer]);\n\n\n  // 2. Fetch fresh train offers on *every* phase change\n  useEffect(() => {\n    if (currentPlayer?.settlementId) {\n      fetchTrainOffers(); // ✅ fixes stale data after phase transitions\n    }\n  }, [trainPhase]);\n\n\n  useEffect(() => {\n    const updateCountdown = () => {\n      const now = Date.now();\n\n      const storedTimers = JSON.parse(localStorage.getItem(\"timers\")) || {};\n      const trainTimerData = storedTimers.train || {};\n\n      const phase = trainTimerData.phase;\n      setTrainPhase(phase || \"unknown\");\n\n      const endTime = trainTimerData.endTime;\n      if (!endTime || isNaN(endTime)) {\n        setTrainTimer(\"N/A\");\n        return;\n      } else {\n        setTrainTimer(formatCountdown(endTime, now));\n      }\n    };\n\n    updateCountdown();\n    const interval = setInterval(updateCountdown, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchTrainOffers = async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/get-settlement/${currentPlayer.settlementId}`);\n      setTrainOffers(response.data?.currentoffers || []);\n      setNextOffers(response.data?.nextoffers || []);\n      setTrainRewards(response.data?.trainrewards || []);\n    } catch (error) {\n      console.error(\"❌ Error fetching train offers:\", error);\n    }\n  };\n\n  const handleShowTrainLog = async () => {\n    if (!setModalContent || !setIsModalOpen) {\n      console.warn(\"Modal context functions not available.\");\n      return;\n    }\n\n    if (!currentPlayer?.settlementId) {\n      console.warn(\"⚠️ Cannot show train log: settlementId missing.\");\n      return;\n    }\n\n    try {\n      const response = await axios.get(`${API_BASE}/api/settlement/${currentPlayer.settlementId}/trainlog`);\n      const trainlog = response.data.trainlog || [];\n\n      const trainLogTable = (\n        <table className=\"train-log-table\" style={{ width: \"100%\", textAlign: \"left\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th style={{ padding: \"6px 12px\" }}>Date</th>\n              <th style={{ padding: \"6px 12px\" }}>Status</th>\n              <th style={{ padding: \"6px 12px\" }}>Offers Filled</th>\n              <th style={{ padding: \"6px 12px\" }}>Total Winners</th>\n              <th style={{ padding: \"6px 12px\" }}>Reward Summary</th>\n              <th style={{ padding: \"6px 12px\" }}>Logic</th>\n            </tr>\n          </thead>\n          <tbody>\n            {[...trainlog].reverse().map((entry, i) => (\n              <tr key={i}>\n                <td style={{ padding: \"6px 12px\" }}>{new Date(entry.date).toLocaleDateString()}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.status || ''}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.inprogress ? 'In progress' : entry.alloffersfilled ? '✅' : '❌'}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.inprogress ? ' ' : entry.totalwinners}</td>\n                <td style={{ padding: \"6px 12px\" }}>{(entry.rewards || []).map(r => `${r.qty} ${r.item}`).join(', ')}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.logic || ''}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      );\n\n      setModalContent({\n        title: \"Train Log\",\n        size: \"large\",\n        message: trainlog.length === 0 ? \"No recent train activity.\" : undefined,\n        custom: trainLogTable,\n      });\n      setIsModalOpen(true);\n    } catch (error) {\n      console.error(\"❌ Failed to fetch train log:\", error);\n      setModalContent({\n        title: \"Error\",\n        message: \"Failed to load train log.\",\n        size: \"small\",\n      });\n      setIsModalOpen(true);\n    }\n  };\n\n  const getSymbol = (type) => {\n    return masterResources.find(r => r.type === type)?.symbol || \"❓\";\n  };\n\n  const handleClaim = async (offer) => {\n    if (!offer || offer.claimedBy) return;\n\n    // ⛔️ Check if player already has a claimed offer\n    const alreadyClaimed = trainOffers.some(\n      (o) => o.claimedBy === currentPlayer.playerId && !o.filled\n    );\n    if (alreadyClaimed) {\n      updateStatus(2014); // ⚠️ Already claimed an offer\n      return;\n    }\n\n    try {\n      // Find the exact index of the offer to ensure uniqueness\n      const offerIndex = trainOffers.findIndex(\n        (o) => o.itemBought === offer.itemBought &&\n              o.qtyBought === offer.qtyBought &&\n              !o.claimedBy &&\n              !o.filled\n      );\n      if (offerIndex === -1) {\n        console.warn(\"⚠️ No matching unclaimed offer found to claim.\");\n        return;\n      }\n\n      const updatedOffer = {\n        ...trainOffers[offerIndex],\n        claimedBy: currentPlayer.playerId,\n      };\n\n      await axios.post(`${API_BASE}/api/update-train-offer/${currentPlayer.settlementId}`, {\n        updateOffer: updatedOffer,\n      });\n\n      setTrainOffers(prev => {\n        const newOffers = [...prev];\n        newOffers[offerIndex] = updatedOffer;\n        return newOffers;\n      });\n    } catch (err) {\n      console.error(\"❌ Error claiming train offer:\", err);\n    }\n  };\n\n  const handleFulfill = async (offer) => {\n    if (!offer || offer.claimedBy !== currentPlayer.playerId) return;\n\n    // Spend the ingredients (the item being delivered)\n    const success = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe: { type: offer.itemBought, ingredient1: offer.itemBought, qtyingredient1: offer.qtyBought },\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      updateStatus,\n    });\n    if (!success) return;\n\n    try {\n      // First update the train offer\n      await axios.post(`${API_BASE}/api/update-train-offer/${currentPlayer.settlementId}`, {\n        updateOffer: {\n          ...offer,\n          filled: true,\n        },\n      });\n\n      console.log('Offer = ',offer);\n      console.log('Offer.qtyGiven = ',offer.qtyGiven);\n      \n    // Award Money for fulfillment\n    await gainIngredients({\n      playerId: currentPlayer.playerId,\n      currentPlayer,\n      resource: \"Money\",\n      quantity: offer.qtyGiven,\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n      masterResources,\n    });\n\n      // Update local state in correct order\n      setTrainOffers(prev => {\n        const index = prev.findIndex(o =>\n          o.itemBought === offer.itemBought &&\n          o.qtyBought === offer.qtyBought &&\n          o.claimedBy === currentPlayer.playerId &&\n          !o.filled\n        );\n        if (index === -1) return prev;\n        const newOffers = [...prev];\n        newOffers[index] = { ...newOffers[index], filled: true };\n        return newOffers;\n      });\n\n      updateStatus(`✅ Delivered ${offer.qtyBought} ${offer.itemBought}.`);\n\n    } catch (error) {\n      console.error(\"❌ Error fulfilling offer:\", error);\n      fetchTrainOffers(); // Refresh offers on error to ensure sync\n    }\n  };\n\n  const renderNextShipment = () => {\n    if (![\"loading\", \"departing\"].includes(trainPhase)) return null;\n    if (!nextOffers.length) return null;\n  \n    // ✅ Deduplicate by itemBought\n    const seen = new Set();\n    const uniqueOffers = nextOffers.filter((offer) => {\n      if (seen.has(offer.itemBought)) return false;\n      seen.add(offer.itemBought);\n      return true;\n    });\n  \n    return (\n      <div className=\"next-shipment-preview\">\n        <h4>{strings[2003]}</h4>\n        <ul>\n          {uniqueOffers.map((offer, index) => (\n            <li key={index}>\n              {getSymbol(offer.itemBought)} {offer.itemBought}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  };\n\n  const renderRewardSection = () => {\n    if (!trainRewards.length || trainPhase !== \"loading\") return null;\n  \n    // ✅ Deduplicate by reward.item\n    const seen = new Set();\n    const uniqueRewards = trainRewards.filter((reward) => {\n      if (seen.has(reward.item)) return false;\n      seen.add(reward.item);\n      return true;\n    });\n  \n    return (\n      <div className=\"reward-section\">\n        <h4>{strings[2004]}</h4>\n        <ul className=\"reward-list\">\n          {uniqueRewards.map((reward, index) => (\n            <li key={index}>\n              {getSymbol(reward.item)} {reward.item}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  };\n\n  const renderOfferSection = (title, offers) => {\n    if (!offers.length) return null;\n    return (\n      <div className=\"offer-section\">\n        <h4>{title}</h4>\n        {offers.map((offer, index) => {\n          const isYours = offer.claimedBy === currentPlayer.playerId;\n          const isCompleted = offer.filled;\n          const affordable = latestInventory?.some(\n            (item) => item.type === offer.itemBought && item.quantity >= offer.qtyBought\n          ) || false;\n\n          const playerQty = latestInventory?.find(inv => inv.type === offer.itemBought)?.quantity || 0;\n          const costColor = playerQty >= offer.qtyBought ? 'green' : 'red';\n          const costDisplay = `<span style=\"color: ${costColor};\">${getSymbol(offer.itemBought)} ${offer.itemBought} ${offer.qtyBought} / ${playerQty}</span>`;\n          const rewardDisplay = `+${getSymbol(offer.itemGiven)} ${offer.itemGiven} ${offer.qtyGiven.toLocaleString()}`;\n          const details = `Offer:<div>${costDisplay}</div><br>Reward:<div>${rewardDisplay}</div>`;\n\n          let buttonText = '';\n          if (isCompleted) {\n            buttonText = strings[2012];\n          } else if (isYours && affordable) {\n            buttonText = strings[2005];\n          } else if (isYours) {\n            buttonText = strings[2006];\n          } else if (offer.claimedBy) {\n            buttonText = strings[2007];\n          } else {\n            buttonText = strings[2008];\n          }\n\n          return (\n            <ResourceButton\n              key={index}\n              className={`train-offer-card ${\n                !offer.claimedBy ? 'unclaimed' : \n                'resource-button'\n              }`}\n              onClick={() =>\n                isCompleted ? null :\n                isYours ? handleFulfill(offer) :\n                !offer.claimedBy ? handleClaim(offer) : null\n              }\n              disabled={isCompleted || (!isYours && offer.claimedBy) || (isYours && !affordable)}\n              details={details}\n            >\n\n            </ResourceButton>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const claimedByYou = trainOffers.filter(o => o.claimedBy === currentPlayer.playerId && !o.filled);\n  const available = trainOffers.filter(o => !o.claimedBy);\n  const claimedByOthers = trainOffers.filter(o => o.claimedBy && o.claimedBy !== currentPlayer.playerId && !o.filled);\n  const completed = trainOffers.filter(o => o.filled);\n\n  const allOrdersFilled = trainPhase === 'departing' || trainPhase === 'arriving'\n  ? trainOffers.length > 0 && trainOffers.every(o => o.filled)\n  : false;\n\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1022\" titleKey=\"1122\" panelName=\"TrainPanel\">\n      <h3>{strings[2020]} {trainPhase}</h3>\n      <h2>⏳ {trainTimer}</h2>\n\n      <button className=\"standard-button\" onClick={() => handleShowTrainLog()}>\n        {strings[2015]}\n      </button>\n\n      {trainPhase === \"loading\" && (\n        <>\n          {renderRewardSection()}\n          {renderOfferSection(strings[2009], claimedByYou)}\n          {renderOfferSection(strings[2010], available)}\n          {renderOfferSection(strings[2011], claimedByOthers)}\n          {renderOfferSection(strings[2012], completed)}\n        </>\n      )}\n\n      {allOrdersFilled && (\n        <div className=\"train-rewards-banner\">\n          {strings[2016]}\n        </div>\n      )}\n\n      {(trainPhase === \"loading\" || trainPhase === \"departing\") && renderNextShipment()}      \n    </Panel>\n  );\n}\n\nexport default TrainPanel;","import API_BASE from '../../config';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport Modal from '../../UI/Modal';\nimport axios from 'axios';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport './Courthouse.css';\nimport '../../UI/Panel.css';\nimport { useStrings } from '../../UI/StringsContext';\nimport '../../UI/Modal.css';\n\nconst CourthousePanel = ({ onClose, currentPlayer, setCurrentPlayer }) => {\n\n    const strings = useStrings();\n    const [settlement, setSettlement] = useState(null);\n    const [taxRate, setTaxRate] = useState(0);\n    const [isMayor, setIsMayor] = useState(false);\n    const [electionPhase, setElectionPhase] = useState('');\n    const [countdown, setCountdown] = useState('');\n    const { updateStatus } = useContext(StatusBarContext);\n    const [campaignPromises, setCampaignPromises] = useState([]);\n    const [newPromise, setNewPromise] = useState('');\n    const [selectedCandidate, setSelectedCandidate] = useState(null);\n    const [hasVoted, setHasVoted] = useState(false);\n    const [votedFor, setVotedFor] = useState('');\n    const [candidateList, setCandidateList] = useState([]);\n    const [tempTaxRate, setTempTaxRate] = useState(0); // Temporary UI state for the slider\n    const [hoveredCandidate, setHoveredCandidate] = useState(null);\n    const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n    const [tempSettlementName, setTempSettlementName] = useState('');\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [modalContent, setModalContent] = useState(null);\n\n    \n    const handleViewElectionLog = async () => {\n        if (!currentPlayer?.settlementId) {\n          console.warn(\"⚠️ Cannot show election log: settlementId missing.\");\n          return;\n        }\n\n        console.log(\"🗳️ Show Election Log clicked\");\n        console.log(\"📤 Fetching election log for settlement:\", currentPlayer.settlementId);\n\n        try {\n          const response = await axios.get(`${API_BASE}/api/settlement/${currentPlayer.settlementId}/electionlog`);\n          console.log(\"📥 Election log API response:\", response.data);\n\n          const electionlog = response.data.electionlog || [];\n\n          const electionLogTable = (\n            <table className=\"election-log-table\" style={{ width: \"100%\", textAlign: \"left\", borderCollapse: \"collapse\" }}>\n              <thead>\n                <tr>\n                  <th style={{ padding: \"6px 12px\" }}>Date</th>\n                  <th style={{ padding: \"6px 12px\" }}>Candidates</th>\n                  <th style={{ padding: \"6px 12px\" }}>Elected Mayor</th>\n                </tr>\n              </thead>\n              <tbody>\n                {[...electionlog].reverse().map((entry, i) => (\n                  <tr key={i}>\n                    <td style={{ padding: \"6px 12px\" }}>{new Date(entry.date).toLocaleDateString()}</td>\n                    <td style={{ padding: \"6px 12px\" }}>\n                      {entry.candidates?.length > 0 ? (\n                        entry.candidates.map((c, j) => (\n                          <div key={j}>{c.username}: {c.votes} votes</div>\n                        ))\n                      ) : (\n                        <em>No candidates</em>\n                      )}\n                    </td>\n                    <td style={{ padding: \"6px 12px\" }}>{entry.electedmayor || 'None'}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          );\n\n          setModalContent({\n            title: \"Recent Election Results\",\n            size: \"large\",\n            message: electionlog.length === 0\n              ? \"No election results recorded yet.\"\n              : undefined,\n            custom: electionLogTable,\n          });\n          setIsModalOpen(true);\n        } catch (error) {\n          console.error(\"❌ Failed to fetch election log:\", error);\n          setModalContent({\n            title: \"Error\",\n            message: \"Failed to load election log.\",\n            size: \"small\",\n          });\n          setIsModalOpen(true);\n        }\n    };\n\n    // Effect for initial data load only\n    useEffect(() => {\n        fetchElectionData();\n    }, [currentPlayer.settlementId]);\n\n    // Combined countdown and phase monitor effect\n    useEffect(() => {\n        const updateTimerAndPhase = () => {\n            const now = Date.now();\n            const storedTimers = JSON.parse(localStorage.getItem(\"timers\")) || {};\n            const electionData = storedTimers.elections || {};\n            \n            // Update phase first\n            const newPhase = electionData.phase || \"Administration\";\n            if (newPhase !== electionPhase) {\n                console.log(\"🗳️ Election phase changing to:\", newPhase);\n                setElectionPhase(newPhase);\n            }\n\n            // Then update countdown\n            const endTime = electionData.endTime;\n            if (!endTime || isNaN(endTime)) {\n                setCountdown(\"N/A\");\n                return;\n            }\n\n            const remainingTime = Math.max(0, Math.floor((endTime - now) / 1000));\n            const hours = Math.floor(remainingTime / 3600);\n            const minutes = Math.floor((remainingTime % 3600) / 60);\n            const seconds = remainingTime % 60;\n            setCountdown(`${hours}h ${minutes}m ${seconds}s`);\n        };\n\n        updateTimerAndPhase(); // Initial run\n        const interval = setInterval(updateTimerAndPhase, 1000);\n        return () => clearInterval(interval);\n    }, []); // No dependencies needed\n\n    // Effect to fetch fresh data on phase changes\n    useEffect(() => {\n        console.log(\"🗳️ Phase changed to:\", electionPhase);\n        if (electionPhase === \"Counting\") {\n            setCampaignPromises([]);\n            setCandidateList([]);\n        }\n        fetchElectionData();\n    }, [electionPhase]);\n\n    const fetchElectionData = async () => {\n        try {\n            const settlementResponse = await axios.get(\n                `${API_BASE}/api/get-settlement/${currentPlayer.settlementId}`\n            );\n            const settlementData = settlementResponse.data;\n            \n            setSettlement(settlementData);\n            setTaxRate(settlementData.taxrate || 0);\n            setTempTaxRate(settlementData.taxrate || 0);\n            setCampaignPromises(settlementData.campaignPromises || []);\n            setTempSettlementName(settlementData.displayName || '');\n            \n            // Update mayor status\n            const mayorRole = settlementData.roles.find(role => role.roleName === 'Mayor');\n            setIsMayor(mayorRole && mayorRole.playerId.toString() === currentPlayer._id.toString());\n\n            // Always reset hasVoted and votedFor before checking\n            setHasVoted(false);\n            setVotedFor('');\n            if (settlementData.votes) {\n                const playerVote = settlementData.votes.find(v => String(v.voterId) === String(currentPlayer._id));\n                if (playerVote) {\n                    setHasVoted(true);\n                    const votedCandidate = settlementData.campaignPromises?.find(p => \n                        String(p.playerId) === String(playerVote.candidateId)\n                    );\n                    setVotedFor(votedCandidate?.username || 'Unknown');\n                }\n            }\n\n            // Only update candidates list if in voting phase and haven't voted\n            if (electionPhase === \"Voting\" && !hasVoted) {\n                const uniqueCandidates = settlementData.campaignPromises?.reduce((acc, promise) => {\n                    if (!acc.find((c) => c.playerId === promise.playerId)) {\n                        acc.push({ playerId: promise.playerId, username: promise.username });\n                    }\n                    return acc;\n                }, []) || [];\n                setCandidateList(uniqueCandidates);\n            }\n        } catch (error) {\n            console.error('❌ Error fetching election data:', error);\n        }\n    };\n\n    const handleAddCampaignPromise = async () => {\n        if (!newPromise.trim()) return;\n        if (newPromise.length > 200) {\n            updateStatus('Campaign promises cannot exceed 200 characters.');\n            return;\n        }\n        try {\n            const response = await axios.post(`${API_BASE}/api/save-campaign-promise`, {\n                settlementId: currentPlayer.settlementId,\n                playerId: currentPlayer._id,\n                username: currentPlayer.username,\n                text: newPromise,\n            });\n\n            if (response.data.message) {\n                console.log(`📢 ${response.data.message}`);\n                updateStatus('✅ Campaign promise submitted.');\n                setCampaignPromises(response.data.campaignPromises);\n                setNewPromise('');\n            }\n        } catch (error) {\n            console.error('❌ Error submitting campaign promise:', error);\n            updateStatus('❌ Failed to submit campaign promise.');\n        }\n    };\n\n    const handleVote = async () => {\n        if (!selectedCandidate) return;\n\n        try {\n            const response = await axios.post(`${API_BASE}/api/cast-vote`, {\n                settlementId: currentPlayer.settlementId,\n                voterId: currentPlayer._id,\n                candidateId: selectedCandidate,\n            });\n\n            if (response.data.message) {\n                console.log(`🗳️ ${response.data.message}`);\n                updateStatus('✅ Vote successfully cast.');\n                setHasVoted(true);\n                // Store the username of the voted candidate\n                const votedCandidate = candidateList.find(c => c.playerId === selectedCandidate);\n                setVotedFor(votedCandidate?.username || 'Unknown');\n                await trackQuestProgress(currentPlayer, 'Vote', 'Election', 1);\n                fetchElectionData();\n            }\n        } catch (error) {\n            console.error('❌ Error casting vote:', error);\n            if (error.response.data.error === \"Already voted.\") {\n                updateStatus('❌ You already voted.');\n            } else {\n                updateStatus('❌ Failed to cast vote.');\n            }\n        }\n    };\n\n    const handleSaveTaxRate = async () => {\n        if (!isMayor) return;\n    \n        try {\n            console.log(`💾 Saving new tax rate: ${tempTaxRate}%`);\n    \n            const response = await axios.post(`${API_BASE}/api/update-settlement`, {\n                settlementId: currentPlayer.settlementId,\n                updates: { taxrate: tempTaxRate }, // ✅ Save the new tax rate\n            });\n    \n            if (response.data.success) {\n                console.log(`✅ Tax rate updated successfully.`);\n                updateStatus(`✅ Tax rate set to ${tempTaxRate}%`);\n                // ✅ Sync stored tax rate with UI slider\n                setTaxRate(tempTaxRate);\n            } else {\n                console.error(`❌ Failed to update tax rate:`, response.data.error);\n                updateStatus(\"❌ Error updating tax rate.\");\n            }\n        } catch (error) {\n            console.error('❌ Error saving tax rate:', error);\n            updateStatus(\"❌ Failed to save tax rate.\");\n        }\n    };\n\n    const handleSaveSettlementName = async () => {\n        if (!isMayor || !tempSettlementName.trim()) return;\n\n        try {\n            const response = await axios.post(`${API_BASE}/api/update-settlement`, {\n                settlementId: currentPlayer.settlementId,\n                updates: { displayName: tempSettlementName } // Changed from name to displayName\n            });\n\n            if (response.data.success) {\n                updateStatus(`✅ Settlement renamed to ${tempSettlementName}`);\n                setSettlement(prev => ({ ...prev, displayName: tempSettlementName }));\n            } else {\n                updateStatus(\"❌ Error updating settlement name.\");\n            }\n        } catch (error) {\n            console.error('❌ Error saving settlement name:', error);\n            updateStatus(\"❌ Failed to save settlement name.\");\n        }\n    };\n\n    const getCandidatePromise = (candidateId) => {\n        return campaignPromises.find(promise => \n            promise.playerId === candidateId\n        )?.text || \"No campaign promise made.\";\n    };\n\n    console.log(\"hasVoted:\", hasVoted);\n    console.log(\"electionPhase:\", electionPhase);\n\n    return (\n        <Panel onClose={onClose} descriptionKey=\"1012\" titleKey=\"1112\" panelName=\"Courthouse\">\n            <div className=\"panel-content courthouse-panel\">       \n                <div className=\"debug-buttons\">\n                    {isMayor ? (\n                        <h1>{strings[2080]}</h1>\n                    ) : (\n                        <h2>{strings[2079]}</h2>\n                    )}\n                    <p>{strings[2084]}</p>\n\n{/* Settlement name section */}\n                    <h3>{strings[2082]}</h3>\n                    {isMayor ? (\n                        <div className=\"settlement-name-editor\">\n                            <input\n                                type=\"text\"\n                                value={tempSettlementName}\n                                onChange={(e) => setTempSettlementName(e.target.value)}\n                                placeholder={strings[2081]}\n                            />\n                            <button \n                                className=\"btn-success\" \n                                onClick={handleSaveSettlementName}\n                                disabled={!tempSettlementName.trim()}\n                            >\n                                {strings[2083]}\n                            </button>\n                        </div>\n                    ) : (\n                        <h2>{settlement?.displayName || 'Unnamed'}</h2>\n                    )}\n \n{/* TAX RATE section */} \n \n                    <h3>{strings[2041]} {taxRate}%</h3>\n                    {isMayor && (\n                        <div className=\"tax-rate-editor\">\n                            <input\n                                type=\"range\" min=\"0\" max=\"20\" value={tempTaxRate}\n                                onChange={(e) => setTempTaxRate(Number(e.target.value))}\n                            />\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: '8px' }}>\n                            <span style={{ flex: 1 }}>{strings[2042]} {tempTaxRate}%</span>\n                            <button\n                                className=\"btn-success\"\n                                onClick={handleSaveTaxRate}\n                                style={{\n                                width: 'auto',\n                                maxWidth: '100px',\n                                padding: '6px 10px',\n                                fontSize: '12px',\n                                flexShrink: 0\n                                }}\n                            >\n                                {strings[\"2043\"]}\n                            </button>\n                            </div>\n                        </div>\n                    )}\n\n{/* ELECTIONS section */} \n\n                    <br></br> \n                    <h3>{strings[2045]}</h3>\n                    <button className=\"btn-success\" onClick={handleViewElectionLog}>Recent Election Results</button>\n                    <p><strong>\n                        {electionPhase === \"Counting\" && strings[\"2062\"]}\n                        {electionPhase === \"Voting\" && strings[\"2061\"]}\n                        {electionPhase === \"Campaigning\" && strings[\"2060\"]}\n                        {electionPhase === \"Administration\" && strings[\"2063\"]}\n                    </strong></p>\n                    <p>{countdown}</p>\n\n{/* ✅ Campaigning Phase */}\n\n                    {electionPhase === \"Campaigning\" && (\n                        <>\n                            <h3>{strings[2048]}</h3>\n                            \n                            {/* ✅ Scrollable List of Promises */}\n                            <div className=\"campaign-promises\">\n                                {campaignPromises.length > 0 ? (\n                                    campaignPromises.map((promise, index) => (\n                                        <div key={index} className=\"campaign-entry\">\n                                            <strong>{promise.username}:</strong> {promise.text}\n                                        </div>\n                                    ))\n                                ) : (\n                                    <p>{strings[2071]}</p>\n                                )}\n                            </div>\n\n                            {/* ✅ Player Can Submit a Promise */}\n                            {!campaignPromises.some(p => p.playerId === currentPlayer._id) && (\n                                <>\n                                    <textarea\n                                        value={newPromise}\n                                        onChange={(e) => setNewPromise(e.target.value)}\n                                        placeholder={strings[2072]}\n                                    />\n                                    <button className=\"btn-success\" onClick={handleAddCampaignPromise}>Submit Campaign Promise</button>\n                                </>\n                            )}\n                        </>\n                    )}\n\n{/* Voting Phase UI */}\n\n                <div className=\"voting-section\">\n                </div>\n                    {electionPhase === 'Voting' && (\n                        <div className=\"voting-section\">\n                            {hasVoted ? (\n                                <p>{strings[2077]}</p>\n                            ) : candidateList.length > 0 ? (\n                                <>\n                                    <h3>Cast Your Vote</h3>\n                                    {candidateList.map((candidate, index) => (\n                                        <div \n                                            key={candidate.playerId || index}\n                                            className=\"candidate-row\"\n                                            onMouseEnter={(e) => {\n                                                setHoveredCandidate(candidate.playerId);\n                                                setTooltipPosition({\n                                                    x: e.clientX + 10,\n                                                    y: e.clientY - 40\n                                                });\n                                            }}\n                                            onMouseLeave={() => setHoveredCandidate(null)}\n                                        >\n                                            <input \n                                                type=\"radio\" \n                                                name=\"vote\" \n                                                value={candidate.playerId}\n                                                onChange={() => {\n                                                    setSelectedCandidate(candidate.playerId);\n                                                }}\n                                            />\n                                            {candidate.username}\n                                        </div>\n                                    ))}\n                                    <button \n                                        className=\"btn-success\"\n                                        onClick={handleVote} \n                                        disabled={!selectedCandidate}\n                                    >\n                                        {strings[2074]}\n                                    </button>\n\n                                    {/* Tooltip */}\n                                    {hoveredCandidate && (\n                                        <div \n                                            className=\"candidate-tooltip\"\n                                            style={{\n                                                left: tooltipPosition.x,\n                                                top: tooltipPosition.y,\n                                            }}\n                                        >\n                                            <strong>{strings[2076]}</strong><br />\n                                            \"{getCandidatePromise(hoveredCandidate)}\"\n                                        </div>\n                                    )}\n                                </>\n                            ) : (\n                                <p>{strings[2078]}</p>\n                            )}\n\n\n                            {/* ✅ Extra message if no one ran */}\n                            {candidateList.length === 0 && (\n                                <p><em>No one ran for mayor this election cycle.</em></p>\n                            )}\n                            \n                        </div>\n                    )}\n                </div>\n            </div>\n            {isModalOpen && (\n                <Modal\n                    isOpen={isModalOpen}\n                    onClose={() => setIsModalOpen(false)}\n                    title={modalContent?.title}\n                    size={modalContent?.size}\n                    message={modalContent?.message}\n                    custom={modalContent?.custom}\n                />\n            )}\n        </Panel>\n    );\n};\n\nexport default CourthousePanel;","import React, { useState, useRef } from 'react';\nimport ReactDOM from 'react-dom'; // ✅ Add this\nimport './ResourceButton.css';\nimport './QuestButton.css';\nimport { useStrings } from './StringsContext';\n\nconst QuestButton = ({ quest, state, onClick }) => {\n  const strings = useStrings();\n  const { symbol, title, completed, goals = [], textbody } = quest;\n  const [isHovered, setIsHovered] = useState(false);\n  const timeoutRef = useRef(null);\n\n  const handleMouseEnter = () => {\n    clearTimeout(timeoutRef.current);\n    setIsHovered(true);\n  };\n\n  const handleMouseLeave = () => {\n    timeoutRef.current = setTimeout(() => {\n      setIsHovered(false);\n    }, 100);\n  };\n\n  return (\n    <div\n      className={`quest-item ${state}`}\n      onClick={onClick}\n      style={{ position: 'relative' }}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <h2>{symbol}</h2>\n      <h3>{title}</h3>\n      <h4>{completed ? strings[206] : strings[207]}</h4>\n      {goals.map((goal, index) =>\n        goal.action && goal.item && goal.qty ? (\n          <p key={index}>\n            {goal.action} {goal.item} x{goal.qty}: {goal.progress} of {goal.qty}\n          </p>\n        ) : null\n      )}\n      {isHovered && textbody && (\n        <div style={{ marginTop: '8px' }}>\n          <div className=\"quest-info-expanded\">\n            {textbody}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst QuestGiverButton = ({ quest, state, onClick }) => {\n  const strings = useStrings();\n  const { symbol, title, textbody, reward, rewardqty, goals = [] } = quest;\n  const buttonText = state === 'reward' ? strings[208] : strings[209];\n  const [isHovered, setIsHovered] = useState(false);\n\n  const handleMouseEnter = () => setIsHovered(true);\n  const handleMouseLeave = () => setIsHovered(false);\n\n  return (\n    <div\n      className={`quest-item ${state}`}\n      onClick={onClick}\n      style={{ position: 'relative' }}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <h2>{symbol}</h2>\n      <h3>{title}</h3>\n      <div className=\"quest-goals\">\n        {goals.map((goal, index) =>\n          goal.action && goal.item && goal.qty ? (\n            <p key={index}>{goal.action} {goal.item} x{goal.qty}</p>\n          ) : null\n        )}\n      </div>\n      <p>Reward: {rewardqty} {reward}</p>\n      <button className=\"quest-giver-button\">{buttonText}</button>\n      {isHovered && textbody && (\n        <div style={{ marginTop: '8px' }}>\n          <div className=\"quest-info-expanded\">\n            {textbody}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { QuestButton, QuestGiverButton };","import API_BASE from '../../config';\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Panel from '../../UI/Panel';\nimport { QuestButton } from '../../UI/QuestButton';\nimport '../../UI/ResourceButton.css';\nimport '../../UI/QuestButton.css';\nimport { useStrings } from '../../UI/StringsContext';\n\nfunction QuestPanel({ onClose, currentPlayer }) {\n  const strings = useStrings();\n  const [playerQuests, setPlayerQuests] = useState([]);\n  const [questTemplates, setQuestTemplates] = useState([]);\n\n  // Load active player quests\n  useEffect(() => {\n    if (currentPlayer?.activeQuests) {\n      setPlayerQuests(currentPlayer.activeQuests);\n    }\n  }, [currentPlayer]);\n\n  // Load all quest templates from tuning file\n  useEffect(() => {\n    const fetchQuestTemplates = async () => {\n      try {\n        const response = await axios.get(`${API_BASE}/api/quests`);\n        setQuestTemplates(response.data || []);\n      } catch (error) {\n        console.error('Error fetching quest templates:', error);\n      }\n    };\n    fetchQuestTemplates();\n  }, []);\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1006\" titleKey=\"1106\" panelName=\"QuestPanel\">\n      {(!playerQuests || playerQuests.length === 0) ? (\n        <p>{strings[203]}</p>\n      ) : (\n        <div className=\"standard-panel\">\n          {playerQuests.map((quest, index) => {\n            const template = questTemplates.find(t => t.title === quest.questId);\n            const goals = [\n              {\n                action: quest.goal1action,\n                item: quest.goal1item,\n                qty: quest.goal1qty,\n                progress: quest.progress?.goal1 || 0,\n              },\n              {\n                action: quest.goal2action,\n                item: quest.goal2item,\n                qty: quest.goal2qty,\n                progress: quest.progress?.goal2 || 0,\n              },\n              {\n                action: quest.goal3action,\n                item: quest.goal3item,\n                qty: quest.goal3qty,\n                progress: quest.progress?.goal3 || 0,\n              },\n            ].filter(goal => goal.action && goal.item && goal.qty);\n\n            return (\n              <QuestButton\n                key={index}\n                className={`resource-button ${quest.completed ? 'reward' : 'in-progress'}`}\n                quest={{\n                  symbol: quest.symbol,\n                  title: quest.questId,\n                  completed: quest.completed,\n                  goals,\n                  textbody: template?.textbody || '',\n                }}\n                state={quest.completed ? 'reward' : 'in-progress'}\n                onClick={null}\n              />\n            );\n          })}\n        </div>\n      )}\n    </Panel>\n  );\n}\n\nexport default QuestPanel;","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { getIngredientDetails } from '../../Utils/ResourceHelpers';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { refreshPlayerAfterInventoryUpdate } from '../../Utils/InventoryManagement';\nimport { gainIngredients, spendIngredients } from '../../Utils/InventoryManagement';\nimport { QuestGiverButton } from '../../UI/QuestButton';\nimport { modifyPlayerStatsInPlayer, modifyPlayerStatsInGridState } from '../../Utils/playerManagement';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { useStrings } from '../../UI/StringsContext';\n\nconst QuestGiverPanel = ({\n  onClose,\n  npcData,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  setResources,\n  TILE_SIZE,\n  updateStatus,\n  masterResources,\n}) => {\n  const strings = useStrings();\n  const [questList, setQuestList] = useState([]);\n  const [healRecipes, setHealRecipes] = useState([]);\n  const [statusMessage, setStatusMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  console.log('made it to QuestGiverPanel/Healer; npcData = ', npcData);\n\n  // Ensure npcData has default values\n  if (!npcData) {\n    console.warn(\"QuestGiverPanel was opened with missing npcData.\");\n    npcData = { type: \"Unknown NPC\", symbol: \"❓\" }; // Provide default fallback values\n  }\n\n  // Handle quests or healing logic\n  useEffect(() => {\n    if (!npcData || !npcData.type) return;\n\n    if (npcData.action === 'quest') {\n      fetchQuests();\n    } else if (npcData.action === 'heal') {\n      const filteredRecipes = masterResources.filter((resource) => resource.type === npcData.type);\n      setHealRecipes(filteredRecipes);\n    }\n  }, [npcData, currentPlayer]);\n\n  \n  ////////////////////////////////////////////////////////////\n  ////////////////////// Fetch QUESTS for QUEST NPCs\n  const fetchQuests = async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/quests`);\n\n      // Use new quest filtering logic\n      const npcQuests = response.data\n        .filter((quest) => quest.giver === npcData.type)\n        .filter((quest) => {\n          const activeQuest = currentPlayer.activeQuests.find(q => q.questId === quest.title);\n          if (activeQuest) {\n            return activeQuest.completed && !activeQuest.rewardCollected;\n          }\n          return quest.repeatable || !currentPlayer.completedQuests.some(q => q.questId === quest.title);\n        });\n\n      setQuestList(npcQuests);\n    } catch (error) {\n      console.error('Error fetching quests:', error);\n    }\n  };\n\n  const handleAcceptQuest = async (questTitle) => {\n    if (!questTitle) return;\n    // Find the accepted quest in questList\n    const acceptedQuest = questList.find(q => q.title === questTitle);\n    if (!acceptedQuest) {\n        console.error(`Quest \"${questTitle}\" not found in available quests.`);\n        return;\n    }\n    // Prepare progress tracking for skill-based goals\n    let initialProgress = { goal1: 0, goal2: 0, goal3: 0 }; // Explicitly initialize\n    let goalsCompleted = 0;\n    let totalGoals = 0;\n\n    for (let i = 1; i <= 3; i++) {\n      const goalAction = acceptedQuest[`goal${i}action`];\n      const goalItem = acceptedQuest[`goal${i}item`];\n      const goalQty = acceptedQuest[`goal${i}qty`];\n\n      if (!goalAction || !goalItem || !goalQty) continue; // Skip undefined goals\n      totalGoals++; // Count valid goals\n\n      if (goalAction === \"Gain skill with\") {\n          // Check if player already has the required skill\n          const playerHasSkill = currentPlayer.skills?.some(skill => skill.type === goalItem);\n          if (playerHasSkill) {\n              initialProgress[`goal${i}`] = 1; // Pre-mark as completed\n              goalsCompleted++;\n          } else {\n              initialProgress[`goal${i}`] = 0; // Start at 0\n          }\n      } else {\n          initialProgress[`goal${i}`] = 0; // Default progress for other goals\n      }\n    }\n    // If all goals are completed before even accepting, mark the quest as completed\n    const isQuestCompleted = totalGoals > 0 && goalsCompleted === totalGoals;\n    console.log('initialProgress = ',initialProgress);\n\n    try {\n      const response = await axios.post(`${API_BASE}/api/add-player-quest`, {\n        playerId: currentPlayer.playerId,\n        questId: questTitle,\n        startTime: Date.now(),\n        progress: initialProgress, // Send pre-computed progress\n        completed: isQuestCompleted, // If all goals are done, mark it completed\n      });\n\n      if (response.data.success) {\n        setCurrentPlayer(response.data.player); // Update player after quest is added\n        updateStatus(202);\n        console.log(`✅ Quest \"${questTitle}\" added with initial progress:`, initialProgress);\n      } else {\n        setStatusMessage(`Failed to accept quest: ${response.data.error}`);\n      }\n    } catch (error) {\n      console.error('Error accepting quest:', error);\n      setStatusMessage('Error accepting quest. Check console.');\n    }\n  };\n\nconst handleGetReward = async (quest) => {\n    try {\n      const success = await gainIngredients({\n        playerId: currentPlayer.playerId,\n        currentPlayer,\n        resource: quest.reward,\n        quantity: quest.rewardqty,\n        inventory,\n        backpack,\n        setInventory,\n        setBackpack,\n        setCurrentPlayer,\n        updateStatus,\n        masterResources,\n      });\n      if (!success) return;\n\n      let updatedCompletedQuests = currentPlayer.completedQuests.map((q) =>\n        q.questId === quest.title ? { ...q, rewardCollected: true } : q\n      );\n      const alreadyCompleted = updatedCompletedQuests.some(q => q.questId === quest.title);\n      if (!alreadyCompleted) {\n        updatedCompletedQuests.push({\n          questId: quest.title,\n          rewardCollected: true,\n          timestamp: Date.now(),\n        });\n      }\n\n      // Remove the quest from activeQuests\n      const updatedActiveQuests = currentPlayer.activeQuests.filter(q => q.questId !== quest.title);\n\n      const updatedPlayer = {\n        ...currentPlayer,\n        completedQuests: updatedCompletedQuests,\n        activeQuests: updatedActiveQuests,\n      };\n      await axios.post(`${API_BASE}/api/update-profile`, {\n        playerId: currentPlayer.playerId,\n        updates: {\n          completedQuests: updatedPlayer.completedQuests,\n          activeQuests: updatedActiveQuests,\n        },\n      }).then((result) => {\n        console.log(\"📬 Server responded with:\", result.data);\n      });\n      setCurrentPlayer({\n        ...currentPlayer,\n        completedQuests: updatedPlayer.completedQuests,\n        activeQuests: updatedActiveQuests,\n      });\n      setQuestList((prevList) => prevList.filter((q) => q.title !== quest.title));\n      await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n      updateStatus(201);\n\n    } catch (error) {\n      console.error('Error collecting quest reward:', error);\n      alert('Failed to collect quest reward.');\n    }\n  };\n\n\nconst handleHeal = async (recipe) => {\n    setErrorMessage('');\n    console.log('made it to handleHeal');\n\n    if (!recipe) {\n      setErrorMessage('Invalid healing recipe selected.');\n      return;\n    }\n    // Fetch current HP and Max HP from playersInGridManager\n    const gridId = currentPlayer?.location?.g;\n    const playerId = currentPlayer._id?.toString();\n    // Additional console logs for debug\n    console.log('gridId =', gridId);\n    console.log('playerId =', playerId);\n    console.log('playersInGridManager.getPlayersInGrid(gridId) =', playersInGridManager.getPlayersInGrid(gridId));\n    const playerInGridState = playersInGridManager.getPlayersInGrid(gridId)?.[playerId];\n    if (!playerInGridState) {\n      console.error(`Player ${currentPlayer.username} not found in NPCsInGrid.`);\n      return;\n    }\n    const currentHp = playerInGridState.hp;\n    const maxHp = playerInGridState.maxhp;\n  \n    // Healing logic with NPCsInGrid HP\n    if (npcData.output === 'hp') {\n      if (currentHp >= maxHp) {\n        updateStatus(401);  // Player is already at full HP\n        return;\n      }\n    }\n    const success = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe,\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      updateStatus,\n    });\n    if (!success) return;\n\n    const healAmount = npcData.qtycollected;\n    const statToMod = 'hp';\n    const amountToMod = Math.min(healAmount, maxHp - currentHp);  // Ensure it doesn't exceed max HP\n    \n    console.log('About to mofidy stats;  amountToMod = ',amountToMod,'; statToMod = ',statToMod);\n\n    try {\n      console.log('calling modifyPlayerStats with: statToMod: ',statToMod,'; amountToMod: ',amountToMod,'; currentPlayer._id= ',currentPlayer._id,'; gridId: ',gridId);\n      await modifyPlayerStatsInGridState(statToMod, amountToMod, currentPlayer._id, gridId);\n      setCurrentPlayer((prev) => ({\n        ...prev,\n        hp: Math.min(prev.maxhp, prev.hp + amountToMod),\n      }));  \n      updateStatus(`${strings[405]}${amountToMod}.`);\n\n    } catch (error) {\n      console.error('Error applying healing:', error);\n    }\n\n  };\n\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1013\" titleKey=\"1113\" panelName=\"QuestGiverPanel\">\n\n{/* //////////////////// QUESTS //////////////////////// */}\n\n      {npcData.action === 'quest' && (\n        <div className=\"quest-options\">\n          <h2>{npcData.symbol} {npcData.type}</h2>\n          {questList.length > 0 ? (\n            <h3>{strings[204]}</h3>\n          ) : (\n            <h3>{strings[205]}</h3>\n          )}\n          {questList.map((quest) => {\n            const isRewardable = currentPlayer.activeQuests.some(\n              (q) => q.questId === quest.title && q.completed && !q.rewardCollected\n            );\n\n            const state = isRewardable ? 'reward' : 'accept';\n            const onClick = state === 'reward'\n              ? () => handleGetReward(quest)\n              : () => handleAcceptQuest(quest.title);\n\n            return (\n              <QuestGiverButton\n                key={quest.title}\n                quest={{\n                  symbol: quest.symbol,\n                  title: quest.title,\n                  textbody: quest.textbody,\n                  goals: [\n                    { action: quest.goal1action, item: quest.goal1item, qty: quest.goal1qty },\n                    { action: quest.goal2action, item: quest.goal2item, qty: quest.goal2qty },\n                    { action: quest.goal3action, item: quest.goal3item, qty: quest.goal3qty },\n                  ],\n                  reward: quest.reward,\n                  rewardqty: quest.rewardqty,\n                }}\n                state={state}\n                onClick={onClick}\n              />\n            );\n          })}\n        </div>\n      )}\n\n\n{/* //////////////////// HEALING //////////////////////// */}\n\n      {npcData.action === 'heal' && healRecipes.length > 0 && (\n        <div className=\"heal-options\">\n<br />\n          {/* Fetch and display player's HP from playersInGridManager */}\n          {(() => {\n            const gridId = currentPlayer?.location?.g;\n            const playerId = currentPlayer._id?.toString();\n            const playerInGridState = playersInGridManager.getPlayersInGrid(gridId)?.[playerId];\n<br />\n            if (playerInGridState) {\n              return (\n                <>\n                  <h2>❤️‍🩹 Health: <br />{playerInGridState.hp} / {playerInGridState.maxhp}</h2>\n                </>\n              );\n            } else {\n              return <h4>Health Unavailable</h4>;\n            }\n          })()}\n<br />\n          <h3>This NPC can heal you:</h3>\n          {healRecipes.map((recipe) => {\n            const ingredients = getIngredientDetails(recipe, masterResources);\n            const affordable = canAfford(recipe, inventory, 1);\n            const healAmount = recipe.qtycollected; // Healing value\n\n            return (\n              <ResourceButton\n                key={recipe.type}\n                symbol={recipe.symbol}\n                name={recipe.type}\n                details={`Costs: ${ingredients.join(', ') || 'None'}<br>Heals: ❤️‍🩹 +${healAmount}`}\n                disabled={!affordable}\n                onClick={() => handleHeal(recipe)}\n              />\n            );\n          })}\n          {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n        </div>\n      )}\n\n    </Panel>\n  );\n};\n\nexport default React.memo(QuestGiverPanel);\n","import API_BASE from '../config';\nimport axios from 'axios';\nimport playersInGridManager from '../GridState/PlayersInGrid';\nimport { changePlayerLocation } from './GridManagement';\n\nexport const modifyPlayerStatsInGridState = async (statToMod, amountToMod, playerId, gridId) => {\n  try {\n    console.log('made it to modifyPlayerStatsInGridState');\n    console.log('statToMod = ', statToMod, '; amountToMod = ', amountToMod);\n\n    if (!statToMod || !amountToMod) { console.error('Invalid stat or amount to modify.'); return; }\n\n    // Use playersInGridManager to get PCs and update\n    const pcs = playersInGridManager.getPlayersInGrid(gridId);\n    const player = pcs?.[playerId];\n\n    if (!player) {\n      console.warn(`🛑 Player ${playerId} not found in playersInGrid for gridId ${gridId}`);\n      console.warn('🧠 All available PCs:', Object.keys(pcs));\n      return;\n    }\n\n    // Modify stat safely\n    const updatedValue = (player[statToMod] || 0) + amountToMod;\n    playersInGridManager.updatePC(gridId, playerId, { [statToMod]: updatedValue });\n    console.log(`✅ Modified ${statToMod} for player ${playerId} by +${amountToMod}. New value: ${updatedValue}`);\n\n  } catch (error) {\n    console.error('Error in modifyPlayerStats:', error);\n  }\n};\n\n\nexport const modifyPlayerStatsInPlayer = async (statToMod, amountToMod, playerId) => {\n  try {\n    console.log('🔄 Modifying player stats in the Player Profile (DB)');\n    console.log('statToMod = ', statToMod, '; amountToMod = ', amountToMod);\n\n    if (!statToMod || !amountToMod) {\n      console.error('❌ Invalid stat or amount to modify.');\n      return null;\n    }\n\n    // Step 1: Fetch the current player data from the server\n    const response = await axios.get(`${API_BASE}/api/player/${playerId}`);\n    const currentPlayerData = response.data;\n\n    if (!currentPlayerData || !currentPlayerData.playerId) {\n      console.error('❌ Failed to fetch current player data from the server.');\n      return null;\n    }\n\n    // Step 2: Calculate new stat value by adding to the existing value\n    const currentStatValue = currentPlayerData[statToMod] || 0;  // Default to 0 if undefined\n    const newStatValue = currentStatValue + amountToMod;\n    console.log(`✅ Updating ${statToMod}: ${currentStatValue} + ${amountToMod} = ${newStatValue}`);\n\n    // Step 3: Send the updated stat back to the database\n    await axios.post(`${API_BASE}/api/update-profile`, {\n      playerId,\n      updates: {\n        [statToMod]: newStatValue,  // ✅ Now ADDING instead of replacing\n      },\n    });\n\n    console.log(`✅ Successfully updated ${statToMod} in the database.`);\n\n    // Step 4: Return updated player data\n    currentPlayerData[statToMod] = newStatValue;\n    return currentPlayerData;\n\n  } catch (error) {\n    console.error('❌ Error in modifyPlayerStatsInPlayer:', error);\n    return null;\n  }\n};\n\n/**\n * Determines if a given stat should be stored in NPCsInGrid rather than the player document.\n * @param {string} stat - The name of the stat to check.\n * @returns {boolean} - Returns true if the stat belongs in NPCsInGrid, false otherwise.\n */\nexport const isAGridStateStat = (stat) => {\n  const NPCsInGridStats = new Set([\n    \"damage\",\n    \"armorclass\",\n    \"hp\",\n    \"maxhp\",\n    \"attackbonus\",\n    \"attackrange\",\n    \"speed\",\n    \"iscamping\",\n  ]);\n\n  return NPCsInGridStats.has(stat);\n};\n\nexport const handlePlayerDeath = async (\n  player,\n  setCurrentPlayer,\n  setGridId,\n  setGrid,\n  setResources,\n  setTileTypes,\n  TILE_SIZE,\n  updateStatus,\n  setModalContent,\n  setIsModalOpen,\n  closeAllPanels\n\n) => {\n  console.log('⚰️ Handling player death for', player.username);\n\n  try {\n    const currentGridId = player.location.g;\n    // Determine respawn grid and coordinates\n    const targetLocation = {\n      x: 1,\n      y: 1,\n      g: player.gridId !== currentGridId ? player.gridId : currentGridId,\n      s: player.settlementId,\n      gtype: \"homestead\",\n    };\n    // Preserve other location fields (frontier, settlement, gtype)\n    const updatedLocation = {\n      ...player.location,\n      ...targetLocation,\n    };\n\n    // Determine restored HP based on account status\n    let restoredHp = 25;\n    if (player.accountStatus === \"Gold\") {\n      restoredHp = Math.floor(player.baseMaxhp / 2); // use baseMaxhp or maxHp as appropriate\n    }\n    console.log(`Restored HP for ${player.username}: ${restoredHp}`);\n    // Update player object in place\n    player.hp = restoredHp;\n    player.backpack = [];\n    const originalLocation = { ...player.location }; // ✅ preserve the correct fromLocation\n    player.location = updatedLocation;\n\n    // 1. **Update Player Data in the Database**\n    await axios.post(`${API_BASE}/api/update-profile`, {\n      playerId: player._id,\n      updates: {\n        backpack: [],  // Empty the backpack\n        hp: restoredHp,  // Use restored HP value\n        location: updatedLocation,  // Update location\n        settings: player.settings,\n      },\n    });\n    setCurrentPlayer(player);\n    localStorage.setItem('player', JSON.stringify(player));\n\n    // ✅ Immediately update PlayersInGrid with restored HP\n    await playersInGridManager.updatePC(currentGridId, player._id, { hp: restoredHp });\n\n    console.log(`Player ${player.username} teleported to home grid with ${restoredHp} HP.`);\n    console.log('📦 Player before changePlayerLocation:', JSON.stringify(player, null, 2));\n\n    // 4. **Load New Grid & Add Player to GridState**\n    await changePlayerLocation(\n      player,\n      originalLocation,   // fromLocation\n      updatedLocation,   // toLocation\n      setCurrentPlayer,\n      setGridId,\n      setGrid,\n      setTileTypes,\n      setResources,\n      TILE_SIZE,\n      updateStatus,\n      closeAllPanels,\n    );\n\n\n  } catch (error) {\n    console.error('Error during player death handling and teleportation:', error);\n  }\n};\n","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport '../../UI/ResourceButton.css'; \nimport ResourceButton from '../../UI/ResourceButton';\nimport FloatingTextManager from '../../UI/FloatingText';\nimport { getIngredientDetails } from '../../Utils/ResourceHelpers';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { updateGridResource } from '../../Utils/GridManagement';\nimport { refreshPlayerAfterInventoryUpdate } from '../../Utils/InventoryManagement';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport GlobalGridStateTilesAndResources from '../../GridState/GlobalGridStateTilesAndResources';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs';\nimport { createCollectEffect } from '../../VFX/VFX';\nimport { useStrings } from '../../UI/StringsContext';\nimport { spendIngredients, gainIngredients } from '../../Utils/InventoryManagement';\nimport '../../UI/SharedButtons.css';\nimport { useUILock } from '../../UI/UILockContext';\n\nconst CraftingStation = ({\n  onClose,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  setResources,\n  stationType,\n  currentStationPosition,\n  gridId,\n  masterResources,\n  masterSkills,\n  TILE_SIZE,\n}) => {\n  const strings = useStrings();\n  const [recipes, setRecipes] = useState([]);\n  const [allResources, setAllResources] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [stationEmoji, setStationEmoji] = useState('🛖');\n  const { updateStatus } = useContext(StatusBarContext);\n  const [stationDetails, setStationDetails] = useState(null);\n  const [activeTimer, setActiveTimer] = useState(false);\n  const [craftedItem, setCraftedItem] = useState(null);\n  const [craftingCountdown, setCraftingCountdown] = useState(null);\n  const [isCrafting, setIsCrafting] = useState(false);\n  const [isReadyToCollect, setIsReadyToCollect] = useState(false);\n  const [isActionCoolingDown, setIsActionCoolingDown] = useState(false);\n  const COOLDOWN_DURATION = 2000;\n  const { setUILocked } = useUILock();\n\n   // ✅ Check for active crafting timers\n   useEffect(() => {\n    if (!stationType || !currentStationPosition) return;\n\n    console.log('🔄 Checking GlobalGridStateTilesAndResources for active crafting timers...');\n    \n    const station = GlobalGridStateTilesAndResources.getResources()?.find(\n      (res) => res.x === currentStationPosition.x && res.y === currentStationPosition.y\n    );\n    console.log('📡 Fetched station from GlobalGridStateTilesAndResources:', station);\n\n    if (station && station.craftEnd) {\n        console.log(`⏳ Active crafting found: ${station.craftedItem} until ${new Date(station.craftEnd).toLocaleTimeString()}`);\n        \n        setCraftedItem(station.craftedItem);\n        setIsCrafting(true);\n        setActiveTimer(true);  // ✅ Ensure UI treats this as an active timer\n\n        const updateCountdown = () => {\n          const remainingTime = Math.max(0, Math.floor((station.craftEnd - Date.now()) / 1000));\n          setCraftingCountdown(remainingTime);\n          console.log(`⏳ Crafting countdown: ${remainingTime}s remaining`);\n\n          if (remainingTime === 0) {\n              console.log('✅ Crafting complete! Ready to collect.');\n              setIsCrafting(false);\n              setIsReadyToCollect(true);\n          }\n      };\n\n        updateCountdown();\n        const timer = setInterval(updateCountdown, 1000);\n        return () => clearInterval(timer);\n    } else {\n        console.log('❌ No active crafting timer found.');\n        setCraftedItem(null);\n        setIsCrafting(false);\n        setIsReadyToCollect(false);\n        setCraftingCountdown(null);\n        setActiveTimer(false);\n    }\n  }, [stationType, currentStationPosition, GlobalGridStateTilesAndResources.getResources(), craftingCountdown]); // ✅ Ensure state triggers re-render\n\n\n  // Sync inventory with local storage and server\n  useEffect(() => {\n    const syncInventory = async () => {\n      try {\n        const storedInventory = JSON.parse(localStorage.getItem('inventory')) || [];\n        setInventory(storedInventory);\n\n        const serverResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        const serverInventory = serverResponse.data.inventory || [];\n        if (JSON.stringify(storedInventory) !== JSON.stringify(serverInventory)) {\n          setInventory(serverInventory);\n          localStorage.setItem('inventory', JSON.stringify(serverInventory));\n        }\n      } catch (error) {\n        console.error('Error syncing inventory:', error);\n      }\n    };\n    syncInventory();\n  }, [currentPlayer]);\n\n  // Fetch recipes and resources (refactored: use masterResources directly)\n  useEffect(() => {\n    try {\n      const filteredRecipes = masterResources.filter((resource) => resource.source === stationType);\n      setRecipes(filteredRecipes);\n      const stationResource = masterResources.find((resource) => resource.type === stationType);\n      setStationEmoji(stationResource?.symbol || '🛖');\n      setStationDetails(stationResource);\n      setAllResources(masterResources || []);\n    } catch (error) {\n      console.error('Error processing masterResources:', error);\n    }\n  }, [stationType, masterResources]);\n\n\n  const hasRequiredSkill = (requiredSkill) => {\n    return !requiredSkill || currentPlayer.skills?.some((owned) => owned.type === requiredSkill);\n  };\n\n\n  const handleCraft = async (recipe) => {\n    setErrorMessage('');\n    if (!recipe) { setErrorMessage('Invalid recipe selected.'); return; }\n\n    const spent = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe,\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus\n    });\n    if (!spent) return;\n\n    const craftedQty = 1;\n    const craftTime = recipe.crafttime || 60; // Default to 60s if no timer exists\n    const craftEnd = Date.now() + craftTime * 1000; // Calculate timestamp\n\n    try {\n      // ✅ Ensure we update only the clicked Crafting Station\n      const updatedStation = {\n        type: stationType,\n        x: currentStationPosition.x, \n        y: currentStationPosition.y, \n        craftEnd: craftEnd,\n        craftedItem: recipe.type,  // ✅ Store crafted item\n      };\n      console.log('handleCraft: updatedStation:  ',updatedStation);\n      await updateGridResource(gridId, updatedStation, setResources, true);\n      console.log('📡 Fetched station from GlobalGridStateTilesAndResources:', GlobalGridStateTilesAndResources.getResources);\n\n      // ✅ Step 1: Ensure UI Updates Immediately\n      setCraftedItem(recipe.type);\n      setCraftingCountdown(Math.max(0, Math.floor((craftEnd - Date.now()) / 1000)));\n      setActiveTimer(true);\n      setIsCrafting(true);\n      setIsReadyToCollect(false);\n\n      console.log(`🛠️ Started crafting ${recipe.type}. Will be ready at ${craftEnd}`);\n\n      // ✅ Step 2: Update GlobalGridStateTilesAndResources Immediately\n      const updatedResources = GlobalGridStateTilesAndResources.getResources().map(res =>\n          res.x === currentStationPosition.x && res.y === currentStationPosition.y\n              ? { ...res, craftEnd, craftedItem: recipe.type }\n              : res\n      );\n      GlobalGridStateTilesAndResources.setResources(updatedResources);\n      console.log(\"🌎 GlobalGridStateTilesAndResources updated after crafting start!\");\n\n      // ✅ Step 3: Ensure UI State Reflects GlobalGridStateTilesAndResources\n      setResources(updatedResources);\n\n      FloatingTextManager.addFloatingText(404, currentStationPosition.x, currentStationPosition.y, TILE_SIZE);\n      console.log(`✅ ${recipe.type} will be ready at ${new Date(craftEnd).toLocaleTimeString()}`);\n\n      } catch (error) {\n        console.error(`❌ Error starting craft for ${recipe.type}:`, error);\n      }\n\n    // Track quest progress for \"Craft\" actions\n    await trackQuestProgress(currentPlayer, 'Craft', recipe.type, craftedQty, setCurrentPlayer);\n    await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n  };\n\n\n  const handleCollect = async (recipe) => {\n    if (!recipe) { console.error(\"❌ No valid crafted item to collect.\"); return; }\n\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    try {\n        // ✅ Find the crafted resource for potential NPC handling\n        const craftedResource = allResources.find(res => res.type === craftedItem);\n\n        // ✅ HANDLE NPCs\n        const isNPC = craftedResource?.category === 'npc';\n        if (isNPC) {\n          console.log(`🤖 Spawning NPC: ${craftedItem} at (${currentStationPosition.x}, ${currentStationPosition.y})`);\n          NPCsInGridManager.spawnNPC(gridId, craftedResource, { x: currentStationPosition.x, y: currentStationPosition.y });\n          await trackQuestProgress(currentPlayer, 'Craft', craftedItem, 1, setCurrentPlayer);\n        } \n        // ✅ Add collected item to inventory\n        else {\n          // ✅ Apply Player Buffs for Crafting Bonus (refactored logic)\n          const playerSkills = currentPlayer.skills || [];\n\n          // Identify relevant buffs for this recipe\n          const appliedBuffs = playerSkills.filter((item) => {\n            const skillValue = masterSkills?.[item.type]?.[recipe.type];\n            return skillValue && skillValue > 1;\n          }).map((item) => item.type);\n\n          const skillMultiplier = appliedBuffs.reduce((multiplier, skill) => {\n            const skillValue = masterSkills?.[skill]?.[recipe.type] || 1;\n            return multiplier * skillValue;\n          }, 1);\n\n          const craftedQty = Math.max(1, Math.floor(1 * skillMultiplier));\n          console.log(\"craftedQty:\", craftedQty);\n\n          const success = await gainIngredients({\n            playerId: currentPlayer.playerId,\n            currentPlayer,\n            resource: recipe.type,\n            quantity: craftedQty,\n            inventory,\n            backpack,\n            setInventory,\n            setBackpack,\n            setCurrentPlayer,\n            updateStatus,\n            masterResources,\n          });\n          if (!success) return;\n          const skillAppliedText = appliedBuffs.length === 0\n            ? `✅ Gained ${craftedQty} ${recipe.type}.`\n            : `✅ Gained ${craftedQty} ${recipe.type} (${appliedBuffs.join(', ')} skill applied.)`;\n          updateStatus(skillAppliedText);\n        }\n\n        // ✅ Remove craftEnd & craftedItem from the grid resource\n        const updateResponse = await updateGridResource(\n            gridId, \n            {\n            type: stationType, // ✅ Keep station type\n            x: currentStationPosition.x,\n            y: currentStationPosition.y,\n            craftEnd: null, // ✅ Remove timer\n            craftedItem: null, // ✅ Remove craftedItem\n            },\n            setResources,\n            true\n        );\n        if (!updateResponse?.success) {\n            console.warn(\"⚠️ Warning: Grid resource update failed or returned unexpected response.\");\n        }\n        console.log(\"🛠️ Grid resource updated:\", updateResponse);\n\n        // ✅ **Manually update GlobalGridStateTilesAndResources**\n        const updatedGlobalResources = GlobalGridStateTilesAndResources.getResources().map(res =>\n          res.x === currentStationPosition.x && res.y === currentStationPosition.y\n            ? (() => {\n                const { craftEnd, craftedItem, ...rest } = res;\n                return rest;\n              })()\n            : res\n        );\n\n        GlobalGridStateTilesAndResources.setResources(updatedGlobalResources);\n        console.log(\"🌎 GlobalGridStateTilesAndResources updated successfully!\");\n        setResources(updatedGlobalResources);\n\n        // ✅ Reset UI state\n        setActiveTimer(false);\n        setCraftedItem(null);\n        setCraftingCountdown(null);\n        console.log(`✅ ${recipe.type} collected successfully.`);\n\n    } catch (error) {\n        console.error(`❌ Error collecting ${recipe.type}:`, error);\n    }\n  };\n\n\n  const handleSellStation = async () => {\n\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    const ingredients = [];\n    for (let i = 1; i <= 3; i++) {\n      const ingredientType = stationDetails[`ingredient${i}`];\n      const ingredientQty = stationDetails[`ingredient${i}qty`];\n      if (ingredientType && ingredientQty) {\n        ingredients.push({ type: ingredientType, quantity: ingredientQty });\n      }\n    }\n\n    if (!ingredients.length) { console.error('No ingredients found for refund.'); return; }\n\n    try {\n      for (const { type, quantity } of ingredients) {\n        const success = await gainIngredients({\n          playerId: currentPlayer.playerId,\n          currentPlayer,\n          resource: type,\n          quantity,\n          inventory,\n          backpack,\n          setInventory,\n          setBackpack,\n          setCurrentPlayer,\n          updateStatus,\n          masterResources,\n        });\n        if (!success) return;\n      }\n\n      // REMOVING THE CRAFTING STATION FROM THE GRID\n      await updateGridResource(\n        gridId, \n        {\n          type: null,\n          x: currentStationPosition.x,\n          y: currentStationPosition.y,\n        }, \n        setResources,\n        true\n      );\n\n      // 🧹 Remove the station resource from global and React state\n      const filteredResources = GlobalGridStateTilesAndResources.getResources().filter(\n        (res) => !(res.x === currentStationPosition.x && res.y === currentStationPosition.y)\n      );\n      GlobalGridStateTilesAndResources.setResources(filteredResources);\n      // Insert log before setResources\n      console.log(\"🔁 Reactively removing station via setResources.\");\n      setResources(prev => prev.filter(\n        (res) => !(res.x === currentStationPosition.x && res.y === currentStationPosition.y)\n      ));\n      console.log(\"🧹 Station resource removed from global and React state.\");\n      createCollectEffect(currentStationPosition.x, currentStationPosition.y, TILE_SIZE);\n      const totalRefund = ingredients\n        .filter((item) => item.type === \"Money\")\n        .reduce((sum, item) => sum + item.quantity, 0);\n      updateStatus(`Sold ${stationType} for ${totalRefund} Money.`);\n      onClose();\n    } catch (error) {\n      console.error('Error selling the stall:', error);\n      setErrorMessage('An error occurred while selling the stall.');\n    }\n  };\n  \n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1009\" titleKey=\"1109\" panelName=\"CraftingStation\">\n      <div className=\"standard-panel\">\n        <h2> {stationEmoji} {stationType} </h2>\n        \n          {recipes?.length > 0 ? (\n            recipes.map((recipe) => {\n              const ingredients = getIngredientDetails(recipe, allResources || []);\n              const affordable = canAfford(recipe, inventory, Array.isArray(backpack) ? backpack : [], 1);\n              const requirementsMet = hasRequiredSkill(recipe.requires);\n              const isCrafting = craftedItem === recipe.type && craftingCountdown > 0;\n              const isReadyToCollect = craftedItem === recipe.type && craftingCountdown === 0;\n\n              const formatCountdown = (seconds) => {\n                const days = Math.floor(seconds / 86400);\n                const hours = Math.floor(seconds / 3600);\n                const minutes = Math.floor((seconds % 3600) / 60);\n                const secs = seconds % 60;\n              \n              return days > 0\n                ? `${days}d ${hours}h ${minutes}m`\n                : hours > 0\n                ? `${hours}h ${minutes}m ${secs}s`\n                : minutes > 0\n                ? `${minutes}m ${secs}s`\n                : `${secs}s`;\n              };\n              \n              const craftTimeText = isCrafting\n              ? `⏳ In progress: ${formatCountdown(craftingCountdown)}`\n              : isReadyToCollect\n              ? `✅ Ready!`\n              : recipe.crafttime\n              ? `Time: ${formatCountdown(recipe.crafttime)}`\n              : `Instant`;\n              \n              const info = (\n                <div className=\"info-content\">\n                  <div>\n                    <strong>{strings[421]}</strong>{' '}\n                    {allResources\n                      .filter((res) =>\n                        [res.ingredient1, res.ingredient2, res.ingredient3, res.ingredient4].includes(recipe.type)\n                      )\n                      .map((res) => `${res.symbol || ''} ${res.type}`)\n                      .join(', ') || 'None'}\n                  </div>\n                  <div><strong>{strings[422]}</strong> 💰 {recipe.minprice || 'n/a'}</div>\n                </div>\n              );\n              \n              // Format costs with color per ingredient (now using display: block and no <br>)\n              const formattedCosts = [1, 2, 3, 4].map((i) => {\n                const type = recipe[`ingredient${i}`];\n                const qty = recipe[`ingredient${i}qty`];\n                if (!type || !qty) return '';\n\n                const playerQty = inventory?.find(item => item.type === type)?.quantity || 0;\n                const color = playerQty >= qty ? 'green' : 'red';\n                const symbol = allResources.find(r => r.type === type)?.symbol || '';\n                return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n              }).join('');\n\n              return (\n                <ResourceButton\n                  key={recipe.type}\n                  symbol={recipe.symbol}\n                  name={recipe.type}\n                  className={`resource-button ${isCrafting ? 'in-progress' : isReadyToCollect ? 'ready' : ''}`}\n                  details={\n                    (isReadyToCollect ? '' : `Costs:<div>${formattedCosts}</div>`) +\n                    (recipe.requires ? `<br>Requires: ${recipe.requires}` : '') +\n                    `<br>${craftTimeText}`\n                  }\n                  info={info}\n                  disabled={!isReadyToCollect && (craftedItem !== null || !affordable || !requirementsMet)}\n                  onClick={() => isReadyToCollect ? handleCollect(recipe) : handleCraft(recipe)}\n                >\n                </ResourceButton>\n              );\n            })\n          ) : <p>{strings[424]}</p>}\n\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n\n        {currentPlayer.location.gtype === 'homestead' && (\n          <>\n            <hr />\n              <div className=\"standard-buttons\">\n                <button className=\"btn-success\" onClick={handleSellStation} disabled={isActionCoolingDown}>                  {strings[425]}\n                </button>\n              </div>\n\n          </>\n        )}\n      </div>\n    </Panel>\n  );\n};\n\nexport default React.memo(CraftingStation);","import API_BASE from '../../config';\nimport { useUILock } from '../../UI/UILockContext';\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport '../Crafting/TradingStation.css';\nimport '../../UI/ResourceButton.css';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { refreshPlayerAfterInventoryUpdate, gainIngredients, spendIngredients } from '../../Utils/InventoryManagement';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { useStrings } from '../../UI/StringsContext';\nimport { handleDooberClick, handleSourceConversion } from '../../ResourceClicking'; // adjust path if necessary\nimport FloatingTextManager from '../../UI/FloatingText';\nimport NPCsInGridManager from \"../../GridState/GridStateNPCs\";\nimport { handleNPCClick } from '../NPCs/NPCHelpers';\n\nconst FarmHandPanel = ({\n  onClose,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  resources,\n  setResources,\n  stationType,\n  currentStationPosition,\n  gridId,\n  TILE_SIZE,\n  updateStatus,\n  masterResources,\n  masterSkills, // Added as prop\n}) => {\n  const { setUILocked } = useUILock();\n  const strings = useStrings();\n  const [recipes, setRecipes] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [stationEmoji, setStationEmoji] = useState('🛖');\n  const [stationDetails, setStationDetails] = useState(null);\n  const [farmhandSkills, setFarmhandSkills] = useState([]);\n  const [farmhandUpgrades, setFarmhandUpgrades] = useState([]);\n  const skills = currentPlayer.skills || [];\n  \n  // Sync inventory with local storage and server\n  useEffect(() => {\n    const syncInventory = async () => {\n      try {\n        const storedInventory = JSON.parse(localStorage.getItem('inventory')) || [];\n        setInventory(storedInventory);\n\n        const serverResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        const serverInventory = serverResponse.data.inventory || [];\n        if (JSON.stringify(storedInventory) !== JSON.stringify(serverInventory)) {\n          setInventory(serverInventory);\n          localStorage.setItem('inventory', JSON.stringify(serverInventory));\n        }\n      } catch (error) {\n        console.error('Error syncing inventory:', error);\n      }\n    };\n    syncInventory();\n  }, [currentPlayer]);\n\n  useEffect(() => {\n    try {\n      const farmOutputs = masterResources\n        .filter((res) => res.category === 'farmplot')\n        .map((res) => res.output)\n        .filter(Boolean);\n\n      const filteredRecipes = masterResources.filter((res) => farmOutputs.includes(res.type));\n      setRecipes(filteredRecipes);\n\n      const stationResource = masterResources.find((res) => res.type === stationType);\n      setStationEmoji(stationResource?.symbol || '🛖');\n      setStationDetails(stationResource);\n    } catch (error) {\n      console.error('Error loading farmhand offers:', error);\n    }\n  }, [stationType, masterResources]);\n\n  useEffect(() => {\n    const ownedTypes = currentPlayer.skills?.map(skill => skill.type) || [];\n    const skills = masterResources.filter(res =>\n      (res.category === 'skill' || res.category === 'upgrade') &&\n      res.source === 'Farm Hand' &&\n      !ownedTypes.includes(res.type)\n    );\n    setFarmhandSkills(skills.filter(res => res.category === 'skill'));\n    setFarmhandUpgrades(skills.filter(res => res.category === 'upgrade'));\n  }, [masterResources, currentPlayer]);\n\n  const handleTrade = async (resource) => {\n    setErrorMessage('');\n    const cost = (resource.maxprice || 100) * 10;\n\n    const recipe = {\n      ingredient1: 'Money',\n      ingredient1qty: cost,\n      type: resource.type,\n    };\n\n    const safeInventory = Array.isArray(inventory) ? inventory : [];\n    const safeBackpack = Array.isArray(backpack) ? backpack : [];\n\n    const spent = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe,\n      inventory: safeInventory,\n      backpack: safeBackpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n    });\n\n    if (!spent) {\n      setErrorMessage('Not enough money.');\n      return;\n    }\n\n    const gained = await gainIngredients({\n      playerId: currentPlayer.playerId,\n      currentPlayer,\n      resource: resource.type,\n      quantity: 1,\n      inventory: safeInventory,\n      backpack: safeBackpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n      masterResources,\n    });\n\n    if (!gained) {\n      setErrorMessage('Not enough space to carry that item.');\n      return;\n    }\n\n    updateStatus(`✅ Bought 1 ${resource.type} for ${cost} Money.`);\n  };\n\n  const handlePurchaseSkill = async (resource) => {\n    setErrorMessage('');\n    const safeInventory = Array.isArray(inventory) ? inventory : [];\n    const safeBackpack = Array.isArray(backpack) ? backpack : [];\n\n    const spent = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe: resource,\n      inventory: safeInventory,\n      backpack: safeBackpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n    });\n\n    if (!spent) {\n      setErrorMessage('Not enough ingredients.');\n      return;\n    }\n\n    const updatedSkills = [...(currentPlayer.skills || []), { type: resource.type, category: resource.category, quantity: 1 }];\n    await axios.post(`${API_BASE}/api/update-skills`, {\n      playerId: currentPlayer.playerId,\n      skills: updatedSkills,\n    });\n\n    await trackQuestProgress(currentPlayer, 'Gain skill with', resource.type, 1, setCurrentPlayer);\n    await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n    updateStatus(`✅ ${resource.type} acquired.`);\n  };\n\n\n  async function handleBulkAnimalCollect() {\n    console.log('🐮 Bulk animal collect initiated');\n    onClose();\n    setUILocked(true);\n    setErrorMessage('');\n\n    try {\n      const npcs = Object.values(NPCsInGridManager.getNPCsInGrid(gridId) || {});\n      const processingAnimals = npcs.filter(npc => npc.state === 'processing');\n\n      if (processingAnimals.length === 0) {\n        updateStatus('No animals are ready to collect.');\n        setUILocked(false);\n        return;\n      }\n\n      const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n      const successfulCollects = {};\n\n      for (const npc of processingAnimals) {\n        await handleNPCClick(\n          npc,\n          npc.position.y,\n          npc.position.x,\n          setInventory,\n          setResources,\n          currentPlayer,\n          setCurrentPlayer,\n          TILE_SIZE,\n          masterResources,\n          masterSkills, // replace with masterSkills if available\n          gridId,\n          () => {}, // setModalContent (not used here)\n          () => {}, // setIsModalOpen (not used here)\n          updateStatus\n        );\n\n        successfulCollects[npc.type] = (successfulCollects[npc.type] || 0) + 1;\n        await wait(100); // avoid overloading server\n      }\n\n      await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n\n      updateStatus(`✅ Bulk Animal Collect complete: ${Object.entries(successfulCollects).map(([t, q]) => `${q} ${t}`).join(', ')}`);\n    } catch (error) {\n      console.error('Bulk animal collect failed:', error);\n      setErrorMessage('Failed to bulk collect animals.');\n    } finally {\n      setUILocked(false);\n    }\n  }\n\n\n  async function handleLogging() {\n    console.log('🪓🪓🪓🪓🪓 Logging initiated 🪓🪓🪓🪓🪓🪓');\n    onClose();\n    setUILocked(true);\n    setErrorMessage('');\n\n    const safeInventory = Array.isArray(inventory) ? inventory : [];\n    const safeBackpack = Array.isArray(backpack) ? backpack : [];\n\n    try {\n      // Step 1: Determine how many trees we can chop\n      const loggingSkills = (currentPlayer.skills || []).filter(\n        (skill) => ['Logging', 'Better Logging'].includes(skill.type)\n      );\n      const maxTrees = loggingSkills.reduce((sum, skill) => {\n        const resourceDef = masterResources.find(res => res.type === skill.type);\n        return sum + (resourceDef?.qtycollected || 0);\n      }, 0);\n\n      if (maxTrees === 0) {\n        updateStatus(\"No logging skills available.\");\n        setUILocked(false);\n        return;\n      }\n\n      // Step 2: Get all trees from resources\n      const treeResources = resources.filter(res => res.type === 'Oak Tree');\n\n      if (treeResources.length === 0) {\n        updateStatus(437);\n        setUILocked(false);\n        return;\n      }\n\n      // Select trees in top-to-bottom, left-to-right row scan order\n      const treesToChop = [];\n      for (let row = 0; row < 100; row++) {\n        for (let col = 0; col < 100; col++) {\n          const tree = resources.find(res => res.type === 'Oak Tree' && res.y === row && res.x === col);\n          if (tree) {\n            treesToChop.push(tree);\n            if (treesToChop.length === maxTrees) break;\n          }\n        }\n        if (treesToChop.length === maxTrees) break;\n      }\n      const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\n      // ---- Two-phase processing ----\n      const choppedTreePositions = [];\n\n      // Phase 1: Chop trees and remember positions\n      for (const tree of treesToChop) {\n        await handleSourceConversion(\n          tree,\n          tree.y,\n          tree.x,\n          resources,\n          setResources,\n          safeInventory,\n          setInventory,\n          safeBackpack,\n          setBackpack,\n          gridId,\n          FloatingTextManager.addFloatingText,\n          TILE_SIZE,\n          currentPlayer,\n          setCurrentPlayer,\n          masterResources,\n          () => {}, // setModalContent\n          () => {}, // setIsModalOpen\n          updateStatus,\n          strings\n        );\n        choppedTreePositions.push({ x: tree.x, y: tree.y });\n        await wait(100);\n      }\n\n      await wait(300); // give state time to update\n\n      // Phase 2: Click doobers at chopped positions\n      setTimeout(async () => {\n        for (const pos of choppedTreePositions) {\n          // Get the most up-to-date resources state\n          const latestResources = typeof setResources === 'function'\n            ? await new Promise(resolve => {\n                setResources(prev => {\n                  resolve(prev);\n                  return prev;\n                });\n              })\n            : resources;\n          const wood = latestResources.find(\n            res => res.x === pos.x && res.y === pos.y && res.category === 'doober'\n          );\n          console.log('🪵🪵🪵 Found wood doober at', pos, ':', wood);\n          if (wood) {\n            console.log('Calling handleDooberClick');\n            await handleDooberClick(\n              wood,\n              wood.y,\n              wood.x,\n              resources,\n              setResources,\n              setInventory,\n              setBackpack,\n              safeInventory,\n              safeBackpack,\n              currentPlayer.skills,\n              gridId,\n              FloatingTextManager.addFloatingText,\n              TILE_SIZE,\n              currentPlayer,\n              setCurrentPlayer,\n              updateStatus,\n              masterResources,\n              masterSkills\n            );\n            await wait(100);\n          } else {\n            console.warn('⚠️ No doober found at position:', pos);\n          }\n        }\n        updateStatus(`✅ Logging complete: ${treesToChop.length} trees chopped and collected.`);\n      }, 50);\n\n      await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n    } catch (error) {\n      console.error('Logging failed:', error);\n      setErrorMessage('Failed to auto-chop trees.');\n    } finally {\n      setUILocked(false);\n    }\n  }\n\n\n  async function handleBulkHarvest() {\n\n    console.log('🚜 Bulk harvest initiated');\n    onClose();\n    setUILocked(true);\n\n    setErrorMessage('');\n    const safeInventory = Array.isArray(inventory) ? inventory : [];\n    const safeBackpack = Array.isArray(backpack) ? backpack : [];\n\n    try {\n      // Step 1: Get farmplot outputs\n      const cropTypes = masterResources\n        .filter(res => res.category === 'farmplot')\n        .map(res => res.output)\n        .filter(Boolean);\n\n      // Step 2: Count how many of each crop is present in the current grid\n      const resourceCounts = {};\n      resources?.forEach((res) => {\n        if (cropTypes.includes(res.type)) {\n          resourceCounts[res.type] = (resourceCounts[res.type] || 0) + 1;\n        }\n      });\n\n      if (Object.keys(resourceCounts).length === 0) {\n        updateStatus(429);\n        setUILocked(false);\n        return;\n      }\n\n      // Step 3: Visually remove each crop using handleDooberClick\n      const cropsToHarvest = resources.filter(res => cropTypes.includes(res.type));\n      const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n      const successfulHarvest = {};\n\n      for (const crop of cropsToHarvest) {\n        const preInventory = [...safeInventory];\n        const preBackpack = [...safeBackpack];\n\n        await handleDooberClick(\n          crop,\n          crop.y,\n          crop.x,\n          resources,\n          setResources,\n          setInventory,\n          setBackpack,\n          preInventory,\n          preBackpack,\n          currentPlayer.skills,\n          gridId,\n          FloatingTextManager.addFloatingText,\n          TILE_SIZE,\n          currentPlayer,\n          setCurrentPlayer,\n          updateStatus,\n          masterResources,\n          masterSkills,\n        );\n\n        successfulHarvest[crop.type] = (successfulHarvest[crop.type] || 0) + 1;\n        await wait(100); // avoid hammering server\n      }\n\n      await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n\n      updateStatus(`✅ Bulk Crop Harvest complete: ${Object.entries(successfulHarvest).map(([t, q]) => `${q} ${t}`).join(', ')}`);\n\n      // TODO: remove the successfully harvested items from the board\n    } catch (error) {\n      console.error('Bulk crop harvest failed:', error);\n      setErrorMessage('Failed to bulk crop harvest.');\n    } finally {\n      setUILocked(false);\n    }\n  }\n\n  const getSkillTooltip = (skillType) => {\n    switch (skillType) {\n      case 'Bulk Harvest':\n        return strings[427]; // \"Purchase the Farm Hand's Bulk Harvest skill in order to harvest all crops at once.\"\n      case 'Bulk Animal Collect':\n        return strings[431]; // Add a new string in your strings file if needed\n      case 'Logging':\n        return strings[432]; // Add a new string in your strings file if needed\n      case 'Better Logging':\n        return strings[433]; // Add a new string in your strings file if needed\n      default:\n        return '';\n    }\n  };\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1023\" titleKey=\"1123\" panelName=\"FarmHandPanel\">\n      <div className=\"standard-panel\">\n\n        {skills?.some(item => item.type === 'Bulk Harvest') && (\n          <div>\n            <ResourceButton\n              symbol=\"🚜\"\n              name=\"Bulk Harvest\"\n              className=\"resource-button bulk-skill\"\n              details={strings[428]}\n              onClick={handleBulkHarvest}\n            />\n          </div>\n        )}\n        {skills?.some(item => item.type === 'Bulk Animal Collect') && (\n          <div>\n            <ResourceButton\n              symbol=\"🐮\"\n              name=\"Bulk Animal Collect\"\n              className=\"resource-button bulk-skill\"\n              details={strings[434]}\n              onClick={handleBulkAnimalCollect}\n            />\n          </div>\n        )}\n        {skills?.some(item => item.type === 'Logging') && (\n          <div>\n            <ResourceButton\n              symbol=\"🪓\"\n              name=\"Logging\"\n              className=\"resource-button bulk-skill\"\n              details={strings[435]}\n              onClick={handleLogging}\n            />\n          </div>\n        )}\n\n        {farmhandSkills.length > 0 && (\n          <>\n            <h3>{strings[430]}</h3>\n\n            {farmhandSkills.map((resource) => {\n              const affordable = canAfford(resource, inventory, 1, backpack);\n              const formattedCosts = [1, 2, 3, 4].map((i) => {\n                const type = resource[`ingredient${i}`];\n                const qty = resource[`ingredient${i}qty`];\n                if (!type || !qty) return '';\n                const playerQty = (inventory.find((item) => item.type === type)?.quantity || 0) +\n                                  (backpack.find((item) => item.type === type)?.quantity || 0);\n                const color = playerQty >= qty ? 'green' : 'red';\n                const symbol = masterResources.find(r => r.type === type)?.symbol || '';\n                return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n              }).join('');\n\n              const details = `Costs:<div>${formattedCosts}</div>`;\n\n              return (\n                <ResourceButton\n                  key={resource.type}\n                  symbol={resource.symbol}\n                  name={resource.type}\n                  className=\"resource-button\"\n                  details={details}\n                  onClick={() => handlePurchaseSkill(resource)}\n                  disabled={!affordable}\n                  info={getSkillTooltip(resource.type) ? <div>{getSkillTooltip(resource.type)}</div> : undefined}\n                />\n              );\n            })}\n          </>\n        )}\n\n        <h3>{strings[426]}</h3>\n        \n          {recipes?.length > 0 ? (\n            recipes.map((resource) => {\n              const cost = (resource.maxprice || 100) * 10;\n              const playerMoney = (inventory.find((item) => item.type === 'Money')?.quantity || 0) +\n                                  (backpack.find((item) => item.type === 'Money')?.quantity || 0);\n              const affordable = playerMoney >= cost;\n\n              const details = `Buy 1 for: 💰 ${cost}`;\n\n              const info = (\n                <div className=\"info-content\">\n                  <div><strong>{strings[422]}</strong> 💰 {cost}</div>\n                </div>\n              );\n\n              return (\n                <ResourceButton\n                  key={resource.type}\n                  symbol={resource.symbol}\n                  name={resource.type}\n                  className=\"resource-button\"\n                  details={details}\n                  disabled={!affordable}\n                  onClick={() => handleTrade(resource)}\n                />\n              );\n            })\n          ) : <p>{strings[423]}</p>}\n\n\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n\n      </div>\n    </Panel>\n  );\n\n\n};\n\nexport default React.memo(FarmHandPanel);","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport './TradingStation.css';\nimport '../../UI/ResourceButton.css';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { refreshPlayerAfterInventoryUpdate, gainIngredients, spendIngredients } from '../../Utils/InventoryManagement';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { useStrings } from '../../UI/StringsContext';\n\nconst TradingStation = ({\n  onClose,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  setResources,\n  stationType,\n  currentStationPosition,\n  gridId,\n  TILE_SIZE,\n  updateStatus,\n  masterResources,\n}) => {\n  const strings = useStrings();\n  const [recipes, setRecipes] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [stationEmoji, setStationEmoji] = useState('🛖');\n  const [stationDetails, setStationDetails] = useState(null);\n\n  // Sync inventory with local storage and server\n  useEffect(() => {\n    const syncInventory = async () => {\n      try {\n        const storedInventory = JSON.parse(localStorage.getItem('inventory')) || [];\n        setInventory(storedInventory);\n\n        const serverResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        const serverInventory = serverResponse.data.inventory || [];\n        if (JSON.stringify(storedInventory) !== JSON.stringify(serverInventory)) {\n          setInventory(serverInventory);\n          localStorage.setItem('inventory', JSON.stringify(serverInventory));\n        }\n      } catch (error) {\n        console.error('Error syncing inventory:', error);\n      }\n    };\n    syncInventory();\n  }, [currentPlayer]);\n\n  useEffect(() => {\n    try {\n      const filteredRecipes = masterResources.filter((resource) => resource.source === stationType);\n      setRecipes(filteredRecipes);\n\n      const stationResource = masterResources.find((resource) => resource.type === stationType);\n      setStationEmoji(stationResource?.symbol || '🛖');\n      setStationDetails(stationResource);\n    } catch (error) {\n      console.error('Error loading resources:', error);\n    }\n  }, [stationType, masterResources]);\n\n  const storyStringMap = {\n    Iago: 1201,\n    Juliet: 1202,\n    Falstaff: 1203,\n    Apothecary: 1204,\n    Gertrude: 1205,\n    Leontes: 1206,\n    Caliban: 1207,\n  };\n\n  const handleTrade = async (recipe) => {\n    setErrorMessage('');\n    if (!recipe) {\n      setErrorMessage('Invalid recipe selected.');\n      return;\n    }\n\n    const safeInventory = Array.isArray(inventory) ? inventory : [];\n    const safeBackpack = Array.isArray(backpack) ? backpack : [];\n\n    const spent = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe,\n      inventory: safeInventory,\n      backpack: safeBackpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n    });\n\n    if (!spent) {\n      setErrorMessage('Not enough ingredients.');\n      return;\n    }\n\n    const gained = await gainIngredients({\n      playerId: currentPlayer.playerId,\n      currentPlayer,\n      resource: recipe.type,\n      quantity: 1,\n      inventory: safeInventory,\n      backpack: safeBackpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n      masterResources,\n    });\n\n    if (!gained) {\n      setErrorMessage('Not enough space to carry that item.');\n      return;\n    }\n\n    await trackQuestProgress(currentPlayer, 'Collect', recipe.type, 1, setCurrentPlayer);\n\n    updateStatus(`✅ Exchanged ${recipe.ingredient1qty || 1} ${recipe.ingredient1} for 1 ${recipe.type}.`);\n  };\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1016\" titleKey=\"1116\" panelName=\"TradingStation\">\n      <div className=\"standard-panel\">\n        <h2> {stationEmoji} {stationType} </h2>\n        <h3>{strings[420]}</h3>\n        \n          {recipes?.length > 0 ? (\n            recipes.map((recipe) => {\n              const affordable = canAfford(recipe, inventory, backpack, 1);\n              const meetsRequirement = recipe.requires\n                ? currentPlayer?.skills?.some(skill => skill.type === recipe.requires)\n                : true;\n \n\n              const formattedCosts = [1, 2, 3, 4].map((i) => {\n                const type = recipe[`ingredient${i}`];\n                const qty = recipe[`ingredient${i}qty`];\n                if (!type || !qty) return '';\n                const playerQty = (inventory.find((item) => item.type === type)?.quantity || 0) +\n                                  (backpack.find((item) => item.type === type)?.quantity || 0);\n                const color = playerQty >= qty ? 'green' : 'red';\n                const symbol = masterResources.find(r => r.type === type)?.symbol || '';\n                return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n              }).join('');\n\n              const skillColor = meetsRequirement ? 'green' : 'red';\n              const skillReq = recipe.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${recipe.requires}</span>` : '';\n\n              const details = `For:<div>${formattedCosts}</div>${skillReq}`;\n\n              const info = (\n                <div className=\"info-content\">\n                  <div><strong>{strings[422]}</strong> 💰 {recipe.minprice || 'n/a'}</div>\n                </div>\n              );\n\n              return (\n                <ResourceButton\n                  key={recipe.type}\n                  symbol={recipe.symbol}\n                  name={recipe.type}\n                  className=\"resource-button\"\n                  details={details}\n                  info={info}\n                  disabled={!affordable || !meetsRequirement}\n                  onClick={() => handleTrade(recipe)}\n                />\n              );\n            })\n          ) : <p>{strings[423]}</p>}\n\n          {storyStringMap[stationType] && (\n            <div className=\"trader-story\">\n              <p>{strings[storyStringMap[stationType]]}</p>\n            </div>\n          )}\n\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n\n      </div>\n    </Panel>\n  );\n};\n\nexport default React.memo(TradingStation);","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport '../../UI/ResourceButton.css';\nimport ResourceButton from '../../UI/ResourceButton';\nimport { canAfford } from '../../Utils/InventoryManagement';\nimport { spendIngredients, gainIngredients } from '../../Utils/InventoryManagement';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport { useStrings } from '../../UI/StringsContext';\n\nconst ShopStation = ({\n  onClose,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  setResources,\n  stationType,\n  currentStationPosition,\n  gridId,\n  TILE_SIZE,\n  updateStatus,\n  masterResources,\n}) => {\n  const strings = useStrings();\n  const [recipes, setRecipes] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [stationEmoji, setStationEmoji] = useState('🛖');\n  const [stationDetails, setStationDetails] = useState(null);\n  const [fetchTrigger, setFetchTrigger] = useState(0);\n\n  const hasRequirement = (requirement) => {\n    return (\n      !requirement ||\n      currentPlayer.skills?.some(skill => skill.type === requirement) ||\n      currentPlayer.powers?.some(power => power.type === requirement)\n    );\n  };\n\n  // Sync inventory with local storage and server\n  useEffect(() => {\n    const syncInventory = async () => {\n      try {\n        const storedInventory = JSON.parse(localStorage.getItem('inventory')) || [];\n        setInventory(storedInventory);\n\n        const serverResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        const serverInventory = serverResponse.data.inventory || [];\n        if (JSON.stringify(storedInventory) !== JSON.stringify(serverInventory)) {\n          setInventory(serverInventory);\n          localStorage.setItem('inventory', JSON.stringify(serverInventory));\n        }\n      } catch (error) {\n        console.error('Error syncing inventory:', error);\n      }\n    };\n    syncInventory();\n  }, [currentPlayer]);\n\n  useEffect(() => {\n    if (!masterResources || !stationType) return;\n\n    const filteredRecipes = masterResources.filter((resource) =>\n      resource.source === stationType &&\n      (!currentPlayer.powers || !currentPlayer.powers.some(p => p.type === resource.type))\n    );\n    setRecipes(filteredRecipes);\n\n    const stationResource = masterResources.find((resource) => resource.type === stationType);\n    setStationEmoji(stationResource?.symbol || '🛖');\n    setStationDetails(stationResource);\n  }, [stationType, fetchTrigger, masterResources]);\n\n\n  const handlePurchase = async (recipe) => {\n    setErrorMessage('');\n    if (!recipe) {\n      setErrorMessage('Invalid recipe selected.');\n      return;\n    }\n    const success = await spendIngredients({\n      playerId: currentPlayer.playerId,\n      recipe,\n      inventory,\n      backpack,\n      setInventory,\n      setBackpack,\n      setCurrentPlayer,\n      updateStatus,\n    });\n    if (!success) return;\n\n    const tradedQty = 1;\n\n    if (recipe.category === \"power\") {\n      const updatedPowers = [...(currentPlayer.powers || [])];\n      const powerIndex = updatedPowers.findIndex(p => p.type === recipe.type);\n      if (powerIndex >= 0) {\n        updatedPowers[powerIndex].quantity += tradedQty;\n      } else {\n        updatedPowers.push({ type: recipe.type, quantity: tradedQty });\n      }\n      await axios.post(`${API_BASE}/api/update-powers`, {\n        playerId: currentPlayer.playerId,\n        powers: updatedPowers,\n      });\n      setCurrentPlayer(prev => ({\n        ...prev,\n        powers: updatedPowers,\n      }));\n      if (recipe.output && typeof recipe.qtycollected === 'number') {\n        if (recipe.output === \"range\") {\n          // ✅ Range is stored on the player document, not playersInGrid\n          const updatedRange = (currentPlayer.range || 0) + recipe.qtycollected;\n          await axios.post(`${API_BASE}/api/update-profile`, {\n            playerId: currentPlayer.playerId,\n            updates: { range: updatedRange }\n          });\n\n          // Update local player state and localStorage\n          const updatedPlayer = {\n            ...currentPlayer,\n            range: updatedRange\n          };\n          setCurrentPlayer(updatedPlayer);\n          localStorage.setItem('player', JSON.stringify(updatedPlayer));\n\n          console.log(`🎯 Updated range on player document: ${updatedRange}`);\n        } else {\n          // Other combat stats updated in playersInGrid\n          const gridPlayer = playersInGridManager.getAllPCs(gridId)?.[currentPlayer.playerId];\n          if (gridPlayer) {\n            const oldValue = gridPlayer[recipe.output] || 0;\n            const newValue = oldValue + recipe.qtycollected;\n\n            await playersInGridManager.updatePC(gridId, currentPlayer.playerId, {\n              [recipe.output]: newValue\n            });\n            console.log(`🧠 Updated ${recipe.output} for player ${currentPlayer.playerId}: ${oldValue} -> ${newValue}`);\n          }\n        }\n      }\n    }\n    else {\n      const gainSuccess = await gainIngredients({\n        playerId: currentPlayer.playerId,\n        currentPlayer,\n        resource: recipe.type,\n        quantity: recipe.qtycollected || 1,\n        inventory,\n        backpack,\n        setInventory,\n        setBackpack,\n        setCurrentPlayer,\n        updateStatus,\n        masterResources,\n      });\n\n      if (!gainSuccess) {\n        console.warn(`Failed to gain ${recipe.type}`);\n        return;\n      }\n    }\n\n    await trackQuestProgress(currentPlayer, 'Buy', recipe.type, tradedQty, setCurrentPlayer);\n\n    updateStatus(`✅ Acquired ${recipe.type}.`);\n    setFetchTrigger(prev => prev + 1);\n  };\n\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1025\" titleKey=\"1125\" panelName=\"ShopStation\">\n      <div className=\"standard-panel\">\n        <h2> {stationEmoji} {stationType} </h2>\n          {/* ✅ Conditional TENT text for the Store */}\n          {stationType === \"Store\" && (\n            <p style={{ fontWeight: \"bold\", color: \"#4CAF50\" }}>\n              {strings[\"410\"]}\n            </p>\n          )}\n          {recipes?.length > 0 ? (\n            recipes.map((recipe) => {\n              const affordable = canAfford(recipe, inventory, 1);\n              const meetsRequirement = hasRequirement(recipe.requires);\n              const outputLabel = recipe.output ? (strings[recipe.output] || recipe.output) : '';\n              const outputSummary = recipe.output && typeof recipe.qtycollected === 'number'\n                ? <span style={{ color: 'blue' }}>{recipe.qtycollected > 0 ? '+' : ''}{recipe.qtycollected} for {outputLabel}</span>                : null;\n\n              // Format costs in UI standard style\n              const formattedCosts = [1, 2, 3, 4].map((i) => {\n                const type = recipe[`ingredient${i}`];\n                const qty = recipe[`ingredient${i}qty`];\n                if (!type || !qty) return '';\n                const playerQty = inventory?.find(inv => inv.type === type)?.quantity || 0;\n                const color = playerQty >= qty ? 'green' : 'red';\n                const symbol = masterResources.find(r => r.type === type)?.symbol || '';\n                return `<span style=\"color: ${color}; display: block;\">${symbol} ${type} ${qty} / ${playerQty}</span>`;\n              }).join('');\n\n              const skillColor = meetsRequirement ? 'green' : 'red';\n\n              const details =\n                `${recipe.output && typeof recipe.qtycollected === 'number' ? `<span style=\"color: blue;\">${recipe.qtycollected > 0 ? '+' : ''}${recipe.qtycollected} for ${strings[recipe.output] || recipe.output}</span><br>` : ''}` +\n                `Costs:<div>${formattedCosts}</div>` +\n                (recipe.requires ? `<br><span style=\"color: ${skillColor};\">Requires: ${recipe.requires}</span>` : '');\n\n              const info = (\n                <div className=\"info-content\">\n                  {outputSummary && (\n                    <div style={{ marginBottom: '4px' }}>\n                      <strong>{outputSummary}</strong>\n                    </div>\n                  )}\n                  <div><strong>{strings[422]}</strong> 💰 {recipe.minprice || 'n/a'}</div>\n                </div>\n              );\n              \n              return (\n                <ResourceButton\n                  key={recipe.type}\n                  symbol={recipe.symbol}\n                  name={recipe.type}\n                  className=\"resource-button\"\n                  details={details}\n                  info={info} \n                  disabled={!affordable || !meetsRequirement}\n                  onClick={() => handlePurchase(recipe)}\n                >\n                </ResourceButton>\n              );\n            })\n          ) : <p>{strings[423]}</p>}\n\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n\n      </div>\n    </Panel>\n  );\n};\n\nexport default React.memo(ShopStation);","import API_BASE from '../../config';\nimport axios from 'axios';\nimport { gainIngredients } from '../../Utils/InventoryManagement';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport FloatingTextManager from '../../UI/FloatingText';\nimport { updateGridResource } from '../../Utils/GridManagement';\nimport { refreshPlayerAfterInventoryUpdate } from '../../Utils/InventoryManagement';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { createCollectEffect } from '../../VFX/VFX';\nimport '../../UI/SharedButtons.css';\nimport { useStrings } from '../../UI/StringsContext';\nimport { useUILock } from '../../UI/UILockContext';\n\nconst AnimalStall = ({\n  onClose,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  setResources,\n  stationType,\n  currentStationPosition,\n  gridId,\n  TILE_SIZE,\n  updateStatus,\n  masterResources,\n}) => {\n  const { setUILocked } = useUILock();\n  const [isActionCoolingDown, setIsActionCoolingDown] = useState(false);\n  const COOLDOWN_DURATION = 2000;\n\n  const [stallDetails, setStallDetails] = useState(null);\n  const [outputDetails, setOutputDetails] = useState(null);\n  const strings = useStrings();\n\n  console.log('Inside Animal Stall:', { stationType, currentStationPosition });\n\n  useEffect(() => {\n    const stallResource = masterResources.find((res) => res.type === stationType);\n    setStallDetails(stallResource);\n  }, [stationType, masterResources]);\n\n  useEffect(() => {\n    const syncInventory = async () => {\n      try {\n        const storedInventory = JSON.parse(localStorage.getItem('inventory')) || [];\n        setInventory(storedInventory);\n  \n        const serverResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        const serverInventory = serverResponse.data.inventory || [];\n        if (JSON.stringify(storedInventory) !== JSON.stringify(serverInventory)) {\n          setInventory(serverInventory);\n          localStorage.setItem('inventory', JSON.stringify(serverInventory));\n        }\n      } catch (error) {\n        console.error('Error syncing inventory:', error);\n      }\n    };\n    syncInventory();\n  }, [currentPlayer]);\n\n  const handleSellStation = async () => {\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    const ingredients = [];\n    for (let i = 1; i <= 3; i++) {\n      const ingredientType = stallDetails[`ingredient${i}`];\n      const ingredientQty = stallDetails[`ingredient${i}qty`];\n      if (ingredientType && ingredientQty) {\n        ingredients.push({ type: ingredientType, quantity: ingredientQty });\n      }\n    }\n    if (!ingredients.length) { console.error('No ingredients found for refund.'); return; }\n\n    try {\n      for (const { type, quantity } of ingredients) {\n        const success = await gainIngredients({\n          playerId: currentPlayer.playerId,\n          currentPlayer,\n          resource: type,\n          quantity,\n          inventory,\n          backpack,\n          setInventory,\n          setBackpack,\n          setCurrentPlayer,\n          updateStatus,\n          masterResources,\n        });\n        if (!success) return;\n      }\n\n      await updateGridResource(\n        gridId,\n        { type: null, x: currentStationPosition.x, y: currentStationPosition.y },\n        setResources,\n        true\n      );\n\n      setResources(prevResources =>\n        prevResources.filter(res => !(res.x === currentStationPosition.x && res.y === currentStationPosition.y))\n      );\n      console.log(\"🧹 AnimalStall resource removed from client state.\");\n      createCollectEffect(currentStationPosition.x, currentStationPosition.y, TILE_SIZE);\n\n      const totalRefund = ingredients\n        .filter((item) => item.type === \"Money\")\n        .reduce((sum, item) => sum + item.quantity, 0);\n\n      console.log(`Sold ${stationType} successfully for ${totalRefund} Money.`);\n      updateStatus(`Sold ${stationType} for ${totalRefund} Money.`);\n      onClose();\n    } catch (error) {\n      console.error('Error selling the stall:', error);\n    }\n  };\n  \n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1011\" titleKey=\"1111\" panelName=\"AnimalStall\" >\n      <div className=\"standard-panel\">\n        <h2>\n            {stallDetails?.symbol || '🛖'} {stationType}\n        </h2>\n\n\n        {currentPlayer.location.gtype === 'homestead' && (\n          <>\n            <hr />\n              <div className=\"standard-buttons\">\n                <button className=\"btn-success\" onClick={handleSellStation} disabled={isActionCoolingDown}>\n                  {strings[425]}\n                </button>\n              </div>\n          </>\n        )}\n      </div>\n    </Panel>\n  );\n  \n};\n\nexport default React.memo(AnimalStall);\n","import API_BASE from '../../config';\nimport axios from 'axios';\nimport { gainIngredients } from '../../Utils/InventoryManagement';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport { updateGridResource } from '../../Utils/GridManagement';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport { createCollectEffect } from '../../VFX/VFX';\nimport '../../UI/SharedButtons.css';\nimport { useStrings } from '../../UI/StringsContext';\nimport { useUILock } from '../../UI/UILockContext';\n\nconst DecoPanel = ({\n  onClose,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  currentPlayer,\n  setCurrentPlayer,\n  setResources,\n  stationType,\n  currentStationPosition,\n  gridId,\n  TILE_SIZE,\n  updateStatus,\n  masterResources,\n}) => {\n  const [stallDetails, setStallDetails] = useState(null);\n  const isHomestead = currentPlayer?.location?.gtype === 'homestead';\n  const strings = useStrings();\n  const { setUILocked } = useUILock();\n  const [isActionCoolingDown, setIsActionCoolingDown] = useState(false);\n  const COOLDOWN_DURATION = 2000;\n\n  console.log('Inside Deco Panel:', { stationType, currentStationPosition });\n\n  useEffect(() => {\n    const stallResource = masterResources.find((res) =>\n      res.type === stationType &&\n      (isHomestead || res.passable !== false)\n    );\n    setStallDetails(stallResource);\n  }, [stationType, masterResources, isHomestead]);\n\n  useEffect(() => {\n    const syncInventory = async () => {\n      try {\n        const storedInventory = JSON.parse(localStorage.getItem('inventory')) || [];\n        setInventory(storedInventory);\n  \n        const serverResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n        const serverInventory = serverResponse.data.inventory || [];\n        if (JSON.stringify(storedInventory) !== JSON.stringify(serverInventory)) {\n          setInventory(serverInventory);\n          localStorage.setItem('inventory', JSON.stringify(serverInventory));\n        }\n      } catch (error) {\n        console.error('Error syncing inventory:', error);\n      }\n    };\n    syncInventory();\n  }, [currentPlayer]);\n\n  const handleSellStation = async () => {\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    const ingredients = [];\n    for (let i = 1; i <= 3; i++) {\n      const ingredientType = stallDetails[`ingredient${i}`];\n      const ingredientQty = stallDetails[`ingredient${i}qty`];\n      if (ingredientType && ingredientQty) {\n        ingredients.push({ type: ingredientType, quantity: ingredientQty });\n      }\n    }\n    if (!ingredients.length) { console.error('No ingredients found for refund.'); return; }\n\n    try {\n      for (const { type, quantity } of ingredients) {\n        const success = await gainIngredients({\n          playerId: currentPlayer.playerId,\n          currentPlayer,\n          resource: type,\n          quantity,\n          inventory,\n          backpack,\n          setInventory,\n          setBackpack,\n          setCurrentPlayer,\n          updateStatus,\n          masterResources,\n        });\n        if (!success) return;\n      }\n\n      await updateGridResource(\n        gridId,\n        { type: null, x: currentStationPosition.x, y: currentStationPosition.y },\n        setResources,\n        true\n      );\n\n      setResources(prevResources =>\n        prevResources.filter(res => !(res.x === currentStationPosition.x && res.y === currentStationPosition.y))\n      );\n      console.log(\"🧹 AnimalStall resource removed from client state.\");\n      createCollectEffect(currentStationPosition.x, currentStationPosition.y, TILE_SIZE);\n\n      const totalRefund = ingredients\n        .filter((item) => item.type === \"Money\")\n        .reduce((sum, item) => sum + item.quantity, 0);\n\n      console.log(`Sold ${stationType} successfully for ${totalRefund} Money.`);\n      updateStatus(`Sold ${stationType} for ${totalRefund} Money.`);\n      onClose();\n    } catch (error) {\n      console.error('Error selling the stall:', error);\n    }\n  };\n  \n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1028\" titleKey=\"1128\" panelName=\"DecoPanel\" >\n      <div className=\"standard-panel\">\n        <h2>\n            {stallDetails?.symbol || '🛖'} {stationType}\n        </h2>\n\n\n        {currentPlayer.location.gtype === 'homestead' && (\n          <>\n            <hr />\n              <div className=\"standard-buttons\">\n                <button className=\"btn-success\" onClick={handleSellStation} disabled={isActionCoolingDown}>\n                  {strings[425]}\n                </button>\n              </div>\n          </>\n        )}\n      </div>\n    </Panel>\n  );\n  \n};\n\nexport default React.memo(DecoPanel);\n","import API_BASE from '../../config';\nimport { useStrings } from '../../UI/StringsContext';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel'; // Use Panel instead of Modal\nimport axios from 'axios';\nimport './TradeStall.css';\nimport { spendIngredients, gainIngredients, refreshPlayerAfterInventoryUpdate } from '../../Utils/InventoryManagement';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { formatCountdown } from '../../UI/Timers';\nimport { useUILock } from '../../UI/UILockContext';\n\nfunction TradeStall({ onClose, inventory, setInventory, currentPlayer, setCurrentPlayer }) {\n\n  const strings = useStrings();\n  const [tradeSlots, setTradeSlots] = useState([]);\n  const [selectedSlotIndex, setSelectedSlotIndex] = useState(null);\n  const [amounts, setAmounts] = useState({}); // Store amounts per resource\n  const [totalSellValue, setTotalSellValue] = useState(0);\n  const [resourceData, setResourceData] = useState([]); // Store resource data\n  const [settlementPlayers, setSettlementPlayers] = useState([]);\n  const [viewedPlayer, setViewedPlayer] = useState(currentPlayer);\n  const [viewedPlayerIndex, setViewedPlayerIndex] = useState(0); // Index of the currently viewed player\n  const { updateStatus } = useContext(StatusBarContext);\n  const { setUILocked } = useUILock();\n  const [isActionCoolingDown, setIsActionCoolingDown] = useState(false);\n  const COOLDOWN_DURATION = 2000;\n\n  const tradeStallHaircut = 0.25;\n  const sellWaitTime = 60 * 60 * 1000; // 1 hour\n\n  const calculateTotalSlots = (player) => {\n    const baseSlots = 4;\n    const accountStatusSlots = {\n      Free: 0,\n      Bronze: 0,\n      Silver: 0,\n      Gold: 2,\n    };\n    return baseSlots + (accountStatusSlots[player.accountStatus] || 0);\n  };\n\n  // Lift fetchDataForViewedPlayer out of useEffect for reuse\n  const fetchDataForViewedPlayer = async () => {\n    try {\n      // Fetch resource data (e.g., for prices)\n      const resourcesResponse = await axios.get(`${API_BASE}/api/resources`);\n      setResourceData(resourcesResponse.data);\n\n      // Fetch inventory for the current player\n      const currentInventoryResponse = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n      setInventory(currentInventoryResponse.data.inventory || []);\n\n      // Fetch trade stall data for the viewed player\n      const tradeStallResponse = await axios.get(`${API_BASE}/api/player-trade-stall`, {\n        params: { playerId: viewedPlayer.playerId },\n      });\n\n      // Calculate slots\n      const totalSlots = calculateTotalSlots(viewedPlayer);\n      const existingSlots = tradeStallResponse.data.tradeStall || [];\n      const filledSlots = Array(totalSlots).fill(null);\n      existingSlots.forEach((slot, index) => {\n        if (index < totalSlots && slot && slot.resource) {\n          filledSlots[index] = { ...slot };\n        }\n      });\n      // Ensure all unfilled slots remain null\n      for (let i = 0; i < filledSlots.length; i++) {\n        if (!filledSlots[i]) filledSlots[i] = null;\n      }\n      setTradeSlots(filledSlots);\n\n      // Update totalSellValue only if viewing currentPlayer's stall\n      if (viewedPlayer.playerId === currentPlayer.playerId) {\n        const total = existingSlots.reduce((sum, slot) => {\n          if (slot?.amount && slot?.price) {\n            return sum + slot.amount * slot.price;\n          }\n          return sum;\n        }, 0);\n        setTotalSellValue(total);\n      } else {\n        setTotalSellValue(0); // Disable Sell functionality for other players\n      }\n    } catch (error) {\n      console.error('Error fetching TradeStall data:', error);\n    }\n  };\n\n  useEffect(() => {\n    const fetchSettlementPlayers = async () => {\n      try {\n        const settlementPlayersResponse = await axios.get(`${API_BASE}/api/players-in-settlement`, {\n          params: { settlementId: currentPlayer.location.s },\n        });\n        setSettlementPlayers(settlementPlayersResponse.data.players || []);\n      } catch (error) {\n        console.error('Error fetching settlement players:', error);\n      }\n    };\n\n    fetchDataForViewedPlayer();\n    fetchSettlementPlayers();\n    \n  }, [viewedPlayer, currentPlayer]);\n  \n\n  const handleSlotClick = (index) => {\n    const slot = tradeSlots[index];\n    const isOwnStall = viewedPlayer.playerId === currentPlayer.playerId;\n    console.log('Slot clicked:', index, 'Slot data:', slot, 'Is own stall:', isOwnStall);\n\n    if (isOwnStall) {\n      if (!slot) {\n        setSelectedSlotIndex(index); // Allow opening inventory modal for your own empty slot\n      } else if (slot.boughtBy) {\n        // Do nothing — collect handled by button\n      } else {\n        updateStatus(11001); // Can't buy your own stuff\n      }\n    } else {\n      if (!slot || slot.boughtBy) {\n        updateStatus(151); // Show message only for other player's empty slot or purchased slot\n      } else {\n        handleBuy(index); // Buy from another player's filled slot\n      }\n    }\n  };\n  \n  const handleBuy = async (slotIndex) => {\n    // Cooldown guard to prevent buy spamming\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    const slot = tradeSlots[slotIndex];\n    if (!slot || slot.amount <= 0) return; // No valid slot to buy from\n\n    // Re-fetch latest data to confirm availability\n    const tradeStallResponse = await axios.get(`${API_BASE}/api/player-trade-stall`, {\n      params: { playerId: viewedPlayer.playerId },\n    });\n    const latestSlots = tradeStallResponse.data.tradeStall || [];\n    const currentSlot = latestSlots[slotIndex];\n    if (!currentSlot || currentSlot.boughtBy) {\n      updateStatus(155); // Item was already purchased\n      fetchDataForViewedPlayer();\n      return;\n    }\n\n    const totalCost = slot.amount * slot.price;\n    console.log('Current inventory:', inventory);\n    const currentMoney = inventory.find((item) => item.type === 'Money')?.quantity || 0;\n\n    if (totalCost > currentMoney) {\n      console.warn('Not enough money to complete the purchase.'); updateStatus(152);\n      return;\n    }\n\n    try {\n      const tempRecipe = { ingredient1: 'Money', ingredient1qty: totalCost };\n\n      const success = await spendIngredients({\n        playerId: currentPlayer.playerId,\n        recipe: tempRecipe,\n        inventory,\n        backpack: [], // No backpack used here\n        setInventory,\n        setBackpack: () => {}, // No-op\n        setCurrentPlayer,\n        updateStatus,\n      });\n      if (!success) { console.warn('Not enough Money to buy this item.'); return; }\n\n      await gainIngredients({\n        playerId: currentPlayer.playerId,\n        currentPlayer,\n        resource: slot.resource,\n        quantity: slot.amount,\n        inventory,\n        backpack: [], // no backpack logic needed here\n        setInventory,\n        setBackpack: () => {},\n        setCurrentPlayer,\n        updateStatus,\n        masterResources: [], // optional; pass if available\n      });\n\n      // Update the TradeStall to mark the slot as purchased by making it empty\n      const updatedSlots = [...tradeSlots];\n      updatedSlots[slotIndex] = {\n        ...slot,\n        boughtBy: currentPlayer.username,\n        boughtFor: totalCost,\n      };\n      delete updatedSlots[slotIndex].sellTime;\n\n      await axios.post(`${API_BASE}/api/update-player-trade-stall`, {\n        playerId: viewedPlayer.playerId,\n        tradeStall: updatedSlots,\n      });\n\n      setTradeSlots(updatedSlots);\n      // Re-fetch the trade stall data for the viewed player to ensure up-to-date state\n      await fetchDataForViewedPlayer();\n\n      updateStatus(22);\n      console.log(`Purchased ${slot.amount}x ${slot.resource} for ${totalCost}`);\n    } catch (error) {\n      console.error('Error processing purchase:', error);\n    }\n  };\n\n  const handleNextPlayer = () => {\n    if (settlementPlayers.length > 0) {\n      const nextIndex = (viewedPlayerIndex + 1) % settlementPlayers.length;\n      setViewedPlayerIndex(nextIndex);\n      setViewedPlayer(settlementPlayers[nextIndex]);\n    }\n  };\n  \n  const handlePreviousPlayer = () => {\n    if (settlementPlayers.length > 0) {\n      const previousIndex =\n        (viewedPlayerIndex - 1 + settlementPlayers.length) % settlementPlayers.length;\n      setViewedPlayerIndex(previousIndex);\n      setViewedPlayer(settlementPlayers[previousIndex]);\n    }\n  };\n  \n  \n  const handleAmountChange = (type, value) => {\n    const resourceInInventory = inventory.find((item) => item.type === type);\n    const maxAmount = resourceInInventory ? resourceInInventory.quantity : 0;\n  \n    setAmounts((prev) => ({\n      ...prev,\n      [type]: Math.min(Math.max(0, value), maxAmount), // Ensure value is within 0 and maxAmount\n    }));\n  };\n\n  const handleAddToSlot = async (resource) => {\n    const amount = amounts[resource] || 0;\n    const resourceInInventory = inventory.find((item) => item.type === resource);\n\n    if (selectedSlotIndex === null || amount <= 0 || !resourceInInventory || amount > resourceInInventory.quantity) {\n      console.warn('Invalid amount or resource exceeds available quantity.');\n      return;\n    }\n\n    const resourceDetails = resourceData.find((item) => item.type === resource);\n    const price = resourceDetails?.minprice || 0;\n\n    const updatedSlots = [...tradeSlots];\n    updatedSlots[selectedSlotIndex] = { resource, amount, price, sellTime: Date.now() + sellWaitTime };\n\n    try {\n      await axios.post(`${API_BASE}/api/update-player-trade-stall`, {\n        playerId: currentPlayer.playerId,\n        tradeStall: updatedSlots,\n      });\n\n      await axios.post(`${API_BASE}/api/update-inventory`, {\n        playerId: currentPlayer.playerId,\n        inventory: inventory.map((item) =>\n          item.type === resource\n            ? { ...item, quantity: item.quantity - amount }\n            : item\n        ).filter((item) => item.quantity > 0),\n      });\n\n      await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n\n      const refreshedInventory = await axios.get(`${API_BASE}/api/inventory/${currentPlayer.playerId}`);\n      setInventory(refreshedInventory.data.inventory);\n\n      setTradeSlots(updatedSlots);\n      setSelectedSlotIndex(null);\n      calculateTotalSellValue(updatedSlots);\n    } catch (error) {\n      console.error('Error adding item to Trade Stall:', error);\n    }\n  };\n\n  \n  const handleSellSingle = async (slotIndex) => {\n    const slot = tradeSlots[slotIndex];\n    if (!slot) return;\n\n    // Re-fetch the latest trade stall state for the player\n    const tradeStallResponse = await axios.get(`${API_BASE}/api/player-trade-stall`, {\n      params: { playerId: currentPlayer.playerId },\n    });\n    const latestSlots = tradeStallResponse.data.tradeStall || [];\n    const currentSlot = latestSlots[slotIndex];\n\n    // If slot is null or bought, treat as already purchased\n    if (!currentSlot || currentSlot.boughtBy) {\n      updateStatus(153); // Item was already purchased\n      fetchDataForViewedPlayer(); // Refresh UI\n      return;\n    }\n\n    const sellValue = Math.floor(slot.amount * slot.price * tradeStallHaircut);\n\n    await gainIngredients({\n      playerId: currentPlayer.playerId,\n      currentPlayer,\n      resource: 'Money',\n      quantity: sellValue,\n      inventory,\n      backpack: [],\n      setInventory,\n      setBackpack: () => {},\n      setCurrentPlayer,\n      updateStatus,\n      masterResources: [],\n    });\n\n    // Track quest progress for selling this item\n    await trackQuestProgress(currentPlayer, 'Sell', slot.resource, slot.amount, setCurrentPlayer);\n\n    const updatedSlots = [...tradeSlots];\n    updatedSlots[slotIndex] = null;\n\n    await axios.post(`${API_BASE}/api/update-player-trade-stall`, {\n      playerId: currentPlayer.playerId,\n      tradeStall: updatedSlots,\n    });\n\n    setTradeSlots(updatedSlots);\n    calculateTotalSellValue(updatedSlots);\n    updateStatus(6);\n  };\n\n  const calculateTotalSellValue = (slots) => {\n    console.log('Inside calculateTotalSetllValue; Current Inventory:', inventory);\n    const total = slots.reduce((sum, slot) => {\n      if (slot?.amount && slot?.price) {\n        return sum + slot.amount * slot.price;\n      }\n      return sum;\n    }, 0);\n    setTotalSellValue(total);\n  };\n\n  \n  \n  const getSymbol = (resourceType) => {\n    const resource = resourceData.find((res) => res.type === resourceType);\n    return resource?.symbol || '';\n  };\n  \n  // New function to collect payment from a bought slot\n  const handleCollectPayment = async (slotIndex) => {\n    if (isActionCoolingDown) return;\n    setIsActionCoolingDown(true);\n    setUILocked(true);\n    setTimeout(() => {\n      setIsActionCoolingDown(false);\n      setUILocked(false);\n    }, COOLDOWN_DURATION);\n\n    const slot = tradeSlots[slotIndex];\n    if (!slot || !slot.boughtFor) return;\n\n    await gainIngredients({\n      playerId: currentPlayer.playerId,\n      currentPlayer,\n      resource: 'Money',\n      quantity: slot.boughtFor,\n      inventory,\n      backpack: [],\n      setInventory,\n      setBackpack: () => {},\n      setCurrentPlayer,\n      updateStatus,\n      masterResources: [],\n    });\n\n    const updatedSlots = [...tradeSlots];\n    updatedSlots[slotIndex] = null;\n\n    await axios.post(`${API_BASE}/api/update-player-trade-stall`, {\n      playerId: currentPlayer.playerId,\n      tradeStall: updatedSlots,\n    });\n \n    setTradeSlots(updatedSlots);\n    calculateTotalSellValue(updatedSlots);\n    updateStatus(6);\n  };\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1008\" titleKey=\"1108\" panelName=\"TradeStall\">\n\n      {/* USER NAME AND ARROWS */}\n\n      <div className=\"username-container\">\n        <button className=\"arrow-button\" onClick={handlePreviousPlayer}>👈</button>\n        <span className=\"username\" style={{ flexGrow: 1, textAlign: 'center' }}>\n          {viewedPlayer?.playerId === currentPlayer?.playerId ? 'You' : (viewedPlayer?.username || 'N/A')}\n        </span>\n        <button className=\"arrow-button\" onClick={handleNextPlayer}>👉</button>\n      </div>\n      <h3 style={{ textAlign: 'center' }}>\n        {viewedPlayer?.playerId === currentPlayer?.playerId ? 'are selling:' : 'is selling:'}\n      </h3>\n      <br />\n\n      {/* TRADE STALL SLOTS */}\n\n      <div className=\"trade-stall-slots\">\n        {tradeSlots.map((slot, index) => (\n          <div\n            key={index}\n            className={`trade-slot ${\n              slot && !(slot.boughtBy && viewedPlayer.playerId !== currentPlayer.playerId) ? 'filled' : ''\n            } ${\n              slot && slot.boughtBy && viewedPlayer.playerId !== currentPlayer.playerId ? 'disabled' : ''\n            }`}\n            onClick={() => handleSlotClick(index)}\n            style={slot ? { minHeight: '75px' } : {}}\n          >\n            {(slot && !(slot.boughtBy && viewedPlayer.playerId !== currentPlayer.playerId)) ? (\n              <div\n                style={{\n                  textAlign: 'center',\n                  fontSize: '1rem',\n                  minHeight: '75px',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'center',\n                }}\n              >\n                <div style={{ marginBottom: '6px' }}>\n                  {`${slot.amount}x ${getSymbol(slot.resource)} ${slot.resource}`}\n                </div>\n                {viewedPlayer.playerId === currentPlayer.playerId && slot.sellTime && slot.sellTime > Date.now() && (\n                  <div style={{ fontSize: '0.9rem' }}>{formatCountdown(slot.sellTime, Date.now())}</div>\n                )}\n                {viewedPlayer.playerId === currentPlayer.playerId && slot.sellTime && slot.sellTime <= Date.now() && (\n                  <button\n                    className=\"sell-button\"\n                    style={{ fontSize: '0.95rem', padding: '4px 8px', marginTop: '4px' }}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleSellSingle(index);\n                    }}\n                  >\n                    Sell for 💰{Math.floor(slot.amount * slot.price * tradeStallHaircut)}\n                  </button>\n                )}\n\n                {/* New block for collecting payment after purchase */}\n\n                {viewedPlayer.playerId === currentPlayer.playerId && slot.boughtBy && (\n                  <>\n                    <div style={{ fontSize: '0.9rem' }}>Bought by {slot.boughtBy}</div>\n                    <button\n                      className=\"sell-button\"\n                      style={{ fontSize: '0.95rem', padding: '4px 8px', marginTop: '4px' }}\n                      disabled={isActionCoolingDown}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleCollectPayment(index);\n                      }}\n                    >\n                      Collect 💰{slot.boughtFor}\n                    </button>\n                  </>\n                )}\n\n                {/* Show Buy for button if viewing another player's slot, item for sale, and not bought */}\n\n                {viewedPlayer.playerId !== currentPlayer.playerId && !slot.boughtBy && (\n                  <button\n                    className=\"sell-button\"\n                    style={{ fontSize: '0.95rem', padding: '4px 8px', marginTop: '4px' }}\n                    disabled={isActionCoolingDown}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleBuy(index);\n                    }}\n                  >\n                    Buy for 💰{slot.amount * slot.price}\n                  </button>\n                )}\n              </div>\n            ) : (\n              'Empty'\n            )}\n          </div>\n        ))}\n      </div>\n\n\n{/* //////////////////  INVENTORY MODAL  ///////////////////*/}\n\n      {selectedSlotIndex !== null && (\n        <div className=\"inventory-modal\">\n          <button\n            className=\"close-button\"\n            onClick={() => setSelectedSlotIndex(null)}\n          >\n            ✖\n          </button>\n          <h3>Items to Sell</h3>\n          <div className=\"inventory-modal-scroll\">\n            <table>\n              <thead>\n                <tr>\n                  <th>Resource</th>\n                  <th>Available</th>\n                  <th>Price</th>\n                  <th>Amount</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {inventory\n                  .filter((item) => {\n                    const resourceDetails = resourceData.find((res) => res.type === item.type);\n                    return (\n                      item.type !== 'Money'\n                    );\n                  })\n                  .map((item) => {\n                    const resourceDetails = resourceData.find((res) => res.type === item.type);\n                    const price = resourceDetails?.minprice || 'N/A';\n\n                    return (\n                      <tr key={item.type}>\n                        <td>{resourceDetails?.symbol} {item.type}</td>\n                        <td>{item.quantity}</td>\n                        <td>{price}</td>\n                        <td>\n                          <div className=\"amount-input\">\n                            <button\n                              onClick={() =>\n                                handleAmountChange(item.type, (amounts[item.type] || 0) - 1)\n                              }\n                              disabled={(amounts[item.type] || 0) <= 0}\n                            >\n                              -\n                            </button>\n                            <input\n                              type=\"number\"\n                              value={amounts[item.type] || 0}\n                              onChange={(e) =>\n                                handleAmountChange(item.type, parseInt(e.target.value, 10) || 0)\n                              }\n                            />\n                            <button\n                              onClick={() =>\n                                handleAmountChange(item.type, (amounts[item.type] || 0) + 1)\n                              }\n                              disabled={item.quantity <= (amounts[item.type] || 0)}\n                            >\n                              +\n                            </button>\n                          </div>\n                        </td>\n                        <td>\n                          <button\n                            className=\"add-button\"\n                            onClick={() => handleAddToSlot(item.type)}\n                            disabled={\n                              !(amounts[item.type] > 0 && amounts[item.type] <= item.quantity) // Validate amount\n                            }\n                          >\n                            Add\n                          </button>\n                        </td>\n                      </tr>\n                    );\n                  })}\n              </tbody>\n\n            </table>\n          </div>\n        </div>\n      )}\n\n    </Panel>\n  );\n};\n\nexport default TradeStall;","import API_BASE from '../../config';\nimport axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport Modal from '../../UI/Modal';\nimport '../../UI/SharedButtons.css';\nimport './Mailbox.css';\nimport { trackQuestProgress } from '../Quests/QuestGoalTracker';\nimport { refreshPlayerAfterInventoryUpdate } from '../../Utils/InventoryManagement';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport { loadMasterResources } from '../../Utils/TuningManager';\nimport { updateBadge } from '../../Utils/appUtils';\nimport { useStrings } from '../../UI/StringsContext';\nimport { useUILock } from '../../UI/UILockContext';\n\nfunction Mailbox({ \n  onClose, \n  inventory,\n  setInventory, \n  backpack, \n  setBackpack,\n  currentPlayer, \n  setCurrentPlayer, \n  resources,\n  updateStatus,\n}) {\n  const { setUILocked } = useUILock();\n  const COOLDOWN_DURATION = 1400;\n  const strings = useStrings();\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [markedReadIds, setMarkedReadIds] = useState([]);\n  const gridId = currentPlayer?.location?.g;\n  const [masterResources, setMasterResources] = useState([]);\n  const [visibleMessages, setVisibleMessages] = useState(currentPlayer?.messages || []);\n\n  useEffect(() => {\n    const fetchMasterResources = async () => {\n      const all = await loadMasterResources();\n      setMasterResources(all);\n    };\n    fetchMasterResources();\n  }, []);\n\n  useEffect(() => {\n    if (Array.isArray(currentPlayer?.messages)) {\n      setVisibleMessages(currentPlayer.messages);\n    }\n  }, [currentPlayer?.messages]);\n \n  useEffect(() => {\n  const fetchTemplatesAndMessages = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/api/messages`);\n      const templates = await response.json();\n      setTemplates(templates);\n      updateBadge(currentPlayer, () => {}, 'mailbox', false); // 🧼 Clear badge\n      setLoading(false);\n      const res = await axios.get(`${API_BASE}/api/player/${currentPlayer.playerId}`);\n      const freshMessages = res.data.messages || [];\n      const unreadMessages = freshMessages.filter(msg => !msg.read);\n\n      if (unreadMessages.length > 0) {\n        const updatedMessages = freshMessages.map(msg =>\n          !msg.read ? { ...msg, read: true } : msg\n        );\n        // Save only to the DB — don't update local state yet\n        await axios.post(`${API_BASE}/api/update-player-messages`, {\n          playerId: currentPlayer.playerId,\n          messages: updatedMessages,\n        });\n        // Track which ones we updated\n        setMarkedReadIds(unreadMessages.map(msg => msg.messageId));\n      }\n      // Still show original messages (not visually marked as read yet)\n      setCurrentPlayer(prev => ({ ...prev, messages: freshMessages }));\n      setVisibleMessages(freshMessages);\n\n    } catch (err) {\n      console.error(\"❌ Error fetching or updating mailbox data:\", err);\n    }\n  };\n  fetchTemplatesAndMessages();\n}, []);\n\n\n  const handleCollect = async (message) => {\n    setUILocked(true);\n    setTimeout(() => setUILocked(false), COOLDOWN_DURATION);\n    try {\n      const template = templates.find((t) => t.id === message.messageId);\n      const rewards = message.rewards?.length > 0 ? message.rewards : template.rewards;\n\n      console.log(\"🎁 Rewards from message:\", rewards);\n\n      // Categorize rewards\n      const tents = [];\n      const relocations = [];\n      const skills = [];\n      const powers = [];\n      const doobers = [];\n      const others = [];\n\n      rewards.forEach(({ item, qty }) => {\n        // Find resource metadata, or fallback for special items\n        const resourceMeta = resources.find(r => r.type === item) || {};\n        // Fallback category for Relocation and others\n        const category = resourceMeta.category || (item === 'Relocation' ? 'relocations' : 'other');\n        console.log(\"resourceMeta = \", resourceMeta);\n        console.log(\"Category = \", category);\n\n        switch (category) {\n          case 'skill':\n          case 'upgrade':\n            skills.push({ item, qty });\n            break;\n          case 'power':\n            powers.push({ item, qty });\n            break;\n          case 'doober':\n          case 'special':\n            doobers.push({ item, qty });\n            break;\n          case 'tents':\n            tents.push({ item, qty });\n            break;\n          case 'relocations':\n            relocations.push({ item, qty });\n            break;\n          default:\n            others.push({ item, qty });\n        }\n      });\n\n      // Handle non-special rewards (others), including Tents as special case\n      tents.forEach(({ item, qty }) => {\n        if (item === \"Tent\") {\n          const index = backpack.findIndex(b => b.type === item);\n          if (index !== -1) {\n            backpack[index].quantity += qty;\n          } else {\n            backpack.push({ type: item, quantity: qty });\n          }\n          return;\n        }\n        const index = inventory.findIndex(i => i.type === item);\n        if (index !== -1) {\n          inventory[index].quantity += qty;\n        } else {\n          inventory.push({ type: item, quantity: qty });\n        }\n      });\n\n      relocations.forEach(({ item, qty }) => {\n        if (item === \"Relocation\") {\n          console.log(\"Item is Relocation.\");\n          const currentQty = currentPlayer.relocations || 0;\n          const newQty = currentQty + qty;\n          console.log(\"currentQty = \",currentQty,\"; newQty = \",newQty);\n          axios.post(`${API_BASE}/api/update-profile`, {\n            playerId: currentPlayer.playerId,\n            updates: { relocations: newQty },\n          });\n          setCurrentPlayer(prev => ({ ...prev, relocations: newQty }));\n        }\n      });\n\n      // Update inventory and backpack\n      await axios.post(`${API_BASE}/api/update-inventory`, {\n        playerId: currentPlayer.playerId,\n        inventory,\n        backpack,\n      });\n\n\n      // Handle doobers: add directly to inventory\n      const updatedInventory = [...inventory];\n      doobers.forEach(({ item, qty }) => {\n        const index = updatedInventory.findIndex((inv) => inv.type === item);\n        if (index !== -1) {\n          updatedInventory[index].quantity += qty;\n        } else {\n          updatedInventory.push({ type: item, quantity: qty });\n        }\n      });\n      if (doobers.length > 0) {\n        await axios.post(`${API_BASE}/api/update-inventory`, {\n          playerId: currentPlayer.playerId,\n          inventory: updatedInventory,\n        });\n        setInventory(updatedInventory);\n      }\n\n      // Handle skills\n      const existingSkills = currentPlayer.skills || [];\n      let newSkills = [...existingSkills];\n\n      for (const skillReward of skills) {\n        const skillType = skillReward.item;\n        const qtyToAdd = skillReward.qty;\n        const alreadyHasSkill = existingSkills.some(s => s.type === skillType);\n        if (alreadyHasSkill) {\n          console.log(`⏭️ Player already has skill: ${skillType}, skipping.`);\n          continue;\n        }\n        newSkills.push({ type: skillType, quantity: qtyToAdd });\n        await trackQuestProgress(currentPlayer, 'Gain skill with', skillType, qtyToAdd, setCurrentPlayer);\n      }\n      if (newSkills.length > existingSkills.length) {\n        await axios.post(`${API_BASE}/api/update-skills`, {\n          playerId: currentPlayer.playerId,\n          skills: newSkills,\n        });\n        setCurrentPlayer(prev => ({ ...prev, skills: newSkills }));\n      }\n\n      // Handle powers\n      for (const powerReward of powers) {\n        const powerType = powerReward.item;\n        console.log(`💥 Processing power reward: ${powerType}`);\n\n        const qtyToAdd = powerReward.qty;\n        const alreadyHasPower = currentPlayer.powers?.some(p => p.type === powerType);\n        console.log(`🔎 alreadyHasPower = ${alreadyHasPower}`);\n\n        // 🔍 Look up from masterResources instead of template\n        const powerData = masterResources.find(r => r.type === powerType);\n\n        if (!powerData) { console.warn(`⚠️ No master resource entry found for power: ${powerType}`); continue; }\n        if (alreadyHasPower) { console.log(`⏭️ Player already has power: ${powerType}, skipping.`); continue; }\n        \n        let updatedPowers = currentPlayer.powers ? [...currentPlayer.powers] : [];\n        updatedPowers.push({ type: powerType, quantity: qtyToAdd });\n        await axios.post(`${API_BASE}/api/update-powers`, {\n          playerId: currentPlayer.playerId,\n          powers: updatedPowers,\n        });\n        setCurrentPlayer(prev => ({ ...prev, powers: updatedPowers }));\n\n        const gridPlayerNew = playersInGridManager.getAllPCs(gridId)?.[currentPlayer.playerId];\n        if (gridPlayerNew && powerData.output && typeof powerData.qtycollected === 'number') {\n          const oldValue = gridPlayerNew[powerData.output] || 0;\n          const newValue = oldValue + powerData.qtycollected;\n          await playersInGridManager.updatePC(gridId, currentPlayer.playerId, {\n            [powerData.output]: newValue\n          });\n        }\n        await trackQuestProgress(currentPlayer, 'Gain skill with', powerType, qtyToAdd, setCurrentPlayer);\n      }\n\n      // Remove the message from the player's messages array\n      const updatedMessages = currentPlayer.messages.filter((m) => m !== message);\n      await axios.post(`${API_BASE}/api/update-player-messages`, {\n        playerId: currentPlayer.playerId,\n        messages: updatedMessages,\n      });\n\n      // Update client-side state\n      setCurrentPlayer((prev) => ({\n        ...prev,\n        messages: updatedMessages,\n      }));\n\n      await refreshPlayerAfterInventoryUpdate(currentPlayer.playerId, setCurrentPlayer);\n\n      // Debug: Final PC state in grid after rewards\n      const updated = await playersInGridManager.getAllPCs(gridId)?.[currentPlayer.playerId];\n      const skillCheck = currentPlayer.skills?.map(s => s.type).join(', ') || 'none';\n      const powerCheck = currentPlayer.powers?.map(p => p.type).join(', ') || 'none';\n      // Debug: Raw PCs in grid after update\n      const rawGridPCs = playersInGridManager.getAllPCs(gridId);\n      updateStatus(`✅ Collected rewards from \"${template.title}\"`);\n    } catch (err) {\n      console.error(\"❌ Error collecting rewards:\", err);\n      updateStatus(\"❌ Failed to collect rewards.\");\n    }\n  };\n\n  const getSymbol = (type) => {\n    return resources.find(r => r.type === type)?.symbol || \"\";\n  };\n\n\nconst renderRewards = (rewards) => {\n  if (!rewards || rewards.length === 0) return null;\n  return (\n    <div className=\"reward-summary\">\n      {rewards.map((r, idx) => (\n        <span key={idx} className=\"reward-item\">\n          {getSymbol(r.item)} {r.qty} {r.item}\n        </span>\n      ))}\n    </div>\n  );\n};\n\n  // Prevent error if player or messages are not loaded\n  if (!currentPlayer || !Array.isArray(currentPlayer.messages)) {\n    return (\n      <Modal onClose={onClose} title={strings[1606]} message=\"No messages available.\" />\n    );\n  }\n\n  const deleteMessage = async (playerId, messageIndex) => {\n    try {\n      const updatedMessages = [...currentPlayer.messages];\n      updatedMessages.splice(messageIndex, 1); // Remove the one at this index only\n    \n      await axios.post(`${API_BASE}/api/update-player-messages`, {\n        playerId,\n        messages: updatedMessages,\n      });\n  \n      setCurrentPlayer((prev) => ({\n        ...prev,\n        messages: updatedMessages,\n      }));\n  \n      updateStatus(1607);\n    } catch (error) {\n      console.error(\"❌ Error deleting message:\", error);\n      updateStatus(\"❌ Failed to delete message.\");\n    }\n  };\n\n  const handleClose = () => {\n    console.log(\"📭 Closing mailbox\");\n    setMarkedReadIds([]); // clear visual state\n    onClose();            // call parent-provided close\n  };\n\n\n  return (\n    <Modal onClose={handleClose} title={strings[1606]} className=\"mailbox-modal\">\n      {loading && visibleMessages.length === 0 ? (\n        <p>{strings[1601]}</p>\n      ) : visibleMessages.length === 0 ? (\n        <p>{strings[1602]}</p>\n      ) : (\n        [...visibleMessages].reverse().map((msg, index) => {\n          const template = templates.find((t) => t.id === msg.messageId);\n\n          if (!template) {\n            console.warn(`📭 No template found for messageId: ${msg.messageId}`);\n            return null;\n          }\n\n          const rewards = (msg.rewards && msg.rewards.length > 0)\n            ? msg.rewards\n            : template.rewards;\n\n          return (\n            <div key={index} className=\"mailbox-message\">\n              {/* Left side: message content */}\n              <div className=\"message-left\">\n                <h3>\n                  {template.title}\n                  {(!msg.read || markedReadIds.includes(msg.messageId)) && (\n                    <span className=\"unread-tag\">🆕</span>\n                  )}\n                </h3>\n                <p className=\"message-body\">{template.body}</p>\n                <p className=\"mailbox-timestamp\">\n                  {strings[1603]}: {new Date(msg.timestamp).toLocaleString()}\n                </p>\n              </div>\n\n              {/* Right side: reward line + buttons */}\n              <div className=\"message-actions\">\n                {rewards?.length > 0 && renderRewards(rewards)}\n\n                <div className=\"standard-buttons\">\n                  {rewards?.length > 0 && (\n                    <button className=\"btn-success\" onClick={() => handleCollect(msg)}>\n                      {strings[1604]} \n                    </button>\n                  )}\n                  <button\n                    className=\"delete-btn\"\n                    title=\"Delete\"\n                    onClick={() => {\n                      if (window.confirm(\"Are you sure you want to delete this message?\")) {\n                        deleteMessage(currentPlayer.playerId, index);\n                      }\n                    }}\n                  >\n                    🗑️\n                  </button>\n                </div>\n              </div>\n            </div>\n          );\n        })\n      )}                      \n      <p>{strings[1605]}</p>\n    </Modal>\n  );\n}\n\nexport default Mailbox;","// src/GameFeatures/Seasons/OffSeasonModal.js\nimport React, { useState, useEffect } from 'react';\nimport Modal from '../../UI/Modal';\nimport { useStrings } from '../../UI/StringsContext';\nimport { formatCountdown } from '../../UI/Timers';\nimport axios from 'axios';\nimport API_BASE from '../../config';\n\nfunction OffSeasonModal({ onClose, currentPlayer }) {\n  const strings = useStrings();\n  const [countdown, setCountdown] = useState(\"...\");\n  const [seasons, setSeasons] = useState([]);\n  const [seasonData, setSeasonData] = useState({ type: \"Unknown\", phase: \"Unknown\", endTime: null });\n  const [richestCitizens, setRichestCitizens] = useState([]);\n  const [secondsLeft, setSecondsLeft] = useState(null);\n\n  // Load timers from localStorage\n  useEffect(() => {\n    const storedTimers = JSON.parse(localStorage.getItem(\"timers\"));\n    const data = storedTimers?.seasons || { type: \"Unknown\", phase: \"Unknown\", endTime: null };\n    setSeasonData(data);\n  }, []);\n\n  // Fetch tuning data (seasons.json)\n  useEffect(() => {\n    const fetchSeasons = async () => {\n      try {\n        const response = await axios.get(`${API_BASE}/api/tuning/seasons`);\n        setSeasons(response.data);\n      } catch (err) {\n        console.error(\"❌ Failed to load season tuning:\", err);\n      }\n    };\n\n    fetchSeasons();\n  }, []);\n\n  // Update live countdown\n  useEffect(() => {\n    const update = () => {\n      const now = new Date();\n      const end = new Date(seasonData.endTime);\n      setCountdown(formatCountdown(end, now));\n    };\n\n    update();\n    const interval = setInterval(update, 1000);\n    return () => clearInterval(interval);\n  }, [seasonData]);\n\n    // Calculate raw seconds remaining (for refresh trigger)\n    useEffect(() => {\n      const interval = setInterval(() => {\n        const now = Date.now();\n        const end = new Date(seasonData.endTime).getTime();\n        const diff = Math.floor((end - now) / 1000);\n        setSecondsLeft(diff);\n      }, 1000);\n      return () => clearInterval(interval);\n    }, [seasonData]);\n\n  // 🔁 Force refresh when 20 seconds remain\n  useEffect(() => {\n    if (secondsLeft === 20) {\n      console.warn(\"🔁 Forcing refresh — countdown reached 10s\");\n      window.location.reload();\n    }\n  }, [secondsLeft]);\n\n\n  useEffect(() => {\n    const fetchSeasonWinners = async () => {\n      try {\n        if (!currentPlayer?.frontierId) return;\n\n        const response = await axios.get(`${API_BASE}/api/get-frontier/${currentPlayer.frontierId}`);\n        const seasonLog = response.data?.seasonlog || [];\n        const currentSeasonNumber = response.data?.seasons?.seasonNumber;\n\n        const lastSeason = seasonLog.find(entry => entry.seasonnumber === currentSeasonNumber);\n        const winners = lastSeason?.seasonwinners || [];\n\n        setRichestCitizens(winners.map((w, i) => ({\n          username: w.username,\n          netWorth: w.networth\n        })));\n      } catch (error) {\n        console.error(\"❌ Error fetching season winners:\", error);\n      }\n    };\n\n    fetchSeasonWinners();\n  }, [currentPlayer]);\n\n\n\n\n  const currentIndex = seasons.findIndex(s => s.seasonType === seasonData.type);\n  const previousIndex = (currentIndex - 1 + seasons.length) % seasons.length;\n  \n  const previousSeason = currentIndex >= 0\n    ? seasons[previousIndex]\n    : { seasonType: \"Unknown\" };\n    \n  const title = `🗓️ ${previousSeason.seasonType} → ${seasonData.type}`;\n  const message = strings[\"5035\"];   // \"We are between seasons!\"\n  const message2 = strings[\"5036\"]; // \"Valley View is temporarily unavailable while we reset the season.\"\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={title}\n      message={message}\n      message2={message2}\n      size=\"standard\"\n    >\n      <h2><strong>{seasonData.type} begins in:</strong> {countdown}</h2>\n\n        <h3>💰 Results from {previousSeason.seasonType}</h3>\n        {richestCitizens.length > 0 ? (\n        richestCitizens.map((c, i) => (\n            <p key={i}>{i + 1}. <strong>{c.username}</strong> – Net Worth: {c.netWorth}</p>\n        ))\n        ) : (\n        <p>No data available.</p>\n        )}\n        <br />\n\n\n      <ul style={{ paddingLeft: \"1.5rem\", marginBottom: \"1rem\" }}>\n        <p>🧑‍🌾 Sending players home</p>\n        <p>🛠️ Resetting towns and valleys</p>\n        <p>💰 Nerfing money accounts</p>\n        <p>📬 Sending out rewards</p>\n      </ul>\n\n\n      <br />\n    </Modal>\n  );\n}\n\nexport default OffSeasonModal;","import API_BASE from '../config';\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport Modal from './Modal';\nimport './TownNews.css';\nimport { StatusBarContext } from './StatusBar';\nimport { useStrings } from './StringsContext';\nimport { formatCountdown } from './Timers';\nimport { getMayorUsername } from '../GameFeatures/Government/GovUtils';\n\nfunction TownNews({ onClose, currentPlayer, setCurrentPlayer }) {\n    const strings = useStrings();\n    // Settlement data\n    const [settlementName, setSettlementName] = useState(\"\");\n    const [mayor, setMayor] = useState(\"\");\n    const [taxRate, setTaxRate] = useState(0);\n\n    // Timer states\n    const [electionPhase, setElectionPhase] = useState(\"\");\n    const [trainPhase, setTrainPhase] = useState(\"\");\n    const [bankPhase, setBankPhase] = useState(\"\");\n    \n    // Offer states\n    const [currentTrainOffers, setCurrentTrainOffers] = useState([]);\n    const [nextTrainOffers, setNextTrainOffers] = useState([]);\n    const [bankOffers, setBankOffers] = useState([]);\n    \n    // Countdown timers\n    const [trainTimer, setTrainTimer] = useState(\"\");\n    const [electionTimer, setElectionTimer] = useState(\"\");\n    const [bankTimer, setBankTimer] = useState(\"\");\n\n    // Simplify to just show unique items\n    const formatOffers = (offers) => {\n        if (!offers?.length) return \"no items\";\n        const uniqueItems = [...new Set(offers.map(offer => offer.itemBought))];\n        return uniqueItems.join(\", \");\n    };\n\n    const fetchTownData = async () => {\n        try { \n            // Fetch settlement data\n            const settlementResponse = await axios.get(\n                `${API_BASE}/api/get-settlement/${currentPlayer.settlementId}`);\n            const settlement = settlementResponse.data;\n            \n            console.log(\"Settlement data fetched:\", settlement);\n            setSettlementName(settlement.displayName);\n            setTaxRate(settlement.taxrate);\n\n            const mayorName = await getMayorUsername(currentPlayer.settlementId);\n            console.log(\"👑 Mayor:\", mayorName);\n            setMayor(mayorName);\n\n            // Get current train offers\n            setCurrentTrainOffers(settlement.currentoffers);\n            setNextTrainOffers(settlement.nextoffers);\n\n            // Get Bank offers from frontier\n            const frontierResponse = await axios.get(`${API_BASE}/api/get-frontier/${currentPlayer.frontierId}`);\n            setBankOffers(frontierResponse.data.bank?.offers || []);\n\n            // Get phases and timers from localStorage\n            const storedTimers = JSON.parse(localStorage.getItem(\"timers\")) || {};\n            setBankPhase(storedTimers.bank?.phase || \"\");\n            setTrainPhase(storedTimers.train?.phase || \"\");\n            setElectionPhase(storedTimers.elections?.phase || \"\");\n\n            // Update timers\n            const now = Date.now();\n            setTrainTimer(formatCountdown(storedTimers.train?.endTime, now));\n            setElectionTimer(formatCountdown(storedTimers.elections?.endTime, now));\n            setBankTimer(formatCountdown(storedTimers.bank?.endTime, now));\n\n        } catch (error) {\n            console.error('Error fetching town data:', error);\n        }\n    };\n \n    // Initial fetch and timer updates\n    useEffect(() => {\n        fetchTownData();\n        const interval = setInterval(fetchTownData, 1000);\n        return () => clearInterval(interval);\n    }, [currentPlayer]);\n\n    return (\n        <Modal \n            onClose={onClose} \n            className=\"modal-TownNews\"\n            size=\"standard\"\n        >\n            <h3>{strings[\"1501\"]} \"{settlementName || \"...\"}\"</h3>\n            \n            {mayor ? (\n                /* The current mayor is */\n                <p>{strings[\"1502\"]} {mayor}{strings[\"1503\"]} {taxRate}%.</p>  \n            ) : (\n                /* No mayor */\n                <> <p>{strings[\"1512\"]} {strings[\"1515\"]} {taxRate}%.</p>  </>\n            )}\n            \n            <h4>{strings[\"1504\"]}</h4>\n\n            {/* Election Updates */}\n            {electionPhase === \"Campaigning\" && (\n                <p>{strings[\"1505\"]}</p>\n            )}\n            {electionPhase === \"Voting\" && (\n                <p>{strings[\"1506\"]}</p>\n            )}\n            {electionPhase === \"Counting\" && (\n                <p>{strings[\"1518\"]} {electionTimer}.</p>\n            )}\n\n            {/* Modified Train Updates */}\n            {trainPhase === \"arriving\" && (\n                <p>{strings[\"1507\"]} {formatOffers(currentTrainOffers)}.</p>\n            )}\n            {trainPhase === \"departing\" && (\n                <p>{strings[\"1513\"]} {trainTimer}. {strings[\"1514\"]} {formatOffers(nextTrainOffers)}.</p>\n            )}\n            {trainPhase === \"loading\" && (\n                <>\n                    <p>{strings[\"1509\"]} {formatOffers(currentTrainOffers)}. {strings[\"1517\"]} {trainTimer}.</p>\n                </>\n            )}\n\n            {/* Bank Updates */}\n            {bankPhase === \"active\" && (\n                <p>{strings[\"1516\"]} {formatOffers(bankOffers)}.</p>\n            )}\n            {bankPhase === \"refreshing\" && (\n                <p>{strings[\"1511\"]}</p>\n            )}\n        </Modal>\n    );\n}\n\nexport default TownNews;","import API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Panel from '../../UI/Panel';\nimport { formatCountdown } from '../../UI/Timers';\nimport '../../UI/Modal.css';\n\nfunction SeasonPanel({ onClose, currentPlayer, setModalContent, setIsModalOpen }) {\n  const [countdown, setCountdown] = useState(\"\");\n  const [statusMessage, setStatusMessage] = useState(\"\");\n  const [topCitizens, setTopCitizens] = useState([]);\n  const [topSettlementName, setTopSettlementName] = useState(\"\");\n  const [seasonCycle, setSeasonCycle] = useState([]);\n  const [highestWealth, setHighestWealth] = useState(0);\n  const [settlementMap, setSettlementMap] = useState({});\n\n\n  // ✅ Fetch season data from local storage\n  const getSeasonData = () => {\n    const storedTimers = JSON.parse(localStorage.getItem(\"timers\"));\n    return storedTimers?.seasons || { type: \"Unknown\", phase: \"Unknown\", endTime: null };\n  };\n\n  const getNextSeason = (currentSeason) => {\n    if (!seasonCycle.length || !currentSeason) return \"Unknown\";\n    const currentIndex = seasonCycle.findIndex(s => s.seasonType === currentSeason);\n    const nextIndex = (currentIndex + 1) % seasonCycle.length;\n    return seasonCycle[nextIndex]?.seasonType || \"Unknown\";\n  };\n  \n  useEffect(() => {\n    const fetchSeasonCycle = async () => {\n      try {\n        const response = await axios.get(`${API_BASE}/api/tuning/seasons`);\n        setSeasonCycle(response.data);\n      } catch (error) {\n        console.error(\"❌ Failed to fetch season cycle\", error);\n      }\n    };\n  \n    fetchSeasonCycle();\n  }, []);\n\n  // ✅ Compute real-time countdown from local timer state\n  useEffect(() => {\n    const updateCountdown = () => {\n      const seasonData = getSeasonData();\n      const now = new Date();\n      const end = new Date(seasonData?.endTime);\n      setCountdown(formatCountdown(end, now));\n    };\n  \n    updateCountdown();\n    const interval = setInterval(updateCountdown, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n\n  // ✅ Fetch top 3 wealthiest citizens across the frontier and leading settlement\n  useEffect(() => {\n    const fetchTopCitizensAndSettlement = async () => {\n      if (!currentPlayer || !currentPlayer.frontierId) {\n        console.warn(\"⚠️ currentPlayer or frontierId is not available yet.\");\n        return;\n      }\n      try {\n        console.log(\"💰 Fetching top citizens and leading settlement for frontier:\", currentPlayer.frontierId);\n        \n        // Fetch all players in this frontier\n        const response = await axios.get(`${API_BASE}/api/get-players-by-frontier/${currentPlayer.frontierId}`);\n        const players = response.data;\n\n        const settlementRes = await axios.get(`${API_BASE}/api/settlements`);\n        const settlements = settlementRes.data;\n        const settlementMap = settlements.reduce((acc, s) => {\n          acc[s._id] = s.displayName || s.name || \"Unknown Settlement\";\n          return acc;\n        }, {});\n        setSettlementMap(settlementMap);\n\n        // Group players by settlementId and sum their net worths\n        const settlementWealthMap = {};\n        players.forEach(player => {\n          const settlementId = player.settlementId || \"unknown\";\n          const netWorth = player.netWorth || 0;\n          if (!settlementWealthMap[settlementId]) {\n            settlementWealthMap[settlementId] = { totalNetWorth: 0, settlementName: settlementMap[settlementId] || \"Unknown Settlement\" };\n          }\n          settlementWealthMap[settlementId].totalNetWorth += netWorth;\n        });\n\n        // Find the settlement with highest total net worth\n        let leadingSettlementId = null;\n        let highestWealth = -1;\n        for (const [settlementId, data] of Object.entries(settlementWealthMap)) {\n          if (data.totalNetWorth > highestWealth) {\n            highestWealth = data.totalNetWorth;\n            leadingSettlementId = settlementId;\n          }\n        }\n        const leadingSettlementName = leadingSettlementId && settlementWealthMap[leadingSettlementId] ? settlementWealthMap[leadingSettlementId].settlementName : \"No data available\";\n        // Add logic to retrieve population:\n        let leadingSettlementPopulation = \"Unknown\";\n        if (leadingSettlementId && settlements) {\n          const matching = settlements.find(s => s._id === leadingSettlementId);\n          if (matching) {\n            leadingSettlementPopulation = matching.population || 0;\n          }\n        }\n        // store population into settlementMap with a compound key to retrieve later\n        if (leadingSettlementName) {\n          settlementMap[leadingSettlementName + \"_pop\"] = leadingSettlementPopulation;\n        }\n        setHighestWealth(highestWealth);\n\n        // Sort all players by net worth and take top 3\n        const topPlayers = players\n          .map(player => ({\n            username: player.username,\n            netWorth: player.netWorth || 0\n          }))\n          .sort((a, b) => b.netWorth - a.netWorth)\n          .slice(0, 3);\n\n        setTopCitizens(topPlayers);\n        setTopSettlementName(leadingSettlementName);\n      } catch (error) {\n        console.error(\"❌ Error fetching top citizens and settlement:\", error);\n      }\n    };\n\n    fetchTopCitizensAndSettlement(); \n  }, [currentPlayer]); // Runs when `currentPlayer` updates\n\n\n    // ✅ Get current season data from local storage\n  const seasonData = getSeasonData();\n  const nextSeasonType = getNextSeason(seasonData?.type);\n\n\n  // New: Function to fetch and open season log\n  const handleShowSeasonLog = async () => {\n    if (!currentPlayer?.frontierId) { \n      console.warn(\"⚠️ Cannot show season log: frontierId missing.\");\n      return;\n    }\n\n    console.log(\"📜 Fetching season log for frontier:\", currentPlayer.frontierId);\n\n    try {\n      const response = await axios.get(`${API_BASE}/api/frontier/${currentPlayer.frontierId}/seasonlog`);\n      const seasonlog = response.data.seasonlog || [];\n\n      const seasonLogTable = (\n        <table className=\"season-log-table\" style={{ width: \"100%\", textAlign: \"left\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th style={{ padding: \"6px 12px\" }}>Season</th>\n              <th style={{ padding: \"6px 12px\" }}>Date</th>\n              <th style={{ padding: \"6px 12px\" }}>Top Settlement</th>\n              <th style={{ padding: \"6px 12px\" }}>Top Players by Net Worth</th>\n              <th style={{ padding: \"6px 12px\" }}>Grids Reset</th>\n              <th style={{ padding: \"6px 12px\" }}>Players Relocated</th>\n            </tr>\n          </thead>\n          <tbody>\n            {[...seasonlog].reverse().map((entry, i) => (\n              <tr key={i}>\n                <td style={{ padding: \"6px 12px\" }}>#{entry.seasonnumber} {entry.seasontype}</td>\n                <td style={{ padding: \"6px 12px\" }}>{new Date(entry.date).toLocaleDateString()}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.winningsettlement}</td>\n                <td style={{ padding: \"6px 12px\", whiteSpace: \"pre-line\" }}>\n                  {entry.seasonwinners.map(w => `${w.username}: ${w.networth.toLocaleString()}`).join('\\n')}\n                </td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.gridsreset}</td>\n                <td style={{ padding: \"6px 12px\" }}>{entry.playersrelocated}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      );\n\n      setModalContent({\n        title: \"Season Log\",\n        size: \"large\",\n        message: seasonlog.length === 0 ? \"No season history found.\" : undefined,\n        custom: seasonLogTable,\n      });\n      setIsModalOpen(true);\n    } catch (error) {\n      console.error(\"❌ Failed to fetch season log:\", error);\n      setModalContent({\n        title: \"Error\",\n        message: \"Failed to load season log.\",\n        size: \"small\",\n      });\n      setIsModalOpen(true);\n    }\n  };\n\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1015\" titleKey=\"1115\" panelName=\"SeasonPanel\">\n      {seasonData?.phase === \"onSeason\" ? (\n        <>\n          <h2>It's {seasonData?.type || \"Loading...\"}</h2>\n          <p>Season ends in: {countdown}</p>\n        </>\n      ) : (\n        <>\n          <h2>We are in between seasons.</h2>\n        </>\n      )}\n\n      <br></br>\n\n      <p>At the end of the season, bonus rewards will be sent to the top players in the Frontier, as well as to all players in the top Settlement.</p>\n      <h3>🏆 Top Citizens in the Frontier</h3>\n      <p>(Net Worth is recalculated once per day)</p>\n      {topCitizens.length > 0 ? (\n        <div>\n          {topCitizens.map((citizen, index) => (\n            <p key={index}>\n              {index + 1}. <strong>{citizen.username}</strong> : {citizen.netWorth.toLocaleString()}\n            </p>\n          ))}\n        </div>\n      ) : (\n        <p>No data available for top citizens.</p>\n      )}\n\n      <h3>🏙️ Leading Settlement</h3>\n      {topSettlementName ? (\n        <>\n          <p><strong>{topSettlementName}</strong></p>\n          <p>Total Wealth: {highestWealth.toLocaleString()}</p>\n          <p>Population: {settlementMap[topSettlementName + \"_pop\"]?.toLocaleString() || \"Unknown\"}</p>\n        </>\n      ) : (\n        <p>No data available</p>\n      )}\n\n      <div className=\"panel-buttons\">\n        <button className=\"btn-success\"\n          onClick={handleShowSeasonLog} \n          style={{ marginTop: \"20px\", padding: \"10px\", fontWeight: \"bold\" }}\n        >\n          View Season Log\n        </button>\n      </div>\n    </Panel>\n  );\n}\n\nexport default SeasonPanel;","import API_BASE from '../../config.js';\nimport ChangeIconModal from '../../UI/ChangeIconModal';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport { usePanelContext } from '../../UI/PanelContext';\nimport { spendIngredients } from '../../Utils/InventoryManagement';\nimport NPCsInGridManager from '../../GridState/GridStateNPCs.js';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\n\nconst SocialPanel = ({\n  onClose,\n  pcData,\n  currentPlayer,\n  setCurrentPlayer,\n  inventory,\n  setInventory,\n  backpack,\n  setBackpack,\n  updateStatus,\n}) => {\n  const [tentCount, setTentCount] = useState(0);\n  const [isCamping, setIsCamping] = useState(false);\n  const [displayedPCData, setDisplayedPCData] = useState(pcData);\n  const [showChangeIconModal, setShowChangeIconModal] = useState(false);\n\n  console.log('made it to SocialPanel; pc = ', pcData);\n\n  useEffect(() => {\n    if (!pcData) return;\n    \n    // ✅ Subscribe to playersInGridManager updates for camping state and HP and username\n    const interval = setInterval(() => {\n        const gridId = currentPlayer?.location?.g;\n        if (!gridId) return;\n        \n        const NPCsInGrid = playersInGridManager.getPlayersInGrid(gridId);\n        const latestData = NPCsInGrid[pcData.playerId];\n        if (latestData) {\n            setIsCamping(latestData.iscamping || false);\n            setDisplayedPCData(prev => ({\n              ...prev,\n              iscamping: latestData.iscamping,\n              hp: latestData.hp,\n              username: latestData.username,\n            }));\n        }\n    }, 2000); // ✅ Refresh every 2 seconds\n\n    return () => clearInterval(interval);\n}, [pcData, currentPlayer]);\n\n\n  useEffect(() => {\n    if (!pcData) {\n      console.warn(\"SocialPanel was opened with missing pcData.\");\n      setDisplayedPCData({ username: \"Unknown\", hp: 0, iscamping: false });\n      return;\n    }\n\n    setDisplayedPCData(pcData);\n\n    // ✅ Check if the selected PC is the current player\n    if (pcData.username === currentPlayer.username) {\n      setIsCamping(pcData.iscamping || false);\n\n      // ✅ Get tent count from Backpack\n      const tentsInBackpack = currentPlayer.backpack?.find(item => item.type === \"Tent\")?.quantity || 0;\n      setTentCount(tentsInBackpack);\n    }\n  }, [pcData, currentPlayer]);\n\n  // ✅ Handle Pitching a Tent\n  const handlePitchTent = async () => {\n    console.log(\"⛺️ handlePitchTent called; tentCount = \", tentCount);\n    if (tentCount <= 0) return;\n\n    try {\n      const fakeRecipe = { ingredient1: \"Tent\", ingredient1qty: 1 };\n      const success = await spendIngredients({\n        playerId: currentPlayer.playerId,\n        recipe: fakeRecipe,\n        inventory,\n        backpack,\n        setInventory,\n        setBackpack,\n        setCurrentPlayer,\n        updateStatus,\n      });\n\n      if (!success) return;\n\n      const response = await axios.post(`${API_BASE}/api/update-profile`, {\n        playerId: currentPlayer.playerId,\n        updates: { iscamping: true },\n      });\n\n      if (response.data.success) {\n        console.log('⛺️ iscamping: updated profile successfully; response = ', response);\n        setIsCamping(true);\n        setCurrentPlayer(prev => ({ ...prev, iscamping: true }));\n        updateStatus(28);\n        updateCampingStateInGridState(currentPlayer.playerId, true);\n      }\n    } catch (error) {\n      console.error(\"❌ Error pitching tent:\", error);\n      updateStatus(29);\n    }\n  };\n\n  const updateCampingStateInGridState = async (playerId, campingState) => {\n    try {\n        const gridId = currentPlayer?.location?.g;\n        if (!gridId) {\n            console.error(\"❌ Cannot update NPCsInGrid: No gridId found.\");\n            return;\n        }\n\n        // ✅ Only update playersInGridManager\n        const playersInGrid = playersInGridManager.getPlayersInGrid(gridId);\n        if (playersInGrid?.[playerId]) {\n            playersInGridManager.updatePC(gridId, playerId, { iscamping: campingState });\n            console.log(`✅ Updated camping state in playersInGrid: ${playerId} iscamping=${campingState}`);\n        } else {\n            console.warn(`⚠️ Player ${playerId} not found in playersInGrid.`);\n        }\n    } catch (error) {\n        console.error(\"❌ Error updating camping state in playersInGrid:\", error);\n    }\n};\n\n\n  // ✅ Handle Putting Away a Tent\n  const handlePutAwayTent = async () => {\n    try {\n      // ✅ Update camping status in the database\n      const response = await axios.post(`${API_BASE}/api/update-profile`, {\n        playerId: currentPlayer.playerId,\n        updates: { iscamping: false },\n      });\n\n      if (response.data.success) {\n        setIsCamping(false);\n        setCurrentPlayer(prev => ({ ...prev, iscamping: false }));\n        updateStatus(30);\n\n        // ✅ Update GridState so other players see the change\n        updateCampingStateInGridState(currentPlayer.playerId, false);\n      }\n    } catch (error) {\n      console.error(\"❌ Error putting away tent:\", error);\n      updateStatus(29);\n    }\n};\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1014\" titleKey=\"1114\" panelName=\"SocialPanel\">\n        <div className=\"panel-content\">\n        <div className=\"debug-buttons\">\n        <h2>{displayedPCData.username}{displayedPCData.username === currentPlayer.username && \" (You)\"}</h2>\n\n        {displayedPCData.username === currentPlayer.username && (\n          <button \n            className=\"btn-success\" \n            onClick={() => setShowChangeIconModal(true)}\n          >\n            {currentPlayer.icon || '🙂'} Change Avatar\n          </button>\n        )}\n        \n        <br />  \n        <h3>❤️‍🩹 HP: {displayedPCData.hp}</h3>\n\n        {/* ✅ Show \"You are camping.\" if iscamping === true */}\n        {displayedPCData.iscamping && (\n          <h3 style={{ fontWeight: \"bold\", color: \"#4CAF50\" }}>🏕️ Camping.</h3>\n        )}\n\n        {/* ✅ Show camping button only for current player */}\n        {displayedPCData.username === currentPlayer.username && (\n          <>\n            {isCamping ? (\n              <button className=\"btn-success\" onClick={handlePutAwayTent}>⛺ Put Away Tent</button>\n            ) : (\n              <>\n                <p>You have <strong>{tentCount}</strong> tents.</p>\n                <button \n                  className=\"btn-success\" \n                  onClick={() => {\n                    if (tentCount <= 0) {\n                      console.warn(\"🚫 No tents found. Button press ignored.\");\n                      updateStatus(27); // \"You don't have a tent.\"\n                    } else {\n                      handlePitchTent();\n                    }\n                  }}\n                >\n                  🏕️ Pitch Tent\n                </button>\n              </>\n            )}\n\n          </>\n        )}\n\n        </div>\n        </div>\n      {showChangeIconModal && (\n        <ChangeIconModal\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          updateStatus={updateStatus}\n          currentIcon={currentPlayer.icon}\n          playerId={currentPlayer.playerId}\n          onClose={() => setShowChangeIconModal(false)}\n          onSave={(newIcon) => {\n            setDisplayedPCData(prev => ({ ...prev, icon: newIcon }));\n            setShowChangeIconModal(false);\n          }}\n        />\n      )}\n    </Panel>\n  );\n};\n\nexport default React.memo(SocialPanel);","import './CombatPanel.css';\nimport API_BASE from '../../config';\nimport React, { useState, useEffect, useContext } from 'react';\nimport Panel from '../../UI/Panel';\nimport axios from 'axios';\nimport { StatusBarContext } from '../../UI/StatusBar';\nimport playersInGridManager from '../../GridState/PlayersInGrid';\nimport '../../UI/ResourceButton.css'; // ✅ Ensure the correct path\nimport { useStrings } from '../../UI/StringsContext';\n\nconst CombatPanel = ({ onClose, currentPlayer, setCurrentPlayer, masterResources, masterSkills, TILE_SIZE }) => {\n  const strings = useStrings();\n  const [allResources, setAllResources] = useState([]);\n  const [isContentLoading, setIsContentLoading] = useState(false);\n  const { updateStatus } = useContext(StatusBarContext);\n  const [fetchTrigger, setFetchTrigger] = useState(0);\n  const [playerStats, setPlayerStats] = useState({});\n\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const stats = playersInGridManager.getAllPCs(currentPlayer.location.g)?.[currentPlayer._id];\n      if (stats) {\n        setPlayerStats(stats);\n      }\n    }, 500); // Poll every 500ms\n\n    return () => clearInterval(interval);\n  }, [currentPlayer._id, currentPlayer.location.g]);\n\n  // --- Stat helpers ---\n\n  const getPlayerStats = () => {\n    return playersInGridManager.getAllPCs(currentPlayer.location.g)?.[currentPlayer._id] || {};\n  };\n  const getStatBreakdown = (stat) => {\n    const total = playerStats?.[stat] || 0;\n    const base = currentPlayer[`base${stat.charAt(0).toUpperCase() + stat.slice(1)}`] || 0;\n    const modifier = total - base;\n    return { base, modifier, total };\n  };\n\n  const hp = getStatBreakdown('hp');\n  const maxhp = getStatBreakdown('maxhp');\n  const damage = getStatBreakdown('damage');\n  const armorclass = getStatBreakdown('armorclass');\n  const attackbonus = getStatBreakdown('attackbonus');\n  const attackrange = getStatBreakdown('attackrange');\n  const speed = getStatBreakdown('speed');\n\n\n\n  const handleRefreshCombatStats = () => {\n    const gridId = currentPlayer.location.g;\n    const playerId = currentPlayer._id;\n\n    const baseStats = {\n      maxhp: currentPlayer.baseMaxhp || 0,\n      damage: currentPlayer.baseDamage || 0,\n      armorclass: currentPlayer.baseArmorclass || 0,\n      attackbonus: currentPlayer.baseAttackbonus || 0,\n      attackrange: currentPlayer.baseAttackrange || 0,\n      speed: currentPlayer.baseSpeed || 0,\n    };\n\n    const powers = currentPlayer.powers || [];\n    const powerBonuses = {\n      maxhp: 0, damage: 0, armorclass: 0, attackbonus: 0, attackrange: 0, speed: 0,\n    };\n\n    powers.forEach(power => {\n      const res = masterResources.find(r => r.type === power.type);\n      if (res && res.output && powerBonuses.hasOwnProperty(res.output)) {\n        powerBonuses[res.output] += (power.quantity || 0) * (res.qtycollected || 1);\n      }\n    });\n\n    const finalStats = {};\n    Object.keys(baseStats).forEach(stat => {\n      finalStats[stat] = baseStats[stat] + (powerBonuses[stat] || 0);\n    });\n\n    finalStats.playerId = playerId;\n    finalStats.username = currentPlayer.username;\n    finalStats.position = currentPlayer.position || {};\n    finalStats.icon = currentPlayer.icon || \"😀\";\n    finalStats.iscamping = currentPlayer.iscamping || false;\n    finalStats.lastUpdated = new Date().toISOString();\n\n    const pc = getPlayerStats();\n    const pcPosition = pc?.position;\n    finalStats.position = (pcPosition && typeof pcPosition.x === 'number' && typeof pcPosition.y === 'number')\n      ? pcPosition : { x: 0, y: 0 }; // Fallback\n      \n    playersInGridManager.updatePC(gridId, playerId, finalStats);\n    updateStatus(\"✅ Combat stats refreshed from base stats + powers.\");\n  };\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1024\" titleKey=\"1124\" panelName=\"CombatPanel\">\n      <div className=\"standard-panel\">\n      {isContentLoading ? (\n          <p>Loading...</p>\n        ) : (\n          <>\n            <div className=\"combat-stats\">\n              <h3>Your Stats:</h3>\n              <br />\n              <h3>❤️‍🩹 Health: <span className=\"stat-total\">{hp.total}</span></h3>\n              <br />\n              <h4>\n                ❤️‍🩹 Max Health:<br></br> <span className=\"stat-total blue-text\">{maxhp.modifier !== 0 ? maxhp.total : maxhp.base}</span>\n                {\"  (\"} {maxhp.base} + <span className=\"stat-total blue-text\">{maxhp.modifier}</span> {\")\"}\n               \n              </h4>\n              <h4>\n                🛡️ Armor Class: <br></br><span className=\"stat-total blue-text\">{armorclass.modifier !== 0 ? armorclass.total : armorclass.base}</span>\n                {\"  (\"} {armorclass.base} + <span className=\"stat-total blue-text\">{armorclass.modifier}</span> {\")\"}\n              </h4>\n              <br />\n              <h4>\n                ⚔️ Attack Bonus: <br></br><span className=\"stat-total blue-text\">{attackbonus.modifier !== 0 ? attackbonus.total : attackbonus.base}</span>\n                {\"  (\"} {attackbonus.base} + <span className=\"stat-total blue-text\">{attackbonus.modifier}</span> {\")\"}\n              </h4>\n              <h4>\n                ⚔️ Damage: <br></br><span className=\"stat-total blue-text\">{damage.modifier !== 0 ? damage.total : damage.base}</span>\n                {\"  (\"} {damage.base} + <span className=\"stat-total blue-text\">{damage.modifier}</span> {\")\"}\n              </h4>\n              <h4>\n                🔭 Attack Range: <br></br><span className=\"stat-total blue-text\">{attackrange.modifier !== 0 ? attackrange.total : attackrange.base}</span>\n                {\"  (\"} {attackrange.base} + <span className=\"stat-total blue-text\">{attackrange.modifier}</span> {\")\"}              \n              </h4>\n              <h4>\n                🎯 Speed: <br></br><span className=\"stat-total blue-text\">{speed.modifier !== 0 ? speed.total : speed.base}</span>\n                {\"  (\"} {speed.base} + <span className=\"stat-total blue-text\">{speed.modifier}</span> {\")\"}\n              </h4>\n              <br></br>\n\n              <h4>⛺️ Is Camping: {currentPlayer.iscamping ? \"Yes\" : \"No\"}</h4>\n            </div>\n\n            <br></br>\n\n            <div className=\"combat-powers\">\n              <h3>Weapons & Abilities:</h3>\n              <br></br>\n              {currentPlayer.powers?.length ? (\n                currentPlayer.powers.map((power, index) => {\n                  const resource = masterResources.find(r => r.type === power.type);\n                  if (!resource) return null;\n\n                  const value = (resource.qtycollected || 1) * (power.quantity || 0);\n                  const outputLabel = resource.output ? (strings[resource.output] || resource.output) : 'Unknown';\n                  return (\n                    <h4 key={index}>\n                      <span className=\"stat-total blue-text\">\n                      <strong>{resource.type}</strong> <br></br> ({value > 0 ? '+' : ''}{value} for {outputLabel})\n                      </span>\n                    </h4>\n                  );\n                })\n              ) : (\n                <p>No extra weapons or abilities.</p>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n      <br />\n      <br />\n      <button className=\"resource-button\" onClick={handleRefreshCombatStats}>\n        🔄 Fix Combat Stats\n      </button>\n    </Panel>\n  );\n};\n\nexport default React.memo(CombatPanel);","import React, { memo } from 'react';\nimport Panel from './Panel'; \nimport { handlePurchase } from '../Store/Store';\nimport './SharedButtons.css'; \nimport { useStrings } from './StringsContext';\n\n\nconst GoldBenefitsPanel = memo(({ currentPlayer, updateStatus, onClose }) => {\n  \n  const strings = useStrings();\n  const isGold = currentPlayer.accountStatus === 'Gold';\n\n  return (\n    <Panel onClose={onClose} descriptionKey=\"1027\" titleKey=\"1127\" panelName=\"GoldBenefitsPanel\">\n      <div className=\"panel-content\">\n\n        <div className=\"standard-buttons\">\n          {isGold ? (\n            <p>{strings[9060]}</p>\n          ) : (\n            <button className=\"btn-gold\" onClick={() => handlePurchase(1, currentPlayer, updateStatus)}>{strings[9061]}</button>\n          )}\n        </div>\n<br />\n        <h2>{strings[9050]}</h2>\n        <p>{strings[9051]}</p>\n        <p>{strings[9052]}</p>\n        <p>{strings[9053]}</p>\n        <p>{strings[9054]}</p>\n        <p>{strings[9055]}</p>\n        <p>{strings[9056]}</p>\n        <p>{strings[9057]}</p>\n        <p>{strings[9058]}</p>\n\n      </div>\n    </Panel>\n  );\n});\n\nexport default GoldBenefitsPanel;\n","export function shareToNetwork(network, url) {\n  let shareUrl = '';\n\n  switch (network) {\n    case 'facebook':\n      shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;\n      break;\n    case 'twitter':\n      shareUrl = `https://twitter.com/intent/tweet?text=Come+play+Valley+View!&url=${encodeURIComponent(url)}`;\n      break;\n    case 'reddit':\n      shareUrl = `https://www.reddit.com/submit?url=${encodeURIComponent(url)}&title=Check+out+Valley+View!`;\n      break;\n    default:\n      console.warn('Unsupported network:', network);\n      return;\n  }\n\n  window.open(shareUrl, '_blank', 'noopener,noreferrer');\n}\n\nexport function copyToClipboard(text) {\n  navigator.clipboard.writeText(text)\n    .then(() => alert('✅ Link copied to clipboard!'))\n    .catch(() => alert('❌ Failed to copy link.'));\n}","import React from 'react';\nimport './ShareModal.css';\nimport './SharedButtons.css';\nimport { shareToNetwork, copyToClipboard } from '../Utils/share';\nimport { useStrings } from './StringsContext';\n\nfunction ShareModal({ onClose }) {\n\n  const strings = useStrings();\n  const url = window.location.href;\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"share-modal\">\n        <h2>📢 Share Valley View</h2>\n        <p>Invite others to help out and join the adventure!</p>\n\n        <div className=\"share-buttons\">\n          <button className=\"facebook-btn\" onClick={() => shareToNetwork('facebook', url)}>Facebook</button>\n          <button className=\"twitter-btn\" onClick={() => shareToNetwork('twitter', url)}>Twitter / X</button>\n          <button className=\"reddit-btn\" onClick={() => shareToNetwork('reddit', url)}>Reddit</button>\n        </div>\n\n        <div className=\"copy-link\">\n          <input type=\"text\" readOnly value={url} />\n          <button className=\"shared-button\" onClick={() => copyToClipboard(url)}>📋 Copy</button>\n        </div>\n\n<br />\n        <div className=\"standard-buttons\">\n          <button className=\"btn-success\" onClick={onClose}>Close</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default ShareModal;","import './App.css';\nimport './GameFeatures/Chat/Chat.css';\nimport './VFX/VFX.css';\nimport axios from 'axios';\nimport API_BASE from './config.js';\nimport Chat from './GameFeatures/Chat/Chat';\nimport React, { useContext, useState, useEffect, memo, useMemo, useCallback, useRef } from 'react';\nimport { initializeGrid } from './AppInit';\nimport { loadMasterSkills, loadMasterResources } from './Utils/TuningManager';\nimport { RenderGrid } from './Render/Render';\nimport DynamicRenderer from './Render/RenderDynamic.js';\nimport { handleResourceClick } from './ResourceClicking';\nimport { isMobile } from './Utils/appUtils';\nimport { useUILock } from './UI/UILockContext';\n\nimport socket from './socketManager';\nimport {\n  socketListenForPCJoinAndLeave,\n  socketListenForPCstateChanges,\n  socketListenForNPCStateChanges,\n  socketListenForResourceChanges,\n  socketListenForTileChanges,\n  socketListenForNPCControllerStatus,\n  socketListenForSeasonReset,\n  socketListenForPlayerConnectedAndDisconnected,\n  socketListenForConnectAndDisconnect,\n  socketListenForChatMessages,\n  socketListenForBadgeUpdates,\n  socketListenForStoreBadgeUpdates,\n} from './socketManager';\n\nimport farmState from './FarmState';\nimport GlobalGridStateTilesAndResources from './GridState/GlobalGridStateTilesAndResources';\n\nimport playersInGridManager from './GridState/PlayersInGrid';\nimport { usePlayersInGrid, useGridStatePCUpdate } from './GridState/GridStatePCContext';\nimport NPCsInGridManager from './GridState/GridStateNPCs.js';\nimport { useGridState, useGridStateUpdate } from './GridState/GridStateContext';\nimport npcController from './GridState/NPCController';\n\nimport SettlementView from './ZoomedOut/SettlementView';\nimport FrontierView from './ZoomedOut/FrontierView';\n\nimport Modal from './UI/Modal';\nimport LanguagePickerModal from './UI/LanguagePickerModal';\nimport { useStrings } from './UI/StringsContext';\nimport LANGUAGE_OPTIONS from './UI/Languages.json';\nimport ProfilePanel from './Authentication/ProfilePanel';\nimport LoginPanel from './Authentication/LoginPanel';\nimport DebugPanel from './Utils/debug';\nimport InventoryPanel from './GameFeatures/Inventory/InventoryPanel';\nimport BuildPanel from './GameFeatures/Build/BuildPanel';\nimport BuyPanel from './GameFeatures/Buy/BuyPanel';\nimport SkillsAndUpgradesPanel from './GameFeatures/Skills/SkillsPanel';\nimport FarmingPanel from './GameFeatures/Farming/FarmingPanel';\nimport HowToPanel from './UI/HowToPanel';\nimport HowToMoneyPanel from './UI/HowToMoneyPanel';\nimport GovPanel from './GameFeatures/Government/GovPanel';\nimport BankPanel from './GameFeatures/Trading/Bank';\nimport TrainPanel from './GameFeatures/Trading/Train';\nimport CourthousePanel from './GameFeatures/Government/Courthouse';\nimport QuestPanel from './GameFeatures/Quests/QuestPanel';\nimport QuestGiverPanel from './GameFeatures/NPCs/NPCsPanel.js';\nimport CraftingStation from './GameFeatures/Crafting/CraftingStation';\nimport FarmHandPanel from './GameFeatures/FarmHands/FarmHand.js';\nimport TradingStation from './GameFeatures/Crafting/TradingStation';\nimport ShopStation from './GameFeatures/Crafting/ShopStation';\nimport AnimalStall from './GameFeatures/FarmAnimals/AnimalStall';\nimport DecoPanel from './GameFeatures/Deco/DecoPanel';\nimport TradeStall from './GameFeatures/Trading/TradeStall';\nimport Mailbox from './GameFeatures/Mailbox/Mailbox';\nimport Store from './Store/Store';\nimport OffSeasonModal from './GameFeatures/Seasons/OffSeasonModal.js';\nimport TownNews from './UI/TownNews.js';\nimport SeasonPanel from './GameFeatures/Seasons/SeasonPanel';\nimport SocialPanel from './GameFeatures/Social/SocialPanel';\nimport CombatPanel from './GameFeatures/Combat/CombatPanel';\nimport GoldBenefitsPanel from './UI/GoldBenefitsPanel';\nimport ShareModal from './UI/ShareModal';\n\nimport { usePanelContext } from './UI/PanelContext';\nimport { useModalContext } from './UI/ModalContext';\nimport { checkDeveloperStatus, updateBadge, getBadgeState } from './Utils/appUtils';\nimport FloatingTextManager from './UI/FloatingText';\nimport StatusBar from './UI/StatusBar';\nimport { StatusBarContext } from './UI/StatusBar';\nimport { formatCountdown } from './UI/Timers';\n\nimport { fetchGridData, updateGridStatus } from './Utils/GridManagement';\nimport { handleKeyMovement, centerCameraOnPlayer } from './PlayerMovement';\nimport { mergeResources, mergeTiles, enrichResourceFromMaster } from './Utils/ResourceHelpers.js';\nimport { fetchHomesteadOwner, calculateDistance } from './Utils/worldHelpers.js';\nimport { getDerivedRange } from './Utils/worldHelpers';\nimport { handlePlayerDeath } from './Utils/playerManagement';\n\nfunction App() {\n\n  const appInstanceId = Math.floor(Math.random() * 10000);\nconsole.log(`🧩 App mounted. Instance ID: ${appInstanceId}`);\n\nuseEffect(() => {\n  const id = Math.floor(Math.random() * 10000);\n  console.log(`🧩 App mounted. Instance ID: ${id}`);\n  console.trace();\n}, []);\n\nuseEffect(() => {\n  const appEl = document.getElementById('root');\n  console.log(\"📦 App mounted. Parent contents:\", appEl?.innerHTML?.slice(0, 200));\n  return () => {\n    console.log(\"💥 App unmounted.\");\n  };\n}, []);\n\n\n  const strings = useStrings();\n  const { uiLocked } = useUILock();\n  const [isDeveloper, setIsDeveloper] = useState(false);\n  const { activeModal, setActiveModal, openModal, closeModal } = useModalContext();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalContent, setModalContent] = useState({ title: '', message: '', message2: '' });\n  const { updateStatus } = useContext(StatusBarContext);\n  // Mobile device detection: Show modal if on mobile\n  useEffect(() => {\n    if (isMobile()) {\n      setModalContent({\n        title: 'Unsupported Device',\n        size: 'small',\n        children: (\n          <div style={{ fontSize: '1rem', textAlign: 'center', padding: '1rem' }}>\n            🚫 This game is intended for desktop browsers only.<br /><br />\n            Please revisit on a laptop or desktop computer.\n          </div>\n        ),\n        onClose: () => {},\n      });\n      setIsModalOpen(true);\n    }\n  }, []);\n  const openMailbox = () => openModal && openModal('Mailbox');\n\n  // Store purchase fulfillment effect\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const purchaseSuccess = params.get(\"purchase\");\n    const playerId = params.get(\"playerId\");\n    const offerId = params.get(\"offerId\");\n\n    if (purchaseSuccess === \"success\" && playerId && offerId) {\n      console.log(\"🧾 Processing store purchase via App.js effect:\", { playerId, offerId });\n\n      axios.post(`${API_BASE}/api/purchase-store-offer`, {\n        playerId, offerId\n      }).then(() => {\n        console.log(\"📬 Purchase reward sent successfully.\");\n\n        /// If Gold Pass was purchased, show modal and panel\n        if (String(offerId) === \"1\") {\n          updateStatus && updateStatus(\"🎉 Congratulations on purchasing a Gold Pass!\");\n          // Re-fetch player to get updated accountStatus\n          axios.get(`${API_BASE}/api/player/${playerId}`).then((playerResponse) => {            \n          openPanel('GoldBenefitsPanel');\n          setModalContent({\n              title: strings[\"5060\"],\n              message: strings[\"5061\"],\n              message2: strings[\"5062\"],\n              size: \"small\",\n            });\n          setIsModalOpen(true);\n          }).catch((err) => {\n            console.error(\"❌ Failed to refresh player data after Gold purchase:\", err);\n          });\n        /// If anything else was purchased, open Mailbox\n        } else {\n          updateStatus && updateStatus(\"✅ Purchase successful! Check your Inbox.\");\n          openMailbox && openMailbox();\n        }\n      }).catch((err) => {\n        console.error(\"❌ Failed to fulfill purchase:\", err);\n        updateStatus && updateStatus(\"⚠️ Purchase may not have been fulfilled. Contact support if missing.\");\n      });\n\n      // Clean up the URL to remove query params\n      const url = new URL(window.location.href);\n      url.search = \"\";\n      window.history.replaceState({}, document.title, url.toString());\n    }\n  }, []);\n\n  // Server connectivity check: periodically ping server and show modal if down\n  useEffect(() => {\n    let interval;\n    let serverPreviouslyDown = false;\n    const checkServer = async () => {\n      try {\n        // await axios.get(`${API_BASE}/api/ping`);\n        // Always close modal if server is reachable\n        if (modalContent?.title === strings[10000]) {\n          setIsModalOpen(false);\n        }\n        // If it was previously down, reload the page\n        if (serverPreviouslyDown) { window.location.reload(); }\n      } catch (err) {\n        console.warn(\"❌ Server unreachable:\", err.message);\n        if (!serverPreviouslyDown) {\n          setModalContent({\n            title: strings[10000],\n            message: strings[10001],\n            message2: strings[10002],\n          });\n          setIsModalOpen(true);\n          serverPreviouslyDown = true;\n        }\n      }\n    };\n    interval = setInterval(checkServer, 2000);\n    return () => clearInterval(interval);\n  }, []);\n\n\n  useEffect(() => {\n    const checkInitialSeasonPhase = async () => {\n      console.log(\"Checking for on or off Season on app start\");\n      const raw = localStorage.getItem(\"timers\");\n      if (!raw) { console.warn(\"No timers in localStorage yet.\"); return; }\n      let storedTimers = null;\n      try {\n        storedTimers = JSON.parse(raw);\n      } catch (err) {\n        console.warn(\"Malformed timers in localStorage:\", err);\n        return;\n      }\n      if (storedTimers?.seasons?.phase === \"offSeason\") {\n        console.log(\"🕵️ Initial local phase is offSeason, confirming with server...\");\n        try {\n          const res = await axios.get(`${API_BASE}/api/get-global-season-phase`);\n          const serverPhase = res.data?.phase;\n          setIsOffSeason(serverPhase === \"offSeason\");\n          console.log(serverPhase === \"offSeason\" ? \"✅ Server confirms offSeason\" : \"❌ Server says it's not offSeason\");\n        } catch (error) {\n          console.error(\"❌ Error confirming season with server:\", error);\n        }\n      }\n    };\n    checkInitialSeasonPhase();\n  }, []);\n\n    // ✅ Fetch season data from local storage\n  const getSeasonData = () => {\n    const storedTimers = JSON.parse(localStorage.getItem(\"timers\"));\n    return storedTimers?.seasons || { type: \"Unknown\", phase: \"Unknown\", endTime: null };\n  };\n  const seasonData = getSeasonData();\n  const [currentPlayer, setCurrentPlayer] = useState(null); // Ensure this is defined\n\n  // Initialize gridId with localStorage (do not depend on currentPlayer here)\n  const [gridId, setGridId] = useState(() => {\n    const storedGridId = localStorage.getItem('gridId');\n    return storedGridId || null;\n  });\n  const [resources, setResources] = useState([]);\n  const [tileTypes, setTileTypes] = useState([]);\n  const [grid, setGrid] = useState([]);\n  const [masterResources, setMasterResources] = useState([]);\n  const [isMasterResourcesReady, setIsMasterResourcesReady] = useState([]);\n  const [masterSkills, setMasterSkills] = useState([]);\n    \n// Synchronize tiles with GlobalGridStateTilesAndResources -- i did this so NPCs have knowledge of tiles and resources as they change\nuseEffect(() => {\n  if (tileTypes?.length) {\n    GlobalGridStateTilesAndResources.setTiles(tileTypes);\n    console.log('GlobalGridStateTilesAndResources tiles updated:', tileTypes);\n  }\n}, [tileTypes]);\n// Synchronize resources with GlobalGridStateTilesAndResources -- i did this so NPCs have knowledge of tiles and resources as they change\nuseEffect(() => {\n  if (resources?.length) {\n    GlobalGridStateTilesAndResources.setResources(resources);\n    console.log('GlobalGridStateTilesAndResources resources updated:', resources);\n  }\n}, [resources]);\n\nconst [zoomLevel, setZoomLevel] = useState('close'); // Default zoom level\nconst TILE_SIZES = { closer: 50, close: 30, far: 16 }; // Rename for clarity\nconst activeTileSize = TILE_SIZES[zoomLevel]; // Get the active TILE_SIZE\nconst [isRelocating, setIsRelocating] = useState(null);\n\nconst [visibleSettlementId, setVisibleSettlementId] = useState(null);\nuseEffect(() => {\n  // currentPlayer may be null on first render, so initialize only when available\n  if (currentPlayer?.location?.s) {\n    setVisibleSettlementId(currentPlayer.location.s);\n  }\n}, [currentPlayer]);\n\nconst [inventory, setInventory]  = useState({});\nconst [backpack, setBackpack] = useState({});\nconst [playerPosition, setPlayerPosition] = useState(null);\n\nconst NPCsInGrid = useGridState();\nconst setGridState = useGridStateUpdate();\nuseEffect(() => {\n  NPCsInGridManager.registerSetGridState(setGridState);\n}, [setGridState]);\n\nconst playersInGrid = usePlayersInGrid();\nconst setPlayersInGrid = useGridStatePCUpdate();\nuseEffect(() => {\n  playersInGridManager.registerSetPlayersInGrid(setPlayersInGrid);\n}, [setPlayersInGrid]);\nuseEffect(() => {\n  playersInGridManager.registerTileSize(activeTileSize);\n}, [activeTileSize]);\n\nconst [isLoginPanelOpen, setisLoginPanelOpen] = useState(false);\nconst [isOffSeason, setIsOffSeason] = useState(false); // Track if it's off-season\nconst { activePanel, openPanel, closePanel } = usePanelContext();\nconst { closeAllPanels } = usePanelContext(); \nconst [activeQuestGiver, setActiveQuestGiver] = useState(null);\nconst [activeSocialPC, setActiveSocialPC] = useState(null);\nconst [activeStation, setActiveStation] = useState(null);\nconst [showShareModal, setShowShareModal] = useState(false);\n\nuseEffect(() => {\n  const storedPlayer = localStorage.getItem('player');\n  if (!storedPlayer) {\n    console.log('[Watcher] No stored player found — showing login panel.');\n    setisLoginPanelOpen(true);\n    openPanel(\"LoginPanel\");\n    setShowKeyArt(true);\n  }\n}, [activePanel]);\n\nconst handleQuestNPCClick = (npc) => {\n  console.log('App.js: Opening QuestGiverPanel for NPC:', npc);\n  setActiveQuestGiver(npc);  // Set the active quest giver globally\n  openPanel('QuestGiverPanel');  // Open the panel\n};\nconst handlePCClick = (pc) => {\n  console.log('App.js: Opening SocialPanel for PC:', pc);\n  setActiveSocialPC(pc);  // Set the active clicked PC globally\n  openPanel('SocialPanel');  // Open the panel\n};\n\nconst [hoverTooltip, setHoverTooltip] = useState(null);\n\nconst [controllerUsername, setControllerUsername] = useState(null); // Add state for controller username\nconst [isSocketConnected, setIsSocketConnected] = useState(false);\nconst [connectedPlayers, setConnectedPlayers] = useState(() => new Set());\nconst [chatMessages, setChatMessages] = useState({});\nconst [badgeState, setBadgeState] = useState({ chat: false, store: false, mailbox: false });\n\n//Forgot why we did this:\nconst memoizedGrid = useMemo(() => grid, [grid]);\nconst memoizedTileTypes = useMemo(() => tileTypes, [tileTypes]);\nconst memoizedResources = useMemo(() => resources, [resources]);\n\nconst [showKeyArt, setShowKeyArt] = useState(false);\n\n/////////// APP INITIALIZATION /////////////////////////\n\n// Flags to track initialization\nlet isInitializing = false; // Declare inside useEffect to avoid global persistence\nconst [isAppInitialized, setIsAppInitialized] = useState(false);\n\n// Central INITIALIZATION for player and grid data //////////////////////////////////////////////////////\n\n// --- SOCKET \"connect\" LISTENER: Register before other listeners\n// This effect runs once at mount to set up socket.on('connect') as early as possible\nuseEffect(() => {\n  if (!socket) return;\n  // Remove any previous connect listeners to avoid duplicate logs\n  socket.off('connect', socket.__vvgame_connect_listener);\n  const connectListener = () => {\n    console.log('📡 Socket connected!');\n    if (currentPlayer?.playerId) {\n      console.log('📡 Rejoining playerId room:', currentPlayer.playerId);\n      socket.emit('join-player-room', currentPlayer.playerId);\n    }\n  };\n  socket.on('connect', connectListener);\n  // Save a reference for cleanup\n  socket.__vvgame_connect_listener = connectListener;\n  return () => {\n    socket.off('connect', connectListener);\n    delete socket.__vvgame_connect_listener;\n  };\n  // Depend on currentPlayer so we can re-emit join-player-room if playerId changes\n}, [socket, currentPlayer]);\n\nuseEffect(() => {\n  let cleanupBadges = null;\n\n  const initializeAppWrapper = async () => {\n    console.log('🏁🏁🏁 App initialization begun.');\n    if (isInitializing) {\n      console.log('Initialization is already in progress. Skipping.');\n      return;\n    }\n    isInitializing = true;\n\n    try {\n      // Step 1. Load tuning data\n      console.log('🏁✅ 1 InitAppWrapper; Merging player data and initializing inventory...');\n      const [skills, resources] = await Promise.all([loadMasterSkills(), loadMasterResources()]);\n      setMasterResources(resources);\n      setMasterSkills(skills);\n      setIsMasterResourcesReady(true); // ✅ Mark ready\n\n      // Step 2. Fetch stored player from localStorage\n      console.log('🏁✅ 2 InitAppWrapper; getting local player...');\n      const storedPlayer = localStorage.getItem('player');\n\n      if (!storedPlayer) {\n        console.log('No stored player found, showing login screen.');\n        setisLoginPanelOpen(true);    \n        openPanel(\"LoginPanel\");  \n        setShowKeyArt(true);  // 👈 NEW STATE FLAG TO TRIGGER IMAGE\n        return;\n      }\n      const parsedPlayer = JSON.parse(storedPlayer);\n\n      // 2.1 Fetch the full player data from the server\n      console.log('🏁✅ 2.1 InitAppWrapper; fetching player from server...');\n      const response = await axios.get(`${API_BASE}/api/player/${parsedPlayer.playerId}`);\n      const DBPlayerData = response.data;\n      if (!DBPlayerData || !DBPlayerData.playerId) {\n        console.error('Invalid full player data from server:', DBPlayerData);\n        setisLoginPanelOpen(true);\n        return;\n      }\n\n      // Step 2.5: Check for stale gridId (e.g. after offSeason relocation)\n      console.log('🏁✅ 2.5 InitAppWrapper; checking for stale gridId after relocation...');\n      const storedGridId = localStorage.getItem(\"gridId\");\n      const resolvedGridId = DBPlayerData.location?.g;\n      if (storedGridId && resolvedGridId && storedGridId !== resolvedGridId) {\n        console.warn(\"🌪️ Detected stale gridId from localStorage. Updating to new home grid.\");\n        localStorage.setItem(\"gridId\", resolvedGridId);\n        setGridId(resolvedGridId); // ✅ Use setter to update React state\n      }\n\n      // Step 3. Combine local and server data, prioritizing newer info from the server\n      console.log('🏁✅ 3 InitAppWrapper; Merging player data and initializing inventory...');\n      let updatedPlayerData = { ...parsedPlayer, ...DBPlayerData };\n      setCurrentPlayer(updatedPlayerData);\n      if (updatedPlayerData?.username) {\n        const isDev = await checkDeveloperStatus(updatedPlayerData.username);\n        setIsDeveloper(isDev);\n      }\n      setInventory(DBPlayerData.inventory || []);  // Initialize inventory properly\n      setBackpack(DBPlayerData.backpack || []);\n\n      // Step 4. Determine initial gridId from player or storage\n      console.log('🏁✅ 4. Determining local gridId...');\n      const initialGridId = parsedPlayer?.location?.g || localStorage.getItem('gridId');\n      if (!initialGridId) {\n        console.error('No gridId found. Unable to initialize grid.');\n        return;\n      }\n      setGridId(initialGridId);\n      localStorage.setItem('gridId', initialGridId); // Save to local storage\n\n      // 4.5. Open the socket\n      socket.connect();\n      // Join the grid for grid-based updates\n      socket.emit('join-grid', { gridId: initialGridId, playerId: DBPlayerData.playerId });\n      console.log(\"📡 Connected to socket and joined grid:\", initialGridId);\n      socket.emit('player-joined-grid', {\n        gridId: initialGridId,\n        playerId: DBPlayerData.playerId,\n        username: DBPlayerData.username,\n        playerData: DBPlayerData,\n      });\n      // Join the player room for personal updates\n      socket.emit('join-player-room', { playerId: DBPlayerData.playerId });\n      console.log(`📡 Joined socket room for playerId: ${DBPlayerData.playerId}`);\n      socket.emit('set-username', { username: DBPlayerData.username });\n\n      // Step 5. Initialize grid tiles, resources\n      console.log('🏁✅ 5 InitAppWrapper; Initializing grid tiles and resources...');\n      await initializeGrid(\n        activeTileSize,\n        initialGridId,\n        setGrid,\n        setResources,\n        setTileTypes,\n        updateStatus,\n        DBPlayerData\n      );\n\n      // Step 6. Initialize NPCs\n      console.log('🏁✅ 6 InitAppWrapper; Initializing NPC NPCsInGrid...');\n      await NPCsInGridManager.initializeGridState(initialGridId);\n      const freshNPCState = NPCsInGridManager.getNPCsInGrid(initialGridId);\n      console.log('initializedState (NPCs): ',freshNPCState);\n\n      // Step 7. Initialize PCs\n      console.log('🏁✅ 7 InitAppWrapper; Initializing playersInGrid...');\n      await playersInGridManager.initializePlayersInGrid(initialGridId);\n      const freshPCState = playersInGridManager.getPlayersInGrid(initialGridId);\n      const playerId = String(parsedPlayer.playerId);\n      const playerPosition = freshPCState?.[playerId]?.position;\n      console.log('Player position from playersInGrid:', playerPosition);\n      if (playerPosition) {\n        centerCameraOnPlayer(playerPosition, activeTileSize);\n      }\n\n      // Step 8. Resolve player location \n      console.log('🏁✅ 8 InitAppWrapper; Resolving player location...');\n      const playerIdStr = DBPlayerData._id.toString();\n      let gridPlayer = freshPCState?.[playerIdStr];\n\n      // Step A: Detect location mismatch or missing from NPCsInGrid\n      const isLocationMismatch = DBPlayerData.location?.g !== initialGridId;\n      const isMissingFromGrid = !gridPlayer;\n\n      console.log('isLocationMismatch = ', isLocationMismatch);\n      console.log('isMissingFromGrid = ', isMissingFromGrid);\n\n      if (isMissingFromGrid && gridId === DBPlayerData.location.g) {\n        console.warn(\"🧭 Player not in correct NPCsInGrid or missing entirely. Repositioning...\");\n        const targetPosition = { x: 0, y: 0 };\n        console.warn('InitAppWrapper: adding PC to NPCsInGrid');\n        await playersInGridManager.addPlayer(gridId, DBPlayerData.playerId, DBPlayerData);\n        // Refresh the NPCsInGrid and React state\n        console.warn('InitAppWrapper: refreshing NPCsInGrid');\n        setPlayersInGrid((prev) => ({\n          ...prev,\n          [gridId]: playersInGridManager.getPlayersInGrid(gridId),\n        }));\n        const gridPlayer = playersInGridManager.getPlayersInGrid(gridId)?.[playerIdStr];\n        console.log('Refreshed gridPlayer:', gridPlayer);\n        // Update gridId and storage to match actual grid\n        console.warn('InitAppWrapper: adding PC to NPCsInGrid');\n        setGridId(gridId);\n        localStorage.setItem(\"gridId\", gridId);\n        // Update player's in-memory and stored location\n        DBPlayerData.location = {\n          ...DBPlayerData.location,\n          x: targetPosition.x,\n          y: targetPosition.y,\n          g: gridId,\n        };\n\n        console.log(\"✅ Player repositioned into NPCsInGrid:\", gridPlayer);\n      } else {\n        console.log('✅ Player found in local NPCsInGrid.');\n      }\n\n      // Step 11: Update local storage with final player state\n      console.log('🏁✅ 11 InitAppWrapper: updating localStorage with player data');\n      updatedPlayerData = {\n        ...DBPlayerData,\n        location: {\n          ...DBPlayerData.location,\n          x: gridPlayer?.position?.x || 3,\n          y: gridPlayer?.position?.y || 3,\n          g: DBPlayerData.location.g,\n        },\n      };\n\n      setCurrentPlayer(updatedPlayerData);\n      localStorage.setItem('player', JSON.stringify(updatedPlayerData));\n      console.log(`✅ LocalStorage updated with combat stats:`, updatedPlayerData);\n\n      // Step 12: Check for death flag and show modal if needed\n      if (updatedPlayerData.settings?.hasDied) {\n        console.log(\"☠️ Player died last session. Showing death modal.\");\n        setModalContent({\n          title: strings[\"5001\"],\n          message: strings[\"5002\"],\n          message2: strings[\"5003\"],\n          size: \"small\",\n        });\n        setIsModalOpen(true);\n\n        // Clear the flag in DB\n        await axios.post(`${API_BASE}/api/update-profile`, {\n          playerId: updatedPlayerData.playerId,\n          updates: { settings: { ...updatedPlayerData.settings, hasDied: false } },\n        });\n\n        // Clear the flag in localStorage\n        updatedPlayerData.settings.hasDied = false;\n        localStorage.setItem('player', JSON.stringify(updatedPlayerData));\n      }\n\n      // Step 13: Check for buttons that need to be badged\n      const storedBadges = getBadgeState(updatedPlayerData);\n      setBadgeState(storedBadges); // ✅ apply localStorage state to UI immediately\n\n      // 🔍 Badge the mailbox if any messages are unread\n      const hasUnreadMail = (updatedPlayerData.messages || []).some(msg => !msg.read);\n      if (hasUnreadMail) {\n        updateBadge(updatedPlayerData, setBadgeState, 'mailbox', true); // ✅ Use your helper\n      }\n\n      cleanupBadges = socketListenForBadgeUpdates(updatedPlayerData, setBadgeState, updateBadge);\n\n      console.log('✅🏁✅🏁✅🏁✅ App initialization complete.');\n      setShowTimers(true);\n\n      const zoom = localStorage.getItem(\"initialZoomLevel\");\n      if (zoom) {\n        setZoomLevel(zoom);\n        localStorage.removeItem(\"initialZoomLevel\");\n      }\n\n      setIsAppInitialized(true);\n\n    } catch (error) {\n      console.error('Error during app initialization:', error);\n      updateStatus(error.code === 'ERR_NETWORK' ? 1 : 0);  // Handle errors\n    }\n  };\n\n\n  initializeAppWrapper();\n\n  return () => {\n    cleanupBadges?.();\n  };\n}, []);  // Only run once when the component mounts\n\n\n// Establish UI BADGING (Chat, Mailbox, Store) //////////////////////////////////////////////////////\nuseEffect(() => {\n  if (!currentPlayer?.username) return;\n  // Load badge state from localStorage\n  const stored = localStorage.getItem(`badges_${currentPlayer.username}`);\n  if (stored) {\n    setBadgeState(JSON.parse(stored));\n  }\n  // Set up badge socket listener\n  const cleanupBadges = socketListenForBadgeUpdates(currentPlayer, setBadgeState, updateBadge);\n  // Clean up on unmount or player change\n  return () => {\n    cleanupBadges?.();\n  };\n}, [currentPlayer, socket]);\n\n\n// FARM STATE - Farming Seed Timer Management //////////////////////////////////////////////////////\nuseEffect(() => {\n  if (gridId) {\n    farmState.initializeFarmState(resources); // ✅ Works for seeds\n    farmState.startSeedTimer({gridId,setResources,activeTileSize,currentPlayer,setCurrentPlayer,});\n  }\n  return () => { farmState.stopSeedTimer(); };\n}, [gridId, resources]);  \n\n\n\n// 🔄 NPC Management Loop\nuseEffect(() => {\n  if (!isAppInitialized) { console.log('App not initialized. Skipping NPC management.'); return; }\n  //console.log('🔄 NPC Management Loop started for gridId:', gridId);\n\n  const interval = setInterval(() => {\n    const currentGridNPCs = NPCsInGrid?.[gridId]?.npcs;\n    if (!currentGridNPCs) {\n      console.warn('No NPCs in NPCsInGrid for gridId:', gridId);\n      return;\n    }\n    const isController = controllerUsername === currentPlayer?.username;\n    //console.log(\"🧑‍🌾 NPC Controller Username =\", controllerUsername, \"; currentPlayer =\", currentPlayer?.username, \"; isController =\", isController);\n\n    if (isController) {\n      Object.values(currentGridNPCs).forEach((npc) => {\n        if (typeof npc.update !== 'function') {\n          console.warn(`🛑 Skipping NPC without update() method:`, npc);\n          return;\n        }\n        //console.log(`[🐮🐮 NPC LOOP] Controller running update() for NPC ${npc.id}, state=${npc.state}`);\n        npc.update(Date.now(), NPCsInGrid[gridId], gridId, activeTileSize);\n      });\n    } else {\n      //console.log('🛑 Not the NPC controller. Skipping NPC updates.');\n    }\n  }, 1000);\n\n  return () => clearInterval(interval);\n}, [isAppInitialized, gridId, NPCsInGrid, currentPlayer, activeTileSize, controllerUsername]);\n\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// 🔄 PC Management Loop: Check for player death & lava //////////////////////////////////////////////////////\nuseEffect(() => {\n  if (!isAppInitialized) { console.log('App not initialized. Skipping PC management.'); return; }\n\n  const interval = setInterval(async () => {\n    if (playersInGrid && gridId && currentPlayer?._id) {\n      const playerId = String(currentPlayer._id);\n      const playerPC = playersInGrid?.[gridId]?.pcs?.[playerId];\n      // 🔥 Check for lava tile\n      const col = playerPC?.position?.x;\n      const row = playerPC?.position?.y;\n      const onTileType = tileTypes?.[row]?.[col];\n      // 🪧 Check for Signpost resource (based on exact x/y match)\n      const onResource = resources?.flat().find(r => r?.x === col && r?.y === row);\n      const onResourceType = onResource?.type;\n\n      // if (playerPC?.hp <= (currentPlayer.baseMaxhp/4) && currentPlayer.location.gtype === 'homestead') {\n      //     const healing = 2;\n      //     playersInGrid[gridId].pcs[playerId].hp += healing;\n      //     FloatingTextManager.addFloatingText(`+ ${healing} ❤️‍🩹 HP`, col, row, activeTileSize);\n      //   }\n\n      if (playerPC?.hp <= 0 && currentPlayer) {\n        console.log(\"💀 Player is dead. Handling death...\");\n        await handlePlayerDeath(\n          currentPlayer,\n          setCurrentPlayer,\n          setGridId,\n          setGrid,\n          setResources,\n          setTileTypes,\n          activeTileSize,\n          updateStatus,\n          setModalContent,\n          setIsModalOpen,\n          closeAllPanels\n        );\n        setModalContent({\n          title: strings[\"5001\"],\n          message: strings[\"5002\"],\n          message2: strings[\"5003\"],\n          size: \"small\",\n        });\n        setIsModalOpen(true);\n\n      } else {\n        if (onTileType === \"l\") {\n          const lavaDamage = 2;\n          playersInGrid[gridId].pcs[playerId].hp -= lavaDamage;\n          FloatingTextManager.addFloatingText(`- ${lavaDamage} ❤️‍🩹 HP`, col, row, activeTileSize);\n          console.log(\"🔥 Player is standing on lava. Applying 2 damage.\");\n        }\n\n        if (onResourceType?.startsWith(\"Signpost\")) {\n          console.log(\"📍 Player is standing on a Signpost. Triggering click behavior.\");\n          await handleResourceClick(\n            onResource,\n            row,\n            col,\n            resources,\n            setResources,\n            setInventory,\n            setBackpack,\n            inventory,\n            backpack,\n            FloatingTextManager.addFloatingText,\n            gridId,\n            activeTileSize,\n            tileTypes,\n            currentPlayer,\n            setCurrentPlayer,\n            setGridId,\n            setGrid,\n            setTileTypes,\n            updateStatus,\n            masterResources,\n            masterSkills,\n            setModalContent,\n            setIsModalOpen,\n            closeAllPanels,\n            strings\n          );\n        }\n      }\n    }\n  }, 1000);\n  return () => clearInterval(interval);\n// Add dependencies for resources, setResources, setInventory, setBackpack, inventory, backpack, masterResources, masterSkills\n}, [\n  isAppInitialized,\n  gridId,\n  playersInGrid,\n  currentPlayer,\n  activeTileSize,\n  resources,\n  setResources,\n  setInventory,\n  setBackpack,\n  inventory,\n  backpack,\n  masterResources,\n  masterSkills,\n]);\n\n// 🔄 PC Management Loop: Check for low health //////////////////////////////////////////////////////\nuseEffect(() => {\n  if (!isAppInitialized) { console.log('App not initialized. Skipping PC Health Check.'); return; }\n\n  const interval = setInterval(async () => {\n      if (playersInGrid && gridId && currentPlayer?._id) {\n        const playerId = String(currentPlayer._id);\n        const playerPC = playersInGrid?.[gridId]?.pcs?.[playerId];\n        const col = playerPC?.position?.x;\n        const row = playerPC?.position?.y;\n\n      if (playerPC?.hp <= (currentPlayer.baseMaxhp/4) && currentPlayer.location.gtype === 'homestead') {\n          const healing = 2;\n          playersInGrid[gridId].pcs[playerId].hp += healing;\n          FloatingTextManager.addFloatingText(`+ ${healing} ❤️‍🩹 HP`, col, row, activeTileSize);\n        }\n    }\n  }, 10000);\n  return () => clearInterval(interval);\n}, [\n  isAppInitialized,\n  gridId,\n  playersInGrid,\n  currentPlayer,\n  activeTileSize,\n  resources,\n  setResources,\n  setInventory,\n  setBackpack,\n  inventory,\n  backpack,\n  masterResources,\n  masterSkills,\n]);\n\n/////// TIMERS & SEASONS //////////////////////////////////////////////////////\n\n// TIMERS Step 1: Global State for Timers\nconst [timers, setTimers] = useState(() => {\n  // Load from local storage (if available)\n  const storedTimers = JSON.parse(localStorage.getItem(\"timers\"));\n  return storedTimers || {\n    seasons: { phase: \"\", endTime: null, type: \"\" },\n    elections: { phase: \"\", endTime: null },\n    train: { phase: \"\", endTime: null },\n    taxes: { phase: \"\", endTime: null },  \n    bank: { phase: \"\", endTime: null },  \n  }; \n});\nconst [countdowns, setCountdowns] = useState({ seasons: \"\", elections: \"\", train: \"\", taxes: \"\", bank: \"\" });\n\n// TIMERS Step 2: Initialize Timers on app start/refresh; run once\nuseEffect(() => {\n  //console.log(\"🔄 currentPlayer = \",currentPlayer);\n\n  if (!currentPlayer?.settlementId) return;\n  const initializeTimers = async () => {\n      await fetchTimersData();\n      console.log(\"✅ Timers initialized:\", timers);\n  };\n  initializeTimers();\n  const interval = setInterval(fetchTimersData, 60 * 1000); // ✅ Refresh every 60s; DO WE NEED THIS??\n  return () => clearInterval(interval);\n}, [currentPlayer]); // ✅ Runs when currentPlayer is updated\n\n// TIMERS Step 3: Fetch initial timers from the server\nconst fetchTimersData = async () => {\n  //console.log(\"🔄 Fetching initial timers from the server...\");\n  \n  if (!currentPlayer) { console.warn(\"⛔ No player loaded — skipping fetchTimersData.\"); return; }\n  if (!currentPlayer?.settlementId || !currentPlayer?.frontierId) return;\n\n  try {\n    const res = await axios.get(`${API_BASE}/api/get-frontier/${currentPlayer.frontierId}`);\n    const frontierData = res.data;\n    const updatedTimers = {\n      seasons: {\n        type: frontierData.seasons?.seasonType || \"Unknown\",\n        phase: frontierData.seasons?.phase || \"Unknown\",\n        endTime: frontierData.seasons?.endTime ? new Date(frontierData.seasons.endTime).getTime() : null,\n      },\n      elections: {\n        phase: frontierData.elections?.phase || \"Unknown\",\n        endTime: frontierData.elections?.endTime ? new Date(frontierData.elections.endTime).getTime() : null,\n      },\n      train: {\n        phase: frontierData.train?.phase || \"Unknown\",\n        endTime: frontierData.train?.endTime ? new Date(frontierData.train.endTime).getTime() : null,\n      },\n      taxes: {\n        phase: frontierData.taxes?.phase || \"Unknown\",\n        endTime: frontierData.taxes?.endTime ? new Date(frontierData.taxes.endTime).getTime() : null,\n      },\n      bank: {\n        phase: frontierData.bank?.phase || \"Unknown\",\n        endTime: frontierData.bank?.endTime ? new Date(frontierData.bank.endTime).getTime() : null,\n      }\n    };\n\n    setTimers(updatedTimers);\n    localStorage.setItem(\"timers\", JSON.stringify(updatedTimers)); // Save to local storage\n    console.log(\"✅ Current Time:\", Date.now());\n    \n  } catch (error) {\n    console.error(\"❌ Error fetching timers data:\", error);\n  }\n};\n\n// TIMERS Step 4: Update countdown timers\nuseEffect(() => {\n  const updateCountdowns = () => {\n    const now = Date.now(); // Get current timestamp\n\n    setCountdowns({\n      seasons: formatCountdown(timers.seasons.endTime, now),\n      elections: formatCountdown(timers.elections.endTime, now),\n      train: formatCountdown(timers.train.endTime, now),\n      taxes: formatCountdown(timers.taxes.endTime, now),\n      bank: formatCountdown(timers.bank.endTime, now),\n    });\n  };\n\n  updateCountdowns(); // Run immediately\n  const interval = setInterval(updateCountdowns, 1000); // Update UI every second\n\n  return () => clearInterval(interval); // Cleanup on unmount\n}, [timers]); // Runs when timers update\n\n\n// TIMERS Step 5: Check Phase Transitions (LOCAL)\nuseEffect(() => {\n  const checkPhaseTransitions = async () => {\n    //console.log(\"🔍checkPhaseTransitions;  season = \",timers.seasons.phase);\n    const now = Date.now();\n    let shouldFetchNewTimers = false;\n    // console.log(\"🕰️ Checking season timer... now =\", new Date(now).toLocaleTimeString(), \n    //   \"| endTime =\", new Date(timers.seasons.endTime).toLocaleTimeString()\n    // );\n    if (timers.seasons.endTime && now >= timers.seasons.endTime) {\n      console.log(\"🌱 Season phase ended.\");\n      shouldFetchNewTimers = true;\n    }\n    if (timers.elections.endTime && now >= timers.elections.endTime) {\n      console.log(\"🏛️ Election phase ended. Fetching new election data...\");\n      shouldFetchNewTimers = true;\n    }\n    if (timers.train.endTime && now >= timers.train.endTime) {\n      console.log(\"🚂 Train cycle ended. Fetching new train data...\");\n      shouldFetchNewTimers = true;\n    }\n    if (timers.taxes.endTime && now >= timers.taxes.endTime) {\n      console.log(\"💰 Tax cycle ended. Fetching new tax data...\");\n      shouldFetchNewTimers = true;\n    }\n    if (timers.bank.endTime && now >= timers.bank.endTime) {\n      console.log(\"💰 Bank cycle ended. Fetching new bank timer...\");\n      shouldFetchNewTimers = true;\n    }\n    if (shouldFetchNewTimers) {\n      console.log(\"⏳ A phase has ended! Fetching updated timers...\");\n      await fetchTimersData();\n      const updatedPhase = JSON.parse(localStorage.getItem(\"timers\"))?.seasons?.phase;\n      if (updatedPhase === \"offSeason\") {\n        setIsOffSeason(true);\n        console.log(\"🕓 OffSeason detected immediately after fetch.\");\n      }\n    }\n  };\n\n  if (timers.seasons.phase === \"offSeason\") { \n    setIsOffSeason(true);\n  } else {\n    setIsOffSeason(false); \n  }\n\n  const interval = setInterval(checkPhaseTransitions, 1000); // ✅ Check every 1s\n  return () => clearInterval(interval);\n}, [timers]); // Runs when timers update\n\n\nconst previousPhaseRef = useRef(timers.seasons?.phase);\n\n// 🔄 Refresh client when offSeason ends\nuseEffect(() => {\n  const currentPhase = timers.seasons?.phase;\n  if (\n    previousPhaseRef.current === \"offSeason\" &&\n    currentPhase === \"onSeason\"\n  ) {\n    console.warn(\"🔁 offSeason ended — forcing full app reload.\");\n    window.location.reload();\n  }\n  previousPhaseRef.current = currentPhase;\n}, [timers.seasons?.phase]);\n\n\n\n/////////// SOCKET LISTENERS /////////////////////////\n\n// 🔄 SOCKET LISTENER: Real-time updates for PC join and leave\nuseEffect(() => {\n  socketListenForPCJoinAndLeave(gridId, currentPlayer, isMasterResourcesReady, setPlayersInGrid);\n}, [socket, gridId, isMasterResourcesReady, currentPlayer]);\n\n// 🔄 SOCKET LISTENER: PCs: Real-time updates for GridState (PC sync)\nuseEffect(() => {\n  if (!isAppInitialized) { console.log('App not initialized. Skipping PC socket changes.'); return; }  \n  socketListenForPCstateChanges(activeTileSize, gridId, currentPlayer, setPlayersInGrid, localPlayerMoveTimestampRef);\n}, [socket, gridId, currentPlayer]);\n\n// 🔄 SOCKET LISTENER: NPCs:  Real-time updates for GridStateNPC snc\nuseEffect(() => {\n  if (!isAppInitialized) { console.log('App not initialized. Skipping NPC socket changes.'); return; }  \n  socketListenForNPCStateChanges(activeTileSize, gridId, setGridState, npcController);\n}, [socket, gridId, isAppInitialized]);\n\n// 🔄 SOCKET LISTENER: Real-time updates for resources\nuseEffect(() => {\n  socketListenForResourceChanges(activeTileSize, gridId, isMasterResourcesReady, setResources, masterResources, enrichResourceFromMaster);\n}, [socket, gridId, isMasterResourcesReady]); // ← Add isMasterResourcesReady as a dependency\n\n// 🔄 SOCKET LISTENER: Real-time updates for tiles\nuseEffect(() => {\n  socketListenForTileChanges(gridId, setTileTypes, mergeTiles);\n}, [socket, gridId]);\n\n// Add socket event listeners for NPC controller status\nuseEffect(() => {\n  socketListenForNPCControllerStatus(gridId, currentPlayer, setControllerUsername);\n}, [socket, gridId, currentPlayer]);\n\n// 🔄 SOCKET LISTENER: Force refresh on season reset\nuseEffect(() => {\n  socketListenForSeasonReset();\n}, [socket]);\n\nuseEffect(() => {\n  if (!socket || !currentPlayer || !gridId) return;\n  socketListenForConnectAndDisconnect(gridId, currentPlayer, setIsSocketConnected);\n}, [socket, currentPlayer, gridId]);\n\nuseEffect(() => {\n  if (!socket || !gridId) return;\n  const cleanup = socketListenForPlayerConnectedAndDisconnected(gridId, setConnectedPlayers);\n  return cleanup;\n}, [socket, gridId]);\n\n// 🔄 SOCKET LISTENER: Real-time updates for mailbox badge\nuseEffect(() => {\n  if (!socket || !currentPlayer?.playerId) return;\n  const cleanup = socketListenForBadgeUpdates(currentPlayer, setBadgeState, updateBadge);\n  return cleanup;\n}, [socket, currentPlayer]);\n\n// 🔄 SOCKET LISTENER: Real-time chat messages\nuseEffect(() => {\n  if (!socket || !currentPlayer) return;\n  const cleanup = socketListenForChatMessages(setChatMessages); // ✅ Must pass correct setter\n  return cleanup;\n}, [socket, currentPlayer]);\n\n\n/////////// HANDLE ZOOMING & RESIZING /////////////////////////\n\nconst zoomIn = async () => {\n  const gridId = currentPlayer?.location?.g;\n  const playerIdStr = String(currentPlayer._id);\n  const playerPos = playersInGrid?.[gridId]?.pcs?.[playerIdStr]?.position;\n  if (!gridId) { console.warn(\"No valid gridId found for currentPlayer.\"); return; }\n  if (currentPlayer.iscamping) { updateStatus(32); return; }\n  \n  if (zoomLevel === 'frontier') {\n    setZoomLevel('settlement'); // Zoom into the settlement view\n    updateStatus(12); // \"Settlement view.\"\n  } else if (zoomLevel === 'settlement') {\n    setZoomLevel('far'); // Zoom into the grid view\n    const { username, gridType } = await fetchHomesteadOwner(gridId);\n    // New logic to center camera on player using PlayersInGrid\n    centerCameraOnPlayer(playerPos, TILE_SIZES.far); // <- hardcode the *target* zoom level\n\n    if (gridType === 'town') {\n      updateStatus(14);\n    } else if ([\"valley0\", 'valley1', 'valley2', 'valley3'].includes(gridType)) {\n      updateStatus(16);\n    } else if (gridType === 'homestead') {\n      if (username) {\n        if (username === currentPlayer.username) {\n          updateStatus(112);\n        } else {\n          updateGridStatus(gridType, username, updateStatus);\n        }\n      } else {\n        updateStatus('This homestead is unoccupied.');\n      }\n    } else {\n      console.warn(`Unexpected gridType: ${gridType}`);\n      updateStatus('Unknown location.');\n    }\n\n  } else if (zoomLevel === 'far') {\n    setZoomLevel('close'); // Zoom into a detailed view\n    setTimeout(() => {\n      centerCameraOnPlayer(playerPos, TILE_SIZES.close);\n    }, 50); // Allow brief render before scrolling\n  } else if (zoomLevel === 'close') {\n    setZoomLevel('closer');\n    setTimeout(() => {\n      centerCameraOnPlayer(playerPos, TILE_SIZES.closer);\n    }, 50); // Allow brief render before scrolling\n  }\n};\n\nconst zoomOut = () => {\n  const gridId = currentPlayer?.location?.g;\n  const playerIdStr = String(currentPlayer._id);\n  const playerPos = playersInGrid?.[gridId]?.pcs?.[playerIdStr]?.position;\n\n  if (currentPlayer.iscamping) { updateStatus(32); return; }\n  if (zoomLevel === 'closer') {\n    setZoomLevel('close');\n    setTimeout(() => {\n      centerCameraOnPlayer(playerPos, TILE_SIZES.close);\n    }, 50); // Allow brief render before scrolling\n  } else if (zoomLevel === 'close') {\n    setZoomLevel('far'); // Zoom out to grid view\n    setTimeout(() => {\n      centerCameraOnPlayer(playerPos, TILE_SIZES.far);\n    }, 50); // Allow brief render before scrolling\n  } else if (zoomLevel === 'far') {\n    setZoomLevel('settlement'); // Zoom out to settlement view\n    updateStatus(12); // \"Settlement view.\"\n  } else if (zoomLevel === 'settlement') {\n    setZoomLevel('frontier'); // Zoom out to frontier view\n    updateStatus(13); // \"Frontier view.\"\n  }\n};\n\n/////////// HANDLE KEY MOVEMENT /////////////////////////\n\nconst localPlayerMoveTimestampRef = useRef(0);\n\nuseEffect(() => {\n  const handleKeyDown = (event) => {\n    if (activeModal) { return; } // Keyboard input disabled while modal is open\n    if (isOffSeason) { return; } // Keyboard input disabled while offseason\n    if (zoomLevel === 'frontier' || zoomLevel === 'settlement') { return; }  // Prevent input if zoomed out\n    const activeElement = document.activeElement;\n    if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) { return; } // Prevent movement if a text input is focused\n    if ([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"].includes(event.key)) { event.preventDefault(); }  // Prevent the browser from scrolling when using arrow keys\n\n    handleKeyMovement(event, currentPlayer, activeTileSize, masterResources,\n        setCurrentPlayer, \n        setGridId, \n        setGrid, \n        setTileTypes, \n        setResources, \n        updateStatus, \n        closeAllPanels,\n    );\n  };\n  window.addEventListener('keydown', handleKeyDown); \n  return () => {\n    window.removeEventListener('keydown', handleKeyDown); \n  };\n}, [currentPlayer, masterResources, activeTileSize, activeModal, zoomLevel]);\n\n\n\n//////////// HANDLE CLICKING /////////////////////////\n\nlet isProcessing = false; // Guard against duplicate clicks\n\nconst handleTileClick = useCallback((rowIndex, colIndex) => {\n  if (isProcessing) return; // Skip if still processing\n  isProcessing = true;\n\n  const resource = resources.find((res) => res.x === colIndex && res.y === rowIndex);\n  console.log('⬆️ handleTileClick invoked with:', { rowIndex, colIndex, resource });\n\n  // 🛡️ Prevent interaction on another player's homestead\n  const isOnOwnHomestead = currentPlayer?.gridId === currentPlayer?.location?.g;\n  if (resource && currentPlayer?.location?.gtype === 'homestead' && !isOnOwnHomestead) {\n    const isFriend = false; // 🧪 Future: replace with actual friend-checking logic\n    const alwaysBlocked = ['Mailbox', 'Trade Stall', 'Warehouse'];\n    const isForbiddenStation = resource?.category === 'station' && alwaysBlocked.includes(resource?.type);\n    const isSafe = resource?.category === 'npc'; // Expand as needed\n    if (isForbiddenStation || (!isSafe && !isFriend)) {\n      console.warn(\"🚫 Blocked interaction on another player’s homestead.\");\n      updateStatus(90);\n      isProcessing = false;\n      return;\n    }\n  }\n\n  // Validate `gridId` and `username`\n  if (!gridId || typeof gridId !== 'string') { console.error('Invalid gridId:', gridId); return; }\n  if (!currentPlayer?.username || typeof currentPlayer.username !== 'string') { console.error('Invalid username:', currentPlayer?.username); return; }\n  // ✅ Get player position from playersInGrid\n  const playerPos = playersInGridManager.getPlayerPosition(gridId, String(currentPlayer._id));\n  const targetPos = { x: colIndex, y: rowIndex };\n  if (!playerPos || typeof playerPos.x === 'undefined' || typeof playerPos.y === 'undefined') {\n      console.error(\"⚠️ Player position is invalid in NPCsInGrid; playerPos: \", playerPos);\n      isProcessing = false;\n      return;\n  }\n  // If clicking a resource, check range before interacting (except NPCs)\n  if (resource && resource.category !== 'npc') {\n    const distance = calculateDistance(playerPos, targetPos);\n    const playerRange = getDerivedRange(currentPlayer, masterResources);    \n    if (distance > playerRange) {\n      FloatingTextManager.addFloatingText(24, targetPos.x, targetPos.y, activeTileSize);\n      isProcessing = false;\n      return;\n    }\n  }\n  if (resource) {\n    console.log('App.js: Resource clicked:', resource);\n    if (resource.category === 'npc') { } // handled in RenderDynamic\n    else if (resource.category === 'travel') {\n      // Signpost clicking ignored; you have to walk onto them; \n      updateStatus(110); // \"You have to walk onto a signpost to travel.\"\n    }\n    else if (resource.category === 'training') {\n      setActiveStation({type: resource.type, position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('SkillsAndUpgradesPanel'); \n    }\n    else if (resource.category === 'crafting') {\n      setActiveStation({type: resource.type,position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('CraftingStation');\n    } \n    else if (resource.category === 'trading') {\n      setActiveStation({type: resource.type,position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('TradingStation');\n    } \n    else if (resource.category === 'farm hand') {\n      setActiveStation({type: resource.type,position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('FarmHandPanel');\n    } \n    else if (resource.category === 'shop') {\n      setActiveStation({type: resource.type,position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('ShopStation');\n    } \n    else if (resource.category === 'stall') {\n      setActiveStation({type: resource.type, position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('AnimalStall');\n    } \n    else if (resource.category === 'deco') {\n      setActiveStation({type: resource.type, position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      openPanel('DecoPanel');\n    } \n    else if (resource.category === 'station') {\n      setActiveStation({type: resource.type, position: { x: colIndex, y: rowIndex }, gridId: gridId, });\n      switch (resource.type) {\n        case 'Courthouse':\n          openPanel('Courthouse'); break;\n        case 'Trade Stall':\n          openPanel('TradeStall'); break;\n        case 'Mailbox':\n          openModal('Mailbox'); break;\n        case 'Train':\n          openPanel('TrainPanel'); break;\n        case 'Bank':\n          openPanel('BankPanel'); break;\n        default:\n          console.warn(`Unhandled station type: ${resource.type}`);\n      }\n    } else {\n      // Pass to handleResourceClick for all other resources\n      handleResourceClick(\n        resource,\n        rowIndex,\n        colIndex,\n        resources,\n        setResources,\n        setInventory,\n        setBackpack,\n        inventory,\n        backpack,\n        FloatingTextManager.addFloatingText,\n        gridId,\n        activeTileSize,\n        tileTypes,\n        currentPlayer,\n        setCurrentPlayer,\n        setGridId,\n        setGrid,\n        setTileTypes,\n        updateStatus,\n        masterResources,\n        masterSkills,\n        setModalContent,\n        setIsModalOpen,\n        closeAllPanels,\n      ).finally(() => {\n        isProcessing = false; // Reset flag after processing\n      });\n    }\n  } else {\n    console.log('isTeleportEnabled:', currentPlayer?.settings?.isTeleportEnabled);\n  \n    if (currentPlayer?.settings?.isTeleportEnabled) {\n      const targetPosition = { x: colIndex, y: rowIndex };\n      console.log('📍 Player teleporting to grid position:', targetPosition);\n  \n      // Update currentPlayer state\n      const updatedPlayer = {\n        ...currentPlayer,\n        position: targetPosition\n      };\n      setCurrentPlayer(updatedPlayer);\n      localStorage.setItem('player', JSON.stringify(updatedPlayer));\n  \n      // Multiplayer sync — update PC in grid\n      playersInGridManager.updatePC(gridId, currentPlayer._id, {\n        position: targetPosition\n      });\n    }\n  }\n  isProcessing = false; // Reset flag here\n\n}, [resources, gridId, inventory, currentPlayer, playerPosition, activeTileSize]);\n  \n\n  \n//////////// HANDLE LOGIN and LOGOUT /////////////////////////\n\nconst handleLogout = () => {\n  console.log('Logging out user...');\n  NPCsInGridManager.stopGridStateUpdates();  // Clear all states\n  setCurrentPlayer(null);\n  setInventory({});\n  setPlayerPosition({ x: 0, y: 0 });\n  setGrid([]); // Clear the grid\n  setResources([]); // Clear resources\n  setTileTypes([]); // Clear tile types\n  setGridId(null); // Clear gridId\n  localStorage.removeItem('gridId'); // Remove gridId from local storage\n  localStorage.removeItem('player');  // Remove player data from local storage\n  window.location.reload();  // Force a state reset by triggering the login modal\n  console.log('Player has logged out, and state has been reset.');\n};\n\nconst handleLoginSuccess = async (player) => {\n  console.log('Handling login success for player:', player);  // Store player data in localStorage\n  localStorage.setItem('player', JSON.stringify(player));  // Reload the app (triggers full initialization)\n  window.location.reload();\n};\n\n\n  /////////////// HANDLE INACTIVITY for controller relinquishment and refresh //////////////\n\n  useEffect(() => {\n    let lastActivity = Date.now();\n    const INACTIVITY_LIMIT = 15 * 60 * 1000; // 15 minutes\n    const REFRESH_TIMEOUT = 20 * 60 * 1000; // 20 minutes\n    const updateActivity = () => { lastActivity = Date.now(); };\n\n    const checkStaleness = () => {\n      const now = Date.now();\n      const inactiveTime = now - lastActivity;\n      if (inactiveTime >= REFRESH_TIMEOUT) {\n        console.warn('🔁 Inactive too long. Showing refresh modal.');\n        setModalContent({\n          title: strings[\"70\"],\n          message: strings[\"71\"],\n          message2: strings[\"72\"],\n          size: \"small\",\n          onClose: () => setIsModalOpen(false),\n          children: (\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', marginTop: '10px' }}>\n              <button\n                className=\"btn-success\"\n                onClick={() => {\n                  setIsModalOpen(false);\n                  window.location.reload();\n                }}\n              >\n                {strings[\"73\"]}\n              </button>\n            </div>\n          ),\n        });\n        setIsModalOpen(true);\n\n        // Set a backup auto-refresh after 30 seconds\n        setTimeout(() => {\n          console.warn(\"🔁 Auto-refreshing due to inactivity...\");\n          window.location.reload();\n        }, 30000);\n\n      } else if (inactiveTime >= INACTIVITY_LIMIT) {\n        console.warn('👋 Inactive for a while. Releasing controller role.');\n        if (controllerUsername === currentPlayer?.username) {\n          socket.emit('relinquish-npc-controller', { gridId });\n        }\n      }\n    };\n\n    window.addEventListener('mousemove', updateActivity);\n    window.addEventListener('keydown', updateActivity);\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'visible') updateActivity();\n    });\n\n    const interval = setInterval(checkStaleness, 60000); // check every minute\n\n    return () => {\n      window.removeEventListener('mousemove', updateActivity);\n      window.removeEventListener('keydown', updateActivity);\n      clearInterval(interval);\n    };\n  }, [currentPlayer, controllerUsername, gridId]);\n\n\n  ///////////////// FOR THE PANELS:\n\n  const [showTimers, setShowTimers] = useState(false);\n  const [showStats, setShowStats] = useState(false); // Toggle for combat stats UI\n  const combatStats = currentPlayer?.location?.g\n    ? playersInGrid?.[currentPlayer.location.g]?.pcs?.[String(currentPlayer?._id)] || {}\n    : {};\n  const gridStats = currentPlayer?.location\n    ? { gridCoord: currentPlayer.location.gridCoord,\n        gridType: currentPlayer.location.gtype,\n      }\n    : { gridCoord: 'Not loaded',\n        gridType: 'Not loaded',\n      };\n  \n  // Chat panel slideout state\n  const [isChatOpen, setIsChatOpen] = useState(false);\n\n\n  /////////////// RENDERING THE APP /////////////////////////\n\nreturn (\n    <>\n    <FloatingTextManager />\n\n{/* //////////////////////  Header  //////////////////////// */}\n\n    <header className=\"app-header\">\n      <div className=\"header-controls-left\">\n        \n        <button className=\"shared-button\"\n          onClick={() => openPanel('HowToMoneyPanel')}\n        >\n          💰 {Array.isArray(currentPlayer?.inventory)\n            ? (currentPlayer.inventory.find((item) => item.type === \"Money\")?.quantity || 0).toLocaleString()\n            : \"...\"}\n        </button>\n        <button className=\"shared-button\" disabled={!currentPlayer} onClick={() => openPanel('InventoryPanel')}>{strings[10103]} </button>\n        <div className=\"nav-button-wrapper\">\n          <button className=\"shared-button\" disabled={!currentPlayer} onClick={() => setActiveModal(\"Store\")}>{strings[10104]}</button>\n          {badgeState.store && <div className=\"badge-dot\" />}\n        </div>\n        <div className=\"nav-button-wrapper\">\n          <button className=\"shared-button\" disabled={!currentPlayer} onClick={() => openModal('Mailbox')}>{strings[10105]}</button>\n          {badgeState.mailbox && <div className=\"badge-dot\" />}\n        </div>\n\n      </div>\n        <div className=\"header-controls-right\">\n            <button className=\"shared-button\" onClick={() => setShowShareModal(true)}>{strings[10106]}</button>\n            <button className=\"shared-button\" disabled={!currentPlayer} onClick={() => setActiveModal('LanguagePicker')}>\n              🌎 {LANGUAGE_OPTIONS.find(l => l.code === currentPlayer?.language)?.label || 'Language'}\n            </button>\n            <div className=\"nav-button-wrapper\">\n              <button className=\"shared-button\" disabled={!currentPlayer} onClick={() => setIsChatOpen(prev => !prev)}>{strings[10107]}</button>\n              {badgeState.chat && <div className=\"badge-dot\" />}\n            </div>\n        </div>\n    </header>\n    \n    <div className=\"status-bar-wrapper\"> <StatusBar /> </div>\n\n    {/* Chat Slideout Panel */}\n    {isChatOpen && currentPlayer && (\n      <div className=\"chat-panel-slideout\">\n        <Chat\n          currentGridId={currentPlayer.location?.g}\n          currentSettlementId={currentPlayer.location?.s}\n          currentFrontierId={currentPlayer.frontierId}\n          currentPlayer={currentPlayer}\n          onClose={() => setIsChatOpen(false)}\n        />\n      </div>\n    )}\n\n\n{/* //////////////// Left Side Navigation Column ///////////////// */}\n\n    <div className=\"nav-column\">\n      <button className=\"nav-button\" title={strings[12009]} onClick={() => closePanel()}>🏡</button>\n      <button className=\"nav-button\" title={strings[12010]} \n          onClick={() => {\n            if (currentPlayer?.username) { \n              openPanel('ProfilePanel');\n            } else { \n              openPanel('LoginPanel');\n            }\n          }}\n        > 😀\n        </button>\n      \n      <button className=\"nav-button\" title={strings[12001]} disabled={!currentPlayer} onClick={() => openPanel('FarmingPanel')}>🚜</button>\n      <button className=\"nav-button\" title={strings[12002]} disabled={!currentPlayer} onClick={() => openPanel('BuildPanel')}>⚒️</button>\n      <button className=\"nav-button\" title={strings[12003]} disabled={!currentPlayer} onClick={() => openPanel('BuyPanel')}>🐮</button>\n      <button className=\"nav-button\" title={strings[12005]} disabled={!currentPlayer} onClick={() => {\n          setActiveStation(null); // ✅ Reset activeStation\n          openPanel(\"SkillsAndUpgradesPanel\"); // ✅ Open the panel normally\n        }}>💪</button>\n      <button className=\"nav-button\" title={strings[12004]} disabled={!currentPlayer} onClick={() => openPanel('QuestPanel')}>❓</button>\n      <button className=\"nav-button\" title={strings[12006]} disabled={!currentPlayer} onClick={() => openPanel('CombatPanel')}>⚔️</button>\n      <button className=\"nav-button\" title={strings[12007]} onClick={() => openPanel('GovPanel')}>🏛️</button>\n      <button className=\"nav-button\" title={strings[12008]} onClick={() => openPanel('SeasonPanel')}>🗓️</button>\n      {isDeveloper && (\n        <button className=\"nav-button\" title=\"Debug\" onClick={() => openPanel('DebugPanel')}>\n          🐞\n        </button>\n      )}\n    </div>\n\n    <div className=\"app-container\">\n\n\n{/* ///////////////////  Base Panel  ///////////////////// */}\n\n    <div className=\"base-panel\">\n      <h1>{strings[0]}</h1>  \n      <br/>\n        {currentPlayer && (\n          <button className=\"shared-button\" onClick={() => openPanel('ProfilePanel')}>\n            {currentPlayer.icon} Logged in: {currentPlayer.username}\n          </button>\n        )}\n        {currentPlayer?.accountStatus === 'Gold' && (\n          <button className=\"gold-button\" onClick={() => openPanel('GoldBenefitsPanel')}>{strings[10108]}</button>\n        )}\n\n      <br/>\n      <button className=\"shared-button\" onClick={() => openPanel('HowToPanel')}>{strings[10109]} AWSD</button>\n      <div className=\"zoom-controls\">\n        <button className=\"zoom-button\" disabled={!currentPlayer} onClick={zoomOut}>−</button>\n        <button className=\"zoom-button\" disabled={!currentPlayer} onClick={zoomIn}>+</button>\n        <span><h3>to Zoom</h3></span>\n      </div>\n      <button className=\"shared-button\" onClick={() => openPanel('HowToPanel')}>{strings[10110]}</button>\n      <br/>\n\n      {/* Add Role display if player has one */}\n      {currentPlayer?.role === \"Mayor\" && (\n        <> <h2 className=\"player-role\"> {strings[10111]} </h2>\n          <br />\n        </>\n      )}\n\n      {/* Hit Points */}\n      <button className=\"shared-button\" onClick={() => openPanel('CombatPanel')}>{strings[10112]} <strong>{playersInGrid?.[gridId]?.pcs?.[String(currentPlayer._id)]?.hp ?? \"?\"} / {playersInGrid?.[gridId]?.pcs?.[String(currentPlayer._id)]?.maxhp ?? \"?\"}</strong></button>\n      <br />\n\n      {/* Season */}\n      {timers.seasons.phase === \"onSeason\" ? (\n        <>\n          <h2>{strings[10113]} {seasonData?.type || \"[Season unknown]\"}</h2>\n          <button className=\"shared-button\" onClick={() => openPanel('SeasonPanel')}>{strings[10114]}<br /><strong>{countdowns.seasons}</strong></button>\n        </>\n      ) : (\n        <>\n          <h2>{strings[10113]} {seasonData?.type || \"[Season unknown]\"}</h2>\n          <button className=\"shared-button\" onClick={() => openPanel('SeasonPanel')}>{strings[10115]}<br /><strong>{countdowns.seasons}</strong></button>\n        </>\n      )}\n      <br />\n      \n      <h2>{strings[10116]}\n        <span \n          onClick={() => setShowTimers(!showTimers)} \n          style={{ cursor: \"pointer\", fontSize: \"16px\", marginLeft: \"5px\" }}\n        >\n          {showTimers ? \"▼\" : \"▶\"}\n        </span>\n      </h2>\n\n      {showTimers && (\n        <div className=\"timers-panel\">\n\n      <br />\n\n          {timers.taxes.phase === \"waiting\" ? (\n        <>\n          <h3>{strings[10117]}</h3> \n          <p>{strings[10118]}{countdowns.taxes}</p>\n        </>\n      ) : (\n        <>\n          <h4>{strings[10119]}</h4>\n        </>\n      )}\n          <h3>{strings[10120]}{timers.elections.phase}</h3>\n          <p>{strings[10121]}{countdowns.elections}</p>\n          <h3>{strings[10122]}{timers.train.phase}</h3>\n          <p>{strings[10121]}{countdowns.train}</p>\n          <h3>{strings[10123]}{timers.bank.phase}</h3>\n          <p>{strings[10124]}{countdowns.bank}</p>\n          <button className=\"shared-button\" onClick={() => openModal('TownNews')}>{strings[10125]}</button>\n        </div>\n      )}\n      <br />\n\n      <h2>Discord Server:</h2>\n      <button\n        className=\"shared-button\"\n        onClick={() => window.open('https://discord.gg/mQgRP2K9', '_blank')}\n      >\n        Join our Discord\n      </button>\n\n      <br />\n      <h3>{strings[10126]}</h3>\n      <div>\n      {playersInGrid?.[gridId]?.pcs && typeof playersInGrid[gridId].pcs === 'object' ? (\n          Object.entries(playersInGrid[gridId].pcs).length === 0 ? (\n            <h4 style={{ color: \"white\" }}>{strings[10127]}</h4>\n          ) : (\n            Object.entries(playersInGrid[gridId].pcs).map(([playerId, pc]) => (\n              <p key={playerId} style={{ color: \"white\" }}>\n                {connectedPlayers.has(playerId) && '📡 '}\n                <strong>{pc.username}</strong>\n              </p>\n            ))\n          )\n        ) : (\n          <h4 style={{ color: \"white\" }}>{strings[10127]}</h4>\n        )}\n        <h4 style={{ color: \"white\" }}>\n          {controllerUsername \n            ? `🐮 ${controllerUsername}` \n            : \"There is no NPCController\"}\n        </h4>\n      </div>\n      <br />\n    </div>\n\n      \n{/* //////////////////// Game Board //////////////////// */}\n\n    <div className=\"homestead\">\n\n      {showKeyArt && (\n        <div className=\"keyart-wrapper\">\n          <img\n            src=\"/assets/images/ValleyViewLoadScreen.png\"\n            alt=\"Valley View Key Art\"\n            className=\"keyart-image\"\n          />\n        </div>\n      )}\n\n      {zoomLevel === 'far' || zoomLevel === 'closer' || zoomLevel === 'close' ? (\n      <>\n        <RenderGrid\n          grid={memoizedGrid}\n          tileTypes={memoizedTileTypes}\n          resources={memoizedResources}\n          handleTileClick={handleTileClick}\n          TILE_SIZE={activeTileSize}\n          setHoverTooltip={setHoverTooltip} \n        />\n        <DynamicRenderer\n          TILE_SIZE={activeTileSize}\n          setInventory={setInventory}\n          setResources={setResources}\n          currentPlayer={currentPlayer}\n          openPanel={openPanel}\n          onNPCClick={handleQuestNPCClick}  // Pass the callback\n          onPCClick={handlePCClick}  // Pass the callback\n          masterResources={masterResources}\n          masterSkills={masterSkills}\n          setHoverTooltip={setHoverTooltip}\n          setModalContent={setModalContent}\n          setIsModalOpen={setIsModalOpen} \n          updateStatus={updateStatus}\n        /> \n        {/* <RenderVFX \n          toggleVFX={currentPlayer?.settings?.toggleVFX}\n          // Placeholder for VFX\n          TILE_SIZE={activeTileSize}\n        /> */}\n\n        </>\n      ) : null}\n\n{/* //////////////////  ZOOM OUTS  ///////////////////*/}\n\n    {/* Settlement zoom view */}\n    {zoomLevel === 'settlement' && (\n      <SettlementView\n        currentPlayer={currentPlayer}\n        isDeveloper={isDeveloper}\n        setZoomLevel={setZoomLevel}\n        isRelocating={isRelocating}\n        setIsRelocating={setIsRelocating}\n        setCurrentPlayer={setCurrentPlayer}\n        setGridId={setGridId}\n        setGrid={setGrid}\n        setResources={setResources}\n        setTileTypes={setTileTypes}\n        TILE_SIZE={activeTileSize}\n        masterResources={masterResources}\n        closeAllPanels={closeAllPanels}\n        visibleSettlementId={visibleSettlementId}\n        setVisibleSettlementId={setVisibleSettlementId}\n        onClose={() => setZoomLevel('far')}\n      />\n    )}\n    {zoomLevel === 'frontier' && (\n      <FrontierView\n        currentPlayer={currentPlayer}\n        isDeveloper={isDeveloper}\n        setZoomLevel={setZoomLevel} \n        isRelocating={isRelocating}\n        setIsRelocating={setIsRelocating}\n        setCurrentPlayer={setCurrentPlayer}\n        setGridId={setGridId}              \n        setGrid={setGrid}            \n        setResources={setResources}  \n        setTileTypes={setTileTypes}     \n        TILE_SIZE={activeTileSize}\n        closeAllPanels={closeAllPanels}\n        visibleSettlementId={visibleSettlementId}\n        setVisibleSettlementId={setVisibleSettlementId}\n        onClose={() => setZoomLevel('settlement')}\n      />\n    )}\n    </div>\n\n{/* ///////////////////// MODALS ////////////////////// */}\n\n      {showShareModal && (\n        <ShareModal onClose={() => setShowShareModal(false)} />\n      )}\n\n      <Modal \n        isOpen={isModalOpen} \n        onClose={() => {\n          if (modalContent?.onClose) {\n            modalContent.onClose();\n          } else {\n            setIsModalOpen(false);\n          }\n        }}\n        title={modalContent.title} \n        message={modalContent.message} \n        message2={modalContent.message2} \n        size={modalContent.size || \"standard\"}\n      >\n        {modalContent.children}\n        {modalContent.custom}\n      </Modal>\n\n      {activeModal === 'Mailbox' && (\n        <Mailbox\n          onClose={closeModal}  // ✅ This sets activeModal = null\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          resources={masterResources}\n          updateStatus={updateStatus}\n        />\n      )}\n      {activeModal === 'TownNews' && (\n        <TownNews\n          onClose={closeModal}  // ✅ This sets activeModal = null\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          resources={masterResources}\n        />\n      )}\n      {activeModal === 'LanguagePicker' && (\n        <LanguagePickerModal\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          updateStatus={updateStatus}\n          onClose={() => setActiveModal(null)}\n          onSave={() => setActiveModal(null)}\n        />\n      )}\n      {activeModal === \"Store\" && (\n        <Store\n          onClose={({ openMailbox } = {}) => {\n            setActiveModal(null);\n            if (openMailbox) {\n              setTimeout(() => setActiveModal(\"Mailbox\"), 100);\n            }\n          }}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          resources={masterResources}\n          setModalContent={setModalContent}\n \t        setIsModalOpen={setIsModalOpen}\n        />\n      )}\n      {isOffSeason && (\n        <OffSeasonModal\n          currentPlayer={currentPlayer}\n          timers={timers}\n        />\n      )}\n\n{/* ///////////////////// PANELS ////////////////////// */}\n\n      {activePanel === 'ProfilePanel' && (\n        <ProfilePanel\n        onClose={closePanel}\n        currentPlayer={currentPlayer}\n        setCurrentPlayer={setCurrentPlayer}\n        handleLogout={handleLogout}\n        isRelocating={isRelocating}\n        setIsRelocating={setIsRelocating}\n        zoomLevel={zoomLevel}\n        setZoomLevel={setZoomLevel} \n       />\n      )}\n      {activePanel === 'LoginPanel' && (\n        <LoginPanel\n          onClose={closePanel}\n          setCurrentPlayer={(player) => {\n            setCurrentPlayer(player);\n            closePanel(); \n          }}\n          zoomLevel={zoomLevel}\n          setZoomLevel={setZoomLevel} \n          onLoginSuccess={async (username, password) => {\n            await handleLoginSuccess(username, password);\n          }}\n        />\n      )}\n      {activePanel === 'DebugPanel' && (\n        <DebugPanel\n          onClose={closePanel}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setInventory={setInventory}\n          setResources={setResources}\n          currentGridId={currentPlayer?.location?.g}\n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'InventoryPanel' && (\n        <InventoryPanel\n          onClose={closePanel} \n          masterResources={masterResources}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setInventory={setInventory}\n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'BankPanel' && (\n        <BankPanel\n          onClose={closePanel} \n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n        />\n      )}\n      {activePanel === 'TrainPanel' && (\n        <TrainPanel\n          onClose={closePanel} \n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n          setModalContent={setModalContent}\n          setIsModalOpen={setIsModalOpen}\n        />\n      )}\n      {activePanel === 'HowToPanel' && (\n        <HowToPanel \n          onOpen={openPanel}\n          onClose={closePanel}\n        />\n      )}\n      {activePanel === 'HowToMoneyPanel' && (\n        <HowToMoneyPanel \n          onOpen={openPanel}\n          onClose={closePanel}\n        />\n      )}\n      {activePanel === 'GoldBenefitsPanel' && (\n        <GoldBenefitsPanel \n          currentPlayer={currentPlayer}\n          updateStatus={updateStatus}\n          onOpen={openPanel}\n          onClose={closePanel}\n          setModalContent={setModalContent}\n \t        setIsModalOpen={setIsModalOpen}\n        />\n      )}\n      {activePanel === 'GovPanel' && (\n        <GovPanel\n          onClose={closePanel}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setModalContent={setModalContent}\n          setIsModalOpen={setIsModalOpen}\n        />\n      )}\n      {activePanel === 'Courthouse' && (\n        <CourthousePanel\n          onClose={closePanel}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n        />\n      )}\n      {activePanel === 'QuestPanel' && (\n        <QuestPanel\n          onClose={closePanel}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n        />\n      )}\n      {activePanel === 'SkillsAndUpgradesPanel' && (\n        <SkillsAndUpgradesPanel\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack} \n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          stationType={activeStation?.type} \n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterSkills={masterSkills}\n        />\n      )}\n      {activePanel === 'CombatPanel' && (\n        <CombatPanel\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          masterResources={masterResources} \n          masterSkills={masterSkills} \n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'CraftingStation' && (\n        <CraftingStation\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setResources={setResources}\n          stationType={activeStation?.type} \n          currentStationPosition={activeStation?.position} \n          gridId={activeStation?.gridId} \n          masterResources={masterResources} \n          masterSkills={masterSkills} \n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'TradingStation' && (\n        <TradingStation\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setResources={setResources}\n          stationType={activeStation?.type} \n          currentStationPosition={activeStation?.position} \n          gridId={activeStation?.gridId}\n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n        />\n      )}\n      {activePanel === 'ShopStation' && (\n        <ShopStation\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setResources={setResources}\n          stationType={activeStation?.type} \n          currentStationPosition={activeStation?.position} \n          gridId={activeStation?.gridId}\n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n        />\n      )}\n      {activePanel === 'FarmHandPanel' && (\n        <FarmHandPanel\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          resources={resources}\n          setResources={setResources}\n          stationType={activeStation?.type} \n          currentStationPosition={activeStation?.position} \n          gridId={activeStation?.gridId}\n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n          masterSkills={masterSkills}\n        />\n      )}\n      {activePanel === 'FarmingPanel' && (\n        <FarmingPanel\n          onClose={closePanel}\n          TILE_SIZE={activeTileSize}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          resources={resources}\n          setResources={setResources}\n          tiles={grid}\n          tileTypes={tileTypes}\n          setTileTypes={setTileTypes}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          gridId={gridId}\n          masterResources={masterResources} \n          masterSkills={masterSkills} \n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'BuildPanel' && (\n        <BuildPanel\n          onClose={closePanel}\n          TILE_SIZE={activeTileSize}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          resources={resources}\n          setResources={setResources}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          gridId={gridId}\n          masterResources={masterResources} \n          masterSkills={masterSkills} \n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'BuyPanel' && (\n        <BuyPanel\n          onClose={closePanel}\n          TILE_SIZE={activeTileSize}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          resources={resources}\n          setResources={setResources}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          gridId={gridId}\n          masterResources={masterResources} \n          masterSkills={masterSkills} \n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'QuestGiverPanel' && (\n        <QuestGiverPanel\n          onClose={closePanel}\n          npcData={activeQuestGiver}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setResources={setResources}\n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n        />\n      )}\n      {activePanel === 'SocialPanel' && (\n        <SocialPanel\n          onClose={closePanel}\n          pcData={activeSocialPC}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          inventory={inventory}\n          setInventory={setInventory}  \n          backpack={backpack}\n          setBackpack={setBackpack} \n          updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'AnimalStall' && (\n        <AnimalStall\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setResources={setResources}\n          stationType={activeStation?.type} \n          currentStationPosition={activeStation?.position} \n          gridId={activeStation?.gridId} \n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n        />\n      )}\n      {activePanel === 'DecoPanel' && (\n        <DecoPanel\n          onClose={closePanel}\n          inventory={inventory}\n          setInventory={setInventory}\n          backpack={backpack}\n          setBackpack={setBackpack}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setResources={setResources}\n          stationType={activeStation?.type} \n          currentStationPosition={activeStation?.position} \n          gridId={activeStation?.gridId} \n          TILE_SIZE={activeTileSize}\n          updateStatus={updateStatus}\n          masterResources={masterResources}\n        />\n      )}\n      {activePanel === 'TradeStall' && (\n        <TradeStall\n            onClose={closePanel}\n            inventory={inventory}\n            setInventory={setInventory}\n            currentPlayer={currentPlayer}\n            setCurrentPlayer={setCurrentPlayer}\n            updateStatus={updateStatus}\n        />\n      )}\n      {activePanel === 'SeasonPanel' && (\n        <SeasonPanel\n          onClose={closePanel}\n          currentPlayer={currentPlayer}\n          setCurrentPlayer={setCurrentPlayer}\n          setModalContent={setModalContent}\n          setIsModalOpen={setIsModalOpen}\n        />\n      )}\n\n      {hoverTooltip && (\n        <div\n          className=\"HoverTooltip\"\n          style={{\n            position: 'fixed',\n            zIndex: 9999,\n            top: hoverTooltip.y,\n            left: hoverTooltip.x,\n            transform: 'translate(-50%, -100%) translateY(-8px)', // ⬅️ Center horizontally and offset upward\n            pointerEvents: 'none',\n          }}\n          dangerouslySetInnerHTML={{ __html: hoverTooltip.content }}\n        />\n      )}\n      </div>\n\n      {uiLocked && (\n        <div\n          style={{\n            position: 'fixed',\n            inset: 0,\n            zIndex: 9999,\n            backgroundColor: 'rgba(0,0,0,0.0)', // transparent blocker\n            cursor: 'wait',\n          }}\n        />\n      )}\n\n    </>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { StringsProvider } from './UI/StringsContext';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StatusBarProvider } from './UI/StatusBar';\nimport { PanelProvider } from './UI/PanelContext'; \nimport { GridStateProvider } from './GridState/GridStateContext';\nimport { GridStatePCProvider } from './GridState/GridStatePCContext';\nimport { ModalProvider } from './UI/ModalContext';\nimport { UILockProvider } from './UI/UILockContext';\n\nconsole.warn(\"🔥 index.js evaluated again — app may remount\");\n\nconst savedPlayer = localStorage.getItem('player');\nconst savedLanguage = savedPlayer ? JSON.parse(savedPlayer)?.language : 'en';\n\nconst rootEl = document.getElementById('root');\nconsole.log(\"🪵 root element:\", rootEl);\n\n// DEBUG DOM mutations that could be causing unmounts\nconst observer = new MutationObserver((mutationsList) => {\n  for (const mutation of mutationsList) {\n    if (mutation.type === 'childList') {\n      console.warn('🧨 DOM mutation detected in #root');\n      console.trace();\n    }\n  }\n});\nobserver.observe(rootEl, { childList: true, subtree: false });\n\nif (!window.__app_rendered__) {\n  window.__app_rendered__ = true;\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <UILockProvider>\n      <StringsProvider language={savedLanguage}>\n        <GridStateProvider>\n          <GridStatePCProvider>\n            <StatusBarProvider>\n              <PanelProvider>\n                <ModalProvider>\n                  <App />\n                </ModalProvider>\n              </PanelProvider>\n            </StatusBarProvider>\n          </GridStatePCProvider>\n        </GridStateProvider>\n      </StringsProvider>\n    </UILockProvider>\n);\n\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["module","exports","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","r","t","u","v","w","x","y","z","iterator","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","assign","D","E","this","context","refs","updater","F","G","isReactComponent","setState","Error","forceUpdate","H","constructor","isPureReactComponent","I","Array","isArray","J","K","L","M","arguments","length","children","O","P","Q","replace","escape","toString","R","N","push","A","next","done","value","String","keys","join","S","T","_status","_result","then","default","U","V","transition","W","ReactCurrentDispatcher","ReactCurrentBatchConfig","X","Children","map","forEach","apply","count","toArray","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useContext","useDebugValue","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","version","pop","sortIndex","id","performance","now","unstable_now","Date","setTimeout","clearTimeout","setImmediate","callback","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","console","error","Math","floor","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","unstable_shouldYield","unstable_wrapCallback","createRoot","hydrateRoot","aa","ca","encodeURIComponent","da","Set","ea","fa","ha","add","ia","window","document","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","split","toLowerCase","ra","sa","toUpperCase","ta","slice","pa","isNaN","qa","test","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","stack","trim","match","Na","Oa","prepareStackTrace","defineProperty","set","Reflect","construct","displayName","includes","name","Pa","tag","Qa","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","get","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","Yb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","oc","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","shift","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","fromCharCode","code","location","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","event","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","concat","nf","Ub","instance","listener","of","has","pf","qf","rf","random","sf","capture","passive","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Promise","Jf","queueMicrotask","resolve","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","_stringRef","Mg","Ng","Og","index","Pg","Qg","Rg","implementation","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","lh","mh","eventTime","lane","payload","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","queue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","di","lastEffect","stores","ei","fi","gi","hi","ii","create","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","readContext","useMutableSource","unstable_isNewReconciler","identifierPrefix","Ci","Di","Ei","_reactInternals","Fi","shouldComponentUpdate","Gi","contextType","state","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","message","digest","Ki","Li","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","Gj","Hj","Ij","Jj","Kj","WeakSet","Lj","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","JSON","stringify","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","unstable_strictMode","findDOMNode","flushSync","hydrate","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","o","chunkId","all","reduce","promises","miniCssF","obj","prop","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","i","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","fn","head","toStringTag","installedChunks","j","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","STRINGS_MAP","en","stringsEN","fr","stringsFR","es","stringsES","stringsDE","it","stringsIT","pt","stringsPT","ru","stringsRU","no","stringsNO","sv","stringsSV","stringsFI","StringsContext","StringsProvider","_ref","language","selectedStrings","React","warn","rawLanguage","normalized","resolvedFile","_jsx","useStrings","thisArg","getPrototypeOf","kindOf","thing","str","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isString","isFunction","isNumber","isObject","isPlainObject","val","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","allOwnKeys","getOwnPropertyNames","len","findKey","_key","_global","globalThis","global","isContextDefined","isTypedArray","TypedArray","Uint8Array","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ret","defineProperties","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","_ref2","asap","process","nextTick","isBuffer","isFormData","kind","FormData","append","isArrayBufferView","result","ArrayBuffer","isView","buffer","isBoolean","isStream","pipe","merge","caseless","assignValue","targetKey","stripBOM","content","charCodeAt","inherits","superConstructor","toFlatObject","sourceObj","destObj","filter","propFilter","merged","endsWith","searchString","position","lastIndex","arr","forEachEntry","pair","matchAll","regExp","matches","exec","hasOwnProp","freezeMethods","writable","toObjectSet","arrayOrString","delimiter","define","toCamelCase","p1","p2","noop","toFiniteNumber","Number","isFinite","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","config","response","captureStackTrace","status","utils","toJSON","description","fileName","lineNumber","columnNumber","from","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","path","dots","predicates","formData","TypeError","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","isFlatArray","exposedHelpers","build","encode","charMap","AxiosURLSearchParams","params","_pairs","toFormData","encoder","_encode","buildURL","serialize","serializeFn","serializedParams","hashmarkIndex","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","clear","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","_navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","platform","buildPath","isNumericKey","isLast","arrayToObject","entries","parsePropPath","defaults","transitional","transitionalDefaults","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","formDataToJSON","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","parse","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","method","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","parseHeaders","tokens","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalize","format","formatHeader","_len","targets","asStrings","first","computed","_len2","_key2","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","samplesCount","bytes","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","passed","round","freq","lastArgs","timer","timestamp","threshold","invoke","args","flush","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","speedometer","throttle","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","isMSIE","URL","protocol","host","port","userAgent","write","expires","domain","secure","cookie","toGMTString","read","RegExp","decodeURIComponent","remove","buildFullPath","baseURL","requestedURL","allowAbsoluteUrls","isRelativeUrl","isAbsoluteURL","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","auth","btoa","username","unescape","Boolean","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","_config","resolveConfig","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","signal","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","cancel","abort","subscribe","aborted","parseProtocol","send","composeSignals","signals","controller","AbortController","reason","streamChunk","chunk","chunkSize","byteLength","pos","readStream","async","stream","asyncIterator","reader","getReader","trackStream","onProgress","onFinish","iterable","readBytes","_onFinish","ReadableStream","pull","close","loadedBytes","enqueue","highWaterMark","isFetchSupported","fetch","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","res","_","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","_request","getBodyLength","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","responseData","knownAdapters","http","xhr","xhrAdapter","fetchAdapter","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","formatMessage","opt","desc","opts","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","InterceptorManager","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","Cancel","spread","isAxiosError","formToJSON","getAdapter","REACT_APP_SERVER_URL","masterSkills","masterResources","loadMasterSkills","API_BASE","loadMasterResources","gridTimer","externalSetGridState","NPCsInGridManager","NPCsInGrid","registerSetGridState","setterFunction","initializeGridState","gridId","npcs","lastUpdated","hydratedState","NPCsInGridLastUpdated","getTime","npcId","lightweightNPC","npcTemplate","find","hydrated","NPC","setGridStateReact","getNPCsInGrid","spawnNPC","npcType","_npcType","category","hp","maxhp","nextspawn","speed","npc","addNPC","updatedGridState","setAllNPCs","post","socket","emit","emitterId","updateNPC","newProperties","_NPCsInGrid$npcs","_NPCsInGrid$npcs2","existing","removeNPC","saveGridStateNPCs","dehydratedNPCs","grazeEnd","startGridTimer","clearInterval","setInterval","values","update","stopGridTimer","stopGridStateUpdates","updateInterval","setter","npcsObject","existingState","VFX_TIMING","calculateTileCenter","TILE_SIZE","centerX","centerY","createCollectEffect","gameContainer","querySelector","dx","dy","startX","startY","dir","particle","createParticleElement","innerText","pointerEvents","fontSize","requestAnimationFrame","transform","FloatingTextManager","tick","setTick","floatingTextsRef","strings","instanceId","addFloatingText","displayText","newId","container","className","onAnimationEnd","tiles","resources","setTiles","newTiles","setResources","newResources","getTiles","getResources","initializeGrid","setGrid","setTileTypes","updateStatus","DBPlayerData","gridData","fetchGridData","getIngredientDetails","recipe","allResources","ingredients","ingredientType","ingredientQty","ingredientResource","symbol","mergeTiles","existingTiles","updatedTiles","row","changed","tileType","oldTile","enrichResourceFromMaster","raw","template","getCurrentTileCoordinates","currentPlayer","playersInGrid","playersInGridManager","getPlayersInGrid","playerId","playerData","tileX","tileY","PanelContext","PanelProvider","activePanel","setActivePanel","closePanel","openPanel","panelName","closeAllPanels","usePanelContext","fetchHomesteadOwner","gridResponse","ownerId","gridType","playerResponse","_id","getDerivedRange","_currentPlayer$skills","_currentPlayer$locati","baseRange","bonusRangeFromSkills","skills","sum","skill","master","output","qtycollected","gtype","updateGridResource","resource","broadcast","growEnd","craftEnd","craftedItem","patch","success","updatedResources","changePlayerLocation","fromLocation","toLocation","setCurrentPlayer","setGridId","grid","_playersInGridManager","_fromGridResponse$dat","_fromGridResponse$dat2","_toGridResponse$data","_toGridResponse$data$","_fromPlayerState$hp","_fromPlayerState$maxh","_ref3","_fromPlayerState$armo","_ref4","_fromPlayerState$atta","_ref5","_fromPlayerState$dama","_ref6","_fromPlayerState$spee","_ref7","_fromPlayerState$atta2","_ref8","_fromPlayerState$isca","inMemoryFromPlayerState","fromGridResponse","fromPCs","pcs","fromPlayerState","toGridResponse","toPCs","icon","armorclass","attackbonus","damage","attackrange","iscamping","toPayload","locationResponse","updatedPlayer","localStorage","setItem","freshGridState","freshPCState","setPlayersInGridReact","playersInGridLastUpdated","centerCameraOnPlayer","fetchedGridId","combinedGridState","updateGridStatus","ownerUsername","TRANSIT_POSITIONS","NE","SE","SW","NW","handleTransitSignpost","resourceType","_currentPlayer$_id","_playerData$position$","_playerData$position","_playerData$position$2","_playerData$position2","hasHorse","item","quantity","currentGridId","settlementId","frontierId","gridCoord","newPlayerPosition","settlement","grids","townGrid","flat","direction","offsets","currentGrid","frontierTier","frontierIndex","setRow","setCol","gRow","gCol","coord","padStart","parseInt","decodeCoord","rowOffset","colOffset","newGRow","newGCol","newSetRow","newSetCol","targetSettlement","targetGrid","entryPosition","fromX","fromY","getEntryPosition","renderPositions","handleKeyMovement","movement","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","currentPosition","targetX","targetY","GlobalGridStateTilesAndResources","canMove","tileResource","passable","resourceInTile","isTileValidForPlayer","isValidMove","finalPosition","updatePC","innerWidth","innerHeight","maxScrollLeft","scrollWidth","clientWidth","maxScrollTop","scrollHeight","clientHeight","clampedX","max","clampedY","scrollTo","behavior","animateRemotePC","to","step","currentX","currentY","animate","interpolatedX","interpolatedY","registerSetPlayersInGrid","registerTileSize","tileSize","initializePlayersInGrid","pcData","getAllPCs","_this$playersInGrid","_this$playersInGrid$g","getPlayerPosition","_this$playersInGrid2","_this$playersInGrid2$","_this$playersInGrid2$2","_this$playersInGrid2$3","setAllPCs","pcsObject","addPlayer","modifiers","powers","power","getStat","baseKey","modKey","newPC","addPC","_prev$gridId","_this$playersInGrid$g2","_gridPCs$playerId","gridPCs","currentData","keysToCompare","isEqual","every","oldPosition","updatedPC","newPosition","_prev$gridId2","removePC","_this$playersInGrid$g3","_this$playersInGrid$g4","_prev$gridId3","updatedGrid","trackQuestProgress","player","_player$activeQuests","activeQuests","questUpdated","updatedQuests","quest","completed","rewardCollected","goalsCompleted","totalGoals","goalAction","goalItem","goalQty","checkRange","playerPos","targetPos","extractXY","distance","calculateDistance","playerRange","isAHit","attackRoll","hitRoll","calculateDamage","randomDamageModifier","deriveWarehouseAndBackpackCapacity","baseWarehouse","warehouseCapacity","baseBackpack","backpackCapacity","isGold","accountStatus","warehouseBonus","backpackBonus","acc","skillDetails","bonus","warehouse","backpack","canAfford","inventory","amount","inv","bp","backpackItem","inventoryItem","fetchInventory","_response$data5","refreshPlayerAfterInventoryUpdate","_updatedPlayerData$lo","updatedPlayerData","gridPlayer","gainIngredients","_currentPlayer$locati2","setInventory","setBackpack","isMoney","isHomestead","storingInBackpack","maxBackpack","capacity","totalItems","findIndex","deltaPayload","delta","spendIngredients","updatedInventory","updatedBackpack","qty","remaining","deductFrom","list","used","pos1","pos2","abs","handleNPCClick","setModalContent","setIsModalOpen","setUILocked","handleNo","title","onClose","_jsxs","gap","justifyContent","marginTop","relocatedNPC","baseQuantity","playerBuffs","_masterSkills$item$ty","isSkill","applies","skillModifier","mult","buff","_masterSkills$buff","quantityToCollect","_NPCsInGridManager$ge","existingNPC","freshNPC","resourceDetails","enrichedResource","prevResources","handleAttackOnNPC","handleFarmAnimalBehavior","updateThisNPC","handleIdleState","currentTime","targetGrassTile","grassTiles","findTileInRange","unoccupiedGrassTiles","tile","sort","isMoving","moved","moveOneTile","growTime","targetStall","findNearestResource","stallResource","triedStall","handleRoamState","handleQuestGiverBehavior","npcInstance","handleEnemyBehavior","pursueTimerStart","pcsInRange","getDistance","targetPC","_this$targetPC3","_this$targetPC","_this$targetPC2","timeSincePursueStart","closestPC","npcPosition","minDistance","findClosestPC","_this$targetPC4","handlePursueState","_this$targetPC5","_this$targetPC6","amountToMod","newHP","sqrt","handleHealBehavior","handleSpawnBehavior","requires","properties","_properties$nextspawn","growtime","processingStartTime","processState","idleDuration","onTransition","idleTimer","validDirections","getAdjacentTile","isValidTile","randomDirection","roamSteps","currentDirection","directions","playerPosition","onAttackTransition","distanceToPlayer","connected","validong","validonp","validonw","validond","validonl","validons","potentialTiles","_tiles$y","targetResource","availableResources","aPos","bPos","attachGrazingBehavior","attachQuestBehavior","attachEnemyBehavior","attachHealBehavior","attachSpawnBehavior","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","byteOffset","TEXT_ENCODER","chars","lookup","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","decode","SEPARATOR","createPacketEncoderStream","TransformStream","packet","encoded","encodePacketToBinary","payloadLength","DataView","setUint8","setUint16","setBigUint64","BigInt","TEXT_DECODER","totalLength","chunks","concatChunks","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","emitReserved","hasListeners","setTimeoutFn","globalThisShim","Function","pick","attr","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","clearTimeoutFn","randomString","TransportError","super","Transport","query","forceBase64","doOpen","doClose","packets","onOpen","onData","onPacket","details","pause","onPause","createUri","_hostname","_port","_query","hostname","encodedQuery","Polling","_polling","_poll","doPoll","decodePayload","encodedPayload","encodedPackets","decodedPacket","encodePayload","doWrite","uri","timestampRequests","timestampParam","sid","b64","hasCORS","empty","BaseXHR","isSSL","req","xhrStatus","pollXhr","createRequest","_opts","_method","_uri","_data","_create","_a","xdomain","_xhr","extraHeaders","setDisableHeaderCheck","cookieJar","addCookies","requestTimeout","parseCookies","getResponseHeader","_onLoad","_onError","_index","requestsCount","requests","_cleanup","fromError","unloadHandler","hasXHR2","newRequest","isReactNative","BaseWS","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","ev","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","transports","websocket","_packet","webtransport","_transport","WebTransport","transportOptions","closed","ready","createBidirectionalStream","decoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","pow","createPacketDecoderStream","MAX_SAFE_INTEGER","readable","pipeThrough","encoderStream","pipeTo","_writer","getWriter","polling","parts","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","qs","qry","pairs","_beforeunloadEventListener","_offlineEventListener","_onClose","_cookieJar","createCookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","upgrading","_getWritablePackets","payloadSize","utf8Length","_hasPingExpired","hasExpired","msg","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_upgrades","_probe","failed","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","_filterUpgrades","upgrades","filteredUpgrades","Socket","DEFAULT_TRANSPORTS","withNativeFile","File","hasBinary","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","num","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","buf","tryParse","substr","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","freeze","connect","connect_error","disconnect","disconnecting","newListener","io","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","_autoConnect","disconnected","subEvents","subs","onpacket","active","_readyState","_b","_c","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","isConnected","notifyOutgoingListeners","_this","ackTimeout","_len3","_key3","withError","emitWithAck","_len4","_key4","_this2","tryCount","_len5","responseArgs","_key5","_drainQueue","force","_sendConnectPacket","_pid","pid","_lastOffset","_clearAcks","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","_len6","_key6","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","ms","factor","jitter","attempts","duration","rand","deviation","reset","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","decoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","onreconnect","attempt","loc","sameNamespace","forceNew","multiplex","socketListenForBadgeUpdates","setBadgeState","updateBadge","handleBadge","_ref19","hasUpdate","isMatch","updated","getItem","TABS","currentSettlementId","currentFrontierId","activeTab","setActiveTab","messages","setMessages","Grid","Settlement","Frontier","inputText","setInputText","endRef","_false","scope","scopeId","json","fetchMessages","_endRef$current","scrollIntoView","handleSend","trimmed","_ref18","emitChatMessage","tab","onChange","onKeyDown","generateResourceTooltip","lines","remainingTime","days","hours","minutes","seconds","RenderGrid","tileTypes","handleTileClick","setHoverTooltip","forceTick","interval","hoverTimersRef","craftingStatus","rowIndex","colIndex","_tileTypes$rowIndex","tileClass","isCraftReady","isCraftInProgress","onMouseEnter","rect","getBoundingClientRect","updateTooltip","onMouseLeave","alignItems","cursor","right","GridStateContext","GridStateUpdateContext","useGridState","GridStateProvider","setGridState","GridStatePCContext","GridStatePCUpdateContext","usePlayersInGrid","GridStatePCProvider","setPlayersInGrid","UILockContext","UILockProvider","uiLocked","useUILock","onNPCClick","onPCClick","hoveredEntityIdRef","suppressTooltipRef","masterResourcesRef","containerRef","animationFrameId","reloadRef","npcElements","pcElements","hoveredNPCDivRef","renderNPCs","_NPCsInGrid$gridId","existingIds","npcDiv","overridePos","renderX","renderY","_playersInGrid$gridId","_playersInGrid$gridId2","_pcState$speed","pcState","baseSpeed","onmouseenter","tooltipContent","countdownText","handleNPCHover","onmouseleave","classList","handleNPCHoverLeave","div","renderPCs","_currentPlayer$locati3","_playersInGrid$gridId3","pcDiv","_currentPlayer$locati5","_currentPlayer$locati6","isNotSelf","isAttackable","isTown","_playersInGridManager2","_playersInGridManager3","handleAttackOnPC","handlePCClick","handlePCHover","handlePCHoverLeave","startRenderingLoop","_currentPlayer$settin","_currentPlayer$locati4","_playersInGrid$gridId4","_playersInGrid$gridId5","_playersInGrid$gridId6","_playersInGrid$gridId7","_playersInGrid$gridId8","_playersInGrid$gridId9","settings","rangeOn","rangeCircle","getElementById","backgroundColor","border","borderRadius","pixelX","pixelY","radius","attackRange","attackRangeRing","attackRadius","existingAttackRing","renderPlayerRange","cancelAnimationFrame","existingRangeCircle","lockedResources","unlockResource","handleResourceClick","_tileTypes$row","fetchedInventory","fetchedBackpack","_response$data","_response$data2","_response$data3","_response$data4","fetchInventoryAndBackpack","handleDooberClick","handleSourceConversion","baseQtyCollected","appliesToResource","buffItem","skillMultiplier","multiplier","qtyCollected","gridUpdateResponse","pendingKeyResolve","requirement","isSkillOrUpgrade","isKey","usedKey","_currentPlayer$invent","_currentPlayer$backpa","_currentPlayer$backpa2","totalOwned","message2","handleUseKey","enrichedNewResource","createSourceConversionEffect","requiredSkill","emoji","farmTimer","farmStateInstance","farmState","initializeFarmState","secondsRemaining","addSeed","seed","startSeedTimer","completedSeeds","newCrop","enriched","stopSeedTimer","controlledGrids","setupSocketListeners","retryTimeout","setAsController","removeController","controllerUsername","joinGrid","leaveGrid","isController","isControllingGrid","controllerData","StatusBarContext","StatusBarProvider","setMessage","predefinedMessage","StatusBar","getGridBackgroundColor","isDeveloper","setZoomLevel","isRelocating","setIsRelocating","visibleSettlementId","setVisibleSettlementId","settlementGrid","setSettlementGrid","players","setPlayers","setError","NPCsInGrids","setGridStates","playersInGridMap","gridStates","playersArray","playersById","gridIds","gridStateResponse","mergedPlayersInGrid","_gridStateResponse$da","_gridStateResponse$da2","fetchData","available","fromGridId","targetGridCoord","relocationResponse","_error$response","_error$response2","processRelocation","_pcs","renderMiniGrid","tileData","settlementTileData","fill","isPlayerHere","owner","ownerIdStr","tooltip","getTooltip","miniX","miniY","isValleyGrid","playerPCs","playerPC","_playerPCs","_playerPC","cell","tradeStall","stall","_owner2","role","_owner3","_owner3$netWorth","netWorth","toLocaleString","frontierGrid","setFrontierGrid","settlementGrids","setSettlementGrids","_settlementGrids$tile","frontierTileData","settlementType","flatSettlementGrid","startsWith","ownedHomestead","isOpen","custom","LanguagePickerModal","onSave","selectedLanguage","setSelectedLanguage","Modal","LANGUAGE_OPTIONS","label","flag","updates","reload","stripePromise","RELEASE_TRAIN","ORIGIN","STRIPE_JS_URL","V3_URL_REGEX","STRIPE_JS_URL_REGEX","EXISTING_SCRIPT_MESSAGE","isStripeJSURL","injectScript","queryString","advancedFraudSignals","headOrBody","stripePromise$1","onErrorListener","onLoadListener","loadScript","Stripe","findScript","_script$parentNode","onLoad","loadCalled","getStripePromise","loadStripe","maybeStripe","isTestKey","runtimeVersionToUrlVersion","expectedVersion","stripe","_registerWrapper","registerWrapper","initStripe","handlePurchase","offerId","redirectToCheckout","sessionId","openMailbox","offers","setOffers","purchaseSuccess","history","replaceState","fetchOffers","offer","shelflifeDays","created","isOfferExpired","rewards","_resources$find","price","toFixed","ChangeIconModal","currentIcon","setModalIsOpen","selectedIcon","setSelectedIcon","freeIcons","ICON_OPTIONS","paidIcons","locked","isEmoji","updatedCurrentPlayer","updatePlayerIcon","alert","descriptionKey","titleKey","xmlns","viewBox","stroke","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","ModalContext","useModalContext","ModalProvider","activeModal","setActiveModal","openModal","modalName","closeModal","_LANGUAGE_OPTIONS$fin","handleLogout","zoomLevel","setIsDeveloper","hasCheckedDeveloperStatus","showChangeIconModal","setShowChangeIconModal","_res$data","_res$data2","checkDevStatus","setFormData","isSaving","setIsSaving","errorMessage","setErrorMessage","localSettings","setLocalSettings","isStateMachineEnabled","isTeleportEnabled","toggleVFX","_settings$isStateMach","_settings$isTeleportE","_settings$toggleVFX","_settings$rangeOn","handleInputChange","handleToggleChange","updatedSettings","newSettings","updatePlayerSettings","Panel","roleName","_error$response$data","handleGoldPanelSwitch","confirm","removeItem","relocations","handleLanguage","newIcon","setIsLoggedIn","setUsername","setPassword","setLanguage","isSubmitting","setIsSubmitting","onSubmit","frontierName","frontierResponse","frontier","assignedSettlementId","assignedGridCoord","settlementRow","settlements","settlementResponse","availableGrid","registerPayload","assignedGridId","baseHp","baseMaxhp","baseAttackbonus","baseArmorclass","baseDamage","baseAttackrange","messageId","mailError","_err$response","_err$response$data","onLoginSuccess","showCreateAccount","setShowCreateAccount","CreateAccount","htmlFor","required","formatJSON","currentNPCs","currentPCs","timers","setTimers","setNPCs","setPCs","updatedNPCs","setUpdatedNPCs","refreshDebug","setRefreshDebug","singleGridCoord","setSingleGridCoord","usernameToDelete","setUsernameToDelete","messageIdentifier","setMessageIdentifier","resourcesWithTimers","fetchTimers","timerInterval","prevTimers","growTimeRemaining","craftTimeRemaining","fetchGridStateEntities","handleGenerateValley","valleyType","frontierData","valleyGrids","settlementData","valleyGrid","generateValleyGrids","resetResponse","townGrids","gridError","generateTownGrids","filteredInventory","prevPlayer","clearedSkills","clearedPowers","combatStats","completedQuests","command","clearGridState","resourcesToAdd","skillResources","skillsResponse","updatedSkills","existingSkill","foundGrid","foundSettlementId","foundFrontierId","createSingleValleyGrid","_username","deleteResponse","handleDeleteAccount","sendMessageToAll","GridStateDebugPanel","showBackpackModal","setShowBackpackModal","hasBackpackSkill","finalCapacities","calculateTotalQuantity","handleMoveAll","isAtHome","itemsToMove","updatedWarehouseInventory","existingIndex","invItem","_Fragment","nonTentItems","isAddAllDisabled","isTentAtHome","updatedWarehouse","handleMoveItem","info","hideInfo","showInfo","setShowInfo","tooltipPosition","setTooltipPosition","buttonRef","updateTooltipPosition","scrollY","scrollX","onMouseMove","ReactDOM","handleConstruction","selectedItem","buildOptions","coords","selectedResource","isTileOccupied","debugBefore","rawResource","BuildPanel","setBuildOptions","setAllResources","inventoryResponse","allResourcesData","validBuildOptions","affordable","requirementsMet","owned","hasRequiredSkill","formattedCosts","_inventory$find","_allResources$find","playerQty","skillColor","ResourceButton","BuyPanel","buyOptions","setBuyOptions","purchasableItems","SkillsAndUpgradesPanel","stationType","entryPoint","setEntryPoint","skillsToAcquire","setSkillsToAcquire","upgradesToAcquire","setUpgradesToAcquire","ownedSkills","setOwnedSkills","ownedUpgrades","setOwnedUpgrades","isContentLoading","setIsContentLoading","stationEmoji","setStationEmoji","resourcesResponse","serverInventory","serverBackpack","serverSkills","stationResource","availableSkills","availableUpgrades","fetchResourcesAndInventory","updatedUpgrades","upg","meetsRequirement","attributeModifier","buffText","buffedItems","items","prettyList","plural","unlocks","marginBottom","_inventory$find2","_allResources$find2","handleFarmPlotPlacement","validateTileType","tileOccupied","growEndTime","handleTerraform","_tileTypes$tileY","actionType","newType","prevTiles","convertTileType","FarmingPanel","farmPlots","setFarmPlots","isActionCoolingDown","setIsActionCoolingDown","farmPlotItems","handleTerraformWithCooldown","secs","formatCountdown","handleFarmPlacementWithCooldown","getMayorUsername","_settlement$roles","mayorRole","roles","setSettlementData","taxRate","setTaxRate","population","setPopulation","taxLog","setTaxLog","mayor","setMayor","buildingCounts","School","Hospital","AnimalYard","Library","_settlement$grids","taxlog","taxrate","occupiedHomesteads","mayorName","fetchGovernmentData","taxLogTable","textAlign","borderCollapse","padding","reverse","entry","toLocaleDateString","totalcollected","currentmayor","mayortake","endTime","timeDiff","bankOffers","setBankOffers","bankTimer","setBankTimer","bankPhase","setBankPhase","fetchBankOffers","_response$data$bank","_response$data$bank2","bank","phase","updateCountdown","bankTimerData","getSymbol","ingredient1","itemBought","ingredient1qty","qtyBought","itemGiven","qtyGiven","handleTrade","trainOffers","setTrainOffers","trainPhase","setTrainPhase","trainTimer","setTrainTimer","nextOffers","setNextOffers","trainRewards","setTrainRewards","latestInventory","setLatestInventory","fetchTrainOffers","trainTimerData","train","currentoffers","nextoffers","trainrewards","_masterResources$find","renderOfferSection","_latestInventory$find","isYours","claimedBy","isCompleted","filled","buttonText","qtyingredient1","updateOffer","newOffers","handleFulfill","offerIndex","updatedOffer","handleClaim","claimedByYou","claimedByOthers","allOrdersFilled","trainlog","trainLogTable","inprogress","alloffersfilled","totalwinners","logic","handleShowTrainLog","renderRewardSection","seen","uniqueRewards","reward","renderNextShipment","uniqueOffers","setSettlement","isMayor","setIsMayor","electionPhase","setElectionPhase","countdown","setCountdown","campaignPromises","setCampaignPromises","newPromise","setNewPromise","selectedCandidate","setSelectedCandidate","hasVoted","setHasVoted","votedFor","setVotedFor","candidateList","setCandidateList","tempTaxRate","setTempTaxRate","hoveredCandidate","setHoveredCandidate","tempSettlementName","setTempSettlementName","isModalOpen","modalContent","fetchElectionData","updateTimerAndPhase","electionData","elections","newPhase","votes","playerVote","voterId","_settlementData$campa","votedCandidate","candidateId","_settlementData$campa2","uniqueCandidates","maxWidth","electionlog","electionLogTable","_entry$candidates","candidates","electedmayor","candidate","_campaignPromises$fin","getCandidatePromise","QuestButton","goals","textbody","isHovered","setIsHovered","timeoutRef","handleMouseEnter","handleMouseLeave","goal","QuestGiverButton","rewardqty","playerQuests","setPlayerQuests","questTemplates","setQuestTemplates","fetchQuestTemplates","_quest$progress","_quest$progress2","_quest$progress3","questId","goal1action","goal1item","goal1qty","goal1","goal2action","goal2item","goal2qty","goal2","goal3action","goal3item","goal3qty","goal3","QuestGiverPanel","npcData","questList","setQuestList","healRecipes","setHealRecipes","statusMessage","setStatusMessage","fetchQuests","filteredRecipes","npcQuests","giver","activeQuest","repeatable","handleHeal","playerInGridState","currentHp","maxHp","healAmount","statToMod","updatedValue","modifyPlayerStatsInGridState","updatedCompletedQuests","updatedActiveQuests","prevList","handleGetReward","questTitle","acceptedQuest","initialProgress","isQuestCompleted","handleAcceptQuest","_currentPlayer$_id2","CraftingStation","currentStationPosition","recipes","setRecipes","stationDetails","setStationDetails","activeTimer","setActiveTimer","setCraftedItem","craftingCountdown","setCraftingCountdown","isCrafting","setIsCrafting","isReadyToCollect","setIsReadyToCollect","_GlobalGridStateTiles","station","toLocaleTimeString","storedInventory","syncInventory","craftTimeText","crafttime","ingredient2","ingredient3","ingredient4","minprice","craftedResource","appliedBuffs","skillValue","_masterSkills$skill","craftedQty","skillAppliedText","updateResponse","updatedGlobalResources","rest","handleCollect","craftTime","updatedStation","handleCraft","filteredResources","totalRefund","FarmHandPanel","farmhandSkills","setFarmhandSkills","farmhandUpgrades","setFarmhandUpgrades","farmOutputs","ownedTypes","getSkillTooltip","skillType","safeInventory","safeBackpack","cropTypes","resourceCounts","cropsToHarvest","wait","successfulHarvest","crop","preInventory","preBackpack","processingAnimals","successfulCollects","maxTrees","resourceDef","treeResources","treesToChop","tree","choppedTreePositions","wood","_backpack$find","handlePurchaseSkill","_backpack$find2","cost","maxprice","TradingStation","storyStringMap","Iago","Juliet","Falstaff","Apothecary","Gertrude","Leontes","Caliban","ShopStation","fetchTrigger","setFetchTrigger","_currentPlayer$powers","hasRequirement","outputLabel","outputSummary","updatedPowers","powerIndex","updatedRange","oldValue","newValue","AnimalStall","stallDetails","setStallDetails","outputDetails","setOutputDetails","DecoPanel","tradeSlots","setTradeSlots","selectedSlotIndex","setSelectedSlotIndex","amounts","setAmounts","totalSellValue","setTotalSellValue","resourceData","setResourceData","settlementPlayers","setSettlementPlayers","viewedPlayer","setViewedPlayer","viewedPlayerIndex","setViewedPlayerIndex","fetchDataForViewedPlayer","currentInventoryResponse","tradeStallResponse","totalSlots","Free","Bronze","Silver","Gold","existingSlots","filledSlots","slot","settlementPlayersResponse","fetchSettlementPlayers","handleBuy","slotIndex","currentSlot","boughtBy","totalCost","tempRecipe","updatedSlots","boughtFor","sellTime","handleAmountChange","resourceInInventory","maxAmount","calculateTotalSellValue","slots","handlePreviousPlayer","previousIndex","handleNextPlayer","nextIndex","isOwnStall","handleSlotClick","minHeight","flexDirection","sellValue","handleSellSingle","handleCollectPayment","refreshedInventory","handleAddToSlot","templates","setTemplates","loading","setLoading","markedReadIds","setMarkedReadIds","setMasterResources","visibleMessages","setVisibleMessages","fetchMasterResources","freshMessages","unreadMessages","updatedMessages","fetchTemplatesAndMessages","renderRewards","idx","handleClose","_message$rewards","_currentPlayer$powers2","tents","doobers","others","resourceMeta","currentQty","newQty","existingSkills","newSkills","skillReward","qtyToAdd","powerReward","powerType","alreadyHasPower","powerData","gridPlayerNew","messageIndex","deleteMessage","seasons","setSeasons","seasonData","setSeasonData","richestCitizens","setRichestCitizens","secondsLeft","setSecondsLeft","storedTimers","fetchSeasons","diff","_response$data2$seaso","seasonLog","seasonlog","currentSeasonNumber","seasonNumber","lastSeason","seasonnumber","winners","seasonwinners","networth","fetchSeasonWinners","currentIndex","seasonType","previousSeason","paddingLeft","settlementName","setSettlementName","currentTrainOffers","setCurrentTrainOffers","nextTrainOffers","setNextTrainOffers","electionTimer","setElectionTimer","formatOffers","fetchTownData","_frontierResponse$dat","_storedTimers$bank","_storedTimers$train","_storedTimers$electio","_storedTimers$train2","_storedTimers$electio2","_storedTimers$bank2","_settlementMap","topCitizens","setTopCitizens","topSettlementName","setTopSettlementName","seasonCycle","setSeasonCycle","highestWealth","setHighestWealth","settlementMap","setSettlementMap","getSeasonData","fetchSeasonCycle","settlementWealthMap","totalNetWorth","leadingSettlementId","leadingSettlementName","leadingSettlementPopulation","matching","topPlayers","fetchTopCitizensAndSettlement","currentSeason","_seasonCycle$nextInde","getNextSeason","citizen","seasonLogTable","seasontype","winningsettlement","whiteSpace","gridsreset","playersrelocated","SocialPanel","tentCount","setTentCount","isCamping","setIsCamping","displayedPCData","setDisplayedPCData","latestData","tentsInBackpack","updateCampingStateInGridState","campingState","fakeRecipe","handlePitchTent","CombatPanel","playerStats","setPlayerStats","stats","getStatBreakdown","stat","modifier","handleRefreshCombatStats","baseStats","powerBonuses","finalStats","getPlayerStats","pcPosition","shareToNetwork","network","shareUrl","readOnly","copyToClipboard","clipboard","writeText","_timers$seasons","_timers$seasons3","_playersInGrid$curren","_playersInGrid$curren2","_currentPlayer$locati7","_currentPlayer$locati8","_playersInGrid$gridId11","_playersInGrid$gridId12","_playersInGrid$gridId13","_playersInGrid$gridId14","_playersInGrid$gridId15","_playersInGrid$gridId16","_playersInGrid$gridId17","_playersInGrid$gridId18","_playersInGrid$gridId19","_currentPlayer$locati9","appInstanceId","trace","_appEl$innerHTML","appEl","serverPreviouslyDown","_storedTimers","_storedTimers$seasons","serverPhase","setIsOffSeason","checkInitialSeasonPhase","isMasterResourcesReady","setIsMasterResourcesReady","setMasterSkills","TILE_SIZES","closer","far","activeTileSize","setPlayerPosition","isLoginPanelOpen","setisLoginPanelOpen","isOffSeason","activeQuestGiver","setActiveQuestGiver","activeSocialPC","setActiveSocialPC","activeStation","setActiveStation","showShareModal","setShowShareModal","setShowKeyArt","hoverTooltip","setControllerUsername","isSocketConnected","setIsSocketConnected","connectedPlayers","setConnectedPlayers","chatMessages","setChatMessages","badgeState","chat","store","mailbox","memoizedGrid","memoizedTileTypes","memoizedResources","showKeyArt","isInitializing","isAppInitialized","setIsAppInitialized","__vvgame_connect_listener","connectListener","cleanupBadges","_DBPlayerData$locatio","_updatedPlayerData","_parsedPlayer$locatio","_freshPCState$playerI","_DBPlayerData$locatio2","_gridPlayer$position","_gridPlayer$position2","_updatedPlayerData$se","storedPlayer","parsedPlayer","storedGridId","resolvedGridId","isDev","checkDeveloperStatus","initialGridId","freshNPCState","playerIdStr","isLocationMismatch","isMissingFromGrid","targetPosition","hasDied","storedBadges","stored","getBadgeState","setShowTimers","initializeAppWrapper","_cleanupBadges","currentGridNPCs","_playerPC$position","_playerPC$position2","onTileType","onResource","onResourceType","targetLocation","updatedLocation","restoredHp","originalLocation","handlePlayerDeath","lavaDamage","_playerPC$position3","_playerPC$position4","healing","taxes","countdowns","setCountdowns","fetchTimersData","initializeTimers","_frontierData$seasons","_frontierData$seasons2","_frontierData$seasons3","_frontierData$electio","_frontierData$electio2","_frontierData$train","_frontierData$train2","_frontierData$taxes","_frontierData$taxes2","_frontierData$bank","_frontierData$bank2","updatedTimers","updateCountdowns","shouldFetchNewTimers","_JSON$parse","_JSON$parse$seasons","previousPhaseRef","_timers$seasons2","currentPhase","handlePlayerJoinedGrid","prevState","_prevState$gridId","_prevState$gridId$pcs","incomingTime","localTime","_prevState$gridId2","handlePlayerLeftGrid","_prevState$gridId3","_prevState$gridId4","handleCurrentGridPlayers","socketListenForPCJoinAndLeave","localPlayerMoveTimestampRef","handlePCSync","gridEntries","incomingPC","_prevState$gridId5","_prevState$gridId5$pc","localPC","changedFields","damageTaken","prevPosition","prevGridState","prevPCs","socketListenForPCstateChanges","npcController","handleNPCSync","_NPCsInGridManager$NP","liveGrid","incomingNPC","localNPC","rehydrated","handleNPCMoveSync","handleNPCRemoval","_NPCsInGridManager$NP2","socketListenForNPCStateChanges","handleResourceSync","_ref9","newRes","indexToRemove","filtered","socketListenForResourceChanges","handleTileSync","_ref10","socketListenForTileChanges","_ref11","_ref12","controlledGridId","_ref13","revokedGridId","socketListenForNPCControllerStatus","_ref14","socketListenForSeasonReset","handleConnect","handleDisconnect","socketListenForConnectAndDisconnect","handlePlayerConnected","_ref15","handlePlayerDisconnected","_ref16","newSet","handleCurrentConnectedPlayers","_ref17","connectedPlayerIds","socketListenForPlayerConnectedAndDisconnected","setMessagesByScope","handleIncomingChatMessage","prevMessages","socketListenForChatMessages","handleKeyDown","isProcessing","isOnOwnHomestead","isFriend","alwaysBlocked","isForbiddenStation","isSafe","_currentPlayer$settin2","finally","lastActivity","updateActivity","visibilityState","checkStaleness","inactiveTime","showTimers","showStats","setShowStats","isChatOpen","setIsChatOpen","Chat","zoomOut","_playersInGrid$gridId10","marginLeft","alt","DynamicRenderer","SettlementView","FrontierView","ShareModal","Mailbox","TownNews","Store","OffSeasonModal","ProfilePanel","LoginPanel","handleLoginSuccess","DebugPanel","InventoryPanel","BankPanel","TrainPanel","HowToPanel","HowToMoneyPanel","GoldBenefitsPanel","GovPanel","CourthousePanel","QuestPanel","TradeStall","SeasonPanel","inset","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","savedPlayer","savedLanguage","rootEl","MutationObserver","mutationsList","mutation","observe","childList","subtree","__app_rendered__","App","reportWebVitals"],"sourceRoot":""}