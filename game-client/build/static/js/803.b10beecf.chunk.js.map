{"version":3,"file":"static/js/803.b10beecf.chunk.js","mappings":"+KAaA,SAASA,EAAQC,EAAeC,GAAW,IAADC,EAAAC,EAGxC,GADiC,OAAbH,QAAa,IAAbA,GAAwB,QAAXE,EAAbF,EAAeI,iBAAS,IAAAF,OAAX,EAAbA,EAA0BG,MAAKC,GAAQA,EAAKC,OAASN,IACxD,OAAO,EAIxB,OADgC,OAAbD,QAAa,IAAbA,GAAuB,QAAVG,EAAbH,EAAeQ,gBAAQ,IAAAL,OAAV,EAAbA,EAAyBE,MAAKC,GAAQA,EAAKC,OAASN,GAEzE,CAUO,SAASQ,EAAgBC,EAAMV,EAAeW,EAAWC,EAAcC,GAE5E,MAAMC,EAAeC,EAAgBL,EAAMV,EAAea,GAG1DD,EAAaE,EAAaE,SAC1BC,EAAAA,EAAoBC,gBAClBJ,EAAaK,aACbT,EAAKU,EACLV,EAAKW,EACLV,EAEJ,CASO,SAASI,EAAgBL,EAAMV,EAAea,GACnD,MAAMS,EAAeZ,EAAKa,SAE1B,IAAKD,EAEH,MAAO,CACLE,WAAW,EACXR,SAAgB,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAAU,SAAU,mBAC7BM,cAAqB,OAAPN,QAAO,IAAPA,OAAO,EAAPA,EAAU,SAAU,eAOtC,OAFwBd,EAAQC,EAAesB,GAYxC,CACLE,WAAW,EACXR,SAAgB,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAAU,SAAU,mBAC7BM,cAAqB,OAAPN,QAAO,IAAPA,OAAO,EAAPA,EAAU,SAAU,yBAX3B,CACLW,WAAW,EACXR,SAAgB,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAAU,SAAU,YAAYS,yBACzCH,cAAqB,OAAPN,QAAO,IAAPA,OAAO,EAAPA,EAAU,SAAU,YAUxC,CAYO,SAASY,EAAmBC,EAAU1B,EAAeY,EAAcC,EAASF,GAEjF,GAAwB,SAApBe,EAASC,OAAmB,OAAO,EAGvC,MAAMb,EAAeC,EAAgBW,EAAU1B,EAAea,GAe9D,OAZKC,EAAaU,WAAaZ,IAC7BA,EAAaE,EAAaE,SACtBL,QAA4BiB,IAAfF,EAASN,QAAkCQ,IAAfF,EAASL,GACpDJ,EAAAA,EAAoBC,gBAClBJ,EAAaK,aACbO,EAASN,EACTM,EAASL,EACTV,IAKCG,EAAaU,SACtB,C","sources":["GameFeatures/Doors/Doors.js"],"sourcesContent":["/**\n * Door interaction logic\n * Checks if player has access to doors and provides appropriate feedback\n */\n\nimport FloatingTextManager from '../../UI/FloatingText';\n\n/**\n * Check if player has a specific item in their inventory or backpack\n * @param {Object} currentPlayer - The current player object\n * @param {string} itemType - The item type to check for\n * @returns {boolean} - Whether the player has the item\n */\nfunction hasItem(currentPlayer, itemType) {\n  // Check inventory\n  const inInventory = currentPlayer?.inventory?.some(item => item.type === itemType);\n  if (inInventory) return true;\n  \n  // Check backpack\n  const inBackpack = currentPlayer?.backpack?.some(item => item.type === itemType);\n  return inBackpack;\n}\n\n/**\n * Handle door click interaction\n * @param {Object} door - The door resource object\n * @param {Object} currentPlayer - The current player object\n * @param {number} TILE_SIZE - The size of tiles for positioning\n * @param {Function} updateStatus - Function to update status bar\n * @param {Object} strings - Localized strings object\n */\nexport function handleDoorClick(door, currentPlayer, TILE_SIZE, updateStatus, strings) {\n  // Use shared access checking logic\n  const accessResult = checkDoorAccess(door, currentPlayer, strings);\n  \n  // Show appropriate message\n  updateStatus(accessResult.message);\n  FloatingTextManager.addFloatingText(\n    accessResult.floatingText,\n    door.x,\n    door.y,\n    TILE_SIZE\n  );\n}\n\n/**\n * Check door access and get appropriate message\n * @param {Object} door - The door resource object\n * @param {Object} currentPlayer - The current player object\n * @param {Object} strings - Localized strings object\n * @returns {Object} - { hasAccess: boolean, message: string, floatingText: string }\n */\nexport function checkDoorAccess(door, currentPlayer, strings) {\n  const requiredItem = door.requires;\n  \n  if (!requiredItem) {\n    // No requirement - door is always open\n    return {\n      hasAccess: true,\n      message: strings?.[10170] || \"The door is open\",\n      floatingText: strings?.[10170] || \"✓ Open\"\n    };\n  }\n  \n  // Check if player has the required item\n  const hasRequiredItem = hasItem(currentPlayer, requiredItem);\n  \n  if (!hasRequiredItem) {\n    // No access\n    return {\n      hasAccess: false,\n      message: strings?.[10171] || `You need ${requiredItem} to access this door.`,\n      floatingText: strings?.[10171] || \"No Access\"\n    };\n  }\n  \n  // Has access\n  return {\n    hasAccess: true,\n    message: strings?.[10170] || \"The door is open\",\n    floatingText: strings?.[10170] || \"✓ Access Granted\"\n  };\n}\n\n/**\n * Check if player can pass through a door\n * Used by movement system to override passable=false for doors\n * @param {Object} resource - The resource to check\n * @param {Object} currentPlayer - The current player object\n * @param {Function} updateStatus - Function to update status bar (optional)\n * @param {Object} strings - Localized strings object (optional)\n * @param {number} TILE_SIZE - Tile size for floating text (optional)\n * @returns {boolean} - Whether the player can pass through\n */\nexport function canPassThroughDoor(resource, currentPlayer, updateStatus, strings, TILE_SIZE) {\n  // Check if it's a door\n  if (resource.action !== 'door') return false;\n  \n  // Check door access\n  const accessResult = checkDoorAccess(resource, currentPlayer, strings);\n  \n  // If no access and we have updateStatus, show the message\n  if (!accessResult.hasAccess && updateStatus) {\n    updateStatus(accessResult.message);\n    if (TILE_SIZE && resource.x !== undefined && resource.y !== undefined) {\n      FloatingTextManager.addFloatingText(\n        accessResult.floatingText,\n        resource.x,\n        resource.y,\n        TILE_SIZE\n      );\n    }\n  }\n  \n  return accessResult.hasAccess;\n}\n\nexport default {\n  handleDoorClick,\n  canPassThroughDoor,\n  checkDoorAccess,\n  hasItem\n};"],"names":["hasItem","currentPlayer","itemType","_currentPlayer$invent","_currentPlayer$backpa","inventory","some","item","type","backpack","handleDoorClick","door","TILE_SIZE","updateStatus","strings","accessResult","checkDoorAccess","message","FloatingTextManager","addFloatingText","floatingText","x","y","requiredItem","requires","hasAccess","canPassThroughDoor","resource","action","undefined"],"sourceRoot":""}