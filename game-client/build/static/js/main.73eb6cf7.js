/*! For license information please see main.73eb6cf7.js.LICENSE.txt */
(()=>{"use strict";var e={14:(e,t,n)=>{n.d(t,{A:()=>k});var a=n(665),o=n(667),r=n(605),s=n(823);async function i(e){const t=async()=>{console.log(`[SAVE] NPC ${this.id}: Updating state to '${this.state}' at position (${this.position.x}, ${this.position.y})`),await o.Ay.updateNPC(e,this.id,{state:this.state,grazeEnd:this.grazeEnd,position:this.position})},n=s.A.getTiles(),a=s.A.getResources(),i=Object.values(o.Ay.getNPCsInGrid(e)||{});if(e=e||this.gridId,n&&a)if("processing"!==this.state)switch(this.state){case"idle":if(!await this.handleIdleState(n,a,i,4,(async()=>{this.state="stall",await t()})))return;break;case"hungry":{const e=Date.now();if(this.grazeEnd&&e>=this.grazeEnd){console.log(`\u23f3 Grazing already done \u2014 NPC ${this.id} skipping hungry.`),this.state="stall",await t();break}if(!this.targetGrassTile){const e=await this.findTileInRange("g",n,a);if(!Array.isArray(e)||0===e.length){console.warn(`No grass tiles found for NPC ${this.id}. Transitioning to idle.`),this.state="idle";break}const t=e.filter((e=>!a.some((t=>t.x===e.x&&t.y===e.y))));if(0===t.length){console.warn(`No unoccupied grass tiles found for NPC ${this.id}. Transitioning to idle.`),this.state="idle";break}t.sort(((e,t)=>(0,r.gd)(this.position,e)-(0,r.gd)(this.position,t))),this.targetGrassTile=t[0]}if(!this.targetGrassTile||"number"!==typeof this.targetGrassTile.x||"number"!==typeof this.targetGrassTile.y){console.warn(`\ud83d\udc04 [Hungry] NPC ${this.id} has invalid targetGrassTile. Roaming to unstuck.`),this.targetGrassTile=null,this.state="roam",await t();break}{const e=this.targetGrassTile.x-Math.floor(this.position.x),o=this.targetGrassTile.y-Math.floor(this.position.y);let r=null;if(0===e&&0===o){this.state="grazing",this.targetGrassTile=null,await t();break}if(e>0&&o>0?r="SE":e>0&&o<0?r="NE":e<0&&o>0?r="SW":e<0&&o<0?r="NW":e>0?r="E":e<0?r="W":o>0?r="S":o<0&&(r="N"),!r){console.warn(`NPC ${this.id} could not determine direction to grass tile.`),this.state="idle",this.targetGrassTile=null;break}if(!this.isMoving){this.isMoving=!0;const e=await this.moveOneTile(r,n,a,i);if(this.position.x=Math.floor(this.position.x),this.position.y=Math.floor(this.position.y),this.isMoving=!1,!e){console.warn(`NPC ${this.id} is stuck and cannot move toward the grass. Switching to idle.`),this.targetGrassTile=null,this.state="idle",await t();break}}Math.floor(this.position.x)===this.targetGrassTile.x&&Math.floor(this.position.y)===this.targetGrassTile.y&&(this.state="grazing",this.targetGrassTile=null,await t())}break}case"grazing":{const e=Date.now();this.grazeEnd||(this.grazeEnd=e+1e3*this.growTime,await t()),e>=this.grazeEnd&&(this.state="stall",await t());break}case"stall":{const r=o.Ay.getNPCsInGrid(e);if(!this.targetStall&&(this.targetStall=this.findNearestResource("stall",n,a),!this.targetStall)){console.log("No availalbe stall, returning to idle."),this.state="idle";break}if(!a.find((e=>e.x===this.targetStall.x&&e.y===this.targetStall.y))){console.warn(`Target stall at (${this.targetStall.x}, ${this.targetStall.y}) is no longer valid. Transitioning to idle.`),this.state="idle",this.targetStall=null;break}const s=this.targetStall.x-Math.floor(this.position.x),d=this.targetStall.y-Math.floor(this.position.y);let u=null;if(0!==s&&0!==d?s>0&&d>0?u="SE":s>0&&d<0?u="NE":s<0&&d>0?u="SW":s<0&&d<0&&(u="NW"):0!==s?u=s>0?"E":"W":0!==d&&(u=d>0?"S":"N"),!u&&Math.floor(this.position.x)!==this.targetStall.x&&Math.floor(this.position.y)!==this.targetStall.y){console.warn(`NPC ${this.id} could not determine direction to stall.`),this.state="idle",this.targetStall=null;break}if(!this.isMoving){this.isMoving=!0;const e=await this.moveOneTile(u,n,a,i);if(this.position.x=Math.floor(this.position.x),this.position.y=Math.floor(this.position.y),this.isMoving=!1,!e){console.warn(`NPC ${this.id} is stuck and cannot move toward the stall. Switching to idle.`),this.targetStall=null,this.state="idle",this.triedStall=!0,await t();break}await t()}if(Math.floor(this.position.x)===this.targetStall.x&&Math.floor(this.position.y)===this.targetStall.y){const n=Object.values(r||{}).filter((e=>{var t,n;return e.id!==this.id&&Math.floor(null===(t=e.position)||void 0===t?void 0:t.x)===this.targetStall.x&&Math.floor(null===(n=e.position)||void 0===n?void 0:n.y)===this.targetStall.y&&"graze"===e.action}));console.log(`\ud83d\udc2e NPC ${this.id} reached stall at (${this.targetStall.x}, ${this.targetStall.y}). Other animals at same position: ${n.length}`),n.length>0&&console.log("\ud83d\udc2e Multiple animals at stall - allowing all to process. Other animals:",n.map((e=>({id:e.id,type:e.type,state:e.state,grazeEnd:e.grazeEnd})))),this.state="processing",console.log(`\ud83d\udc2e\u2705 NPC ${this.id} transitioning to processing state. GrazeEnd: ${this.grazeEnd}`);try{var l;await t(),console.log(`\ud83d\udc2e\u2705 NPC ${this.id} state update to 'processing' sent to server`),await new Promise((e=>setTimeout(e,500)));const n=null===(l=o.Ay.getNPCsInGrid(e))||void 0===l?void 0:l[this.id];n&&"processing"!==n.state?(console.error(`\u274c State update verification failed! NPC ${this.id} state is ${n.state} instead of 'processing'`),this.state="processing",await t(),console.log(`\ud83d\udc2e\ud83d\udd04 Retried state update for NPC ${this.id}`),await new Promise((e=>setTimeout(e,500)))):console.log(`\ud83d\udc2e\u2705 Verified NPC ${this.id} is in processing state`)}catch(c){console.error(`\u274c Failed to update NPC ${this.id} to processing state:`,c)}}break}case"processing":this.grazeEnd&&Date.now()>=this.grazeEnd&&console.log(`\ud83d\udc2e NPC ${this.id} is in processing state and ready for collection. GrazeEnd: ${this.grazeEnd}`);break;case"emptystall":this.targetStall=null,this.grazeEnd=null,this.state="roam",await t();break;case"roam":await this.handleRoamState(n,a,i,(async()=>{this.grazeEnd?(console.log(`\ud83d\ude10 NPC ${this.id} completed roam but grazing NOT done. Going idle.`),this.state="idle"):(console.log(`\ud83c\udf31 NPC ${this.id} has no grazeEnd, transitioning to hungry.`),this.state="hungry"),await t()}));break;default:console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`)}else(!this.lastProcessingLog||Date.now()-this.lastProcessingLog>5e3)&&(console.log(`\ud83d\udc2e NPC ${this.id} is in processing state, waiting for collection. GrazeEnd: ${this.grazeEnd}`),this.lastProcessingLog=Date.now());else console.error(`Tiles or resources are missing for NPC ${this.id}.`)}var l=n(431);const c=async(e,t)=>{await o.Ay.updateNPC(t,e.id,{state:e.state,position:e.position})};async function d(e){const t=s.A.getTiles(),n=s.A.getResources(),a=Object.values(o.Ay.getNPCsInGrid(e)||{});if(e=e||this.gridId,t&&n)switch(this.state){case"idle":if(Object.values(l.A.getPlayersInGrid(e)||{}).some((e=>(0,r.gd)(e.position,this.position)<=this.range&&e.hp>0)))break;await this.handleIdleState(t,n,a,10,(async()=>{this.state="roam",await c(this,e)}));break;case"roam":console.log(`NPC ${this.id} is roaming.`);if(Object.values(l.A.getPlayersInGrid(e)||{}).some((e=>(0,r.gd)(e.position,this.position)<=this.range))){this.state="idle",await c();break}await this.handleRoamState(t,n,a,(()=>{this.state="idle"}));break;default:console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`)}else console.error(`Tiles or resources are missing for NPC ${this.id}.`)}var u=n(894);const p=async function(e){await o.Ay.updateNPC(e,this.id,{state:this.state,position:this.position})};async function m(e,t){const n=s.A.getTiles(),a=s.A.getResources(),r=Object.values(o.Ay.getNPCsInGrid(e)||{}),i=Object.values(l.A.getPlayersInGrid(e)||{});switch(this.state||(this.state="idle"),this.state){case"idle":this.pursueTimerStart=null,await this.handleIdleState(n,a,r,5,(async()=>{const t=i.filter((e=>{if(e.hp<=0)return!1;return h(this.position,e.position)<=this.range})),n=t[Math.floor(Math.random()*t.length)];n?(console.log(`NPC ${this.id} randomly chose PC ${n.username} within range. Entering 'pursue' state.`),this.targetPC=n,this.state="pursue",await p.call(this,e)):(console.log(`NPC ${this.id} did not detect any PCs within range. Entering 'roam' state.`),this.state="roam",await p.call(this,e))}));break;case"pursue":{var c;if(this.targetPC=i.find((e=>{var t;return e.playerId===(null===(t=this.targetPC)||void 0===t?void 0:t.playerId)})),this.targetPC=i.find((e=>{var t;return e.playerId===(null===(t=this.targetPC)||void 0===t?void 0:t.playerId)})),!this.targetPC){this.state="idle",this.pursueTimerStart=null,await p.call(this,e);break}this.pursueTimerStart||(this.pursueTimerStart=Date.now());const t=Date.now()-this.pursueTimerStart,o=h(this.position,null===(c=this.targetPC)||void 0===c?void 0:c.position),s=function(e,t){let n=null,a=1/0;return t.forEach((t=>{if(t.hp<=0)return;const o=h(e,t.position);o<a&&(a=o,n=t)})),n}(this.position,i);if(s&&s.playerId!==this.targetPC.playerId){o-h(this.position,s.position)>=2&&(console.log(`\ud83d\udd04 NPC ${this.id} switching target from ${this.targetPC.username} to much closer PC ${s.username}.`),this.targetPC=s)}if(o>2*this.range&&t>5e3){var d;console.log(`\ud83d\udc3a NPC ${this.id} gave up chasing ${null===(d=this.targetPC)||void 0===d?void 0:d.username}.`),this.state="idle",this.pursueTimerStart=null,this.targetPC=null,await p.call(this,e);break}console.log(`NPC ${this.id} is pursuing PC ${this.targetPC.username}.`),await this.handlePursueState(this.targetPC.position,n,a,r,i,(async()=>{this.state="attack",await p.call(this,e)}));break}case"attack":if(this.targetPC=i.find((e=>{var t;return e.playerId===(null===(t=this.targetPC)||void 0===t?void 0:t.playerId)})),this.targetPC=i.find((e=>{var t;return e.playerId===(null===(t=this.targetPC)||void 0===t?void 0:t.playerId)})),!this.targetPC){this.pursueTimerStart=null,this.state="idle",await p.call(e);break}if(this.targetPC.hp<=0||this.targetPC.iscamping){this.state="idle",await p.call(this,e);break}if(h(this.position,this.targetPC.position)>this.attackrange){this.state="pursue",await p.call(this,e);break}if(Math.floor(20*Math.random())+1+this.attackbonus>=this.targetPC.armorclass){const n=Math.floor(6*Math.random())+1+this.damage,a=-n;try{const o=Math.max(0,this.targetPC.hp+a);u.A.addFloatingText(`- ${n} \u2764\ufe0f\u200d\ud83e\ude79 HP`,this.targetPC.position.x,this.targetPC.position.y,t),l.A.updatePC(e,this.targetPC.playerId,{hp:o,lastUpdated:Date.now()})}catch(m){console.error(`Error applying damage to player ${this.targetPC.username}:`,m)}}else u.A.addFloatingText(503,this.targetPC.position.x,this.targetPC.position.y,t),setTimeout((()=>{this.state="attack"}),this.speed);break;case"roam":this.pursueTimerStart=null,await this.handleRoamState(n,a,r,(async()=>{this.state="idle",await p.call(this,e)}));break;default:console.warn(`Unhandled state: ${this.state}`)}}function h(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}async function f(e){const t=async()=>{await o.Ay.updateNPC(e,this.id,{state:this.state,position:this.position})},n=s.A.getTiles(),a=s.A.getResources(),r=Object.values(o.Ay.getNPCsInGrid(e)||{});if(e=e||this.gridId,n&&a)switch(this.state){case"idle":await this.handleIdleState(n,a,r,5,(async()=>{this.state="roam",await t()}));break;case"roam":await this.handleRoamState(n,a,r,(()=>{this.state="idle"}));break;default:console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`)}else console.error(`Tiles or resources are missing for NPC ${this.id}.`)}async function g(e){if(!o.Ay.getNPCsInGrid(e))return void console.warn(`GridState unavailable for gridId ${e}.`);const t=o.Ay.getNPCsInGrid(e),n=Object.values(t||{}),a=l.A.getPlayersInGrid(e),s=Object.values(a||{}),i=this.position.x,c=this.position.y;switch(this.state){case"idle":s.some((e=>(0,r.gd)(e.position,this.position)<this.range))&&(console.log(`[Spawner] ${this.type} detected PCs nearby. Transitioning to spawn state.`),this.state="spawn",await o.Ay.saveGridStateNPCs(e));break;case"spawn":if(n.filter((e=>e.type===this.requires)).length>=this.qtycollected)return console.log(`[Spawner] Max ${this.requires} reached (${this.qtycollected}). Returning to idle.`),this.state="idle",void await o.Ay.saveGridStateNPCs(e);if(!this.nextspawn||Date.now()>=this.nextspawn){console.log(`[Spawner] Spawning new ${this.requires} at (${this.position.x}, ${this.position.y}).`);const t={x:this.position.x,y:this.position.y};await o.Ay.spawnNPC(e,{type:this.requires},t),this.nextspawn=Date.now()+1e3*this.speed,await o.Ay.saveGridStateNPCs(e)}else console.log("[Spawner] Waiting for next spawn cycle.");s.some((e=>(0,r.gd)(e.position,this.position)<this.range))||(console.log("[Spawner] No PCs nearby. Returning to idle."),this.state="idle",await o.Ay.saveGridStateNPCs(e));break;default:console.warn(`Unhandled state for NPC ${this.id}: ${this.state}`)}this.position.x===i&&this.position.y===c||console.error(`[Spawner] ERROR: Spawner ${this.id} moved from (${i}, ${c}) to (${this.position.x}, ${this.position.y})!`)}async function y(e){const t=s.A.getTiles(),n=s.A.getResources();Object.values(o.Ay.getNPCsInGrid(e)||{});if(e=e||this.gridId,t&&n)if("idle"===this.state);else console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`);else console.error(`Tiles or resources are missing for NPC ${this.id}.`)}async function v(e){const t=s.A.getTiles(),n=s.A.getResources();Object.values(o.Ay.getNPCsInGrid(e)||{});if(e=e||this.gridId,t&&n)if("idle"===this.state);else console.warn(`NPC ${this.id} is in an unhandled state: ${this.state}`);else console.error(`Tiles or resources are missing for NPC ${this.id}.`)}class b{constructor(e,t,n,a,o){var r;if(console.log("NPC constructor: properties:",a),console.log("NPC constructor: gridId:",o),console.log(`NPC constructor: ID=${e}, type=${t}, grazeEnd=`,a.grazeEnd),!a||"object"!==typeof a)throw console.error(`Invalid properties passed to NPC constructor for type ${t}:`,a),new Error("NPC constructor requires valid properties.");this.updateInterval=a.updateInterval||1e3,this.id=e,this.type=t,this.position={x:Math.floor(n.x),y:Math.floor(n.y)},this.symbol=a.symbol,this.hp=a.hp||0,this.output=a.output,this.maxhp=a.maxhp||0,this.range=a.range,this.action=a.action,this.state="idle",this.speed=a.speed,this.growTime=a.growtime||0,this.processingStartTime=void 0,this.nextspawn=null!==(r=a.nextspawn)&&void 0!==r?r:"spawn"===this.action?Date.now()+5e3:null,this.grazeEnd=a.grazeEnd||null,this.lastUpdated=Date.now(),this.gridId=a.gridId||o,Object.assign(this,a),console.log(`\u2705 NPC ${this.id} constructed at position (${this.position.x}, ${this.position.y}) with state: ${this.state}`)}update(e,t,n,a){e-this.lastUpdated<this.updateInterval||(this.processState(t,n,a),this.lastUpdated=e)}async processState(e,t,n){try{switch(this.action){case"graze":await this.handleFarmAnimalBehavior(t);break;case"pet":break;case"quest":await this.handleQuestGiverBehavior(t);break;case"trade":await this.handleTraderBehavior(t);break;case"worker":await this.handleWorkerBehavior(t);break;case"heal":await this.handleHealBehavior(t);break;case"attack":await this.handleEnemyBehavior(t,n);break;case"spawn":await this.handleSpawnBehavior(t);break;default:console.warn(`Unhandled NPC action: ${this.action}`)}}catch(a){console.error(`Error in NPC ${this.id} processState:`,a)}}async handleIdleState(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};if(this.idleTimer||(this.idleTimer=0),this.idleTimer++,this.idleTimer>=a){this.idleTimer=0;const a=["N","S","E","W","NE","SE","SW","NW"].filter((a=>{const{x:o,y:r}=this.getAdjacentTile(a);return this.isValidTile(o,r,e,t,n)}));if(a.length>0){const o=a[Math.floor(Math.random()*a.length)];await this.moveOneTile(o,e,t,n)&&console.log(`\ud83d\udeb6 NPC ${this.id} moved in idle to (${this.position.x}, ${this.position.y})`)}return o(),!0}return!1}async handleRoamState(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this.roamSteps=this.roamSteps||0;const o=this.range||4;if(!this.currentDirection){const e=["N","S","E","W","NE","SE","SW","NW"];this.currentDirection=e[Math.floor(Math.random()*e.length)]}const r=({N:["N","NE","NW"],S:["S","SE","SW"],E:["E","NE","SE"],W:["W","NW","SW"],NE:["NE","N","E"],SE:["SE","S","E"],SW:["SW","S","W"],NW:["NW","N","W"]}[this.currentDirection]||[this.currentDirection]).filter((a=>{const{x:o,y:r}=this.getAdjacentTile(a);return this.isValidTile(o,r,e,t,n)}));if(r.length>0){const a=r[Math.floor(Math.random()*r.length)];await this.moveOneTile(a,e,t,n),this.roamSteps++}else this.currentDirection=null,console.warn(`\ud83d\udc04 NPC ${this.id} found no valid roam directions this step.`);(this.roamSteps>=o||0===r.length)&&(this.roamSteps=0,this.currentDirection=null,a())}async handlePursueState(e,t,n,a,o,s){const i=e.x-this.position.x,l=e.y-this.position.y;let c=null;if(Math.abs(i)>Math.abs(l)?c=i>0?"E":"W":0!==l&&(c=l>0?"S":"N"),Math.abs(i)===Math.abs(l)&&(i>0&&l>0?c="SE":i>0&&l<0?c="NE":i<0&&l>0?c="SW":i<0&&l<0&&(c="NW")),!c)return;if(!await this.moveOneTile(c,t,n,a))return console.warn(`\ud83d\udeab NPC ${this.id} couldn't move toward target. Stuck? Returning to idle.`),this.state="idle",this.pursueTimerStart=null,void(this.targetPC=null);const d=(0,r.gd)(this.position,e);console.log(`\ud83c\udfaf NPC ${this.id} distance to player: ${d} | range: ${this.attackrange}`),d<=this.attackrange&&(this.state="attack",await s())}async moveOneTile(e,t,n,o){if("spawn"===this.action)return console.warn(`Spawner ${this.id} cannot move!`),!1;const r={N:{x:0,y:-1},S:{x:0,y:1},E:{x:1,y:0},W:{x:-1,y:0},NE:{x:1,y:-1},SE:{x:1,y:1},SW:{x:-1,y:1},NW:{x:-1,y:-1}}[e];if(!r)return console.error(`Invalid direction: ${e}`),!1;const s=Math.floor(this.position.x+r.x),i=Math.floor(this.position.y+r.y);if(!this.isValidTile(s,i,t,n,o))return console.warn(`NPC ${this.id} cannot move to invalid tile (${s}, ${i}).`),!1;const l=performance.now(),c=this.position.x,d=this.position.y;return new Promise((e=>{const t=()=>{const n=performance.now()-l;if(n>=1200)return this.position.x=s,this.position.y=i,a.Ay&&a.Ay.connected&&a.Ay.emit("npc-moved",{gridId:this.gridId,npcId:this.id,newPosition:{x:s,y:i},emitterId:a.Ay.id}),void e(!0);const o=n/1200;this.position.x=c+o*(s-c),this.position.y=d+o*(i-d),requestAnimationFrame(t)};requestAnimationFrame(t)}))}getAdjacentTile(e){const t={N:{x:0,y:-1},S:{x:0,y:1},E:{x:1,y:0},W:{x:-1,y:0},NE:{x:1,y:-1},SE:{x:1,y:1},SW:{x:-1,y:1},NW:{x:-1,y:-1}}[e];return t?{x:this.position.x+t.x,y:this.position.y+t.y}:(console.error(`Invalid direction: ${e}`),{x:this.position.x,y:this.position.y})}isValidTile(e,t,n,a,o){if(e=Math.floor(e),t=Math.floor(t),!n||!Array.isArray(n))return!1;if(!a||!Array.isArray(a))return!1;if(e<0||t<0||t>=n.length||e>=n[0].length)return!1;if(!(!0===this[`validon${n[t][e]}`]))return!1;const r=a.find((n=>n.x===e&&n.y===t));if(r&&!r.passable)return!1;if(!Array.isArray(o))return console.warn("NPC list is invalid or undefined. Skipping NPC collision check."),!0;return!o.some((n=>Math.floor(n.position.x)===e&&Math.floor(n.position.y)===t))||(console.warn(`Tile (${e}, ${t}) is already occupied by another NPC.`),!1)}async findTileInRange(e,t,n){const a=Math.floor(this.range||3),o=Math.floor(this.position.x),r=Math.floor(this.position.y);if(!t||0===t.length||!Array.isArray(t))return[];const s=[];for(let l=-a;l<=a;l++)for(let n=-a;n<=a;n++){var i;const a=o+l,c=r+n;a<0||c<0||c>=t.length||a>=(null===(i=t[c])||void 0===i?void 0:i.length)||t[c][a]===e&&s.push({x:a,y:c})}return console.log(`Found ${s.length} potential tiles for type "${e}".`),s}findNearestResource(e,t,n){if(!n||!Array.isArray(n)||0===n.length)return null;const a={x:Math.floor(this.position.x),y:Math.floor(this.position.y)},o=n.filter((t=>t.category===e&&"number"===typeof t.x&&"number"===typeof t.y));if(0===o.length)return null;o.sort(((e,t)=>{const n={x:Math.floor(e.x),y:Math.floor(e.y)},o={x:Math.floor(t.x),y:Math.floor(t.y)};return(0,r.gd)(a,n)-(0,r.gd)(a,o)}));return o[0]}}!function(e){e.prototype.handleFarmAnimalBehavior=i}(b),function(e){e.prototype.handleQuestGiverBehavior=d}(b),function(e){e.prototype.handleEnemyBehavior=m}(b),function(e){e.prototype.handleHealBehavior=f}(b),function(e){e.prototype.handleSpawnBehavior=g}(b),function(e){e.prototype.handleWorkerBehavior=y}(b),function(e){e.prototype.handleTraderBehavior=v}(b);const k=b},37:(e,t,n)=>{n.d(t,{s:()=>y,k:()=>v});var a=n(43),o=n(544);const r=JSON.parse('{"0":"Valley View [FR]","1":"Le serveur ne fonctionne pas.","3":"\ud83d\ude9c Terrain labour\xe9 avec succ\xe8s.","4":"\u26a0\ufe0f Vous n\'avez pas assez de ressources.","5":"\u2692\ufe0f Construction termin\xe9e avec succ\xe8s.","6":"\ud83d\udcb0 Objets vendus.","7":"\ud83c\udfe0 Ce domaine est inoccup\xe9.","8":"\ud83d\udeab Cette zone est interdite.","9":"La Vall\xe9e regorge de merveilles, et doit \xeatre explor\xe9e \xe0 pied.","10":"\ud83c\udfe0 Domaine de [username].","11":"\ud83c\udfe0 Domaine d\'un propri\xe9taire inconnu.","12":"Vue de la colonie. Selon votre position, vous devrez peut-\xeatre faire d\xe9filer pour voir la ville.","13":"Vue de la fronti\xe8re.","14":"\ud83d\ude82 Bienvenue en ville.","15":"\ud83d\udc34 Vous avez besoin d\'un Cheval pour voyager ici. Visitez le Camp d\'Aventure en Ville.","16":"Vous \xeates dans la vall\xe9e.","17":"Vous ne poss\xe9dez pas de domaine ici.","18":"\ud83d\udeab Vous ne pouvez pas aller par l\xe0.","19":"\ud83c\udf92 Vous avez besoin d\'un sac \xe0 dos pour collecter des ressources loin de votre domaine. Achetez-en un au Camp d\'Aventure.","20":"\ud83d\udeab Pas assez de place dans l\'entrep\xf4t.","21":"\ud83c\udf92 Pas assez de place dans le sac \xe0 dos. Ouvrez l\'inventaire pour g\xe9rer son contenu.","22":"Objets achet\xe9s.","23":"\u26a0\ufe0f Vous ne pouvez pas construire cela ici.","24":"\ud83c\udfaf Hors de port\xe9e","25":"\ud83c\udf92 Rien dans le sac \xe0 dos.","26":"\ud83c\udf92 Vous devez \xeatre \xe0 votre domaine pour vider votre sac \xe0 dos.","27":"\u26fa\ufe0f Vous n\'avez pas de tente.","28":"\u26fa\ufe0f Vous campez maintenant.","29":"\u26a0\ufe0f \u26fa\ufe0f \xc9chec lors du camping / d\xe9camping.","30":"\u26fa\ufe0f Vous ne campez plus.","31":"\u26fa\ufe0f Impossible d\'attaquer en campant.","32":"\u26fa\ufe0f Vous devez d\xe9camper d\'abord.","33":"\ud83d\udce6 Objets d\xe9plac\xe9s dans l\'entrep\xf4t.","34":"\ud83c\udf92 Sac \xe0 dos vid\xe9.","35":"Vous avez besoin d\'un(e) ","36":"Vous avez utilis\xe9 un(e) ","50":"\ud83d\udeab Ce nom d\'utilisateur est d\xe9j\xe0 pris.","70":"Session expir\xe9e","71":"Vous \xeates absent depuis un moment. Actualiser garantit le bon fonctionnement de votre session.","72":"Cette page s\'actualisera automatiquement dans 30 secondes sauf si vous le faites maintenant.","73":"\ud83d\udd04 Actualiser maintenant","74":"\ud83c\udf92 Un sac \xe0 dos est n\xe9cessaire pour poss\xe9der une tente.","75":"Vous ne poss\xe9dez pas de sac \xe0 dos. Vous pouvez en acheter un au Camp d\'Aventure en ville.","76":"Votre entrep\xf4t est vide.","77":"Votre sac \xe0 dos est vide.","78":"G\xe9rer le sac \xe0 dos","80":"Acquis ","90":"\ud83d\udeab Ce n\'est pas votre domaine.","91":"\ud83d\udc34 Cheval requis.","96":"Vous avez des commentaires ?","97":"@ Nous contacter par e-mail","98":"\u23f3 Chargement ...","99":"\u26a0\ufe0f Une erreur s\'est produite.","100":"CHA\xceNES DE VOYAGE :","101":"\ud83d\udc34 Voyage vers la maison... veuillez patienter.","102":"\ud83d\udc34 Voyage vers la ville... veuillez patienter.","103":"\ud83d\udc34 Voyage vers la prochaine destination... veuillez patienter.","104":"\ud83d\udeab Il n\'y a pas encore de ville dans cette colonie.","105":"\u26a0\ufe0f Un probl\xe8me est survenu lors du voyage.","106":"\ud83d\udeab Vous ne pouvez pas voyager au-del\xe0 de la fronti\xe8re.","110":"\u27a1\ufe0f Marchez sur les panneaux pour les utiliser","111":"Bienvenue en ville.","112":"Bienvenue \xe0 la maison.","120":"Vous n\'avez plus de d\xe9placements de domaine disponibles.","121":"Vous avez d\xe9plac\xe9 votre domaine avec succ\xe8s.","122":"Vous ne pouvez pas d\xe9m\xe9nager dans la vall\xe9e !","123":"Vous ne pouvez pas d\xe9m\xe9nager en ville !","124":"Ce domaine est d\xe9j\xe0 occup\xe9.","125":"O\xf9 souhaitez-vous d\xe9m\xe9nager ?","130":"S\xe9lectionnez votre langue :","131":"Confirmer","150":"TRADE STALL STRINGS:","151":"Vous ne pouvez pas remplir l\'\xe9tal d\'un autre joueur.","152":"Vous n\'avez pas assez d\'argent pour acheter cet objet.","153":"vend :","154":"vendent","155":"Transaction \xe9chou\xe9e. Cet objet a d\xe9j\xe0 \xe9t\xe9 vendu.","156":"Vide (ajouter des objets)","157":"Achet\xe9 par","158":" limite par commande.","159":"Pr\xeat \xe0 vendre","160":"Articles \xe0 vendre","161":"Article","162":"Disponible","163":"Prix","164":"Quantit\xe9","165":"Tout","166":"Ajouter","170":"Emplacement de commerce d\xe9verrouill\xe9","171":"Pass Or Requis","172":"Verrouill\xe9","173":"Limite de","174":"pour Vendre","175":"D\xe9bloquer pour","176":"Bois","177":"Besoin de","178":"pour d\xe9bloquer cet emplacement","180":"INVENTORY STRINGS:","181":"\ud83d\udce6 Entrep\xf4t","182":"\ud83c\udf92 Sac \xe0 dos","183":"Capacit\xe9 : ","184":"G\xe9rer l\'entrep\xf4t","185":"Quantit\xe9","186":"Montant","187":"Ajouter \xe0 l\'entrep\xf4t","188":"Jeter","189":"Tout ajouter \xe0 l\'entrep\xf4t","190":"Tout jeter","191":"Article","192":"Action","193":"Jeter les articles","194":"Agrandir l\'Entrep\xf4t","195":"Agrandir le Sac \xe0 dos au Camp d\'Aventure en Ville.","199":"Capacit\xe9 quasi illimit\xe9e avec le Pass Or (entre autres avantages).","200":"QUESTS","201":"\u2705 Qu\xeate termin\xe9e. Vous avez re\xe7u votre r\xe9compense.","202":"\u2705 Qu\xeate accept\xe9e.","203":"Aucune qu\xeate active pour le moment.","204":"propose ces qu\xeates :","205":"n\'a aucune qu\xeate pour vous pour le moment.","206":"Retournez voir le PNJ qui vous a donn\xe9 cette qu\xeate pour recevoir votre r\xe9compense.","207":"En cours","208":"Obtenir la r\xe9compense","209":"Accepter la qu\xeate","299":"FARMING STRINGS:","300":"\u2705 Ajout\xe9","301":"\ud83d\ude9c Labour\xe9","302":"\ud83d\ude9c Plant\xe9","303":"\ud83d\ude9c Doit \xeatre plant\xe9 sur de la terre","304":"\ud83d\ude9c Impossible de planter ici","305":"\u26a0\ufe0f Pas assez de ressources","306":"\u26a0\ufe0f Impossible de construire ici","310":"Vous devez labourer la terre pour planter.","311":"Vos animaux de ferme auront besoin de beaucoup d\'herbe pour pa\xeetre.","312":"Le pavage peut \xeatre utile pour contr\xf4ler les animaux errants.","313":"","315":"S\xe9lectionnez les cultures \xe0 r\xe9colter :","316":"Tout s\xe9lectionner","317":"Tout d\xe9s\xe9lectionner","318":"Collecter","319":"S\xe9lectionnez les animaux \xe0 collecter :","320":"Impossible de terraformer ici.","340":"Non disponible \xe0 moins d\'\xeatre \xe0 pied.","400":"BUYING, CRAFTING, SKILLS, HEALING, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Vous avez d\xe9j\xe0 tous vos points de vie.","402":"\u26a0\ufe0f ressources.","403":"\u26a0\ufe0f Votre inventaire est plein.","404":"Travail en cours...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Points de vie soign\xe9s de +","410":"\ud83c\udfd5\ufe0f Pour utiliser une tente achet\xe9e, cliquez sur votre ic\xf4ne de joueur.","420":"\xe9changera avec vous :","421":"Utilis\xe9 dans :","422":"Valeur de base :","423":"Aucun \xe9change disponible.","424":"Aucune recette disponible.","425":"Vendre pour remboursement.","426":"Cultures de d\xe9part co\xfbteuses, mais utiles si vous \xeates \xe0 court :","427":"Achetez la comp\xe9tence de R\xe9colte group\xe9e du Fermier pour r\xe9colter toutes les cultures en une seule fois.","428":"Cliquez pour r\xe9colter instantan\xe9ment toutes les cultures.","429":"Vous n\u2019avez aucune culture \xe0 r\xe9colter.","430":"Comp\xe9tences du Fermier :","431":"Achetez la comp\xe9tence de Collecte animale group\xe9e du Fermier pour collecter tous les animaux d\u2019un coup.","432":"Achetez la comp\xe9tence de B\xfbcheronnage du Fermier pour couper plusieurs arbres \xe0 la fois et r\xe9colter le bois.","433":"Achetez Am\xe9lioration du b\xfbcheronnage pour augmenter le nombre d\u2019arbres coup\xe9s en une fois.","434":"Cliquez pour collecter instantan\xe9ment tous les animaux.","435":"Cliquez pour couper instantan\xe9ment plusieurs arbres et r\xe9colter du bois.","436":"Vous n\u2019avez aucun animal \xe0 collecter.","437":"Vous n\u2019avez aucun arbre \xe0 couper.","438":"Retirer la culture","439":"Culture r\xe9cup\xe9r\xe9e.","440":"Fabrication commenc\xe9e ","441":"\u231b\ufe0f  En cours ...","442":"\ud83c\udfe0 R\xe9parations de la maison termin\xe9es !","450":"\u274c Impossible de payer les frais de fabrication","451":"\u26a0\ufe0f Fabrication d\xe9j\xe0 en cours","452":"\u274c \xc9chec du d\xe9marrage de la fabrication.","453":"\u274c \xc9chec de la r\xe9paration de la maison.","454":"\u274c \xc9chec de l\u2019embauche de l\u2019ouvrier.","455":" est arriv\xe9(e) !","456":"Plus aucun ouvrier disponible.","457":"Pr\xeat !","458":"Temps : ","459":"Instantan\xe9","460":"N\xe9cessite : ","461":"Co\xfbte : ","462":"Donne : ","463":"Soigne : ","464":"Achetez l\'Artisanat en masse pour collecter depuis toutes les stations d\'artisanat pr\xeates en une seule fois.","465":"Cliquez pour collecter instantan\xe9ment depuis toutes les stations d\'artisanat pr\xeates.","466":"Vous n\'avez aucune station d\'artisanat pr\xeate pour la collecte.","467":"Fabrication en masse","468":"Red\xe9marr\xe9 : ","469":"Collecte d\'animaux termin\xe9e : ","470":"Impossible de voyager maintenant, des actions agricoles sont en cours.","471":"\u26a0\ufe0f D\xe9j\xe0 en cours.","472":"R\xe9colte termin\xe9e : ","475":"Red\xe9marrer ?","476":"Station","477":"Vos ouvriers agricoles sont occup\xe9s...","478":"\ud83d\ude9c Au travail","490":"Vendre pour remboursement (Dev seulement)","500":"COMBAT STRINGS","501":"\ud83c\udfaf Hors de port\xe9e.","502":"\ud83c\udfaf Touch\xe9 !","503":"\u274c Rat\xe9","504":"\ud83d\udc80 Tu\xe9","505":"\u26a0\ufe0f Erreur","510":"\u2764\ufe0f\u200d\ud83e\ude79 Vous subissez des d\xe9g\xe2ts...","511":"\u2764\ufe0f\u200d\ud83e\ude79 Votre Sant\xe9 : ","512":"Votre Sant\xe9 Indisponible","600":"CHA\xceNES DE RELATION :","601":"Relation :","602":"Vous avez rencontr\xe9","603":"Vous \xeates maintenant ami avec","604":"Vous avez un coup de c\u0153ur pour","605":"Vous \xeates amoureux de","606":"Vous et","607":"\xeates maintenant mari\xe9s.","608":"\xeates maintenant rivaux.","609":"est d\xe9sormais votre rival \xe0 cause de cela.","610":"ne va pas \xeatre tr\xe8s content de cela...","611":"ne vont pas \xeatre tr\xe8s contents de cela...","612":"sera tr\xe8s heureux de cela.","613":"approuvent cela.","614":"et","615":"Votre relation avec","616":"a chang\xe9.","620":"Vous devez vous rapprocher pour interagir avec ce personnage.","630":"Saluer","631":"Parler","632":"\xc9changer","633":"Qu\xeate","634":"Rencontr\xe9","635":"Ami","636":"Mari\xe9","637":"Rival","638":"Amour","639":"B\xe9guin","640":"Plaisanter","641":"Se lier d\'amiti\xe9","642":"Insulter","643":"C\xe2liner","644":"Embrasser","645":"S\'excuser","646":"Offrir un cadeau","647":"Complimenter","648":"Flatter","649":"D\xe9clarer son amour","650":"Demander en mariage","651":"Narguer","652":"Taquiner","653":"Divorcer","700":"CHA\xceNES FTUE :","701":"\ud83d\ude00 Bienvenue \xe0 Valley View","702":"Bienvenue, voyageur ! Vous \xeates arriv\xe9 \xe0 Valley View, une terre frontali\xe8re pleine d\'opportunit\xe9s, de myst\xe8res et d\'aventures.","705":"Aspiration","706":"Valley View est un grand monde. C\'est \xe0 vous de d\xe9cider comment vous voulez passer votre temps. Laquelle de ces aspirations convient le mieux \xe0 votre style de jeu ? (Ce choix ne limitera en aucune fa\xe7on vos options.)","721":"\ud83e\udd20 Rencontrez Kent le Gestionnaire de Ferme","722":"Commen\xe7ons par le d\xe9but ! R\xe9coltez du \ud83c\udf3e Bl\xe9 et vendez-le au \ud83d\udce5 Comptoir Commercial pour gagner de l\'\ud83d\udcb0 Argent.","723":"\ud83d\ude9c Commencez \xe0 Cultiver","724":"Bien jou\xe9, vous gagnez de l\'argent maintenant, alors commencez \xe0 cultiver ! Plantez des cultures en utilisant le panneau \ud83d\ude9c Agriculture, r\xe9coltez-les et vendez.","727":"\ud83d\udc75\ud83c\udffb Engagez la Berg\xe8re","728":"Bon travail ! Maintenant engagez la \ud83d\udc75\ud83c\udffb Berg\xe8re depuis la \ud83c\udfe0 Ferme, et elle aidera \xe0 apporter de la \ud83d\udc2e vie animale \xe0 la ferme, pour que vous puissiez continuer \xe0 d\xe9velopper votre entreprise.","729":"\ud83d\udc2e \xc9levage d\'Animaux","730":"Bienvenue \ud83d\udc75\ud83c\udffb Berg\xe8re ! Maintenant visitez le panneau \ud83d\udc2e Animaux pour acqu\xe9rir une vache. Les vaches ont besoin d\'\ud83d\udfe9 herbe pour pa\xeetre, alors placez-les soigneusement. Et vous avez d\xe9j\xe0 votre premi\xe8re \ud83d\udfeb \xc9table ; c\'est l\xe0 que vous pourrez produire du lait une fois la vache rassasi\xe9e.","731":"\u26cf\ufe0f Fa\xe7onnez le Terrain","732":"Les cultures ont besoin de terre. Les vaches et moutons ont besoin d\'\ud83d\udfe9 herbe. Le pavage peut aider \xe0 contenir les mouvements des gens et des animaux. Utilisez les \u26cf\ufe0f Outils pour paver le terrain \xe0 votre go\xfbt, et apprenez la comp\xe9tence \ud83e\ude93 hache pour couper des arbres pour du bois.","733":"\u2692\ufe0f Constructeur","734":"Vous ma\xeetrisez la \ud83e\ude93 hache -- excellent ! Le bois est utile pour plusieurs choses, notamment construire des stations d\'artisanat. Vous pouvez aussi vous frayer un chemin jusqu\'\xe0 la \ud83d\ude82 Gare au bord de votre Propri\xe9t\xe9, o\xf9 vous pourrez \xe9ventuellement voyager en Ville.","737":"Temps d\'Explorer","738":"Votre Propri\xe9t\xe9 fait partie d\'une Colonie plus grande avec d\'autres joueurs partageant une grande Fronti\xe8re. D\xe9zoomez (+ et -) pour voir toute la Colonie et la Fronti\xe8re. Utilisez les \u27a1\ufe0f Panneaux pour voyager, ou marchez jusqu\'au bord de n\'importe quelle carte. AMUSEZ-VOUS \xc0 JOUER \xc0 VALLEY VIEW !","750":"\ud83d\ude9c Fermier","751":"Cultivez votre ferme, faites pousser des cultures, occupez-vous des animaux et fabriquez des biens \xe0 vendre et \xe9changer avec d\'autres joueurs. Investissez dans les comp\xe9tences agricoles et artisanales pour augmenter vos profits.","752":"\u2694\ufe0f Aventurier","753":"Aventurez-vous dans la Vall\xe9e pour des ressources et des objets rares. Combattez des animaux et des cr\xe9atures, d\xe9couvrez des lieux cach\xe9s et rencontrez des personnages magiques. Investissez dans les comp\xe9tences de combat pour devenir un combattant redoutable.","754":"\ud83c\udfdb\ufe0f Politicien","755":"Pr\xe9sentez-vous comme Maire, fixez le taux d\'imposition et gagnez des revenus fiscaux pour vous-m\xeame. Investissez dans des b\xe2timents communautaires pour toute la Ville, comme des H\xf4pitaux, des \xc9coles et des Biblioth\xe8ques, et aidez votre colonie \xe0 prosp\xe9rer.","795":"Passer le Tutoriel","796":"OK","797":"Retour","798":"Jouer","800":"PLUS DE CHA\xceNES DE STATION D\'ARTISANAT :","801":"Acqu\xe9rez la comp\xe9tence ","802":" au ","803":" pour augmenter la production de cette station de ","805":"Votre comp\xe9tence ","806":" augmente la production de base de cette station de ","810":"Vous pouvez aussi acheter cette comp\xe9tence directement : ","820":"Produit : ","821":"Quantit\xe9 de base : ","899":"DEBUG STRINGS:","900":"Debug : Inventaire vid\xe9.","901":"Debug : Historique des qu\xeates r\xe9initialis\xe9.","902":"Debug : Ressources ajout\xe9es.","903":"Debug : Grille r\xe9initialis\xe9e avec succ\xe8s.","904":"Debug : Comp\xe9tences ajout\xe9es.","905":"Debug : Comp\xe9tences et pouvoirs r\xe9initialis\xe9s.","906":"Debug : Statistiques de combat r\xe9initialis\xe9es.","999":"PANEL UI STRINGS:","1000":"[Description needed]","1001":"Les ressources collect\xe9es \xe0 la ferme vont dans l\'entrep\xf4t. Les ressources collect\xe9es en ville ou dans la vall\xe9e iront dans le sac \xe0 dos. Pour acheter un sac \xe0 dos, visitez le Magasin en ville. Pour vider le sac \xe0 dos ou l\'entrep\xf4t, utilisez les boutons G\xe9rer.","1002":"Construction : Construisez des ateliers sur votre domaine en utilisant les ressources de votre entrep\xf4t.","1003":"Les animaux achet\xe9s appara\xeetront \xe0 votre ic\xf4ne de joueur et commenceront imm\xe9diatement leur vie sur le domaine.","1004":"Labourez la terre pour planter des cultures. Plantez de l\'herbe pour nourrir les animaux de la ferme.","1005":"Acqu\xe9rez des comp\xe9tences et am\xe9liorations pour am\xe9liorer vos attributs. Explorez la ville pour d\xe9couvrir d\'autres moyens d\'en obtenir.","1006":"G\xe9rez toutes vos qu\xeates en cours ici. Cherchez des donneurs de qu\xeates sur votre domaine, en ville, ou m\xeame dans la vall\xe9e.","1007":"Les gouvernements \xe0 Valley View se forment au niveau des colonies. Le maire \xe9lu met en place des politiques et construit des b\xe2timents pour aider la communaut\xe9 \xe0 prosp\xe9rer.","1008":"Achetez et vendez avec d\'autres joueurs. Si aucun joueur n\'ach\xe8te vos articles avant l\'expiration du minuteur, vendez-les au jeu pour une fraction de leur valeur de base.","1009":"[Crafting description]","1010":"[Mailbox description]","1011":"Cet enclos est vide. Assurez-vous que les animaux ont de l\'herbe \xe0 manger, ils viendront alors \xe0 l\'enclos pour \xeatre r\xe9colt\xe9s.","1012":"Les \xe9lections ont lieu au tribunal. Ici, les maires peuvent fixer le taux d\'imposition et renommer la colonie.","1013":" ","1014":" ","1015":"Le jeu se d\xe9roule au fil des saisons changeantes.","1016":" ","1017":"Visitez la banque pour \xe9changer des objets contre de l\'argent, y compris des objets rares comme l\'or et l\'argent. Revenez r\xe9guli\xe8rement \xe0 la banque pour de nouvelles offres.","1018":"","1019":"[Profile description]","1021":"\xa9 Valley View Studios, 2025, All Rights Reserved.","1022":"[Train description]","1023":"Les ouvriers vous aident \xe0 g\xe9rer votre ferme. Embauchez-les \xe0 la Ferme.","1024":"[Combat description]","1025":"[Shop description]","1026":"Gagner et d\xe9penser de l\'Argent.","1027":"Voici les avantages d\'un compte Or.","1028":" ","1029":"[Panneau des animaux]","1030":"[Panneau des cultures]","1031":"Achetez des d\xe9corations pour votre propri\xe9t\xe9. Vous pourrez les revendre pour un remboursement complet.","1032":"La maison de ferme est l\u2019endroit o\xf9 vous pouvez embaucher des personnes pour vous aider \xe0 g\xe9rer votre propri\xe9t\xe9.","1033":"Fa\xe7onnez la terre avec ces outils. Les animaux ont besoin d\u2019herbe pour pa\xeetre, les cultures ont besoin de terre pour pousser. Le pavage peut \xeatre utile pour contr\xf4ler les d\xe9placements des animaux et des personnages.","1034":"Gagner et d\xe9penser des Gemmes.","1035":"Ceci est votre collection de Troph\xe9es \xe0 vie.","1101":"Inventaire","1102":"\u2692\ufe0f Construire","1103":"\ud83d\uded2 Acheter","1104":"\ud83d\ude9c Agriculture","1105":"\ud83d\udcaa Comp\xe9tences","1106":"\u2753 Qu\xeates","1107":"\ud83c\udfdb\ufe0f Gouvernement","1108":"\ud83d\udce5 \xc9tal de commerce","1109":"Artisanat","1110":"\ud83d\udcea Bo\xeete aux lettres","1111":"\ud83d\udc3e Animaux","1112":"\ud83c\udfdb\ufe0f Tribunal","1113":"Personnage assistant","1114":"\ud83d\ude00 Personnage joueur","1115":"\ud83d\uddd3\ufe0f Saison","1116":"\ud83d\udd01 Marchand","1117":"\ud83c\udfe6 Banque","1118":"\ud83d\udd79\ufe0f Comment jouer","1119":"\ud83d\ude00 Profil","1120":"\ud83d\udc1e D\xe9bogage","1121":"\ud83d\ude00 Bienvenue","1122":"\ud83d\ude82 Train","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Ouvriers agricoles","1124":"\u2694\ufe0f Combat","1125":"\ud83d\uded2 Boutique","1126":"\ud83d\udcb0 \xc0 propos de l\'argent","1127":"\u2b50\ufe0f Pass Or","1128":"\ud83e\ude91 D\xe9corations","1129":"\ud83d\udc3e Animaux","1130":"\ud83c\udf31 Cultures et arbres","1131":"\ud83e\udeb4 D\xe9corations","1132":"\ud83c\udfe0 Maison de ferme","1133":"\u26cf\ufe0f Outils","1134":"\ud83d\udc8e Gemmes","1135":"\ud83c\udfc6 Troph\xe9es","1200":"TRADER STORY STRINGS","1201":"Ah, the forest hides many secrets\u2026 and I? I\u2019ve stolen a few. These Gems\u2014they\u2019re not mine, but Titania has more than she needs. You\u2019ve something I crave: Olive Bread, warm and rich. Trade with me, and I might whisper tales of glowing eyes in the dark, wings that shimmer at moonrise, and dragons that speak in riddles. Keep an ear open, and a dagger close.","1202":"My bounty is as boundless as the sea, my love as deep\u2014but he is gone, and all that remains is a portrait and pain. Angelo took both. Bring me Romeo\u2019s likeness, torn from my chamber, and I\u2019ll give you Tulips red as the blood spilt on Verona\u2019s stones. Let this be our new balcony: you below, bearing justice.","1203":"Give me life, give me love, but most of all\u2014give me Port! In exchange, a sprig of Feverfew, dearer than gold to some, especially that wide-eyed Helena. Says she\u2019s after crowns and legends, poor girl. Me? I\u2019m after a full belly and a gentle nap. \u2018Thou art so fat-witted with drinking of old sack,\u2019 they once told me. Ha! They were not wrong.","1204":"Here\u2019s rosemary, for remembrance\u2014and nightshade, for regrets. My potions are not for the faint of will. With the right leaf, I can mend your limbs or muddle your tongue. \u2018I do remember an apothecary,\u2019 said a boy once, and he paid the price. But you? You look wiser. Bring me rare roots and bitter seeds, and I\u2019ll mix you something worth the danger.","1205":"Something is rotten, still. I feel it in the soil. I once ruled, loved, lost. Helena burned through me like summer lightning. And Leontes? He could not forgive the thaw. \u2018The lady doth protest too much,\u2019 they said\u2014let them. If you see Helena, tell her the roses know her name. If you see Leontes, tell him I have not forgotten the winter.","1206":"My grief is a statue\u2014silent, but never still. I buried my crown in snow the day Gertrude chose her garden over me. \u2018Exit, pursued by a bear\u2019? No, I fled myself. Now I wait, among stone and silence. Bring me what was once mine\u2014the King\u2019s Crown\u2014and I\u2019ll pay in Gold, more than the weight of memory. But beware: some thrones carry curses.","1207":"This bridge is mine, by Sycorax my mother.\u2019 Prospero tried to steal it with spells and smiles. They called me beast, but I am of earth and storm, born to wild truth. I trade bones for Silver, tokens of the dead for coin of the living. Touch nothing lightly in these woods. Bring me what others fear, and I shall make you rich\u2014or haunted.","1208":"","1301":"Comp\xe9tences \xe0 acheter :","1302":"Am\xe9liorations \xe0 acheter :","1303":"Comp\xe9tences poss\xe9d\xe9es :","1304":"Am\xe9liorations poss\xe9d\xe9es :","1305":"Vous n\'avez pas encore de comp\xe9tences.","1306":"Vous n\'avez pas encore d\'am\xe9liorations.","1400":"MODAL STRINGS","1401":"BANK MODAL","1402":"Ces offres sont valables pendant","1403":"Ach\xe8tera","1404":"pour","1405":"Aucune offre disponible.","1406":"Nouvelles offres dans","1407":"G\xe9n\xe9ration de nouvelles commandes. Merci de votre patience.","1408":"\u26a0\ufe0f Vous n\'avez pas assez d\'objets.","1409":"\u26a0\ufe0f Vous n\'avez pas assez de comp\xe9tences.","1410":"\u26a0\ufe0f Vous n\'avez pas assez d\'am\xe9liorations.","1500":"TOWN NEWS STRINGS:","1501":"Nouvelles de la colonie","1502":"Le maire actuel est","1503":", et le taux d\'imposition est","1504":"Voici ce qui se passe actuellement en ville :","1505":"C\'est la saison des \xe9lections et la campagne bat son plein. Passez au tribunal en ville pour vous pr\xe9senter comme maire.","1506":"Le vote pour le prochain maire a commenc\xe9. Votez au tribunal en ville.","1507":"Le train arrive, il ach\xe8te :","1508":"Le train part. \xc0 son retour, il ach\xe8tera :","1509":"Le train est l\xe0, il ach\xe8te :","1510":" ","1511":"Visitez la banque pour vendre de l\'or, de l\'argent et des diamants. La banque met actuellement \xe0 jour ses offres.","1512":"Il n\'y a actuellement pas de maire.","1513":"Le train part dans","1514":"\xc0 son retour, il ach\xe8tera :","1515":"Le taux d\'imposition est","1516":"La banque ach\xe8te actuellement :","1517":"Le train partira dans","1518":"Les votes de la derni\xe8re \xe9lection pour le maire sont en cours de comptage. R\xe9sultats attendus dans ","1600":"MAILBOX STRINGS:","1601":"Chargement des messages...","1602":"Vous n\'avez aucun message.","1603":"Re\xe7u","1604":"R\xe9cup\xe9rer","1605":"La plupart des messages seront supprim\xe9s apr\xe8s 14 jours. Les achats en boutique ne seront pas supprim\xe9s.","1606":"\ud83d\udcea Mailbox","1607":"\ud83d\uddd1\ufe0f Message supprim\xe9.","1700":"STORE STRINGS:","1701":"\ud83d\uded2 Store","1702":"Les achats seront livr\xe9s dans la bo\xeete de r\xe9ception.","1703":"\ud83d\ude4f Merci pour votre soutien ! Nous sommes une petite \xe9quipe avec peu de ressources, mais passionn\xe9s par la cr\xe9ation d\'un espace convivial pour une communaut\xe9 positive.","1704":"Merci de soutenir le jeu par vos achats afin que nous puissions continuer \xe0 l\'am\xe9liorer.","2000":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2002":"\u2705 Termin\xe9","2003":"\ud83d\udce6 Aper\xe7u de la prochaine livraison :","2004":"\ud83c\udf81 R\xe9compenses pour avoir rempli toutes les commandes :","2005":"Cliquez pour remplir","2006":"Votre commande","2007":"R\xe9clam\xe9","2008":"R\xe9clamer la commande","2009":"R\xe9clam\xe9 par vous :","2010":"Disponible \xe0 r\xe9clamer :","2011":"R\xe9clam\xe9 par d\'autres :","2012":"Termin\xe9 :","2013":"R\xe9clam\xe9 par vous :","2014":"Vous ne pouvez accepter qu\u2019une offre de train \xe0 la fois.","2015":"Afficher le journal du train","2016":"\u2705 Toutes les commandes ont \xe9t\xe9 compl\xe9t\xe9es ! Les r\xe9compenses ont \xe9t\xe9 envoy\xe9es par courrier.","2017":"Cette commande a d\xe9j\xe0 \xe9t\xe9 r\xe9clam\xe9e.","2020":"Le train est","2030":"Prochaine mise \xe0 jour des offres dans","2040":"Bienvenue, Maire.","2041":"\ud83d\udcb0 Taux d\'imposition : ","2042":"Propos\xe9 : ","2043":"Mettre \xe0 jour","2044":"\u26a0\ufe0f Seul le maire peut fixer le taux d\'imposition.","2045":"\ud83d\uddf3\ufe0f \xc9lections","2046":"Phase actuelle :","2047":"Minuteur de phase :","2048":"\ud83d\udce2 Promesses \xe9lectorales","2060":"D\xe9but du vote dans :","2061":"Fin du vote dans :","2062":"Le vote est termin\xe9. R\xe9sultats annonc\xe9s dans :","2063":"La prochaine campagne commence dans :","2070":"\ud83d\udce2 Promesses \xe9lectorales","2071":"Personne n\'a encore fait de promesse \xe9lectorale.","2072":"Saisissez votre promesse \xe9lectorale (200 caract\xe8res max)...","2073":"Soumettre la promesse","2074":"Voter","2075":"Aucun candidat disponible pour le vote.","2076":"Promesse \xe9lectorale :","2077":"Vous avez d\xe9j\xe0 vot\xe9 \xe0 cette \xe9lection.","2078":"Il n\'y avait aucun candidat.","2079":"Comment va votre maire ?","2080":"Bienvenue, Maire.","2081":"Entrez le nom de la colonie...","2082":"Votre colonie :","2083":"Mettre \xe0 jour le nom","2084":"Visitez le panneau \ud83c\udfdb\ufe0f Gouvernement pour voir les statistiques de la colonie et guider votre d\xe9cision \xe9lectorale.","2085":"Maire actuel :","2090":"\ud83c\udfe4 B\xe2timents communautaires","2092":"\ud83c\udfeb \xc9coles : ","2093":"\ud83c\udfeb Aucune \xe9cole construite pour le moment.","2094":"\ud83c\udfe5 H\xf4pitaux : ","2095":"\ud83c\udfe5 Aucun h\xf4pital construit pour le moment.","2096":"\ud83d\udc3e Enclos \xe0 animaux : ","2097":"\ud83d\udc3e Aucun enclos \xe0 animaux construit pour le moment.","2098":"\ud83c\udfe4 Biblioth\xe8ques : ","2099":"\ud83c\udfe4 Aucune biblioth\xe8que construite pour le moment.","3000":"GOV PANEL:","3001":"Colonie :","3002":"\ud83d\ude0a Pop.","3003":"\ud83d\udcb0 Taux d\'imposition :","3004":"Le taux d\'imposition est fix\xe9 par le maire pour cette colonie, et un pourcentage de tous les imp\xf4ts collect\xe9s est ajout\xe9 au compte du maire.","3005":"Les maires sont \xe9lus au tribunal en ville.","3006":"\ud83c\udfdb\ufe0f Officiels du gouvernement","3007":"Aucun officiel \xe9lu pour le moment.","3009":"Seul le Maire peut construire des \xc9coles, des H\xf4pitaux et des Biblioth\xe8ques dans la Ville.","3010":"\ud83c\udfeb Les \xe9coles donnent acc\xe8s \xe0 certaines comp\xe9tences exclusives.","3011":"\ud83c\udfe5 Les h\xf4pitaux fournissent des m\xe9decins pour soigner les aventuriers revenant de la vall\xe9e.","3012":"\ud83c\udfe4 Les Biblioth\xe8ques sont une source de Livres, qui sont vitaux pour les Aventuriers cherchant \xe0 apprendre de nouvelles comp\xe9tences.","3013":"\ud83d\ude82 Le maire peut influencer la demande de marchandises au train.","3020":"Voir l\'historique des imp\xf4ts","3021":"","3022":"","3023":"","3024":"","3025":"","3050":"TEXTES DU PANNEAU DE SAISON","3051":"(La valeur nette est recalcul\xe9e deux fois par jour.)","3052":"Aucune donn\xe9e disponible pour les meilleurs citoyens.","3053":"C\'est","3054":"Chargement...","3055":"La saison se termine dans :","3056":"Nous sommes entre deux saisons.","3057":"\xc0 la fin de la saison, des r\xe9compenses bonus seront envoy\xe9es aux meilleurs joueurs de la Fronti\xe8re, ainsi qu\'\xe0 tous les joueurs de la meilleure Colonie.","3058":"\ud83c\udfc6 Meilleurs Citoyens de la Fronti\xe8re","3059":"\ud83c\udfd9\ufe0f Colonie en T\xeate","3060":"Richesse Totale :","3061":"Population :","3062":"Inconnu","3063":"Aucune donn\xe9e disponible","3064":"Voir le Journal de Saison","4000":"LOGIN PANEL:","4001":"Vous n\'avez pas encore de compte ? Cr\xe9ez-en un gratuitement pour commencer \xe0 jouer :","4002":"Cr\xe9er un compte","4003":"Nom d\'utilisateur","4004":"Aucune adresse e-mail ne vous sera demand\xe9e.","4005":"Avec un nouveau compte, vous aurez votre propre domaine \xe0 cultiver dans une colonie avec d\'autres joueurs, dans une fronti\xe8re pleine de colonies. L\'aventure vous attend dans la Vall\xe9e.","4006":"Mot de passe","4007":"Connexion","4008":"Nom d\'utilisateur","4009":"Connectez-vous \xe0 votre compte pour continuer \xe0 jouer. Si vous n\'en avez pas,","4010":"Vous avez d\xe9j\xe0 un profil ?","4050":"PROFILE PANEL:","4051":"Bonjour, ","4052":"Changer le nom d\'utilisateur :","4053":"Changer le mot de passe :","4054":"Gestion du compte","4055":"Statut du compte :","4056":"D\xe9connexion","4057":"Supprimer le compte","4058":"ID du joueur :","4059":"D\xe9placement du domaine","4060":"D\xe9placements restants :","4061":"Visitez la boutique pour acheter plus de d\xe9placements.","4062":"Param\xe8tres","4063":"Langue :","4064":"Indicateur de port\xe9e :","4065":"Changer d\'avatar","4066":"Retour \xe0 la connexion","4067":"Choisir la langue","5000":"MORE MODAL STRINGS:","5001":"\ud83d\udc80 Vous \xeates mort.","5002":"Vous avez \xe9t\xe9 ramen\xe9 chez vous. Tous les objets \ud83c\udf92 du sac \xe0 dos ont \xe9t\xe9 perdus.","5003":"Soyez plus prudent la prochaine fois.","5005":"\ud83d\ude00 Bienvenue \xe0 Valley View\u2122","5006":"Veuillez vous connecter ou cr\xe9er un compte gratuit.","5007":"\xa9 Valley View Studios, 2025, Tous droits r\xe9serv\xe9s.","5010":"\ud83d\udce8 Bo\xeete de r\xe9ception","5011":"Vous n\'avez aucun message","5015":"\ud83d\uded2 Boutique","5016":"Les achats seront livr\xe9s dans la bo\xeete de r\xe9ception. Aucun retour possible. Tous les achats sont d\xe9finitifs.","5017":"Attention, la plupart des objets de l\'inventaire sont supprim\xe9s entre les saisons. V\xe9rifiez l\'horloge des saisons avant d\'acheter et consultez le panneau des saisons pour plus d\'informations.","5020":"\ud83d\udeab Vous \xeates actuellement d\xe9connect\xe9.","5021":"Cliquez sur Connexion ou Cr\xe9er un compte pour commencer.","5025":"\ud83d\ude4f Merci pour votre soutien !","5026":"Votre achat a \xe9t\xe9 livr\xe9 dans votre bo\xeete de r\xe9ception.","5027":"Profitez de Valley View !","5030":"\ud83d\ude00 Bienvenue \xe0 Valley View !","5031":"Aucun joueur connect\xe9 ou le serveur est hors ligne.","5032":"Veuillez actualiser la page, v\xe9rifier votre connexion internet ou revenir plus tard.","5033":"Vous avez d\xe9j\xe0 un profil ?","5035":"Nous sommes entre deux saisons !","5036":"Valley View est temporairement indisponible pendant la remise \xe0 z\xe9ro de la saison.","5040":"\ud83d\udcf0 Nouvelles de la ville","5041":"Voici ce qui se passe actuellement en ville :","5045":"Utiliser ","5046":"Voulez-vous utiliser un(e)","5047":"Vous avez ","5050":"\u26a0\ufe0f Confirmer le d\xe9placement du domaine","5051":"\xcates-vous s\xfbr de vouloir d\xe9placer votre domaine ? Cette action est irr\xe9versible.","5052":"Fermez cette fen\xeatre pour annuler.","5060":"\u2b50\ufe0f F\xe9licitations !","5061":"Vous avez maintenant un compte Or. Rendez-vous sur votre profil pour personnaliser votre ic\xf4ne et d\xe9couvrir les autres avantages.","5062":"Merci pour votre soutien !","5100":"Collectes d\'imp\xf4ts r\xe9centes","5101":"Aucun historique de collecte d\'imp\xf4ts disponible pour le moment.","5102":"\ud83d\uddd3\ufe0f Date","5103":"\ud83d\udcb0 Total collect\xe9","5104":"Maire","5105":"\ud83d\udcb0 Part du maire","5110":"","6003":"Troph\xe9e Gagn\xe9 !","7000":"TEXTES DE NOTIFICATION :","7001":"Conseil :","7005":"Utilisez A-W-S-D ou les Touches Fl\xe9ch\xe9es pour vous D\xe9placer.","7006":"Cherchez l\'ic\xf4ne \ud83d\udcaa pour ouvrir le panneau des Comp\xe9tences.","7007":"Tenez-vous sur l\'herbe, puis trouvez le panneau \ud83d\udc2e Acheter pour acheter une vache. Vous aurez d\'abord besoin de la comp\xe9tence \xc9levage.","7009":"Continuez \xe0 v\xe9rifier votre \u2705 Liste de T\xe2ches, et continuez \xe0 consulter \ud83e\udd20 Kent et \ud83d\udc75\ud83c\udffb la Berg\xe8re.","7015":"Cliquez sur + et - en haut de l\'\xe9cran pour zoomer et d\xe9zoomer.","8999":"HOW TO PLAY STRINGS:","9000":"Bienvenue \xe0 Valley View !","9001":"De quoi s\'agit-il ?","9002":"Valley View est un jeu qui explore comment les gens peuvent s\'organiser eux-m\xeames et cr\xe9er des micro-soci\xe9t\xe9s dans un monde aux ressources asym\xe9triques et interd\xe9pendantes, avec des espaces priv\xe9s et partag\xe9s.","9003":"Il n\'y a pas de voies de sp\xe9cialisation explicites, mais trois axes de jeu principaux et interd\xe9pendants : AGRICULTEUR, AVENTURIER et POLITICIEN. Vous \xeates encourag\xe9 \xe0 vous entraider.","9004":"Pour commencer, les bases :","9005":"Utilisez les touches A-W-S-D pour vous d\xe9placer. Cliquez pour interagir avec les \xe9l\xe9ments \xe0 port\xe9e.","9006":"Explorez \ud83d\ude9c AGRICULTURE, \u2692\ufe0f CONSTRUCTION et \ud83d\udc2e ACHATS pour am\xe9liorer votre domaine et g\xe9n\xe9rer des ressources.","9007":"G\xe9n\xe9rez de l\'\ud83d\udcb0 ARGENT \xe0 l\'\ud83d\udce5 \xc9TAL COMMERCIAL. Proposez des ressources \xe0 la vente ou vendez-les au jeu pour une valeur partielle.","9008":"En savoir plus :","9009":"En cr\xe9ant de la richesse, am\xe9liorez-vous avec des COMP\xc9TENCES et des APTITUDES. Par exemple, achetez la comp\xe9tence \ud83d\udc34 \xc9QUITATION pour voyager en ville.","9010":"D\xe9zoomez (- et +) pour voir la taille du monde. Votre domaine est l\'un des nombreux d\'une COLONIE. Chaque colonie partage une VILLE. Votre colonie fait partie de la FRONTI\xc8RE.","9011":"Quand vous serez pr\xeat, explorez la VALL\xc9E, pleine de dangers et de merveilles. Les secrets du magicien PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f et du roi perdu LEONTES \ud83e\udd34, entre autres, s\'y trouvent.","9012":"Vos objectifs :","9013":"Cr\xe9ez vos propres objectifs. \xc0 la fin de chaque \ud83d\uddd3\ufe0f SAISON (trois mois), joueurs et colonies seront class\xe9s et les meilleurs recevront des r\xe9compenses. Votre domaine, vos comp\xe9tences et une partie de votre richesse seront conserv\xe9s pour la saison suivante.","9014":"Cultivez, fabriquez, \xe9changez, explorez, combattez et amusez-vous !","9020":"Comment gagner de l\'argent","9021":"Il existe plusieurs fa\xe7ons de gagner de l\'\ud83d\udcb0 ARGENT.","9022":"Au d\xe9but, ouvrez l\'\ud83d\udce5 \xc9TAL COMMERCIAL, en haut \xe0 gauche de votre domaine. Vous pourrez y vendre des biens, cultures et objets fabriqu\xe9s.","9023":"L\'\ud83d\udce5 \xc9TAL COMMERCIAL rach\xe8te vos biens \xe0 25% de leur valeur. Pour maximiser vos gains, \xe9changez avec d\'autres joueurs. Ils auront ce dont vous avez besoin, et inversement.","9024":"En progressant, vous pourrez voyager en VILLE via le \u23ea PANNEAU. L\xe0, vous trouverez la BANQUE, qui ach\xe8tera certains objets \xe0 un meilleur prix.","9025":"D\xe9penser son argent","9026":"Sans surprise, la plupart des choses co\xfbtent de l\'argent. Au d\xe9but, d\xe9pensez-le pour \ud83d\udcaa des COMP\xc9TENCES, \ud83d\udc2e des ANIMAUX et \u2692\ufe0f des ATELIERS. Explorez les panneaux \xe0 gauche de l\'\xe9cran pour g\xe9n\xe9rer plus de ressources et donc plus d\'argent.","9027":"En ville, vous d\xe9couvrirez d\'autres boutiques et commer\xe7ants.","9030":"Comment Gagner des Gemmes","9031":"Les Gemmes sont une ressource rare qui peut \xeatre utilis\xe9e pour acheter diverses choses pour acc\xe9l\xe9rer votre jeu.","9032":"Vous pouvez acheter des Gemmes dans le Magasin, ou en cliquant ici :","9033":"En de rares occasions, des Gemmes peuvent \xeatre trouv\xe9es dans la Vall\xe9e, ou gagn\xe9es comme r\xe9compenses pour avoir excell\xe9 avec le Train, ou termin\xe9 fort \xe0 la fin d\'une Saison.","9040":"\xc9vident :","9041":"100 \ud83d\udc8e Gemmes pour ","9042":"Meilleure Valeur :","9043":"500 \ud83d\udc8e Gemmes pour ","9044":"Plus Populaire :","9045":"1000 \ud83d\udc8e Gemmes pour ","9050":"Avantages","9051":"Un compte Or est un abonnement mensuel qui donne acc\xe8s \xe0 des fonctionnalit\xe9s et avantages premium dans Valley View.","9052":"Avec un compte Or, vous b\xe9n\xe9ficiez des avantages suivants :","9053":"\u2705 Avatars premium : \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9054":"\u2705 Capacit\xe9 d\'entrep\xf4t quasi illimit\xe9e","9055":"\u2705 Capacit\xe9 de sac \xe0 dos quasi illimit\xe9e","9056":"\u2705 2 emplacements d\'\xe9tal suppl\xe9mentaires","9057":"\u2705 Taux d\'imposition r\xe9duit","9058":"\u2705 La moiti\xe9 de vos PV max restaur\xe9e \xe0 la mort","9059":"\u2705 Vous pouvez vous pr\xe9senter aux \xe9lections","9060":"Merci pour votre achat de compte Gold.","9061":"Acheter un compte Gold","10000":"\ud83d\udd0c Serveur hors ligne","10001":"Le serveur est actuellement hors ligne. Nous nous excusons pour la g\xeane occasionn\xe9e, veuillez r\xe9essayer bient\xf4t.","10002":"(Ce message dispara\xeetra lorsque le serveur sera de retour en ligne.)","10100":"APP.JS STRINGS:","10101":"Bienvenue \xe0 Valley View !","10102":"Veuillez vous connecter ou cr\xe9er un compte gratuit.","10103":"\ud83c\udf92 Inventaire","10104":"\ud83d\uded2 Boutique","10105":"\ud83d\udce8 Bo\xeete de r\xe9ception","10106":"\ud83d\udce2 Partager","10107":"\ud83d\udcac Chat","10108":"Vous avez un compte Or","10109":"\u2194\ufe0f Touches de d\xe9placement : ","10110":"\ud83d\udd79\ufe0f Comment jouer","10111":"Vous \xeates le Maire","10112":"\u2764\ufe0f\u200d\ud83e\ude79 Sant\xe9 : ","10113":"\ud83d\uddd3\ufe0f Nous sommes le","10114":"La prochaine saison commence dans :","10115":"\ud83d\uddd3\ufe0f Prochaine saison dans :","10116":"\u23ea En cours en ville :","10117":"\ud83d\udcb0 Prochaine collecte d\'imp\xf4ts :","10118":"Dans : ","10119":"Collecte des imp\xf4ts en cours...","10120":"\ud83c\udfdb\ufe0f \xc9lections : ","10121":"Se termine : ","10122":"\ud83d\ude82 Train : ","10123":"\ud83c\udfe6 Banque : ","10124":"Nouvelles offres : ","10125":"Lisez les nouvelles !","10126":"Pr\xe9sents :","10127":"Aucun joueur pr\xe9sent sur cette grille.","10128":"Enregistrer les modifications","10130":"Vous avez un compte Or","10131":"Avantages du compte Or","10132":"Annuler le d\xe9m\xe9nagement","10133":"D\xe9m\xe9nager le domaine","11000":"ADDED STRINGS:","11001":"Attendez la fin du minuteur ou qu\u2019un autre joueur ach\xe8te cet objet.","12001":"Agriculture","12002":"Construction","12003":"Animaux","12004":"Qu\xeates actives","12005":"Comp\xe9tences","12006":"Combat","12007":"Gouvernement","12008":"Saisons","12009":"Accueil","12010":"Profil","12011":"D\xe9corations","12012":"Outils","12013":"Troph\xe9es","15000":"\ud83d\uddd3\ufe0f R\xe8gles de Saison","15001":"Les saisons durent trois mois.","15002":"R\xe9compenses","15003":"\ud83d\udcb0 La valeur nette sera calcul\xe9e en fonction de votre argent, des objets de votre inventaire et des objets sur votre ferme.","15004":"\ud83c\udfc6 Les 3 meilleurs joueurs \xe0 travers la fronti\xe8re recevront des r\xe9compenses dans votre bo\xeete aux lettres, et gagneront aussi un troph\xe9e \'Gagnant de Saison\'.","15005":"\ud83c\udfc6 Le meilleur joueur de la fronti\xe8re gagnera aussi le troph\xe9e \'Champion de Saison\'.","15006":"\ud83c\udf81 Tous les joueurs dans la meilleure colonie recevront des r\xe9compenses suppl\xe9mentaires dans votre bo\xeete aux lettres.","15007":"R\xe9initialisation des Joueurs et des Lieux","15008":"\ud83c\udfe0 Vous serez relocalis\xe9 \xe0 votre ferme si vous \xeates loin de chez vous quand la saison se termine.","15009":"\ud83c\udfe0 Vos fermes ne seront PAS r\xe9initialis\xe9es \u2013 toute la disposition, les tuiles et les ressources sont conserv\xe9es.","15010":"\ud83c\udf92 Votre inventaire SERA effac\xe9, \xe0 l\'exception des objets rares comme l\'Orbe de Prospero, la Couronne du Roi, les Cl\xe9s Dor\xe9es & Squelettes, le Trident).","15011":"\ud83d\udc8e Vous garderez toutes les Gemmes.","15012":"\ud83d\udcb0 L\'argent sera r\xe9duit \xe0 10% du montant actuel (25% pour les d\xe9tenteurs du Pass Or).","15013":"\u2705 Toutes les qu\xeates seront effac\xe9es.","15014":"\ud83d\udcaa Vos comp\xe9tences & pouvoirs sont conserv\xe9s.","15015":"\u2764\ufe0f Vos relations sont conserv\xe9es.","15016":"\u2b50\ufe0f Votre statut Pass Or sera r\xe9voqu\xe9 pour la nouvelle saison.","15017":"\ud83c\udf32 Toutes les grilles de ville et de vall\xe9e seront r\xe9initialis\xe9es avec de nouvelles tuiles, ressources et ennemis.","15018":"Qu\'est-ce qui Change ?","15019":"\ud83c\udf83 Les villes auront des tuiles et des ressources selon le nouveau contenu de saison.","15020":"\ud83d\ude00 Les nouveaux joueurs qui rejoignent (et cr\xe9ent de nouvelles fermes) obtiendront des tuiles et ressources de d\xe9marrage selon le nouveau contenu de saison.","15021":"\ud83d\ude82 Les commandes de train sont affect\xe9es par les saisons.","15022":"\ud83c\udfc6 De nouvelles r\xe9compenses et troph\xe9es peuvent \xeatre gagn\xe9s.","30000":"TROPH\xc9ES :","30001":"Premier Ouvrier Agricole","30002":"Constructeur de Comp\xe9tences","30003":"Trains Termin\xe9s","30004":"Gagnant de Saison","30005":"Champion de Saison","200009":"Compte Or","200010":"Argent","200011":"Souche","200012":"Panneau Nord","200013":"Panneau Est","200014":"Panneau Sud","200015":"Panneau Ouest","200016":"Panneau Nord-Ouest","200017":"Panneau Nord-Est","200018":"Panneau Sud-Est","200019":"Panneau Sud-Ouest","200020":"Panneau Ville","200021":"Panneau Maison","200022":"\xc9tal de Commerce","200023":"Comptoir Commercial","200024":"Entrep\xf4t","200025":"Maison Abandonn\xe9e","200026":"Ferme","200027":"R\xe9parer","200028":"Montagne","200029":"Grande Montagne","200030":"Banque","200031":"Tribunal","200032":"Train","200033":"Bo\xeete aux Lettres","200034":"Ch\xeane","200035":"Pin","200036":"Palmier","200037":"Arbre de F\xeate","200038":"Bonhomme de Neige","200039":"Rochers","200040":"Gisement d\'Argile","200041":"Bois","200042":"Pierre","200043":"Argile","200044":"Parcelle de Bl\xe9","200045":"Parcelle de Carottes","200046":"Parcelle de Ma\xefs","200047":"Parcelle de Canne \xe0 Sucre","200048":"Parcelle de Fraises","200049":"Pommier","200050":"Citronnier","200051":"Vigne","200052":"Parcelle d\'Ail","200053":"Olivier","200054":"Plant de Tomates","200055":"Parcelle de Ch\xeane","200056":"Bl\xe9","200057":"Carotte","200058":"Ma\xefs","200059":"Canne \xe0 Sucre","200060":"Fraise","200061":"Pomme","200062":"Citron","200063":"Raisins","200064":"Ail","200065":"Olive","200066":"Tomate","200067":"Myrtille","200068":"Lait","200069":"Laine","200070":"\u0152uf","200071":"Farine","200072":"Nourriture pour Poulets","200073":"Sucre","200074":"Farine de Ma\xefs","200075":"Bois d\'\u0152uvre","200076":"Beurre","200077":"Cr\xe8me","200078":"Fromage","200079":"Fil","200080":"Tissu","200081":"Chandail","200082":"Veste","200083":"Veste Lourde","200084":"Tunique Runique","200085":"Pain","200086":"Pain de Ma\xefs","200087":"Tarte aux Pommes","200088":"Tarte aux Fraises","200089":"Biscuit au Citron","200090":"Pain aux Olives","200091":"Pain \xe0 l\'Ail","200092":"G\xe2teau de la Reine","200093":"Soupe de Tomates","200094":"Soupe de Carottes","200095":"Omelette","200096":"Pizza","200097":"Miel","200098":"Cidre de Pomme","200099":"Vin","200100":"Porto","200101":"Huile d\'Olive","200102":"Vin Vieilli","200103":"Poterie","200104":"Meubles","200105":"Encre","200106":"Urnes","200107":"Romarin","200108":"Champignon","200109":"Champignon Magique","200110":"Marguerite","200111":"Tulipe","200112":"Tournesol","200113":"Grande Camomille","200114":"Potion A","200115":"Potion B","200116":"Potion C","200117":"Gemme","200118":"Livre","200119":"Peau","200120":"Peau d\'Ours","200121":"Os","200122":"Argent M\xe9tal","200123":"Or","200124":"Bague en Diamant","200125":"Couronne du Roi","200126":"Portrait","200127":"Trident","200128":"Cl\xe9 Squelette","200129":"Cl\xe9 Dor\xe9e","200130":"Parchemin","200131":"Orbe de Prospero","200132":"Tente","200133":"Bateau","200134":"Sanctuaire","200135":"Ch\xe2teau","200136":"Restaurant","200137":"Toilettes","200138":"Magasin G\xe9n\xe9ral","200139":"Repaire du Guerrier","200140":"Boutique de Magie","200141":"Temple Ancien","200142":"Camp d\'Aventure","200143":"Laboratoire","200144":"\xc9cole","200145":"\xc9table","200146":"Moulin","200147":"Laiterie","200148":"Poulailler","200149":"Scierie","200150":"M\xe9tier \xe0 Tisser","200151":"Four","200152":"Cuisine","200153":"Ruche","200154":"Atelier","200155":"Vinerie","200156":"Biblioth\xe8que","200157":"Cour des Animaux","200158":"H\xf4pital","200159":"Vache","200160":"Mouton","200161":"Vache Brune","200162":"Docteur","200163":"Chirurgien","200164":"F\xe9e","200165":"Kent","200166":"Portia","200167":"La Berg\xe8re","200168":"Hotspur","200169":"Cassio","200170":"Dame Quickly","200171":"Feste","200172":"Helena","200173":"Titania","200174":"Vampire","200175":"P\xe8re No\xebl","200176":"Prospero","200177":"Falstaff","200178":"Apothicaire","200179":"Iago","200180":"Gertrude","200181":"Leontes","200182":"Caliban","200183":"Juliette","200184":"Sir\xe8ne","200185":"Fermier","200186":"Ouvrier Agricole","200187":"\xc9leveur","200188":"B\xfbcheron","200189":"Coyote","200190":"Ours","200191":"Araign\xe9e","200192":"Zombie","200193":"Duc Angelo","200194":"Fant\xf4me","200195":"Ogre","200196":"D\xe9mon","200197":"Dragon","200198":"G\xe9n\xe9rateur de Coyotes","200199":"G\xe9n\xe9rateur d\'Ours","200200":"G\xe9n\xe9rateur d\'Araign\xe9es","200201":"G\xe9n\xe9rateur de Zombies","200202":"G\xe9n\xe9rateur de Fant\xf4mes","200203":"G\xe9n\xe9rateur de D\xe9mons","200204":"G\xe9n\xe9rateur de Dragons","200205":"Cultivateur","200206":"Main Verte","200207":"\xc9levage","200208":"Collecte Animale en Masse","200209":"Hache","200210":"Pioche","200211":"Constructeur","200212":"R\xe9colte en Masse","200213":"Replantation en Masse","200214":"Abattage","200215":"Meilleur Abattage","200216":"Meilleure Hache","200217":"Meilleure Pioche","200218":"Magasin","200219":"D\xe9p\xf4t","200220":"Stockage 3 \xc0 D\xe9finir","200221":"Stockage 4 \xc0 D\xe9finir","200222":"Ma\xe7onnerie","200223":"M\xe9canique","200224":"Chimie","200225":"Cuisine","200226":"Boulanger","200227":"Textiles","200228":"Artisanat","200229":"Vigneron","200230":"Apiculteur","200231":"Tailleur","200232":"Politique","200233":"\xc9ducation","200234":"B\xe9tail","200235":"Droit","200236":"M\xe9decine","200237":"Chirurgie","200238":"Sac \xe0 Dos","200239":"Havresac","200240":"Sac Enchant\xe9","200241":"Cheval","200242":"Combat","200243":"Pistage","200244":"\xc9claireur","200245":"Force","200246":"Col\xe8re","200247":"Temp\xeate","200248":"Coup Rapide","200249":"Rafale","200250":"Barrage","200251":"Concentration","200252":"Pr\xe9cision","200253":"\u0152il d\'Horizon","200254":"Rembourrage","200255":"Armure","200256":"Voile B\xe9ni","200257":"Main Ferme","200258":"Exactitude","200259":"Courage","200260":"C\u0153ur de Pierre","200261":"Incassable","200262":"Caisse","200263":"Mur de Pierre","200264":"Grand Mur de Pierre","200265":"Mur Vert","200266":"Mur Noir","200267":"Mur de Sable","200268":"Mur Bleu","200269":"Mur Orange","200270":"Plante","200271":"Cactus","200272":"Harpe","200273":"Drapeau","200274":"Pile de Livres","200275":"Chaise","200276":"Toilette","200277":"Lit","200278":"Ours en Peluche","200279":"Grand Trou","200280":"Toboggan","200281":"Fontaine","200282":"Grande Fontaine","200283":"Grand Palmier D\xe9coratif","200284":"Maelstr\xf6m","200285":"An\xe9antissement","200286":"Infaillible","200287":"Titan","hp":"Hit Points","maxhp":"Max Hit Points","range":"Range","attackrange":"Attack Range","attackbonus":"Attack Bonus","damage":"Damage","speed":"Attack Speed","iscamping":"Is Camping","armorclass":"Armor Class","backpackCapacity":"Backpack Capacity","warehouseCapacity":"Warehouse Capacity"}'),s=JSON.parse('{"0":"Vista del valle","1":"El servidor no est\xe1 en funcionamiento.","3":"\ud83d\ude9c Tierra labrada con \xe9xito.","4":"\u26a0\ufe0f No tienes suficientes recursos.","5":"\u2692\ufe0f Construcci\xf3n completada con \xe9xito.","6":"\ud83d\udcb0 Art\xedculos vendidos.","7":"\ud83c\udfe0 Esta hacienda est\xe1 desocupada.","8":"\ud83d\udeab Esta \xe1rea est\xe1 prohibida.","9":"El valle est\xe1 lleno de maravillas y debe explorarse a pie.","10":"\ud83c\udfe0 Hacienda de [nombre de usuario].","11":"\ud83c\udfe0 Hacienda del propietario desconocido.","12":"Vista del asentamiento. Dependiendo de tu ubicaci\xf3n, es posible que debas desplazarte para ver la ciudad.","13":"Vista fronteriza.","14":"\ud83d\ude82 Bienvenido a la ciudad.","15":"\ud83d\udc34 Necesitas un Caballo para viajar aqu\xed. Visita el Campamento de Aventura en el Pueblo.","16":"Est\xe1s en el valle.","17":"No eres due\xf1o de ninguna hacienda aqu\xed.","18":"\ud83d\udeab No puedes ir por ese camino.","19":"\ud83c\udf92 Necesitas una mochila para recolectar recursos lejos de tu hacienda. C\xf3mprala en el Campamento de Aventuras.","20":"\ud83d\udeab No hay suficiente espacio en el almac\xe9n.","21":"\ud83c\udf92 No hay suficiente espacio en la mochila. Abre el inventario para administrar el contenido de la mochila.","22":"Art\xedculos comprados.","23":"\u26a0\ufe0f No puedes construir aqu\xed.","24":"\ud83c\udfaf Fuera de alcance.","25":"\ud83c\udf92 Nada en la mochila.","26":"\ud83c\udf92 Debes estar en tu hacienda para vaciar la mochila.","27":"\u26fa\ufe0f No tienes una tienda de campa\xf1a.","28":"\u26fa\ufe0f Ahora est\xe1s acampando.","29":"\u26a0\ufe0f \u26fa\ufe0f Error al acampar / desmontar.","30":"\u26fa\ufe0f Ya no est\xe1s acampando.","31":"\u26fa\ufe0f No puedes atacar mientras acampas.","32":"\u26fa\ufe0f Necesitas desmontar primero.","33":"\ud83d\udce6 Art\xedculos movidos al almac\xe9n.","34":"\ud83c\udf92 Mochila vac\xeda.","35":"Necesitas un ","36":"Usaste un ","50":"\ud83d\udeab Ese nombre de usuario ya est\xe1 en uso.","70":"Sesi\xf3n expirada","71":"Has estado ausente por un tiempo. Actualizar asegura que tu sesi\xf3n funcione correctamente.","72":"Esta p\xe1gina se actualizar\xe1 autom\xe1ticamente en 30 segundos a menos que lo hagas ahora.","73":"\ud83d\udd04 Actualizar ahora","74":"\ud83c\udf92 Se requiere una mochila para tener una tienda de campa\xf1a.","75":"No tienes una mochila. Puedes comprar una en el Campamento de Aventuras en la Ciudad.","76":"Tu almac\xe9n est\xe1 vac\xedo.","77":"Tu mochila est\xe1 vac\xeda.","78":"Administrar mochila","80":"Adquirido ","90":"\ud83d\udeab Esta no es tu hacienda.","91":"\ud83d\udc34 Se requiere caballo.","96":"\xbfTienes comentarios?","97":"@ Env\xedanos un correo","98":"\u23f3 Cargando ...","99":"\u26a0\ufe0f Algo sali\xf3 mal.","100":"CADENAS DE VIAJE:","101":"\ud83d\udc34 Viajando a casa... por favor espera.","102":"\ud83d\udc34 Viajando a la ciudad ... por favor espera.","103":"\ud83d\udc34 Viajando a la pr\xf3xima ubicaci\xf3n ... por favor espera.","104":"\ud83d\udeab No hay una ciudad en este asentamiento a\xfan.","105":"\u26a0\ufe0f Hubo un problema al intentar viajar.","106":"\ud83d\udeab No puedes viajar m\xe1s all\xe1 de la frontera.","110":"\u27a1\ufe0f \xa1Camina hacia los postes indicadores para usarlos!","111":"Bienvenido a la ciudad.","112":"Bienvenido a casa.","120":"No te quedan movimientos de casas de campo.","121":"Has movido con \xe9xito tu casa de campo.","122":"\xa1No puedes mudarte al valle!","123":"\xa1No puedes mudarte a la ciudad!","124":"Esa casa de campo est\xe1 ocupada.","125":"\xbfHacia d\xf3nde te est\xe1s mudando?","130":"Selecciona tu idioma:","131":"Confirmar","150":"CUADRO DE VENTA DE INTERCAMBIO:","151":"No puedes llenar el puesto de ventas de otro jugador.","152":"No tienes suficiente dinero para comprar este art\xedculo.","153":"est\xe1 vendiendo:","154":"est\xe1n vendiendo","155":"La transacci\xf3n fall\xf3. Este art\xedculo ya ha sido vendido.","156":"Vac\xedo (a\xf1adir objetos)","157":"Comprado por","158":" l\xedmite por pedido.","159":"Listo para vender","160":"Art\xedculos para vender","161":"Art\xedculo","162":"Disponible","163":"Precio","164":"Cantidad","165":"Todo","166":"Agregar","170":"Ranura de comercio desbloqueada","171":"Requiere Pase Dorado","172":"Bloqueado","173":"L\xedmite de","174":"para Vender","175":"Desbloquear por","176":"Madera","177":"Necesitas","178":"para desbloquear esta ranura","180":"INVENTORY STRINGS:","181":"\ud83d\udce6 Almac\xe9n","182":"\ud83c\udf92 Mochila","183":"Capacidad: ","184":"Administrar almac\xe9n","185":"Cantidad","186":"Monto","187":"A\xf1adir al almac\xe9n","188":"Descartar","189":"A\xf1adir todo al almac\xe9n","190":"Descartar todo","191":"Art\xedculo","192":"Acci\xf3n","193":"Descartar art\xedculos","194":"Expandir Almac\xe9n","195":"Expande la Mochila en el Campamento de Aventuras en la Ciudad.","199":"Capacidad casi ilimitada con Pase Dorado (entre otros beneficios).","200":"MISIONES","201":"\u2705 Misi\xf3n completada. Tienes tu recompensa.","202":"\u2705 Misi\xf3n aceptada.","203":"No hay misiones activas por el momento.","204":"est\xe1 ofreciendo estas misiones:","205":"no tiene misiones para ti en este momento.","206":"Vuelve al PNJ que te dio esta misi\xf3n para recoger tu recompensa.","207":"En Progreso","208":"Obtener Recompensa","209":"Aceptar Misi\xf3n","299":"CUADRO DE AGRICULTURA:","300":"\u2705 Agregado","301":"\ud83d\ude9c Labrado","302":"\ud83d\ude9c Plantado","303":"\ud83d\ude9c Debes plantar en tierra","304":"\ud83d\ude9c No puedes plantar aqu\xed","305":"\u26a0\ufe0f No hay suficientes recursos","306":"\u26a0\ufe0f No puedes construir aqu\xed","310":"Debes labrar la tierra para plantar.","311":"Tus animales de granja necesitar\xe1n mucho pasto para pastar.","312":"El pavimento puede ser \xfatil para controlar los animales errantes.","313":"","400":"COMPRANDO, CREANDO, HABILIDADES, SANANDO, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Ya tienes la m\xe1xima cantidad de puntos de vida.","402":"\u26a0\ufe0f recursos.","403":"\u26a0\ufe0f Tu inventario est\xe1 lleno.","404":"Trabajando...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Puntos de vida sanados por +","410":"\ud83c\udfd5\ufe0f Para usar una tienda comprada, haz clic en tu propio \xedcono de jugador.","420":"te intercambiar\xe1:","421":"Utilizado en:","422":"Valor Base:","423":"No hay intercambios disponibles.","424":"No hay recetas disponibles.","425":"Vender para reembolso.","426":"Cultivos de inicio caros, pero en caso de que se acaben:","427":"Compra la habilidad de Cosecha a Granel del Ayudante de la Granja para cosechar todos los cultivos de una vez.","428":"Haz clic para cosechar al instante todos los cultivos.","429":"No tienes cultivos para cosechar.","430":"Habilidades del Ayudante de la Granja:","431":"Compra la habilidad de Recolecci\xf3n de Animales a Granel del Ayudante de la Granja para recolectar todos los animales de una vez.","432":"Compra la habilidad de Tala del Ayudante de la Granja para cortar varios \xe1rboles a la vez y recolectar la madera.","433":"Compra Mejora de Tala para aumentar la cantidad de \xe1rboles cortados a la vez.","434":"Haz clic para recolectar al instante de todos los animales.","435":"Haz clic para cortar al instante varios \xe1rboles y recolectar madera.","436":"No tienes animales para recolectar.","437":"No tienes \xe1rboles para cortar.","440":"Fabricaci\xf3n iniciada ","441":"\u231b\ufe0f En progreso ...","442":"\ud83c\udfe0 \xa1Reparaciones de la casa completas!","450":"\u274c No puedes pagar los costos de fabricaci\xf3n","451":"\u26a0\ufe0f Fabricaci\xf3n ya en progreso","452":"\u274c No se pudo iniciar la fabricaci\xf3n.","453":"\u274c No se pudo reparar la casa.","454":"\u274c No se pudo contratar al trabajador.","455":" ha llegado!","456":"No hay m\xe1s trabajadores disponibles.","457":"\xa1Listo!","458":"Tiempo: ","459":"Instant\xe1neo","460":"Requiere: ","461":"Cuesta: ","462":"Da: ","463":"Cura: ","464":"Compra Fabricaci\xf3n en masa para recolectar de todas las estaciones de fabricaci\xf3n listas de una vez.","465":"Haz clic para recolectar instant\xe1neamente de todas las estaciones de fabricaci\xf3n listas.","466":"No tienes estaciones de fabricaci\xf3n listas para recolectar.","467":"Recolecci\xf3n de fabricaci\xf3n en masa completada: ","468":"Reiniciado: ","469":"Recolecci\xf3n de animales completada: ","470":"No puedes viajar ahora, hay acciones agr\xedcolas en progreso.","471":"\u26a0\ufe0f Ya en progreso.","472":"Cosecha completada: ","475":"\xbfReiniciar?","476":"Estaci\xf3n","477":"Tus trabajadores agr\xedcolas est\xe1n ocupados...","478":"\ud83d\ude9c Trabajando","490":"Vender para reembolso (Solo desarrollo)","500":"CADENAS DE COMBATE","501":"\ud83c\udfaf Fuera de alcance.","502":"\ud83c\udfaf \xa1Acertaste!","503":"\u274c Fallaste","504":"\ud83d\udc80 Muerto","505":"\u26a0\ufe0f Error","510":"\u2764\ufe0f\u200d\ud83e\ude79 Est\xe1s recibiendo da\xf1o...","511":"\u2764\ufe0f\u200d\ud83e\ude79 Tu Salud: ","512":"Tu Salud No Disponible","600":"CADENAS DE RELACI\xd3N:","601":"Relaci\xf3n:","602":"Has conocido a","603":"Ahora eres amigo de","604":"Tienes un flechazo por","605":"Est\xe1s enamorado de","606":"T\xfa y","607":"ahora est\xe1n casados.","608":"ahora son rivales.","609":"ahora es tu rival por esto.","610":"no estar\xe1 muy contento con esto...","611":"no estar\xe1n muy contentos con esto...","612":"estar\xe1 muy feliz con esto.","613":"aprueban esto.","614":"y","615":"Tu relaci\xf3n con","616":"ha cambiado.","620":"Necesitas acercarte m\xe1s para interactuar con este personaje.","630":"Saludar","631":"Hablar","632":"Comerciar","633":"Misi\xf3n","634":"Conocido","635":"Amigo","636":"Casado","637":"Rival","638":"Amor","639":"Enamoramiento","640":"Bromear","641":"Hacer amistad","642":"Insultar","643":"Abrazar","644":"Besar","645":"Disculparse","646":"Dar un regalo","647":"Halagar","648":"Adular","649":"Declarar amor","650":"Proponer matrimonio","651":"Provocar","652":"Molestar","653":"Terminar matrimonio","700":"CADENAS FTUE:","701":"\ud83d\ude00 Bienvenido a Valley View","702":"\xa1Bienvenido, viajero! Has llegado a Valley View, una tierra fronteriza de oportunidades, misterios y aventuras.","705":"Aspiraci\xf3n","706":"Valley View es un mundo grande. Depende de ti c\xf3mo quieres pasar tu tiempo. \xbfCu\xe1l de estas aspiraciones se adapta mejor a tu estilo de juego? (Esta elecci\xf3n no limitar\xe1 tus opciones de ninguna manera.)","709":"\ud83c\udfda\ufe0f Tu Granja","710":"Has heredado una Granja en un Asentamiento con otros jugadores. Empieza por arreglar esta casa de granja abandonada. Revisa tu \u2705 Lista de Tareas. Primero necesitar\xe1s recolectar algo de madera.","715":"\ud83e\udd20 Contratar a Kent","716":"\xa1Excelente! Ahora, vas a necesitar empezar a ganar \ud83d\udcb0 dinero. Necesitar\xe1s un Administrador de Granja que pueda vivir aqu\xed a tiempo completo y ayudarte a hacer crecer la operaci\xf3n. Abre la \ud83c\udfe0 Casa de Granja para contratar personas.","721":"\ud83e\udd20 Conoce a Kent el Administrador de la Granja","722":"\xa1Lo primero es lo primero! Cosecha algo de \ud83c\udf3e Trigo y v\xe9ndelo en el \ud83d\udce5 Puesto Comercial por \ud83d\udcb0 Dinero.","723":"\ud83d\ude9c Empieza a Cultivar","724":"\xa1Bien hecho, ahora est\xe1s ganando dinero, as\xed que empieza a cultivar! Planta cultivos usando el panel de \ud83d\ude9c Agricultura, cos\xe9chalos y vende.","727":"\ud83d\udc75\ud83c\udffb Contrata a la Pastora","728":"\xa1Buen trabajo! Ahora contrata a la \ud83d\udc75\ud83c\udffb Pastora desde la \ud83c\udfe0 Casa de la Granja, y ella ayudar\xe1 a traer algo de \ud83d\udc2e vida animal a la granja, para que puedas continuar expandiendo tu negocio.","729":"\ud83d\udc2e Cr\xeda de Animales","730":"\xa1Bienvenida \ud83d\udc75\ud83c\udffb Pastora! Ahora visita el Panel de \ud83d\udc2e Animales para adquirir una vaca. Las vacas necesitan \ud83d\udfe9 hierba para pastar, as\xed que col\xf3calas cuidadosamente. Y ya tienes tu primer \ud83d\udfeb Establo de Animales; aqu\xed es donde puedes producir leche una vez que la vaca est\xe9 llena.","731":"\u26cf\ufe0f Moldea la Tierra","732":"Los cultivos necesitan tierra. Las vacas y ovejas necesitan \ud83d\udfe9 hierba. El pavimento puede ayudar a contener los movimientos de personas y animales. Usa las \u26cf\ufe0f Herramientas para pavimentar la tierra a tu gusto, y aprende la habilidad del \ud83e\ude93 hacha para cortar \xe1rboles para madera.","733":"\u2692\ufe0f Constructor","734":"Has dominado el \ud83e\ude93 hacha -- \xa1excelente! La madera es \xfatil para varias cosas, incluyendo construir estaciones de artesan\xeda. Tambi\xe9n puedes abrirte camino hasta la \ud83d\ude82 Estaci\xf3n de Tren en el borde de tu Hacienda, donde eventualmente puedes viajar al Pueblo.","737":"Tiempo de Explorar","738":"Tu Hacienda es parte de un Asentamiento m\xe1s grande con otros jugadores compartiendo una gran Frontera. Aleja el zoom (+ y -) para ver todo el Asentamiento y la Frontera. Usa \u27a1\ufe0f Se\xf1ales para viajar, o camina hasta el borde de cualquier mapa. \xa1DISFRUTA JUGANDO VALLEY VIEW!","750":"\ud83d\ude9c Granjero","751":"Cultiva tu granja, siembra cultivos, cuida animales y fabrica bienes para vender e intercambiar con otros jugadores. Invierte en habilidades agr\xedcolas y artesanales para aumentar tus ganancias.","752":"\u2694\ufe0f Aventurero","753":"Avent\xfarate en el Valle por recursos y objetos raros. Lucha contra animales y criaturas, descubre lugares ocultos y conoce personajes m\xe1gicos. Invierte en habilidades de combate para convertirte en un luchador formidable.","754":"\ud83c\udfdb\ufe0f Pol\xedtico","755":"Post\xfalate para Alcalde, establece la tasa de impuestos y gana ingresos fiscales para ti mismo. Invierte en edificios comunitarios para toda la Ciudad, como Hospitales, Escuelas y Bibliotecas, y ayuda a tu asentamiento a prosperar.","795":"Saltar Tutorial","796":"OK","797":"Atr\xe1s","798":"Jugar","800":"M\xc1S CADENAS DE ESTACI\xd3N DE ARTESAN\xcdA:","801":"Adquiere la habilidad ","802":" en el ","803":" para aumentar la producci\xf3n de esta estaci\xf3n en ","805":"Tu habilidad ","806":" aumenta la producci\xf3n base de esta estaci\xf3n en ","810":"Tambi\xe9n puedes comprar esta habilidad directamente: ","820":"Produce: ","821":"Cantidad base: ","899":"CADENAS DE DEPURACI\xd3N:","900":"Depuraci\xf3n: Inventario limpiado.","901":"Depuraci\xf3n: Historial de misiones limpiado.","902":"Depuraci\xf3n: Recursos a\xf1adidos.","903":"Depuraci\xf3n: Cuadr\xedcula reiniciada con \xe9xito.","904":"Depuraci\xf3n: Habilidades a\xf1adidas.","905":"Depuraci\xf3n: Habilidades y Poderes limpiados.","906":"Depuraci\xf3n: Estad\xedsticas de combate restablecidas.","999":"CADENAS DE IU DE PANEL:","1000":"[Falta descripci\xf3n]","1001":"Los recursos recolectados en la granja van al almac\xe9n. Los recursos recolectados en la ciudad o en el valle ir\xe1n a la mochila. Para comprar una mochila, visita la Tienda en la ciudad. Para vaciar la mochila o el almac\xe9n, usa los botones de Administrar.","1002":"Construir: Construye estaciones de elaboraci\xf3n en tu Hacienda usando recursos de tu almac\xe9n.","1003":"Los animales comprados aparecer\xe1n en el icono de tu jugador, y comenzar\xe1n inmediatamente su vida en la Hacienda.","1004":"Labra la tierra para plantar cultivos. Planta pasto para que los animales de granja tengan algo en qu\xe9 alimentarse.","1005":"Adquiere Habilidades y Mejoras para mejorar varios atributos. Aseg\xfarate de explorar la Ciudad para encontrar lugares adicionales y formas de obtener Habilidades y Mejoras.","1006":"Gestiona todas tus misiones en curso aqu\xed. Busca personajes que dan misiones en tu hacienda, as\xed como en la Ciudad o incluso en el Valle.","1007":"Los gobiernos en Valley View se forman a nivel de asentamiento. El alcalde electo implementa pol\xedticas y construye edificios para ayudar a que la comunidad prospere.","1008":"Compra y vende con otros jugadores. Si ning\xfan jugador compra tus art\xedculos antes de que expire el temporizador, v\xe9ndelos al juego por una fracci\xf3n de su valor base.","1009":"[Descripci\xf3n de Elaboraci\xf3n]","1010":"[Descripci\xf3n de Buz\xf3n]","1011":"Este Puesto de Animales est\xe1 vac\xedo. Aseg\xfarate de que los animales tengan pasto para comer, y eventualmente vendr\xe1n al puesto para la cosecha.","1012":"Las elecciones tienen lugar en el Palacio de Justicia. Aqu\xed, los alcaldes tienen el poder de establecer la tasa impositiva y renombrar el Asentamiento.","1013":" ","1014":" ","1015":"El juego se desarrolla a lo largo de estaciones en constante cambio.","1016":" ","1017":"Visita el Banco para intercambiar objetos por Dinero, incluyendo objetos raros como Oro y Plata. Vuelve al banco regularmente para ofertas diferentes.","1018":"","1019":"[Descripci\xf3n de perfil]","1021":"\xa9 Valley View Studios, 2025, Todos los derechos reservados.","1022":"[Descripci\xf3n del tren]","1023":"Los trabajadores te ayudan a administrar tu granja. Contr\xe1talos en la Casa de la Granja.","1024":"[Descripci\xf3n de combate]","1025":"[Descripci\xf3n de la tienda]","1026":"Ganar y gastar Dinero.","1027":"Estos son los beneficios de un Pase de Oro.","1028":"[Descripci\xf3n del panel de decoraciones]","1031":"Compra decoraciones para tu propiedad. Podr\xe1s venderlas para obtener un reembolso completo.","1032":"La casa de granja es donde puedes contratar personas para ayudarte a administrar tu propiedad.","1033":"Transforma la tierra con estas herramientas. Los animales necesitan pasto para pastar, los cultivos necesitan tierra para crecer. El pavimento puede ser \xfatil para controlar el movimiento de animales y personajes.","1034":"Ganar y gastar Gemas.","1035":"Esta es tu colecci\xf3n de Trofeos de por vida.","1101":"Inventario","1102":"\u2692\ufe0f Construir","1103":"\ud83d\uded2 Comprar","1104":"\ud83d\ude9c Granja","1105":"\ud83d\udcaa Habilidades","1106":"\u2753 Misiones","1107":"\ud83c\udfdb\ufe0f Gobierno","1108":"\ud83d\udce5 Puesto de intercambio","1109":"Creaci\xf3n","1110":"\ud83d\udcea Buz\xf3n","1111":"\ud83d\udc3e Animales","1112":"\ud83c\udfdb\ufe0f Tribunal","1113":"Personaje ayudante","1114":"\ud83d\ude00 Personaje jugador","1115":"\ud83d\uddd3\ufe0f Temporada","1116":"\ud83d\udd01 Comerciante","1117":"\ud83c\udfe6 Banco","1118":"\ud83d\udd79\ufe0f C\xf3mo jugar","1119":"\ud83d\ude00 Perfil","1120":"\ud83d\udc1e Depurar","1121":"\ud83d\ude00 Bienvenido","1122":"\ud83d\ude82 Tren","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Granjero","1124":"\u2694\ufe0f Combate","1125":"\ud83d\uded2 Tienda","1126":"\ud83d\udcb0 Acerca del dinero","1127":"\u2b50\ufe0f Pase de Oro","1128":"\ud83e\ude91 Decoraciones","1131":"\ud83e\udeb4 Decoraciones","1132":"\ud83c\udfe0 Casa de Granja","1133":"\u26cf\ufe0f Herramientas","1134":"\ud83d\udc8e Gemas","1135":"\ud83c\udfc6 Trofeos","1200":"CUENTOS DEL COMERCIANTE","1201":"Ah, el bosque esconde muchos secretos\u2026 \xbfy yo? He robado unos cuantos. Estas Gemas, no son m\xedas, pero Titania tiene m\xe1s de las que necesita. Tienes algo que deseo: Pan de Oliva, c\xe1lido y rico. Haz un trueque conmigo, y quiz\xe1s te susurre cuentos de ojos brillantes en la oscuridad, alas que resplandecen al alzarse de la luna, y dragones que hablan en enigmas. Mant\xe9n un o\xeddo atento y una daga cerca.","1202":"Mi fortuna es tan infinita como el mar, mi amor tan profundo... pero se ha ido, y todo lo que queda es un retrato y dolor. Angelo se llev\xf3 ambos. Tr\xe1eme la imagen de Romeo, arrancada de mi c\xe1mara, y te dar\xe9 Tulipanes rojos como la sangre derramada en las piedras de Verona. Que este sea nuestro nuevo balc\xf3n: t\xfa abajo, llevando justicia.","1203":"\xa1Dame vida, dame amor, pero ante todo... dame Puerto! \xa1A cambio, una ramita de Tanaceto, m\xe1s querida que el oro para algunos, especialmente para esa Helena de ojos desmesurados! Dice que busca coronas y leyendas, pobre chica. \xbfYo? Busco una barriga llena y una siesta tranquila. \'\xa1Est\xe1s obnubilada por beber tanto vino!\', me dijeron una vez. \xa1Ja! No estaban equivocados.","1204":"Aqu\xed tienes romero, para el recuerdo; y belladona, para los pesares. Mis pociones no son para los d\xe9biles de voluntad. Con la hoja adecuada, puedo sanar tus miembros o enredar tu lengua. \'Recuerdo a un boticario\', dijo una vez un chico, y pag\xf3 el precio. Pero t\xfa... pareces m\xe1s sabio. Tr\xe1eme ra\xedces raras y semillas amargas, y te preparar\xe9 algo que valga el peligro.","1205":"Algo sigue pudri\xe9ndose. Lo siento en la tierra. Una vez gobern\xe9, am\xe9, perd\xed. Helena me consumi\xf3 como un rel\xe1mpago de verano. \xbfY Leontes? No pudo perdonar el deshielo. \'La dama se defiende demasiado\', dijeron; que lo hagan. Si ves a Helena, dile que las rosas conocen su nombre. Si ves a Leontes, dile que no he olvidado el invierno.","1206":"Mi pesar es una estatua; silencioso, pero nunca quieto. Enterr\xe9 mi corona en la nieve el d\xeda que Gertrudis eligi\xf3 su jard\xedn por encima de m\xed. \xbf\'Sale, perseguido por un oso\'? No, hu\xed de m\xed misma. Ahora espero, entre piedras y silencio. Tr\xe1eme lo que una vez fue m\xedo, la Corona del Rey, y pagar\xe9 en Oro, m\xe1s que el peso del recuerdo. Pero cuidado: algunos tronos llevan maldiciones.","1207":"Este puente es m\xedo, por Sycorax mi madre.\' Pr\xf3spero intent\xf3 robarlo con hechizos y sonrisas. Me llamaron bestia, pero soy de tierra y tormenta, nacida para la verdad salvaje. Cambio huesos por Plata, s\xedmbolos de los muertos por monedas de los vivos. No toques nada ligeramente en este bosque. Tr\xe1eme lo que otros temen, y te har\xe9 rico... o perseguido.","1208":"","1301":"Habilidades para comprar:","1302":"Mejoras para comprar:","1303":"Habilidades que tienes:","1304":"Mejoras que tienes:","1305":"Todav\xeda no tienes habilidades.","1306":"Todav\xeda no tienes mejoras.","1400":"CADENAS MODAL","1401":"MODAL DEL BANCO","1402":"Estas ofertas son buenas para","1403":"Comprar","1404":"por","1405":"No hay ofertas disponibles.","1406":"Nuevas ofertas en","1407":"Generando nuevos pedidos. Gracias por tu paciencia.","1408":"\u26a0\ufe0f No tienes suficientes art\xedculos.","1409":"\u26a0\ufe0f No tienes suficientes habilidades.","1410":"\u26a0\ufe0f No tienes suficientes mejoras.","1500":"CADENAS DE NOTICIAS DE LA CIUDAD","1501":"Noticias para","1502":"El alcalde actual es","1503":", y la tasa impositiva es","1504":"Esto es lo que est\xe1 sucediendo en la Ciudad en este momento:","1505":"Es temporada de elecciones y la campa\xf1a est\xe1 en pleno apogeo. Pasa por el Palacio de Justicia en la Ciudad para postularte como alcalde.","1506":"La votaci\xf3n para el pr\xf3ximo alcalde ha comenzado. Emite tu voto en el Palacio de Justicia en la Ciudad.","1507":"El Tren est\xe1 llegando, ofreciendo comprar:","1508":"El Tren est\xe1 partiendo. Cuando regrese, estar\xe1 comprando:","1509":"El Tren est\xe1 aqu\xed, ofreciendo comprar:","1510":" ","1511":"Visita el Banco para vender oro, plata y diamantes. El Banco est\xe1 actualizando sus ofertas actualmente.","1512":"Actualmente no hay alcalde.","1513":"El Tren est\xe1 partiendo en","1514":"Cuando regrese, estar\xe1 comprando:","1515":"La tasa impositiva es","1516":"El Banco est\xe1 comprando actualmente:","1517":"El Tren partir\xe1 en","1518":"Los votos en la \xfaltima elecci\xf3n para alcalde se est\xe1n contando. Se espera que los resultados est\xe9n listos en","1600":"CADENAS DE BUZ\xd3N","1601":"Cargando mensajes...","1602":"No tienes mensajes.","1603":"Recibido","1604":"Recoger","1605":"La mayor\xeda de los mensajes se eliminar\xe1n despu\xe9s de 14 d\xedas. Las compras en la tienda no se eliminar\xe1n.","1606":"\ud83d\udcea Buz\xf3n","1607":"\ud83d\uddd1\ufe0f Mensaje eliminado.","1700":"CADENAS DE TIENDA","1701":"\ud83d\uded2 Tienda","1702":"Las compras se entregar\xe1n en la Bandeja de entrada.","1703":"\ud83d\ude4f \xa1Gracias por tu apoyo! Somos un peque\xf1o desarrollador con pocos recursos, pero apasionados por crear un espacio divertido para una comunidad positiva.","1704":"Por favor, considera hacer compras para que podamos seguir mejorando el juego.","2000":"CADENAS DE TREN, BANCO, PALACIO DE JUSTICIA, ETC.","2002":"\u2705 Completado","2003":"\ud83d\udce6 Vista preliminar del pr\xf3ximo env\xedo:","2004":"\ud83c\udf81 Recompensas por completar todos los pedidos:","2005":"Haz clic para cumplir","2006":"Tu Pedido","2007":"Reclamado","2008":"Reclamar Pedido","2009":"Reclamado por ti:","2010":"Disponible para reclamar:","2011":"Reclamado por otros:","2012":"Completado:","2013":"Reclamado por ti:","2014":"Solo puedes reclamar una oferta de tren a la vez.","2015":"Mostrar Registro de Trenes","2016":"\u2705 \xa1Todos los pedidos han sido completados! Las recompensas han sido enviadas por correo.","2017":"Este pedido ya ha sido reclamado.","2020":"El tren es","2030":"Actualizaci\xf3n de Ofertas en","2040":"Bienvenido, Alcalde.","2041":"\ud83d\udcb0 Tasa de Impuestos: ","2042":"Propuesto: ","2043":"Actualizar","2044":"\u26a0\ufe0f Solo el Alcalde puede establecer la tasa impositiva.","2045":"\ud83d\uddf3\ufe0f Elecciones","2046":"Fase Actual:","2047":"Temporizador de Fase:","2048":"\ud83d\udce2 Promesas de Campa\xf1a","2060":"La votaci\xf3n comienza en:","2061":"La votaci\xf3n termina en:","2062":"La votaci\xf3n ha terminado. Los resultados se anunciar\xe1n en:","2063":"La pr\xf3xima campa\xf1a comienza en:","2070":"\ud83d\udce2 Promesas de Campa\xf1a","2071":"Nadie ha hecho una promesa de campa\xf1a todav\xeda.","2072":"Ingresa tu promesa de campa\xf1a (m\xe1x. 200 caracteres)...","2073":"Enviar Promesa de Campa\xf1a","2074":"Emite tu Voto","2075":"No hay candidatos disponibles para la votaci\xf3n.","2076":"Promesa de campa\xf1a:","2077":"Ya has votado en esta elecci\xf3n.","2078":"No hubo candidatos.","2079":"\xbfC\xf3mo est\xe1 tu Alcalde?","2080":"Bienvenido, Alcalde.","2081":"Ingresa nombre del asentamiento...","2082":"Tu Asentamiento:","2083":"Actualizar Nombre","2084":"Visita el Panel de Gobierno \ud83c\udfdb\ufe0f para ver estad\xedsticas sobre c\xf3mo est\xe1 el asentamiento, para ayudar a guiar tu decisi\xf3n electoral.","2090":"\ud83c\udfe4 Edificios Comunitarios","2092":"\ud83c\udfeb Escuelas: ","2093":"\ud83c\udfeb A\xfan no se han construido Escuelas.","2094":"\ud83c\udfe5 Hospitales: ","2095":"\ud83c\udfe5 A\xfan no se han construido Hospitales.","2096":"\ud83d\udc3e Patios de Animales: ","2097":"\ud83d\udc3e A\xfan no se han construido Patios de Animales.","2098":"\ud83c\udfe4 Bibliotecas:","2099":"\ud83c\udfe4 A\xfan no se han construido bibliotecas.","3000":"PANEL DEL GOBIERNO:","3001":"Asentamiento:","3002":"\ud83d\ude0a Poblaci\xf3n.","3003":"\ud83d\udcb0 Tasa de Impuestos:","3004":"La tasa impositiva la fija el Alcalde, para este asentamiento y un porcentaje de todos los impuestos recaudados se agrega a la cuenta del Alcalde.","3005":"Los Alcaldes son elegidos en el Ayuntamiento de la Ciudad.","3006":"\ud83c\udfdb\ufe0f Funcionarios del Gobierno","3007":"Todav\xeda no se han elegido funcionarios del gobierno.","3009":"Solo el Alcalde puede construir Escuelas, Hospitales y Bibliotecas en la Ciudad.","3010":"\ud83c\udfeb Las Escuelas brindan a los ciudadanos acceso a ciertas habilidades que no se pueden obtener en otro lugar.","3011":"\ud83c\udfe5 Los Hospitales suministran Doctores, que pueden curar a los aventureros que regresan del Valle.","3012":"\ud83c\udfe4 Las Bibliotecas son una fuente de Libros, que son vitales para los Aventureros que buscan aprender nuevas habilidades.","3013":"\ud83d\ude82 El Alcalde puede influir en la demanda de bienes en el Tren.","3020":"Ver Registro de Impuestos","3021":"","3022":"","3023":"","3024":"","3050":"TEXTOS DEL PANEL DE TEMPORADA","3051":"(El patrimonio neto se recalcula dos veces al d\xeda.)","3052":"No hay datos disponibles para los mejores ciudadanos.","3053":"Es","3054":"Cargando...","3055":"La temporada termina en:","3056":"Estamos entre temporadas.","3057":"Al final de la temporada, se enviar\xe1n recompensas adicionales a los mejores jugadores de la Frontera, as\xed como a todos los jugadores del mejor Asentamiento.","3058":"\ud83c\udfc6 Mejores Ciudadanos de la Frontera","3059":"\ud83c\udfd9\ufe0f Asentamiento L\xedder","3060":"Riqueza Total:","3061":"Poblaci\xf3n:","3062":"Desconocido","3063":"No hay datos disponibles","3064":"Ver Registro de Temporada","4000":"\xbfTodav\xeda no tienes una cuenta? Crea una cuenta gratuita para empezar a jugar:","4001":"Crear Cuenta","4002":"Nombre de Usuario","4003":"No se te pedir\xe1 una direcci\xf3n de correo electr\xf3nico.","4004":"Con una nueva cuenta, se te otorgar\xe1 tu propia hacienda para cultivar en un asentamiento con otros jugadores, en una Frontera llena de Asentamientos. La aventura te espera en el Valle.","4005":"Contrase\xf1a","4006":"Iniciar Sesi\xf3n","4007":"Nombre de Usuario","4008":"Inicia sesi\xf3n en tu cuenta para seguir jugando. Si no tienes una","4009":"PANEL DE PERFIL:","4010":"\xbfYa tienes un perfil?","4050":"Hola,","4051":"Cambiar Nombre de Usuario:","4052":"Cambiar Contrase\xf1a:","4053":"Gesti\xf3n de la Cuenta","4054":"Estado de la Cuenta:","4055":"Cerrar Sesi\xf3n","4056":"Eliminar Cuenta","4057":"ID del Jugador:","4058":"Reubicaci\xf3n de la Hacienda","4059":"Reubicaciones Restantes:","4060":"Visita la Tienda para comprar m\xe1s Reubicaciones.","4061":"Ajustes","4062":"Idioma:","4063":"Indicador de Rango:","4064":"Cambiar Avatar","4065":"Volver al Inicio de Sesi\xf3n","4066":"Seleccionar Idioma","4067":"M\xc1S CADENAS MODALES:","5000":"\ud83d\udc80 Has muerto.","5001":"Has sido devuelto a casa. Cualquier \xedtem de la mochila \ud83c\udf92 que ten\xedas se perdi\xf3.","5002":"Ten m\xe1s cuidado la pr\xf3xima vez.","5003":"\ud83d\ude00 Bienvenido a Valley View\u2122","5005":"Por favor inicia sesi\xf3n o crea una cuenta gratuita.","5006":"\xa9 Estudios Valley View, 2025, Todos los derechos reservados.","5007":"\ud83d\udce8 Bandeja de entrada","5010":"No tienes mensajes","5011":"\ud83d\uded2 Tienda","5015":"Las compras ser\xe1n entregadas en la Bandeja de entrada. No podemos ofrecer devoluciones. Todas las compras son finales.","5016":"Ten en cuenta que la mayor\xeda de los \xedtems del inventario se borran entre temporadas, as\xed que verifica el reloj de la temporada antes de comprar y consulta el panel de temporadas para m\xe1s informaci\xf3n.","5017":"\ud83d\udeab Actualmente no has iniciado sesi\xf3n.","5020":"Haz clic en el bot\xf3n Iniciar Sesi\xf3n o Crear Cuenta para empezar.","5021":"\ud83d\ude4f Gracias por tu apoyo!","5025":"Tu compra ha sido entregada en tu Bandeja de entrada.","5026":"\xa1Disfruta de Valley View!","5027":"\ud83d\ude00 \xa1Bienvenido a Valley View!","5030":"Ning\xfan jugador est\xe1 conectado o el servidor est\xe1 fuera de l\xednea.","5031":"Por favor actualiza la p\xe1gina, verifica tu conexi\xf3n a internet o regresa m\xe1s tarde.","5032":"\xa1Estamos entre temporadas!","5035":"Valley View no est\xe1 disponible temporalmente mientras reiniciamos la temporada.","5036":"\ud83d\udcf0 Noticias de la Ciudad","5040":"Esto es lo que est\xe1 sucediendo en la Ciudad en este momento:","5041":"Usar ","5045":"\xbfDeseas usar un ","5046":"Tienes ","5047":"\u26a0\ufe0f Confirmar Movimiento de la Hacienda","5050":"\xbfEst\xe1s seguro/a de que deseas mover tu hacienda? Esto no se puede deshacer.","5051":"Cierra este di\xe1logo para cancelar.","5052":"\u2b50\ufe0f \xa1Felicidades!","5060":"Ahora tienes un Pase Oro. Ve a tu panel de Perfil para personalizar tu icono de jugador y descubrir otros beneficios del Oro.","5061":"\xa1Gracias por tu apoyo!","5062":"Colecciones Recientes de Impuestos","5100":"A\xfan no hay historial de recolecci\xf3n de impuestos.","5101":"\ud83d\uddd3\ufe0f Fecha","5102":"\ud83d\udcb0 Total Recolectado","5103":"Alcalde","5104":"\ud83d\udcb0 Participaci\xf3n del Alcalde","5105":"","5110":"C\xd3MO JUGAR FRASES:","6003":"\xa1Trofeo Ganado!","7000":"TEXTOS DE NOTIFICACI\xd3N:","7001":"Consejo:","7005":"Usa A-W-S-D o las Teclas de Flecha para Moverte.","7006":"Busca el \xedcono \ud83d\udcaa para abrir el panel de Habilidades.","7007":"P\xe1rate en la hierba, luego encuentra el panel \ud83d\udc2e Comprar para adquirir una vaca. Primero necesitar\xe1s la habilidad de Ganader\xeda.","7009":"Sigue revisando tu \u2705 Lista de Tareas, y sigue consultando con \ud83e\udd20 Kent y \ud83d\udc75\ud83c\udffb la Pastora.","7015":"Haz clic en + y - en la parte superior de la pantalla para acercar y alejar el zoom.","8999":"\xa1Bienvenido a Valley View!","9000":"\xbfDe qu\xe9 trata?","9001":"Valley View es un juego que explora c\xf3mo las personas podr\xedan autoorganizarse y crear microsociedades en un mundo de recursos asim\xe9tricos e interdependencia, con espacios propios y compartidos.","9002":"Aunque no hay caminos de especializaci\xf3n expl\xedcitos, hay tres vectores principales de juego que son interdependientes. Estos son: el GRANJERO, el AVENTURERO y el POL\xcdTICO. Se te anima a apoyarte mutuamente.","9003":"Primero, lo b\xe1sico:","9004":"Usa las teclas A-W-S-D para MOVERTE. Haz clic para interactuar con las cosas que est\xe1n dentro de tu radio de interacci\xf3n.","9005":"Explora \ud83d\ude9c la AGRICULTURA, \u2692\ufe0f CONSTRUYE y \ud83d\udc2e COMPRA para mejorar tu Hacienda y generar recursos.","9006":"Genera \ud83d\udcb0 DINERO en el \ud83d\udce5 PUESTO DE INTERCAMBIO. Publica recursos en venta para otros jugadores o v\xe9ndelos al juego por un valor parcial.","9007":"M\xe1s:","9008":"A medida que generes riqueza, mej\xf3rate con HABILIDADES y CAPACIDADES. Por ejemplo, compra la habilidad de \ud83d\udc34 MONTAR A CABALLO para viajar a la CIUDAD.","9009":"Aleja (- y +) para ver lo grande que es el mundo. Tu Hacienda es una de muchas en un ASENTAMIENTO. Cada ASENTAMIENTO tiene una CIUDAD compartida. Tu Asentamiento es uno de muchos en la FRONTERA.","9010":"Cuando est\xe9s listo, explora el VALLE, lleno de peligros y maravillas. Los secretos del mago PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f y del rey perdido LEONTES \ud83e\udd34, entre otros, se pueden encontrar en el Valle.","9011":"Tus Objetivos:","9012":"Si\xe9ntete libre de crear tus propios objetivos. Adem\xe1s, al final de cada \ud83d\uddd3\ufe0f TEMPORADA, que dura tres meses, tanto los individuos como los asentamientos ser\xe1n clasificados, y un puesto destacado generar\xe1 riqueza adicional. Tu hacienda, todas tus habilidades y parte de tu riqueza se transferir\xe1n a la pr\xf3xima Temporada.","9013":"\xa1Cultiva, crea, comercia, explora, lucha y disfruta!","9014":"C\xf3mo Ganar Dinero","9020":"Hay algunas formas de ganar \ud83d\udcb0 DINERO.","9021":"Al comenzar, abre el \ud83d\udce5 PUESTO DE COMERCIO, que encontrar\xe1s en la esquina superior izquierda de tu Hacienda. Aqu\xed, puedes vender bienes, incluyendo cultivos y artesan\xedas.","9022":"El \ud83d\udce5 PUESTO DE COMERCIO te comprar\xe1 bienes al 25% de su valor. Para maximizar tus ganancias, deber\xedas comerciar con otros jugadores. Ellos tendr\xe1n cosas que necesitas, y viceversa.","9023":"A medida que progresas, podr\xe1s viajar a la CIUDAD usando el \u23ea POSTE DE SE\xd1ALES. All\xed, encontrar\xe1s lugares como el BANCO, que comprar\xe1 art\xedculos espec\xedficos de ti a un precio premium.","9024":"Gastar Dinero","9025":"Sorpresa, la mayor\xeda de las cosas cuestan Dinero. Inicialmente, querr\xe1s gastar dinero en \ud83d\udcaa HABILIDADES, \ud83d\udc2e ANIMALES DE GRANJA y \u2692\ufe0f ESTACIONES DE ARTESAN\xcdA. Explora los paneles en el lado izquierdo de la pantalla. Estos te ayudar\xe1n a generar m\xe1s recursos, lo que a su vez te ayudar\xe1 a ganar m\xe1s Dinero.","9026":"En la CIUDAD descubrir\xe1s m\xe1s Tiendas y Comerciantes.","9027":"Beneficios","9030":"C\xf3mo Ganar Gemas","9031":"Las Gemas son un recurso raro que se puede usar para comprar varias cosas para ayudar a acelerar tu juego.","9032":"Puedes comprar Gemas en la Tienda, o haciendo clic aqu\xed:","9033":"En raras ocasiones, las Gemas se pueden encontrar en el Valle, o ganar como recompensas por triunfar con el Tren, o terminar fuerte al final de una Temporada.","9040":"Obvio:","9041":"100 \ud83d\udc8e Gemas por ","9042":"Mejor Valor:","9043":"500 \ud83d\udc8e Gemas por ","9044":"M\xe1s Popular:","9045":"1000 \ud83d\udc8e Gemas por ","9050":"Un Pase de Oro te brinda acceso a funciones premium y beneficios en Valley View durante toda una temporada.","9051":"Con un Pase de Oro, puedes disfrutar de los siguientes beneficios:","9052":"\u2705 Avatares premium: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9053":"\u2705 Capacidad de Almac\xe9n casi ilimitada","9054":"\u2705 Capacidad de Mochila casi ilimitada","9055":"\u2705 2 espacios adicionales de Puesto de Comercio","9056":"\u2705 Tasa de Impuesto m\xe1s baja","9057":"\u2705 La mitad de tu MaxHP se restaura al morir","9058":"\u2705 Puedes postularte para un cargo","9059":"Gracias por comprar tu Pase de Oro.","9060":"Comprar un Pase de Oro","9061":"\ud83d\udd0c El servidor est\xe1 ca\xeddo","10000":"El servidor est\xe1 actualmente ca\xeddo. Pedimos disculpas por las molestias, por favor, vuelve a intentarlo pronto.","10001":"(Este mensaje desaparecer\xe1 cuando el servidor vuelva a estar en funcionamiento.)","10002":"TEXTOS DE APP.JS:","10100":"\xa1Bienvenido a Valley View!","10101":"Por favor, inicia sesi\xf3n o crea una cuenta gratuita.","10102":"\ud83c\udf92 Inventario","10103":"\ud83d\uded2 Tienda","10104":"\ud83d\udce8, Bandeja de entrada","10105":"\ud83d\udce2 Compartir","10106":"\ud83d\udcac Chat","10107":"Tienes un Pase de Oro","10108":"\u2194\ufe0f Teclas de Movimiento: ","10109":"\ud83d\udd79\ufe0f C\xf3mo Jugar","10110":"Eres el Alcalde","10111":"\u2764\ufe0f\u200d\ud83e\ude79 Salud: ","10112":"\ud83d\uddd3\ufe0f Es","10113":"La Temporada Termina en:","10114":"La pr\xf3xima temporada comienza en:","10115":"\u23ea Ocurriendo Ahora en la Ciudad:","10116":"\ud83d\udcb0 Pr\xf3xima Recaudaci\xf3n de Impuestos:","10117":"En: ","10118":"Recaudando impuestos ahora...","10119":"\ud83c\udfdb\ufe0f Elecciones: ","10120":"Finaliza: ","10121":"\ud83d\ude82 Tren: ","10122":"\ud83c\udfe6 Banco: ","10123":"Nuevas Ofertas: ","10124":"\xa1Lee las noticias!","10125":"\xbfQui\xe9n est\xe1 aqu\xed:","10126":"No hay PCs presentes en la cuadr\xedcula.","10127":"Guardar Cambios","10128":"","10129":"Tienes un Pase de Oro","10130":"Beneficios del Pase de Oro","10131":"Cancelar Reubicaci\xf3n","10132":"Reubicar Hacienda","10133":"CADENAS AGREGADAS:","11000":"Espera a que termine el temporizador, o que otro jugador compre este art\xedculo.","11001":"Agricultura","12001":"Construir","12003":"Animales","12004":"Misiones Activas","12005":"Habilidades","12006":"Combate","12007":"Gobierno","12008":"Estaciones","12009":"Hogar","12010":"Perfil","12011":"Decoraciones","12012":"Herramientas","12013":"Trofeos","15000":"\ud83d\uddd3\ufe0f Reglas de Temporada","15001":"Las temporadas duran tres meses.","15002":"Recompensas","15003":"\ud83d\udcb0 El patrimonio neto se calcular\xe1 en base a tu dinero, art\xedculos del inventario y art\xedculos en tu granja.","15004":"\ud83c\udfc6 Los 3 mejores jugadores a trav\xe9s de la frontera recibir\xe1n recompensas en tu buz\xf3n, y tambi\xe9n ganar\xe1n un trofeo de \'Ganador de Temporada\'.","15005":"\ud83c\udfc6 El mejor jugador en la frontera tambi\xe9n ganar\xe1 el trofeo de \'Campe\xf3n de Temporada\'.","15006":"\ud83c\udf81 Todos los jugadores en el mejor asentamiento recibir\xe1n recompensas adicionales en tu buz\xf3n.","15007":"Reinicio de Jugadores y Ubicaciones","15008":"\ud83c\udfe0 Ser\xe1s reubicado de vuelta a tu granja si est\xe1s lejos de casa cuando termine la temporada.","15009":"\ud83c\udfe0 Tus granjas NO se reiniciar\xe1n \u2013 todo el dise\xf1o, baldosas y recursos se mantienen.","15010":"\ud83c\udf92 Tu inventario S\xcd ser\xe1 borrado, con excepci\xf3n de objetos raros como el Orbe de Pr\xf3spero, Corona del Rey, Llaves Doradas & de Esqueleto, Tridente).","15011":"\ud83d\udc8e Mantendr\xe1s todas las Gemas.","15012":"\ud83d\udcb0 El dinero ser\xe1 reducido al 10% de la cantidad actual (25% para poseedores del Pase Dorado).","15013":"\u2705 Todas las misiones ser\xe1n borradas.","15014":"\ud83d\udcaa Tus habilidades y poderes se mantienen.","15015":"\u2764\ufe0f Tus relaciones se mantienen.","15016":"\u2b50\ufe0f Tu estado de Pase Dorado ser\xe1 revocado para la nueva temporada.","15017":"\ud83c\udf32 Todas las cuadr\xedculas de ciudad y valle ser\xe1n reiniciadas con baldosas, recursos y enemigos frescos.","15018":"\xbfQu\xe9 Cambia?","15019":"\ud83c\udf83 Las ciudades tendr\xe1n baldosas y recursos seg\xfan el nuevo contenido de temporada.","15020":"\ud83d\ude00 Los nuevos jugadores que se unan (y creen nuevas granjas) obtendr\xe1n baldosas y recursos iniciales seg\xfan el nuevo contenido de temporada.","15021":"\ud83d\ude82 Los pedidos de tren son afectados por las temporadas.","15022":"\ud83c\udfc6 Se pueden ganar nuevas recompensas y trofeos.","30000":"TROFEOS:","30001":"Primer Trabajador Agr\xedcola","30002":"Constructor de Habilidades","30003":"Trenes Completados","30004":"Ganador de Temporada","30005":"Campe\xf3n de Temporada","200009":"Cuenta de Oro","200010":"Dinero","200011":"Toc\xf3n","200012":"Se\xf1al N","200013":"Se\xf1al E","200014":"Se\xf1al S","200015":"Se\xf1al O","200016":"Se\xf1al NO","200017":"Se\xf1al NE","200018":"Se\xf1al SE","200019":"Se\xf1al SO","200020":"Se\xf1al Pueblo","200021":"Se\xf1al Casa","200022":"Puesto de Comercio","200023":"Puesto Comercial","200024":"Almac\xe9n","200025":"Casa Abandonada","200026":"Casa de Granja","200027":"Reparar","200028":"Monta\xf1a","200029":"Monta\xf1a Grande","200030":"Banco","200031":"Juzgado","200032":"Tren","200033":"Buz\xf3n","200034":"Roble","200035":"Pino","200036":"Palmera","200037":"\xc1rbol Navide\xf1o","200038":"Mu\xf1eco de Nieve","200039":"Rocas","200040":"Cantera de Arcilla","200041":"Madera","200042":"Piedra","200043":"Arcilla","200044":"Parcela de Trigo","200045":"Parcela de Zanahoria","200046":"Parcela de Ma\xedz","200047":"Parcela de Ca\xf1a de Az\xfacar","200048":"Parcela de Fresa","200049":"Manzano","200050":"Limonero","200051":"Vid","200052":"Parcela de Ajo","200053":"Olivo","200054":"Tomatera","200055":"Parcela de Roble","200056":"Trigo","200057":"Zanahoria","200058":"Ma\xedz","200059":"Ca\xf1a de Az\xfacar","200060":"Fresa","200061":"Manzana","200062":"Lim\xf3n","200063":"Uvas","200064":"Ajo","200065":"Aceituna","200066":"Tomate","200067":"Ar\xe1ndano","200068":"Leche","200069":"Lana","200070":"Huevo","200071":"Harina","200072":"Pienso para Pollos","200073":"Az\xfacar","200074":"Harina de Ma\xedz","200075":"Madera Aserrada","200076":"Mantequilla","200077":"Crema","200078":"Queso","200079":"Hilo","200080":"Tela","200081":"Su\xe9ter","200082":"Chaqueta","200083":"Chaqueta Pesada","200084":"T\xfanica R\xfanica","200085":"Pan","200086":"Pan de Ma\xedz","200087":"Tarta de Manzana","200088":"Tarta de Fresa","200089":"Galleta de Lim\xf3n","200090":"Pan de Aceitunas","200091":"Pan de Ajo","200092":"Pastel de la Reina","200093":"Sopa de Tomate","200094":"Sopa de Zanahoria","200095":"Tortilla","200096":"Pizza","200097":"Miel","200098":"Sidra de Manzana","200099":"Vino","200100":"Oporto","200101":"Aceite de Oliva","200102":"Vino A\xf1ejo","200103":"Cer\xe1mica","200104":"Muebles","200105":"Tinta","200106":"Urnas","200107":"Romero","200108":"Champi\xf1\xf3n","200109":"Champi\xf1\xf3n M\xe1gico","200110":"Margarita","200111":"Tulip\xe1n","200112":"Girasol","200113":"Matricaria","200114":"Poci\xf3n A","200115":"Poci\xf3n B","200116":"Poci\xf3n C","200117":"Gema","200118":"Libro","200119":"Piel","200120":"Piel de Oso","200121":"Huesos","200122":"Plata","200123":"Oro","200124":"Anillo de Diamante","200125":"Corona del Rey","200126":"Retrato","200127":"Tridente","200128":"Llave Maestra","200129":"Llave Dorada","200130":"Pergamino","200131":"Orbe de Pr\xf3spero","200132":"Tienda de Campa\xf1a","200133":"Barco","200134":"Santuario","200135":"Castillo","200136":"Restaurante","200137":"Ba\xf1o","200138":"Tienda General","200139":"Guarida del Guerrero","200140":"Tienda de Magia","200141":"Templo Antiguo","200142":"Campamento de Aventura","200143":"Laboratorio","200144":"Escuela","200145":"Establo","200146":"Molino","200147":"Lecher\xeda","200148":"Gallinero","200149":"Aserradero","200150":"Telar","200151":"Horno","200152":"Cocina","200153":"Colmena","200154":"Estudio","200155":"Bodega","200156":"Biblioteca","200157":"Corral","200158":"Hospital","200159":"Vaca","200160":"Oveja","200161":"Vaca Marr\xf3n","200162":"Doctor","200163":"Cirujano","200164":"Hada","200165":"Kent","200166":"Portia","200167":"El Pastor","200168":"Hotspur","200169":"Cassio","200170":"Se\xf1ora Quickly","200171":"Feste","200172":"Helena","200173":"Titania","200174":"Vampiro","200175":"Pap\xe1 Noel","200176":"Pr\xf3spero","200177":"Falstaff","200178":"Boticario","200179":"Iago","200180":"Gertrudis","200181":"Leontes","200182":"Calib\xe1n","200183":"Julieta","200184":"Sirena","200185":"Granjero","200186":"Pe\xf3n de Granja","200187":"Ranchero","200188":"Le\xf1ador","200189":"Coyote","200190":"Oso","200191":"Ara\xf1a","200192":"Zombi","200193":"Duque Angelo","200194":"Fantasma","200195":"Ogro","200196":"Demonio","200197":"Drag\xf3n","200198":"Generador de Coyotes","200199":"Generador de Osos","200200":"Generador de Ara\xf1as","200201":"Generador de Zombis","200202":"Generador de Fantasmas","200203":"Generador de Demonios","200204":"Generador de Dragones","200205":"Cultivador","200206":"Mano Verde","200207":"Ganader\xeda","200208":"Recolecci\xf3n Animal Masiva","200209":"Hacha","200210":"Pico","200211":"Constructor","200212":"Cosecha Masiva","200213":"Replantaci\xf3n Masiva","200214":"Tala","200215":"Tala Mejorada","200216":"Hacha Mejorada","200217":"Pico Mejorado","200218":"Almac\xe9n","200219":"Dep\xf3sito","200220":"Almacenamiento 3 PD","200221":"Almacenamiento 4 PD","200222":"Alba\xf1iler\xeda","200223":"Mec\xe1nica","200224":"Qu\xedmica","200225":"Cocina","200226":"Panadero","200227":"Textiles","200228":"Artesan\xeda","200229":"Viticultor","200230":"Apicultor","200231":"Sastre","200232":"Pol\xedtica","200233":"Educaci\xf3n","200234":"Ganader\xeda","200235":"Derecho","200236":"Medicina","200237":"Cirug\xeda","200238":"Mochila","200239":"Morral","200240":"Mochila Encantada","200241":"Caballo","200242":"Combate","200243":"Rastreo","200244":"Explorador","200245":"Fuerza","200246":"Ira","200247":"Tempestad","200248":"Golpe","200249":"R\xe1faga","200250":"Andanada","200251":"Enfoque","200252":"Precisi\xf3n","200253":"Ojo del Horizonte","200254":"Acolchado","200255":"Armadura","200256":"Velo Bendito","200257":"Mano Firme","200258":"Punter\xeda","200259":"Fortaleza","200260":"Coraz\xf3n de Piedra","200261":"Inquebrantable","200262":"Caja","200263":"Muro de Piedra","200264":"Muro de Piedra Grande","200265":"Muro Verde","200266":"Muro Negro","200267":"Muro de Arena","200268":"Muro Azul","200269":"Muro Naranja","200270":"Planta","200271":"Cactus","200272":"Arpa","200273":"Bandera","200274":"Pila de Libros","200275":"Silla","200276":"Inodoro","200277":"Cama","200278":"Oso de Peluche","200279":"Agujero Grande","200280":"Tobog\xe1n","200281":"Fuente","200282":"Fuente Grande","200283":"Palmera Decorativa Grande","200284":"Vor\xe1gine","200285":"Aniquilaci\xf3n","200286":"Infalible","200287":"Tit\xe1n","hp":"Puntos de Golpe M\xe1ximos","maxhp":"Alcance","range":"Rango de Ataque","attackrange":"Bono de Ataque","attackbonus":"Da\xf1o","damage":"Velocidad de Ataque","speed":"Est\xe1 de Campamento","iscamping":"Clase de Armadura","armorclass":"Capacidad de la Mochila","backpackCapacity":"Capacidad del Almac\xe9n"}'),i=JSON.parse('{"0":"Vista do Vale","1":"Servidor n\xe3o est\xe1 em execu\xe7\xe3o.","3":"\ud83d\ude9c Terra arada com sucesso.","4":"\u26a0\ufe0f Voc\xea n\xe3o tem recursos suficientes.","5":"\u2692\ufe0f Constru\xe7\xe3o conclu\xedda com sucesso.","6":"\ud83d\udcb0 Itens vendidos.","7":"\ud83c\udfe0 Esta propriedade est\xe1 desocupada.","8":"\ud83d\udeab Esta \xe1rea \xe9 proibida.","9":"O Vale est\xe1 repleto de maravilhas, e deve ser explorado a p\xe9.","10":"\ud83c\udfe0 Propriedade de [username].","11":"\ud83c\udfe0 Propriedade de propriet\xe1rio desconhecido.","12":"Visualiza\xe7\xe3o de assentamento. Dependendo de sua localiza\xe7\xe3o, pode ser necess\xe1rio rolar para ver a Cidade.","13":"Visualiza\xe7\xe3o do Novo Mundo.","14":"\ud83d\ude82 Bem-vindo \xe0 cidade.","15":"\ud83d\udc34 Voc\xea precisa da habilidade de Montaria para viajar para c\xe1. Verifique seu painel de \ud83d\udcaa Habilidades.","16":"Voc\xea est\xe1 no vale.","17":"Voc\xea n\xe3o possui uma propriedade aqui.","18":"\ud83d\udeab Voc\xea n\xe3o pode ir por esse caminho.","19":"\ud83c\udf92 Voc\xea precisa de uma Mochila para coletar recursos longe de sua propriedade. Compre uma no Acampamento de Aventura.","20":"\ud83d\udeab N\xe3o h\xe1 espa\xe7o suficiente no Armaz\xe9m.","21":"\ud83c\udf92 N\xe3o h\xe1 espa\xe7o suficiente na Mochila. Abra o Invent\xe1rio para gerenciar o conte\xfado da Mochila.","22":"Itens adquiridos.","23":"\u26a0\ufe0f Voc\xea n\xe3o pode construir aqui.","24":"\ud83c\udfaf Fora de alcance","25":"\ud83c\udf92 Nada na Mochila.","26":"\ud83c\udf92 Voc\xea precisa estar em sua propriedade para esvaziar sua Mochila.","27":"\u26fa\ufe0f Voc\xea n\xe3o possui uma barraca.","28":"\u26fa\ufe0f Voc\xea est\xe1 acampando agora.","29":"\u26a0\ufe0f \u26fa\ufe0f Falha ao acampar / desmontar acampamento.","30":"\u26fa\ufe0f N\xe3o est\xe1 mais acampando.","31":"\u26fa\ufe0f N\xe3o \xe9 poss\xedvel atacar enquanto estiver acampando.","32":"\u26fa\ufe0f Voc\xea precisa desmontar o acampamento primeiro.","33":"\ud83d\udce6 Itens movidos para o Armaz\xe9m.","34":"\ud83c\udf92 Mochila esvaziada.","35":"Voc\xea precisa de um ","36":"Voc\xea usou um ","50":"\ud83d\udeab Esse nome de usu\xe1rio j\xe1 est\xe1 em uso.","70":"Sess\xe3o expirada","71":"Voc\xea ficou ausente por um tempo. Atualizar garante que sua sess\xe3o funcione corretamente.","72":"Esta p\xe1gina se atualizar\xe1 automaticamente em 30 segundos, a menos que voc\xea o fa\xe7a agora.","73":"\ud83d\udd04 Atualizar agora","74":"\ud83c\udf92 Uma Mochila \xe9 necess\xe1ria para ter uma Barraca.","75":"Voc\xea n\xe3o possui uma Mochila. Voc\xea pode comprar uma no Acampamento de Aventura na Cidade.","76":"Seu Armaz\xe9m est\xe1 vazio.","77":"Sua Mochila est\xe1 vazia.","78":"Gerenciar Mochila","90":"\ud83d\udeab Esta n\xe3o \xe9 sua propriedade.","98":"\u23f3 Loading ...","99":"\u26a0\ufe0f Algo deu errado.","100":"STRINGS DE VIAGEM:","101":"\ud83d\udc34 Viajando para casa... por favor, aguarde.","102":"\ud83d\udc34 Viajando hacia el pueblo ... por favor espera.","103":"\ud83d\udc34 Viajando hacia la pr\xf3xima ubicaci\xf3n ... por favor espera.","104":"\ud83d\udeab No hay un pueblo en este asentamiento a\xfan.","105":"\u26a0\ufe0f Hubo un problema al intentar viajar.","106":"\ud83d\udeab No puedes viajar m\xe1s all\xe1 de la frontera.","110":"\u27a1\ufe0f \xa1Camina hacia los postes de se\xf1ales para usarlos!","111":"Bienvenido al pueblo.","112":"Bienvenido a casa.","120":"No te quedan movimientos de rancho.","121":"Has movido exitosamente tu rancho.","122":"\xa1No puedes mudarte al valle!","123":"\xa1No puedes mudarte al pueblo!","124":"Ese rancho est\xe1 ocupado.","125":"\xbfA d\xf3nde te est\xe1s mudando?","130":"Seleccione su idioma:","131":"Confirmar","150":"CADENA DE PUESTOS DE COMERCIO:","151":"No puedes llenar el puesto de comercio de otro jugador.","152":"No tienes suficiente dinero para comprar este art\xedculo.","153":"est\xe1 vendiendo:","154":"est\xe1n vendiendo","155":"La transacci\xf3n fall\xf3. Este art\xedculo ya ha sido vendido.","200":"MISIONES","201":"\u2705 Misi\xf3n completada. Tienes tu recompensa.","202":"\u2705 Misi\xf3n aceptada.","203":"No hay misiones activas en este momento.","204":"est\xe1 ofreciendo estas misiones:","205":"no tiene misiones para ti en este momento.","206":"Regresa al NPC que te dio esta misi\xf3n para recoger tu recompensa.","207":"En Progreso","208":"Obtener Recompensa","209":"Aceptar Misi\xf3n","299":"CADENA DE AGRICULTURA:","300":"\u2705 Agregado","301":"\ud83d\ude9c Arado","302":"\ud83d\ude9c Plantado","303":"\ud83d\ude9c Debe plantar en tierra","304":"\ud83d\ude9c No se puede plantar aqu\xed","305":"\u26a0\ufe0f No hay recursos suficientes","306":"\u26a0\ufe0f No se puede construir aqu\xed","310":"Necesitas arar la tierra para plantar.","311":"Tus animales de granja necesitar\xe1n mucho pasto para pastar.","312":"El pavimento puede ser \xfatil para controlar los animales errantes.","313":"","400":"COMPRAR, CREAR, HABILIDADES, CURACI\xd3N, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Ya tienes el m\xe1ximo de puntos de vida.","402":"\u26a0\ufe0f recursos.","403":"\u26a0\ufe0f Tu inventario est\xe1 lleno.","404":"Trabajando...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Puntos de vida recuperados por +","410":"\ud83c\udfd5\ufe0f Per utilizzare una tenda acquistata, fai clic sull\'icona del tuo giocatore.","420":"ti scambier\xe0:","421":"Usato In:","422":"Valore di base:","423":"Nessun commercio disponibile.","424":"Nessuna ricetta disponibile.","425":"Vendi per rimborso.","426":"Colture di partenza costose, ma nel caso tu terminassi:","427":"Acquista l\'abilit\xe0 Bulk Harvest del Farm Hand per raccogliere tutte le colture in una sola volta.","428":"Fai clic per raccogliere istantaneamente tutte le colture.","429":"Non hai colture da raccogliere.","430":"Abilit\xe0 Farm Hand:","431":"Acquista l\'abilit\xe0 Bulk Animal Collect del Farm Hand per raccogliere tutti gli animali in una sola volta.","432":"Acquista l\'abilit\xe0 di Logging del Farm Hand per abbattere pi\xf9 alberi in una sola volta e raccogliere legna.","433":"Acquista il miglioramento al Logging per aumentare il numero di alberi abbattuti in una sola volta.","434":"Fai clic per raccogliere istantaneamente da tutti gli animali.","435":"Fai clic per abbattere istantaneamente pi\xf9 alberi e raccogliere legna.","436":"Non hai animali da cui raccogliere.","437":"Non hai alberi da abbattere.","500":"STRINGHE DI COMBATTIMENTO","501":"\ud83c\udfaf Fuori portata.","502":"\ud83c\udfaf Colpito!","503":"\u274c Mancato","504":"\ud83d\udc80 Ucciso","505":"\u26a0\ufe0f Errore","510":"\u2764\ufe0f\u200d\ud83e\ude79 Stai subendo danni ...","899":"STRINGHE DI DEBUG:","900":"Debug: Inventario svuotato.","901":"Debug: Cronologia missioni cancellata.","902":"Debug: Risorse aggiunte.","903":"Debug: Griglia ripristinata con successo.","904":"Debug: Abilit\xe0 aggiunte.","905":"Debug: Abilit\xe0 e Poteri cancellati.","906":"Debug: Statistiche di combattimento ripristinate.","999":"STRINGHE DI INTERFACCIA PANNELLO:","1000":"[Descrizione necessaria]","1001":"Inventario: Le risorse raccolte nell\'Insediamento andranno nel magazzino. Le risorse raccolte in citt\xe0 o nella valle andranno nello zaino. Per acquistare uno zaino, vai a Abilit\xe0. Le stazioni di lavoro preleveranno solo gli oggetti dal magazzino. Puoi svuotare lo zaino nel magazzino in qualsiasi momento ti trovi nel tuo Insediamento.","1002":"Costruisci: Costruisci stazioni di lavoro nel tuo Insediamento utilizzando risorse dal tuo magazzino.","1003":"Gli animali acquistati compariranno sull\'icona del tuo giocatore e inizieranno immediatamente la vita nell\'insediamento.","1004":"Arare la terra per piantare colture. Pianta erba per dare ai farm animal qualcosa su cui pascolare.","1005":"Acquisisci Abilit\xe0 e Potenziamenti per migliorare vari attributi. Assicurati di esplorare la citt\xe0 per trovare ulteriori luoghi e modi per acquisire Abilit\xe0 e Potenziamenti.","1006":"Gestisci tutte le tue missioni in corso qui. Cerca personaggi che danno missioni nel tuo insediamento, cos\xec come in citt\xe0 o anche nella valle.","1007":"I governi a Valley View si formano a livello di insediamento. Il sindaco eletto implementa politiche e costruisce edifici per aiutare la comunit\xe0 a prosperare.","1008":"Bancarella: Vendi le tue risorse ad altri giocatori o acquista oggetti dalle loro bancarelle. Usa le frecce per navigare tra le bancarelle all\'interno del tuo Insediamento. Se nessun giocatore acquista i tuoi oggetti prima che scada il timer, puoi venderli al gioco per una frazione del loro valore di base.","1009":"[Descrizione crafting]","1010":"[Descrizione casella postale]","1011":"Questo Animal Stall \xe8 vuoto. Assicurati che gli animali abbiano erba da mangiare e verranno alla stalla per essere raccolti.","1012":"Le elezioni si svolgono in Tribunale. Qui, i sindaci hanno il potere di fissare l\'aliquota fiscale e rinominare l\'Insediamento.","1013":" ","1014":" ","1015":"Le jeu se d\xe9roule au fil des saisons en constante \xe9volution. \xc0 la fin d\'une saison, une partie de votre richesse et des objets rares seront conserv\xe9s. Passez \xe0 un compte Gold pour plus d\'avantages de report.","1016":"","1017":"Visitez la Banque pour \xe9changer des objets contre de l\'Argent, y compris des objets rares comme l\'Or et l\'Argent. Revenez r\xe9guli\xe8rement \xe0 la banque pour d\xe9couvrir des offres diff\xe9rentes.","1018":"","1019":"[Description du profil]","1021":"\xa9 Valley View Studios, 2025, Tous droits r\xe9serv\xe9s.","1022":"[Description du train]","1023":"[Description du travailleur agricole]","1024":"[Description du combat]","1025":"[Description de la boutique]","1026":"[Description du panneau de l\'argent]","1027":"Voici les avantages d\'un Pass Gold.","1028":"[Description du panneau de d\xe9corations]","1101":"Inventaire","1102":"\u2692\ufe0f Construire","1103":"\ud83d\uded2 Acheter","1104":"\ud83d\ude9c Agriculture","1105":"\ud83d\udcaa Comp\xe9tences","1106":"\u2753 Qu\xeates","1107":"\ud83c\udfdb\ufe0f Gouvernement","1108":"\ud83d\udce5 \xc9tal de Commerce","1109":"Artisanat","1110":"\ud83d\udcea Bo\xeete aux lettres","1111":"\ud83d\udc3e Animaux","1112":"\ud83c\udfdb\ufe0f Tribunal","1113":"Personnage Assistant","1114":"\ud83d\ude00 Personnage Joueur","1115":"\ud83d\uddd3\ufe0f Saison","1116":"\ud83d\udd01 Marchand","1117":"\ud83c\udfe6 Banque","1118":"\ud83d\udd79\ufe0f Comment Jouer","1119":"\ud83d\ude00 Profil","1120":"\ud83d\udc1e D\xe9boguer","1121":"\ud83d\ude00 Bienvenue","1122":"\ud83d\ude82 Train","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Travaileur Agricole","1124":"\u2694\ufe0f Combat","1125":"\ud83d\uded2 Boutique","1126":"\ud83d\udcb0 \xc0 propos de l\'Argent","1127":"\u2b50\ufe0f Pass Gold","1128":"\ud83e\ude91 D\xe9corations","1200":"HISTOIRES DE MARCHAND","1201":"Ah, la for\xeat cache de nombreux secrets... et moi? J\'en ai vol\xe9 quelques-uns. Ces gemmes ne sont pas les miennes, mais Titania en a plus qu\'il n\'en faut. Tu as quelque chose que je convoite : du Pain \xe0 l\'Olive, chaud et riche. Fais commerce avec moi, et je pourrais te murmurer des contes d\'yeux brillants dans l\'obscurit\xe9, d\'ailes qui scintillent \xe0 la lueur de la lune, et de dragons parlant en \xe9nigmes. Garde une oreille ouverte et un poignard \xe0 port\xe9e.","1202":"Ma fortune est aussi vaste que la mer, mon amour aussi profond... mais il est parti, et tout ce qui reste est un portrait et de la douleur. Angelo a pris les deux. Apporte-moi le portrait de Rom\xe9o, arrach\xe9 \xe0 ma chambre, et je te donnerai des Tulipes rouges comme le sang vers\xe9 sur les pierres de V\xe9rone. Que cela soit notre nouveau balcon : toi en bas, portant justice.","1203":"Donne-moi la vie, donne-moi l\'amour, mais surtout... donne-moi du Porto ! En \xe9change, une brindille de Petite Camomille, plus ch\xe8re que l\'or pour certains, surtout cette H\xe9l\xe8ne aux grands yeux. Elle pr\xe9tend rechercher des couronnes et des l\xe9gendes, la pauvre fille. Moi? Je recherche un ventre plein et un doux sommeil. \'Tu es si obtus apr\xe8s avoir bu du vieux sac\', m\'a-t-on dit une fois. Ha! Ils ne se trompaient pas.","1204":"Voici du romarin, pour se souvenir\u2014et de la jusquiame, pour regretter. Mes potions ne sont pas pour les \xe2mes faibles. Avec la bonne feuille, je peux r\xe9parer vos membres ou embrouiller votre langue. \'Je me souviens d\'un apothicaire\', a dit un gar\xe7on un jour, et il en a pay\xe9 le prix. Mais toi? Tu as l\'air plus sage. Apporte-moi des racines rares et des graines am\xe8res, et je te concocterai quelque chose qui en vaudra le danger.","1205":"Quelque chose est pourri, encore. Je le sens dans le sol. J\'ai autrefois r\xe9gn\xe9, aim\xe9, perdu. H\xe9l\xe8ne m\'a consum\xe9 comme l\'\xe9clair d\'\xe9t\xe9. Et Leontes? Il n\'a pas pu pardonner le d\xe9gel. \'La dame proteste trop\', ont-ils dit; laisse-les. Si tu croises H\xe9l\xe8ne, dis-lui que les roses connaissent son nom. Si tu croises Leontes, dis-lui que je n\'ai pas oubli\xe9 l\'hiver.","1206":"Ma peine est une statue ; silencieuse, mais jamais immobile. J\'ai enterr\xe9 ma couronne dans la neige le jour o\xf9 Gertrude a choisi son jardin \xe0 ma place. \'Sortie, poursuivie par un ours\' ? Non, je me suis enfuie moi-m\xeame. Maintenant, j\'attends, parmi la pierre et le silence. Apporte-moi ce qui \xe9tait autrefois mien, la Couronne du Roi, et je paierai en Or, plus lourd que le poids du souvenir. Mais m\xe9fie-toi : certains tr\xf4nes portent des mal\xe9dictions.","1207":"Ce pont est mien, par Sycorax ma m\xe8re.\' Prospero a tent\xe9 de le voler avec des sorts et des sourires. Ils m\'ont appel\xe9e b\xeate, mais je suis de la terre et de la temp\xeate, n\xe9e pour une v\xe9rit\xe9 sauvage. J\'\xe9change des os contre de l\'Argent, des symboles des morts contre la monnaie des vivants. Ne touche \xe0 rien l\xe9g\xe8rement dans ces bois. Apporte-moi ce que d\'autres craignent, et je te rendrai riche... ou hant\xe9.","1208":"","1301":"Skills to purchase:","1302":"Upgrades to purchase:","1303":"Skills you have:","1304":"Upgrades you have:","1305":"You have no skills yet.","1306":"You have no upgrades yet.","1400":"MODAL STRINGS","1401":"BANK MODAL","1402":"These offers good for","1403":"Will buy","1404":"for","1405":"No offers available.","1406":"New offers in","1407":"Generating new orders. Thank you for your patience.","1408":"\u26a0\ufe0f You don\'t have enough items.","1409":"\u26a0\ufe0f You don\'t have enough skills.","1410":"\u26a0\ufe0f You don\'t have enough upgrades.","1500":"TOWN NEWS STRINGS:","1501":"News for ","1502":"The current Mayor is","1503":", and the tax rate is","1504":"Here\'s what\'s happening in Town right now:","1505":"It\'s election season, and campaigning is in full swing. Stop by the Courthouse in Town to run for Mayor.","1506":"Voting for the next Mayor has begun. Cast your vote at the Courthouse in Town.","1507":"The Train is arriving, offering to buy:","1508":"The Train is departing. When it returns, it will be buying:","1509":"The Train is here, offering to buy:","1510":" ","1511":"Visit the Bank to sell gold, silver, and diamonds. The Bank is currently updating its offers.","1512":"There is currently no mayor. ","1513":"The Train is departing in","1514":"When it returns, it will be buying:","1515":"The tax rate is","1516":"The Bank is currently buying:","1517":"The Train will be departing in","1518":"The votes in the latest election for Mayor are being counted. Results expected in ","1600":"MAILBOX STRINGS:","1601":"Loading messages...","1602":"You have no messages.","1603":"Received","1604":"Collect","1605":"Most messages will be deleted afer 14 days. Store purchases will not be deleted.","1606":"\ud83d\udcea Mailbox","1607":"\ud83d\uddd1\ufe0f Message deleted.","1700":"STORE STRINGS:","1701":"\ud83d\uded2 Store","1702":"Purchases will be delivered to the Inbox.","1703":"\ud83d\ude4f Thank you for your support! We are a tiny developer with few resources, but passionate about creating a fun space for a positive community.","1704":"Please consider making purchases so we can continue to improve the game.","2000":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2002":"\u2705 \u5b8c\u6210","2003":"\ud83d\udce6 \u4e0b\u4e00\u6279\u8d27\u7269\u9884\u89c8:","2004":"\ud83c\udf81 \u4e3a\u5b8c\u6210\u6240\u6709\u8ba2\u5355\u800c\u5956\u52b1:","2005":"\u70b9\u51fb\u4ee5\u5c65\u884c","2006":"\u60a8\u7684\u8ba2\u5355","2007":"\u5df2\u9886\u53d6","2008":"\u9886\u53d6\u8ba2\u5355","2009":"\u60a8\u5df2\u9886\u53d6:","2010":"\u53ef\u9886\u53d6:","2011":"\u88ab\u4ed6\u4eba\u9886\u53d6:","2012":"\u5df2\u5b8c\u6210:","2013":"\u60a8\u5df2\u9886\u53d6:","2014":"\u60a8\u4e00\u6b21\u53ea\u80fd\u9886\u53d6\u4e00\u4e2a\u706b\u8f66\u4f18\u60e0\u3002","2015":"\u663e\u793a\u706b\u8f66\u65e5\u5fd7","2016":"\u2705 \u6240\u6709\u8ba2\u5355\u5747\u5df2\u5b8c\u6210\uff01\u5956\u52b1\u5df2\u5bc4\u51fa\u3002","2020":"\u706b\u8f66\u4e3a","2030":"\u4f18\u60e0\u66f4\u65b0\u4e8e","2040":"\u6b22\u8fce\uff0c\u5e02\u957f\u3002","2041":"\ud83d\udcb0 \u7a0e\u7387: ","2042":"\u5efa\u8bae: ","2043":"\u66f4\u65b0","2044":"\u26a0\ufe0f \u53ea\u6709\u5e02\u957f\u53ef\u4ee5\u8bbe\u7f6e\u7a0e\u7387\u3002","2045":"\ud83d\uddf3\ufe0f \u9009\u4e3e","2046":"\u5f53\u524d\u9636\u6bb5:","2047":"\u9636\u6bb5\u8ba1\u65f6\u5668:","2048":"\ud83d\udce2 \u7ade\u9009\u627f\u8bfa","2060":"\u6295\u7968\u5f00\u59cb\u4e8e:","2061":"\u6295\u7968\u622a\u6b62\u4e8e:","2062":"\u6295\u7968\u5df2\u7ed3\u675f\u3002\u7ed3\u679c\u5c06\u5728\u4ee5\u4e0b\u65f6\u95f4\u516c\u5e03:","2063":"\u4e0b\u4e00\u8f6e\u7ade\u9009\u5c06\u4e8e\u4ee5\u4e0b\u65f6\u95f4\u5f00\u59cb:","2070":"\ud83d\udce2 \u7ade\u9009\u627f\u8bfa","2071":"\u6ca1\u6709\u4eba\u505a\u51fa\u7ade\u9009\u627f\u8bfa\u3002","2072":"\u8f93\u5165\u60a8\u7684\u7ade\u9009\u627f\u8bfa\uff08\u6700\u591a200\u4e2a\u5b57\u7b26\uff09...","2073":"\u63d0\u4ea4\u7ade\u9009\u627f\u8bfa","2074":"\u6295\u7968","2075":"\u6ca1\u6709\u5019\u9009\u4eba\u53ef\u4f9b\u6295\u7968\u3002","2076":"\u7ade\u9009\u627f\u8bfa:","2077":"\u60a8\u5df2\u7ecf\u5728\u6b64\u9009\u4e3e\u4e2d\u6295\u8fc7\u7968\u3002","2078":"\u6ca1\u6709\u5019\u9009\u4eba\u3002","2079":"\u5e02\u957f\u73b0\u5728\u600e\u4e48\u6837\uff1f","2080":"\u6b22\u8fce\uff0c\u5e02\u957f\u3002","2081":"\u8f93\u5165\u5b9a\u5c45\u70b9\u540d\u79f0...","2082":"\u60a8\u7684\u5b9a\u5c45\u70b9:","2083":"\u66f4\u65b0\u540d\u79f0","2084":"\u8bbf\u95ee\ud83c\udfdb\ufe0f \u653f\u5e9c\u9762\u677f\uff0c\u67e5\u770b\u5b9a\u5c45\u70b9\u72b6\u51b5\u7edf\u8ba1\uff0c\u4ee5\u5e2e\u52a9\u60a8\u505a\u51fa\u9009\u4e3e\u51b3\u5b9a\u3002","2090":"\ud83c\udfe4 \u793e\u533a\u5efa\u7b51","2092":"\ud83c\udfeb \u5b66\u6821: ","2093":"\ud83c\udfeb \u8fd8\u6ca1\u6709\u5efa\u7acb\u5b66\u6821\u3002","2094":"\ud83c\udfe5 \u533b\u9662: ","2095":"\ud83c\udfe5 \u8fd8\u6ca1\u6709\u5efa\u7acb\u533b\u9662\u3002","2096":"\ud83d\udc3e \xc1reas de Animales: ","2097":"\ud83d\udc3e Todav\xeda no se han construido \xe1reas de animales.","2098":"\ud83c\udfe4 Bibliotecas: ","2099":"\ud83c\udfe4 Todav\xeda no se han construido bibliotecas.","3000":"GOBIERNO: ","3001":"Asentamiento: ","3002":"\ud83d\ude0a Pob.","3003":"\ud83d\udcb0 Tasa de impuesto: ","3004":"La tasa impositiva es establecida por el Alcalde, para este Asentamiento, y un porcentaje de todos los impuestos recaudados se agrega a la cuenta del Alcalde.","3005":"Los Alcaldes son elegidos en el Palacio de Justicia de la Ciudad.","3006":"\ud83c\udfdb\ufe0f Funcionarios del Gobierno","3007":"Todav\xeda no se han elegido funcionarios del gobierno.","3009":"Solo el Alcalde puede construir Escuelas, Hospitales y \xc1reas de Animales en la Ciudad.","3010":"\ud83c\udfeb Las Escuelas brindan a los ciudadanos acceso a ciertas habilidades que no se pueden obtener en ning\xfan otro lugar.","3011":"\ud83c\udfe5 Los Hospitales proveen Doctores, que pueden curar a aventureros que vuelven del Valle.","3012":"\ud83d\udc3e Las \xc1reas de Animales proveen ganado \xfanico, que puede ser transportado de vuelta a las Haciendas por cualquier jugador.","3013":"\ud83d\ude82 El Alcalde puede influir en la demanda de bienes en el Tren.","3020":"Ver Registro de Impuestos","3021":"","3022":"","3023":"","3024":"","3025":"PANEL DE INICIO DE SESI\xd3N: ","4000":"\xa1Bienvenido a Valle Vista! \xbfTodav\xeda no tienes una cuenta? Crea una cuenta gratuita para comenzar a jugar:","4001":"Crear Cuenta","4002":"Nombre de Usuario","4003":"No se te pedir\xe1 una direcci\xf3n de correo electr\xf3nico.","4004":"Con una cuenta nueva, se te conceder\xe1 tu propia hacienda para cultivar en un Asentamiento con otros jugadores, en una Frontera llena de Asentamientos. \xa1La aventura te espera en el Valle!","4005":"Contrase\xf1a","4006":"Iniciar Sesi\xf3n","4007":"Nombre de Usuario","4008":"Inicia sesi\xf3n en tu cuenta para seguir jugando. Si no tienes","4009":"PANEL DE PERFIL: ","4050":"\xa1Hola, ","4051":"Cambiar Nombre de Usuario: ","4052":"Cambiar Contrase\xf1a: ","4053":"Administraci\xf3n de Cuenta","4054":"Estado de Cuenta: ","4055":"Cerrar Sesi\xf3n","4056":"Borrar Cuenta","4057":"ID de Jugador: ","4058":"Reubicaci\xf3n de Hacienda","4059":"Reubicaciones Restantes: ","4060":"Visita la Tienda para comprar m\xe1s Reubicaciones.","4061":"Ajustes","4062":"Idioma: ","4063":"Indicador de Rango: ","4064":"Cambiar Avatar","4065":"Volver al Inicio de Sesi\xf3n","4066":"Seleziona la Lingua","4067":"PI\xd9 STRINGHE MODALI:","5000":"\ud83d\udc80 Sei morto.","5001":"Sei stato riportato a casa. Gli oggetti dello zaino \ud83c\udf92 sono stati persi.","5002":"Fai pi\xf9 attenzione la prossima volta.","5003":"\ud83d\ude00 Benvenuto a Valley View\u2122","5005":"Effettua il login o crea un account gratuito.","5006":"\xa9 Valley View Studios, 2025, Tutti i Diritti Riservati.","5007":"\ud83d\udce8 Posta in arrivo","5010":"Non hai messaggi","5011":"\ud83d\uded2 Negozio","5015":"Gli Acquisti saranno consegnati nella Posta in arrivo. Non possiamo offrire resi. Tutti gli acquisti sono definitivi.","5016":"Tieni presente che la maggior parte degli oggetti dell\'inventario vengono cancellati tra le stagioni, quindi controlla l\'orologio della stagione prima dell\'acquisto e consulta il pannello delle stagioni per maggiori informazioni.","5017":"\ud83d\udeab Attualmente non sei loggato.","5020":"Clicca sul pulsante di Login o Crea un Account per iniziare.","5021":"\ud83d\ude4f Grazie per il tuo supporto!","5025":"Il tuo acquisto \xe8 stato consegnato nella tua Posta in arrivo.","5026":"Divertiti a Valley View!","5027":"\ud83d\ude00 Benvenuto a Valley View!","5030":"Nessun giocatore \xe8 loggato o il server \xe8 offline.","5031":"Aggiorna la pagina, controlla la tua connessione internet o riprova pi\xf9 tardi.","5032":"Siamo tra le stagioni!","5035":"Valley View non \xe8 disponibile temporaneamente mentre resettiamo la stagione.","5036":"\ud83d\udcf0 Notizie della Citt\xe0","5040":"Ecco cosa sta succedendo in Citt\xe0 in questo momento:","5041":"Usa ","5045":"Vuoi usare un ","5046":"Hai ","5047":"\u26a0\ufe0f Conferma Spostamento Tenuta","5050":"Sei sicuro di voler spostare la tua tenuta? Questa azione non pu\xf2 essere annullata.","5051":"Chiudi questo dialog per annullare.","5052":"\u2b50\ufe0f Congratulazioni!","5060":"Ora hai un Pass Oro. Vai al tuo pannello Profilo per personalizzare l\'icona del tuo giocatore e scoprire altri vantaggi dell\'Oro.","5061":"Grazie per il tuo supporto!","5062":"Raccolte Fiscali Recenti","5100":"Nessuna cronologia di raccolta tasse disponibile al momento.","5101":"\ud83d\uddd3\ufe0f Data","5102":"\ud83d\udcb0 Totale Raccolto","5103":"Sindaco","5104":"\ud83d\udcb0 Ricavato dal Sindaco","5105":"","5110":"STRINGHE DI COME GIOCARE:","8999":"Benvenuto a Valley View!","9000":"Di cosa si tratta?","9001":"Valley View \xe8 un gioco che esplora come le persone potrebbero auto-organizzarsi e creare micro societ\xe0 in un mondo di risorse asimmetriche e interdipendenza, con spazi propri e condivisi.","9002":"Sebbene non ci siano percorsi di specializzazione espliciti, ci sono tre principali vettori di gioco che sono interdipendenti. Questi sono: l\'AGRICOLORE, l\'AVVENTURIERO e il POLITICO. Ti incoraggiamo ad appoggiarti l\'uno sull\'altro.","9003":"Innanzi tutto, le basi:","9004":"Usa i tasti A-W-S-D per MUOVERTI. Clicca per interagire con le cose che sono nel tuo raggio di interazione.","9005":"Esplora \ud83d\ude9c AGRICOLTURA, \u2692\ufe0f COSTRUZIONI e \ud83d\udc2e COMPRA per migliorare la tua Tenuta e generare risorse.","9006":"Genera \ud83d\udcb0 SOLDI presso il \ud83d\udce5 STAND DI SCAMBIO. Pubblica risorse in vendita ad altri giocatori o vendile al gioco per un valore parziale.","9007":"M\xe1s:","9008":"A medida que creas riqueza, mej\xf3rate con HABILIDADES y DESTREZAS. Por ejemplo, compra la habilidad de \ud83d\udc34 MONTAR A CABALLO para viajar a la CIUDAD.","9009":"Aleja (con - y +) para ver lo grande que es el mundo. Tu Hacienda es una de muchas en un ASENTAMIENTO. Cada ASENTAMIENTO tiene una CIUDAD compartida. Tu Asentamiento es uno de muchos en la FRONTERA.","9010":"Cuando est\xe9s listo, explora el VALLE, lleno de peligros y maravillas. Los secretos del mago PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f y del rey perdido LEONTES \ud83e\udd34, entre otros, se pueden encontrar en el Valle.","9011":"Tus Metas:","9012":"Si\xe9ntete libre de crear tus propias metas. Adem\xe1s, al final de cada \ud83d\uddd3\ufe0f TEMPORADA, que dura tres meses, tanto individuos como asentamientos ser\xe1n clasificados, y las mejores posiciones generan riqueza adicional. Tu hacienda, todas tus habilidades y parte de tu riqueza se trasladar\xe1n a la pr\xf3xima Temporada.","9013":"\xa1Granjea, crea, comercia, explora, lucha y disfruta!","9014":"C\xf3mo Ganar Dinero","9020":"Hay algunas formas de ganar \ud83d\udcb0 DINERO.","9021":"Al comenzar, abre el \ud83d\udce5 PUESTO DE INTERCAMBIO, que encontrar\xe1s en la esquina superior izquierda de tu Hacienda. Aqu\xed puedes vender bienes, incluyendo cultivos y artesan\xedas.","9022":"El \ud83d\udce5 PUESTO DE INTERCAMBIO comprar\xe1 bienes de ti al 25% de su valor. Para maximizar tus ganancias, deber\xedas comerciar con otros jugadores. Ellos tendr\xe1n cosas que necesitas, y viceversa.","9023":"A medida que avances, podr\xe1s viajar a la CIUDAD usando el \u23ea POSTE DE SE\xd1ALIZACI\xd3N. All\xed encontrar\xe1s lugares como el BANCO, que comprar\xe1 art\xedculos espec\xedficos de ti a un precio premium.","9024":"Gasto de Dinero","9025":"Sorpresa, la mayor\xeda de las cosas cuestan Dinero. Inicialmente, querr\xe1s gastar dinero en \ud83d\udcaa HABILIDADES, \ud83d\udc2e ANIMALES DE GRANJA y \u2692\ufe0f ESTACIONES DE CREACI\xd3N. Explora los paneles en el lado izquierdo de la pantalla. Estos te ayudar\xe1n a generar m\xe1s recursos, lo que a su vez te ayudar\xe1 a ganar m\xe1s Dinero.","9026":"En la CIUDAD descubrir\xe1s m\xe1s Tiendas y Comerciantes.","9027":"Beneficios","9050":"Un Pase de Oro te da acceso a funciones y beneficios premium en Valley View para la duraci\xf3n de una temporada.","9051":"Con un Pase de Oro, puedes disfrutar de los siguientes beneficios:","9052":"\u2705 Avatares premium: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9053":"\u2705 Capacidad de Almac\xe9n casi ilimitada","9054":"\u2705 Capacidad de Mochila casi ilimitada","9055":"\u2705 2 espacios adicionales en el Puesto de Interambio","9056":"\u2705 Tasa impositiva m\xe1s baja","9057":"\u2705 La mitad de tu MaxHP restaurado al morir","9058":"\u2705 Puedes postularte para un cargo p\xfablico","9059":"Gracias por tu compra del Pase de Oro.","9060":"Compra un Pase de Oro","9061":"\ud83d\udd0c Servidor Caido","10000":"El servidor est\xe1 fuera de servicio en este momento. Pedimos disculpas por la inconveniencia, favor de regresar pronto.","10001":"(Este mensaje desaparecer\xe1 cuando el servidor vuelva a estar en funcionamiento.)","10002":"CADENAS DE APP.JS:","10100":"\xa1Bienvenido a Valley View!","10101":"Por favor inicia sesi\xf3n, o crea una cuenta gratuita.","10102":"\ud83c\udf92 Inventario","10103":"\ud83d\uded2 Tienda","10104":"\ud83d\udce8, Bandeja de entrada","10105":"\ud83d\udce2 Compartir","10106":"\ud83d\udcac Chat","10107":"Tienes un Pase de Oro","10108":"\u2194\ufe0f Teclas de Movimiento: ","10109":"\ud83d\udd79\ufe0f C\xf3mo Jugar","10110":"Eres el Alcalde","10111":"\u2764\ufe0f\u200d\ud83e\ude79 Salud: ","10112":"\ud83d\uddd3\ufe0f Es","10113":"La Temporada Termina en:","10114":"\ud83d\uddd3\ufe0f Pr\xf3xima Temporada en:","10115":"\u23ea Ocurriendo Ahora en la Ciudad:","10116":"\ud83d\udcb0 Pr\xf3xima Recaudaci\xf3n de Impuestos:","10117":"En: ","10118":"Recaudando impuestos en este momento...","10119":"\ud83c\udfdb\ufe0f Elecciones: ","10120":"Termina: ","10121":"\ud83d\ude82 Tren: ","10122":"\ud83c\udfe6 Banco: ","10123":"Nuevas Ofertas: ","10124":"\xa1Lee las Noticias!","10125":"\xbfQui\xe9n est\xe1 aqu\xed?","10126":"No hay PCs presentes en la cuadr\xedcula.","10127":"Guardar Cambios","10128":"","10129":"Tienes un Pase de Oro","10130":"Beneficios del Pase de Oro","10131":"Cancelar Reubicaci\xf3n","10132":"Reubicar Hacienda","10133":"CADENAS AGREGADAS:","11000":"Espera que el temporizador termine, o que otro jugador compre este art\xedculo.","11001":"Cultivo","12001":"Construir","12002":"Comprar Animales y Decoraciones","12003":"Misiones Activas","12004":"Habilidades","12005":"Combate","12006":"Gobierno","12007":"Estaciones","12008":"Inicio","12009":"Perfil","12010":"Puntos de Golpe","hp":"Puntos de Golpe M\xe1ximos","maxhp":"Alcance","range":"Alcance de Ataque","attackrange":"Bono de Ataque","attackbonus":"Da\xf1o","damage":"Velocidad de Ataque","speed":"Est\xe1 Acampando","iscamping":"Clase de Armadura","armorclass":"Capacidad de la Mochila","backpackCapacity":"Capacidad del Almac\xe9n"}'),l=JSON.parse('{"0":"Valley View","1":"Server l\xe4uft nicht.","3":"\ud83d\ude9c Land erfolgreich gepfl\xfcgt.","4":"\u26a0\ufe0f Du hast nicht gen\xfcgend Ressourcen.","5":"\u2692\ufe0f Bau erfolgreich abgeschlossen.","6":"\ud83d\udcb0 Gegenst\xe4nde verkauft.","7":"\ud83c\udfe0 Dieses Geh\xf6ft ist unbewohnt.","8":"\ud83d\udeab Dieser Bereich ist gesperrt.","9":"Das Tal ist voller Wunder und muss zu Fu\xdf erkundet werden.","10":"\ud83c\udfe0 [username]s Geh\xf6ft.","11":"\ud83c\udfe0 Geh\xf6ft eines unbekannten Besitzers.","12":"Siedlungsansicht. Je nach Standort m\xfcssen Sie m\xf6glicherweise scrollen, um die Stadt zu sehen.","13":"Grenzlandansicht.","14":"\ud83d\ude82 Willkommen in der Stadt.","15":"\ud83d\udc34 Du brauchst ein Pferd, um hierhin zu reisen. Besuche das Abenteuerlager in der Stadt.","16":"Du bist im Tal.","17":"Du besitzt hier kein Geh\xf6ft.","18":"\ud83d\udeab Du kannst nicht dorthin gehen.","19":"\ud83c\udf92 Du ben\xf6tigst einen Rucksack, um Ressourcen au\xdferhalb deines Geh\xf6fts zu sammeln. Kaufe einen im Abenteuerlager.","20":"\ud83d\udeab Nicht genug Platz im Lagerhaus.","21":"\ud83c\udf92 Nicht genug Platz im Rucksack. \xd6ffne das Inventar, um den Rucksackinhalt zu verwalten.","22":"Gegenst\xe4nde gekauft.","23":"\u26a0\ufe0f Du kannst das hier nicht bauen.","24":"\ud83c\udfaf Au\xdfer Reichweite","25":"\ud83c\udf92 Nichts im Rucksack.","26":"\ud83c\udf92 Du musst bei deinem Geh\xf6ft sein, um deinen Rucksack zu leeren.","27":"\u26fa\ufe0f Du hast kein Zelt.","28":"\u26fa\ufe0f Du zeltest jetzt.","29":"\u26a0\ufe0f \u26fa\ufe0f Zelten / Abbauen fehlgeschlagen.","30":"\u26fa\ufe0f Nicht mehr am Zelten.","31":"\u26fa\ufe0f Kann beim Zelten nicht angreifen.","32":"\u26fa\ufe0f Du musst zuerst das Zelt abbauen.","33":"\ud83d\udce6 Gegenst\xe4nde ins Lagerhaus verschoben.","34":"\ud83c\udf92 Rucksack geleert.","35":"Du ben\xf6tigst einen ","36":"Du hast einen verwendet ","50":"\ud83d\udeab Dieser Benutzername ist bereits vergeben.","70":"Sitzung abgelaufen","71":"Du warst eine Weile weg. Aktualisieren stellt sicher, dass deine Sitzung ordnungsgem\xe4\xdf funktioniert.","72":"Diese Seite wird in 30 Sekunden automatisch aktualisiert, es sei denn, du tust es jetzt.","73":"\ud83d\udd04 Jetzt aktualisieren","74":"\ud83c\udf92 Ein Rucksack ist erforderlich, um ein Zelt zu besitzen.","75":"Du besitzt keinen Rucksack. Du kannst einen im Abenteuerlager in der Stadt kaufen.","76":"Dein Lagerhaus ist leer.","77":"Dein Rucksack ist leer.","78":"Rucksack verwalten","80":"Erworben ","90":"\ud83d\udeab Dies ist nicht dein Geh\xf6ft.","91":"\ud83d\udc34 Pferd erforderlich.","96":"Feedback?","97":"@ Email an uns","98":"\u23f3 L\xe4dt ...","99":"\u26a0\ufe0f Etwas ist schiefgelaufen.","100":"REISE-STRINGS:","101":"\ud83d\udc34 Reise nach Hause ... bitte warten.","102":"\ud83d\udc34 Reise in die Stadt ... bitte warten.","103":"\ud83d\udc34 Reise zum n\xe4chsten Ort ... bitte warten.","104":"\ud83d\udeab Noch keine Stadt in dieser Siedlung.","105":"\u26a0\ufe0f Es gab ein Problem beim Versuch zu reisen.","106":"\ud83d\udeab Du kannst nicht \xfcber die Grenze hinaus reisen.","110":"\u27a1\ufe0f Gehe auf Wegweiser, um sie zu benutzen","111":"Willkommen in der Stadt.","112":"Willkommen zu Hause.","120":"Du hast keine Geh\xf6ft-Umz\xfcge mehr \xfcbrig.","121":"Du hast dein Geh\xf6ft erfolgreich umgezogen.","122":"Du kannst nicht ins Tal umziehen!","123":"Du kannst nicht in die Stadt umziehen!","124":"Dieses Geh\xf6ft ist besetzt.","125":"Wohin ziehst du um?","130":"W\xe4hle deine Sprache:","131":"Best\xe4tigen","150":"HANDELSSTAND-STRINGS:","151":"Du kannst den Handelsstand eines anderen Spielers nicht bef\xfcllen.","152":"Du hast nicht genug Geld, um diesen Gegenstand zu kaufen.","153":"verkauft:","154":"verkaufen","155":"Transaktion fehlgeschlagen. Dieser Artikel wurde bereits verkauft.","156":"Leer (Gegenst\xe4nde hinzuf\xfcgen)","157":"Gekauft von","158":" Limit pro Bestellung.","159":"Bereit zum Verkauf","160":"Zu verkaufende Gegenst\xe4nde","161":"Gegenstand","162":"Verf\xfcgbar","163":"Preis","164":"Menge","165":"Alle","166":"Hinzuf\xfcgen","170":"Handelsplatz freigeschaltet","171":"Gold Pass erforderlich","172":"Gesperrt","173":"Limit von","174":"zum Verkaufen","175":"Freischalten f\xfcr","176":"Holz","177":"Ben\xf6tigt","178":"um diesen Platz freizuschalten","180":"INVENTAR-STRINGS:","181":"\ud83d\udce6 Lagerhaus","182":"\ud83c\udf92 Rucksack","183":"Kapazit\xe4t: ","184":"Lager verwalten","185":"Menge","186":"Betrag","187":"Zum Lager hinzuf\xfcgen","188":"Verwerfen","189":"Alles zum Lager hinzuf\xfcgen","190":"Alles verwerfen","191":"Gegenstand","192":"Aktion","193":"Gegenst\xe4nde verwerfen","194":"Lagerhaus erweitern","195":"Erweitere den Rucksack im Abenteuerlager in der Stadt.","199":"Nahezu unbegrenzte Kapazit\xe4t mit Gold Pass (neben anderen Vorteilen).","200":"QUESTS","201":"\u2705 Aufgabe abgeschlossen. Du hast deine Belohnung.","202":"\u2705 Aufgabe angenommen.","203":"Momentan keine Aufgaben.","204":"Aufgabenliste:","205":"Zurzeit nichts Neues. \xdcberpr\xfcfe deine \u2705 Aufgabenliste!","206":"Kehre zum NPC zur\xfcck, der dir diese Quest gegeben hat, um deine Belohnung zu erhalten.","207":"In Bearbeitung","208":"Belohnung erhalten","209":"Annehmen","299":"LANDWIRTSCHAFTS-STRINGS:","300":"Hinzugef\xfcgt","301":"\ud83d\ude9c Gepfl\xfcgt","302":"\ud83d\ude9c Gepflanzt","303":"\ud83d\ude9c Muss auf Erde pflanzen","304":"\ud83d\ude9c Kann hier nicht pflanzen","305":"\u26a0\ufe0f Nicht genug Ressourcen","306":"\u26a0\ufe0f Kann hier nicht bauen","310":"Du musst das Land zum Pflanzen pfl\xfcgen.","311":"Deine Nutztiere brauchen viel Gras zum Grasen.","312":"Pflaster kann n\xfctzlich sein, um wandernde Tiere zu kontrollieren.","313":"","315":"Pflanzen zum Ernten ausw\xe4hlen:","316":"Alle ausw\xe4hlen","317":"Alle abw\xe4hlen","318":"Sammeln","319":"Tiere zum Sammeln ausw\xe4hlen:","320":"Kann hier nicht terraformen.","340":"Nicht verf\xfcgbar, es sei denn, du bist zu Fu\xdf.","400":"KAUFEN, HERSTELLEN, F\xc4HIGKEITEN, HEILEN, USW.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Bereits bei maximalen Trefferpunkten.","402":"\u26a0\ufe0f  Ressourcen.","403":"\u26a0\ufe0f Dein Inventar ist voll.","404":"Arbeite...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Trefferpunkte geheilt um +","410":"\ud83c\udfd5\ufe0f Um ein gekauftes Zelt zu benutzen, klicke auf dein eigenes Spielersymbol.","420":"wird dir tauschen:","421":"Verwendet in:","422":"Grundwert:","423":"Keine Handel verf\xfcgbar.","424":"Keine Rezepte verf\xfcgbar.","425":"Verkaufe f\xfcr R\xfcckerstattung.","426":"Teure Startpflanzen, aber falls du ausgehst:","427":"Kaufe die Massenernte-F\xe4higkeit des Farmhelfers, um alle Pflanzen auf einmal zu ernten.","428":"Klicke, um sofort alle Pflanzen zu ernten.","429":"Du hast keine Pflanzen zum Ernten.","430":"Kaufe diese Farmf\xe4higkeiten:","431":"Kaufe die Massentiersammlung-F\xe4higkeit des Farmhelfers, um von allen Tieren auf einmal zu sammeln.","432":"Kaufe die Holzf\xe4ller-F\xe4higkeit des Farmhelfers, um mehrere B\xe4ume auf einmal zu f\xe4llen und das Holz zu sammeln.","433":"Kaufe Besseres Holzf\xe4llen, um die Anzahl der gef\xe4llten B\xe4ume zu erh\xf6hen.","434":"Klicke, um sofort von allen Tieren zu sammeln.","435":"Klicke, um sofort mehrere B\xe4ume zu f\xe4llen und Holz zu sammeln.","436":"Du hast keine Tiere zum Sammeln.","437":"Du hast keine B\xe4ume zum F\xe4llen.","438":"Pflanze entfernen","439":"Pflanze zur\xfcckgegeben.","440":"Gestartet ","441":"\u231b\ufe0f In Bearbeitung ...","442":"\ud83c\udfe0 Hausreparaturen abgeschlossen!","450":"\u274c Kann Herstellungskosten nicht bezahlen","451":"\u26a0\ufe0f Herstellung bereits im Gange","452":"\u274c Herstellung konnte nicht gestartet werden.","453":"\u274c Haus konnte nicht repariert werden.","454":"\u274c Arbeiter konnte nicht eingestellt werden.","455":" ist angekommen!","456":"Keine weiteren Arbeiter verf\xfcgbar.","457":"Fertig!","458":"Zeit: ","459":"Sofort","460":"Ben\xf6tigt: ","461":"Kostet: ","462":"Gibt: ","463":"Heilt: ","464":"Kaufe Massen-Handwerk, um von allen fertigen Handwerksstationen auf einmal zu sammeln.","465":"Klicke, um sofort von allen fertigen Handwerksstationen zu sammeln.","466":"Du hast keine Handwerksstationen, die bereit zum Sammeln sind.","467":"Massenherstellung","468":"Neugestartet: ","469":"Tiersammlung abgeschlossen: ","470":"Kann jetzt nicht reisen, landwirtschaftliche Aktionen im Gange.","471":"\u26a0\ufe0f Bereits im Gange.","472":"Ernte abgeschlossen: ","475":"Neustarten?","476":"Station","477":"Deine Farmarbeiter sind besch\xe4ftigt...","478":"\ud83d\ude9c Arbeitet","490":"Verkaufe f\xfcr R\xfcckerstattung (Nur Entwickler)","500":"KAMPF-STRINGS","501":"\ud83c\udfaf Au\xdfer Reichweite.","502":"\ud83c\udfaf Treffer!","503":"\u274c Verfehlt","504":"\ud83d\udc80 Get\xf6tet","505":"\u26a0\ufe0f Fehler","510":"\u2764\ufe0f\u200d\ud83e\ude79 Du nimmst Schaden ...","511":"\u2764\ufe0f\u200d\ud83e\ude79 Deine Gesundheit: ","512":"Deine Gesundheit Nicht Verf\xfcgbar","600":"BEZIEHUNGS-STRINGS:","601":"Beziehung:","602":"Du hast getroffen","603":"Du bist jetzt befreundet mit","604":"Du bist verknallt in","605":"Du bist verliebt in","606":"Du und","607":"sind jetzt verheiratet.","608":"sind jetzt Rivalen.","609":"ist jetzt dein Rivale deswegen.","610":"wird dar\xfcber nicht sehr gl\xfccklich sein...","611":"werden dar\xfcber nicht sehr gl\xfccklich sein...","612":"wird dar\xfcber sehr gl\xfccklich sein.","613":"billigen dies.","614":"und","615":"Deine Beziehung zu","616":"hat sich ge\xe4ndert.","620":"Du musst dich n\xe4her bewegen, um mit diesem Charakter zu interagieren.","630":"Begr\xfc\xdfen","631":"Sprechen","632":"Handeln","633":"Quest","634":"Getroffen","635":"Freund","636":"Verheiratet","637":"Rivale","638":"Liebe","639":"Verknallt","640":"Scherzen","641":"Freunde werden","642":"Beleidigen","643":"Umarmen","644":"K\xfcssen","645":"Entschuldigen","646":"Geschenk geben","647":"Kompliment","648":"Schmeicheln","649":"Liebe gestehen","650":"Antrag machen","651":"Verspotten","652":"Necken","653":"Ehe beenden","700":"EINF\xdcHRUNGS-STRINGS:","701":"\ud83d\ude00 Willkommen in Valley View","702":"Willkommen, Reisender! Du bist in Valley View angekommen, einem Grenzland voller M\xf6glichkeiten, Geheimnisse und Abenteuer.","705":"Bestreben","706":"Valley View ist eine gro\xdfe Welt. Es liegt an dir, wie du deine Zeit verbringen m\xf6chtest. Welches dieser Bestreben passt am besten zu deinem Spielstil? (Diese Wahl wird deine Optionen in keiner Weise einschr\xe4nken.)","709":"\ud83c\udfda\ufe0f Dein Geh\xf6ft","710":"Du hast ein Geh\xf6ft in einer Siedlung mit anderen Spielern geerbt. Beginne damit, dieses verlassene Bauernhaus zu reparieren. \xdcberpr\xfcfe deine \u2705 Aufgabenliste. Du musst zuerst etwas Holz sammeln.","715":"\ud83e\udd20 Kent einstellen","716":"Ausgezeichnet! Jetzt musst du anfangen, \ud83d\udcb0 Geld zu verdienen. Du brauchst einen Farmmanager, der hier Vollzeit leben und dir helfen kann, den Betrieb auszubauen. \xd6ffne das \ud83c\udfe0 Bauernhaus, um Leute einzustellen.","721":"\ud83e\udd20 Triff Kent den Farmmanager","722":"Zuerst das Wichtigste! Ernte etwas \ud83c\udf3e Weizen und verkaufe ihn am \ud83d\udce5 Handelsposten f\xfcr \ud83d\udcb0 Geld.","723":"\ud83d\ude9c Fang an zu Farmen","724":"Gut gemacht, du verdienst jetzt Geld, also fang an zu farmen! Pflanze Feldfr\xfcchte mit dem \ud83d\ude9c Landwirtschafts-Panel, ernte sie und verkaufe.","727":"\ud83d\udc75\ud83c\udffb Stelle die Hirtin ein","728":"Gute Arbeit! Stelle jetzt die \ud83d\udc75\ud83c\udffb Hirtin vom \ud83c\udfe0 Farmhaus ein, und sie wird helfen, etwas \ud83d\udc2e tierisches Leben auf die Farm zu bringen, damit du dein Gesch\xe4ft weiter ausbauen kannst.","729":"\ud83d\udc2e Tierhaltung","730":"Willkommen \ud83d\udc75\ud83c\udffb Hirtin! Besuche jetzt das \ud83d\udc2e Tier-Panel, um eine Kuh zu erwerben. K\xfche brauchen \ud83d\udfe9 Gras zum Grasen, also platziere sie sorgf\xe4ltig. Und du hast bereits deinen ersten \ud83d\udfeb Tierstall; hier kannst du Milch produzieren, sobald die Kuh satt ist.","731":"\u26cf\ufe0f Forme das Land","732":"Feldfr\xfcchte brauchen Erde. K\xfche und Schafe brauchen \ud83d\udfe9 Gras. Pflaster kann helfen, die Bewegungen von Menschen und Tieren einzugrenzen. Benutze die \u26cf\ufe0f Werkzeuge, um das Land nach deinem Geschmack zu pflastern, und erlerne die \ud83e\ude93 Axt-F\xe4higkeit, um B\xe4ume f\xfcr Holz zu f\xe4llen.","733":"\u2692\ufe0f Baumeister","734":"Du beherrschst die \ud83e\ude93 Axt -- ausgezeichnet! Holz ist f\xfcr viele Dinge n\xfctzlich, einschlie\xdflich dem Bau von Handwerksstationen. Du kannst dir auch den Weg zum \ud83d\ude82 Bahnhof am Rand deines Heimst\xe4tts freischlagen, wo du schlie\xdflich in die Stadt reisen kannst.","737":"Zeit zu Erkunden","738":"Dein Heimst\xe4tt ist Teil einer gr\xf6\xdferen Siedlung mit anderen Spielern, die sich eine gro\xdfe Grenze teilen. Zoome heraus (+ und -), um die ganze Siedlung und Grenze zu sehen. Benutze \u27a1\ufe0f Wegweiser zum Reisen oder gehe zum Rand einer beliebigen Karte. VIEL SPASS BEIM SPIELEN VON VALLEY VIEW!","750":"\ud83d\ude9c Bauer","751":"Bewirtschafte dein Geh\xf6ft, baue Feldfr\xfcchte an, k\xfcmmere dich um Tiere und stelle Waren her, um sie zu verkaufen und mit anderen Spielern zu handeln. Investiere in Landwirtschafts- und Handwerksf\xe4higkeiten, um deine Gewinne zu steigern.","752":"\u2694\ufe0f Abenteurer","753":"Wage dich ins Tal f\xfcr Ressourcen und seltene Gegenst\xe4nde. K\xe4mpfe gegen Tiere und Kreaturen, entdecke versteckte Orte und triff magische Charaktere. Investiere in Kampff\xe4higkeiten, um ein beeindruckender K\xe4mpfer zu werden.","754":"\ud83c\udfdb\ufe0f Politiker","755":"Kandidiere als B\xfcrgermeister, lege den Steuersatz fest und verdiene Steuereinnahmen f\xfcr dich selbst. Investiere in Gemeinschaftsgeb\xe4ude f\xfcr die ganze Stadt, wie Krankenh\xe4user, Schulen und Bibliotheken, und hilf deiner Siedlung zu gedeihen.","795":"Tutorial \xdcberspringen","796":"OK","797":"Zur\xfcck","798":"Spielen","800":"WEITERE HANDWERKSSTATIONS-STRINGS:","801":"Erwerbe die F\xe4higkeit ","802":" am ","803":" um die Produktion dieser Station um ","805":"Deine F\xe4higkeit ","806":" erh\xf6ht die Basisproduktion dieser Station um ","810":"Du kannst diese F\xe4higkeit auch direkt kaufen: ","820":"Stellt her: ","821":"Basismenge: ","899":"DEBUG-STRINGS:","900":"Debug: Inventar geleert.","901":"Debug: Quest-Verlauf gel\xf6scht.","902":"Debug: Ressourcen hinzugef\xfcgt.","903":"Debug: Raster erfolgreich zur\xfcckgesetzt.","904":"Debug: F\xe4higkeiten hinzugef\xfcgt.","905":"Debug: F\xe4higkeiten & Kr\xe4fte gel\xf6scht.","906":"Debug: Kampfstatistiken zur\xfcckgesetzt.","999":"PANEL UI-STRINGS:","1000":"[Beschreibung ben\xf6tigt]","1001":"Auf dem Geh\xf6ft gesammelte Ressourcen kommen ins Lagerhaus. In der Stadt oder im Tal gesammelte Ressourcen kommen in den Rucksack. Um einen Rucksack zu kaufen, besuche den Laden in der Stadt. Um den Rucksack oder das Lagerhaus zu leeren, verwende die Verwalten-Schaltfl\xe4chen.","1002":"Bauen: Baue Handwerksstationen auf deinem Geh\xf6ft mit Ressourcen aus deinem Lagerhaus.","1003":"Gekaufte Tiere erscheinen bei deinem Spielersymbol und beginnen sofort ihr Leben auf dem Geh\xf6ft.","1004":"Pfl\xfcge Land zu Erde, um Pflanzen zu pflanzen. Pflanze Gras, um Nutztieren etwas zum Grasen zu geben.","1005":"Erwerbe F\xe4higkeiten und Upgrades, um verschiedene Attribute zu verbessern. Stelle sicher, dass du die Stadt erkundest, um zus\xe4tzliche Orte und M\xf6glichkeiten zu finden, F\xe4higkeiten und Upgrades zu erhalten.","1006":"Verwalte hier deine laufende Aufgabenliste. Suche nach questgebenden Charakteren auf deinem Geh\xf6ft sowie in der Stadt oder sogar im Tal.","1007":"Regierungen in Valley View werden auf Siedlungsebene gebildet. Der gew\xe4hlte B\xfcrgermeister setzt Richtlinien um und baut Geb\xe4ude, um der Gemeinschaft zu helfen, zu gedeihen.","1008":"Kaufe und verkaufe mit anderen Spielern. Wenn keine Spieler deine Artikel vor Ablauf des Timers kaufen, verkaufe sie an das Spiel f\xfcr einen Bruchteil ihres Basiswerts.","1009":"[Handwerksbeschreibung]","1010":"[Briefkastenbeschreibung]","1011":"Dieser Tierstall ist leer. Stelle sicher, dass Tiere Gras zum Fressen haben, und sie werden schlie\xdflich zum Stall zum Ernten kommen.","1012":"Wahlen finden im Gerichtsgeb\xe4ude statt. Hier haben B\xfcrgermeister die Macht, den Steuersatz festzulegen und die Siedlung umzubenennen.","1013":" ","1014":" ","1015":"Das Spiel findet im Verlauf sich st\xe4ndig \xe4ndernder Jahreszeiten statt.","1016":" ","1017":"Besuche die Bank, um Gegenst\xe4nde gegen Geld einzutauschen, einschlie\xdflich seltener Gegenst\xe4nde wie Gold und Silber. Komme regelm\xe4\xdfig zur Bank zur\xfcck f\xfcr verschiedene Angebote.","1018":"","1019":"[Profilbeschreibung]","1021":"\xa9 Valley View Studios, 2025, Alle Rechte vorbehalten.","1022":"[Zugbeschreibung]","1023":"Arbeiter helfen dir, dein Geh\xf6ft zu f\xfchren. Stelle sie im Bauernhaus ein.","1024":"[Kampfbeschreibung]","1025":"[Ladenbeschreibung]","1026":"Geld verdienen und ausgeben.","1027":"Dies sind die Vorteile eines Gold-Passes.","1028":"[Dekorations-Panel-Beschreibung]","1029":"[Tier-Panel]","1030":"[Pflanzen-Panel]","1031":"Kaufe Dekorationen f\xfcr dein Geh\xf6ft. Du kannst diese f\xfcr eine volle R\xfcckerstattung verkaufen.","1032":"Das Bauernhaus ist der Ort, an dem du Leute einstellen kannst, die dir helfen, dein Geh\xf6ft zu f\xfchren.","1033":"Terraformiere das Land mit diesen Werkzeugen. Tiere brauchen Gras zum Grasen, Pflanzen brauchen Erde zum Wachsen. Pflaster kann n\xfctzlich sein, um Bewegungen von Tieren und Charakteren zu kontrollieren.","1034":"Edelsteine verdienen und ausgeben.","1035":"Dies ist deine Sammlung lebenslanger Troph\xe4en.","1101":"Inventar","1102":"\u2692\ufe0f Bauen","1103":"\ud83d\uded2 Kaufen","1104":"\ud83d\ude9c Landwirtschaft","1105":"\ud83d\udcaa F\xe4higkeiten","1106":"\u2705 Aufgabenliste","1107":"\ud83c\udfdb\ufe0f Regierung","1108":"\ud83d\udce5 Handel","1109":"Handwerk","1110":"\ud83d\udcea Briefkasten","1111":"\ud83d\udc3e Tiere","1112":"\ud83c\udfdb\ufe0f Gerichtsgeb\xe4ude","1113":"Helfercharakter","1114":"\ud83d\ude00 Spielercharakter","1115":"\ud83d\uddd3\ufe0f Saison","1116":"\ud83d\udd01 H\xe4ndler","1117":"\ud83c\udfe6 Bank","1118":"\ud83d\udd79\ufe0f Wie man spielt","1119":"\ud83d\ude00 Profil","1120":"\ud83d\udc1e Debug","1121":"\ud83d\ude00 Willkommen","1122":"\ud83d\ude82 Zug","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Farmhelfer","1124":"\u2694\ufe0f Kampf","1125":"\ud83d\uded2 Laden","1126":"\ud83d\udcb0 \xdcber Geld","1127":"\u2b50\ufe0f Gold-Pass","1128":"\ud83e\udeb4 Dekorationen","1129":"\ud83d\udc3e Tiere","1130":"\ud83c\udf31 Pflanzen & B\xe4ume","1131":"\ud83e\udeb4 Dekorationen","1132":"\ud83c\udfe0 Bauernhaus","1133":"\u26cf\ufe0f Werkzeuge","1134":"\ud83d\udc8e Edelsteine","1135":"\ud83c\udfc6 Troph\xe4en","1200":"H\xc4NDLER-GESCHICHTE-STRINGS","1201":"Ah, der Wald birgt viele Geheimnisse... und ich? Ich habe ein paar gestohlen. Diese Edelsteine, sie geh\xf6ren nicht mir, aber Titania hat mehr als sie braucht. Du hast etwas, wonach ich mich sehne: Olivenbrot, warm und reichhaltig. Handle mit mir, und ich k\xf6nnte dir Geschichten von leuchtenden Augen in der Dunkelheit fl\xfcstern, Fl\xfcgel, die bei Mondaufgang schimmern, und Drachen, die in R\xe4tseln sprechen. Halte ein Ohr offen und einen Dolch bereit.","1202":"Meine F\xfclle ist so grenzenlos wie das Meer, meine Liebe so tief... aber er ist fort, und alles was bleibt ist ein Portr\xe4t und Schmerz. Angelo nahm beides. Bring mir Romeos Bildnis, aus meiner Kammer gerissen, und ich gebe dir Tulpen, rot wie das Blut, das auf Veronas Steinen vergossen wurde. Lass dies unser neuer Balkon sein: du unten, Gerechtigkeit bringend.","1203":"Gib mir Leben, gib mir Liebe, aber vor allem... gib mir Portwein! Im Gegenzug ein Zweig Mutterkraut, wertvoller als Gold f\xfcr manche, besonders f\xfcr diese weit\xe4ugige Helena. Sagt, sie ist hinter Kronen und Legenden her, armes M\xe4dchen. Ich? Ich bin hinter einem vollen Bauch und einem sanften Nickerchen her. \'Du bist so fettwitztig vom Trinken alten Sekts\', sagten sie mir einmal. Ha! Sie hatten nicht unrecht.","1204":"Hier ist Rosmarin, zur Erinnerung - und Nachtschatten, f\xfcr Reue. Meine Tr\xe4nke sind nichts f\xfcr Schwache. Mit dem richtigen Blatt kann ich deine Glieder heilen oder deine Zunge verwirren. \'Ich erinnere mich an einen Apotheker\', sagte einmal ein Junge, und er zahlte den Preis. Aber du? Du siehst weiser aus. Bring mir seltene Wurzeln und bittere Samen, und ich mixe dir etwas, das die Gefahr wert ist.","1205":"Etwas ist faul, immer noch. Ich sp\xfcre es im Boden. Ich herrschte einst, liebte, verlor. Helena brannte durch mich wie Sommerblitze. Und Leontes? Er konnte das Tauwetter nicht verzeihen. \'Die Dame protestiert zu viel\', sagten sie; lass sie. Wenn du Helena siehst, sag ihr, die Rosen kennen ihren Namen. Wenn du Leontes siehst, sag ihm, ich habe den Winter nicht vergessen.","1206":"Meine Trauer ist eine Statue; stumm, aber niemals still. Ich begrub meine Krone im Schnee an dem Tag, als Gertrude ihren Garten mir vorzog. \'Abgang, verfolgt von einem B\xe4ren\'? Nein, ich floh vor mir selbst. Jetzt warte ich, zwischen Stein und Stille. Bring mir, was einst mein war, die K\xf6nigskrone, und ich zahle in Gold, mehr als das Gewicht der Erinnerung. Aber sei gewarnt: manche Throne tragen Fl\xfcche.","1207":"Diese Br\xfccke geh\xf6rt mir, bei Sycorax meiner Mutter.\' Prospero versuchte sie mit Zauberspr\xfcchen und L\xe4cheln zu stehlen. Sie nannten mich Bestie, aber ich bin aus Erde und Sturm, geboren zur wilden Wahrheit. Ich tausche Knochen gegen Silber, Zeichen der Toten gegen M\xfcnzen der Lebenden. Ber\xfchre nichts leichtfertig in diesen W\xe4ldern. Bring mir, was andere f\xfcrchten, und ich werde dich reich machen... oder heimsuchen.","1208":"","1301":"Zu kaufende F\xe4higkeiten:","1302":"Zu kaufende Upgrades:","1303":"Deine F\xe4higkeiten:","1304":"Deine Upgrades:","1305":"Du hast noch keine F\xe4higkeiten.","1306":"Du hast noch keine Upgrades.","1400":"MODAL-STRINGS","1401":"BANK-MODAL","1402":"Diese Angebote gelten f\xfcr","1403":"Kauft","1404":"f\xfcr","1405":"Keine Angebote verf\xfcgbar.","1406":"Neue Angebote in","1407":"Erstelle neue Auftr\xe4ge. Danke f\xfcr deine Geduld.","1408":"\u26a0\ufe0f Du hast nicht genug Gegenst\xe4nde.","1409":"\u26a0\ufe0f Du hast nicht genug F\xe4higkeiten.","1410":"\u26a0\ufe0f Du hast nicht genug Upgrades.","1500":"STADTNACHRICHTEN-STRINGS:","1501":"Nachrichten f\xfcr ","1502":"Der aktuelle B\xfcrgermeister ist","1503":", und der Steuersatz betr\xe4gt","1504":"Das passiert gerade in der Stadt:","1505":"Es ist Wahlsaison, und der Wahlkampf ist in vollem Gange. Komm beim Gerichtsgeb\xe4ude in der Stadt vorbei, um f\xfcr das B\xfcrgermeisteramt zu kandidieren.","1506":"Die Abstimmung f\xfcr den n\xe4chsten B\xfcrgermeister hat begonnen. Gib deine Stimme im Gerichtsgeb\xe4ude in der Stadt ab.","1507":"Der Zug kommt an und bietet an zu kaufen:","1508":"Der Zug f\xe4hrt ab. Wenn er zur\xfcckkommt, wird er kaufen:","1509":"Der Zug ist hier und bietet an zu kaufen:","1510":" ","1511":"Besuche die Bank, um Gold, Silber und Diamanten zu verkaufen. Die Bank aktualisiert derzeit ihre Angebote.","1512":"Es gibt derzeit keinen B\xfcrgermeister. ","1513":"Der Zug f\xe4hrt ab in","1514":"Wenn er zur\xfcckkommt, wird er kaufen:","1515":"Der Steuersatz betr\xe4gt","1516":"Die Bank kauft derzeit:","1517":"Der Zug wird abfahren in","1518":"Die Stimmen der letzten B\xfcrgermeisterwahl werden ausgez\xe4hlt. Ergebnisse erwartet in ","1600":"BRIEFKASTEN-STRINGS:","1601":"Lade Nachrichten...","1602":"Du hast keine Nachrichten.","1603":"Erhalten","1604":"Sammeln","1605":"Die meisten Nachrichten werden nach 14 Tagen gel\xf6scht. Shop-K\xe4ufe werden nicht gel\xf6scht.","1606":"\ud83d\udcea Briefkasten","1607":"\ud83d\uddd1\ufe0f Nachricht gel\xf6scht.","1700":"SHOP-STRINGS:","1701":"\ud83d\uded2 Shop","1702":"K\xe4ufe werden an den Posteingang geliefert.","1703":"\ud83d\ude4f Danke f\xfcr deine Unterst\xfctzung! Wir sind ein winziger Entwickler mit wenigen Ressourcen, aber leidenschaftlich daran interessiert, einen unterhaltsamen Raum f\xfcr eine positive Community zu schaffen.","1704":"Bitte erw\xe4ge K\xe4ufe zu t\xe4tigen, damit wir das Spiel weiter verbessern k\xf6nnen.","2000":"ZUG, BANK, GERICHTSGEB\xc4UDE, USW. STRINGS:","2002":"Abgeschlossen","2003":"\ud83d\udce6 N\xe4chste Lieferungsvorschau:","2004":"\ud83c\udf81 Belohnungen f\xfcr das Erf\xfcllen aller Auftr\xe4ge:","2005":"Klicke zum Erf\xfcllen","2006":"Deine Bestellung","2007":"Beansprucht","2008":"Auftrag beanspruchen","2009":"Von dir beansprucht:","2010":"Verf\xfcgbar zum Beanspruchen:","2011":"Von anderen beansprucht:","2012":"Abgeschlossen:","2013":"Von dir beansprucht:","2014":"Du kannst nur ein Zugangebot gleichzeitig beanspruchen.","2015":"Zugprotokoll anzeigen","2016":"\ud83c\udf89 Alle Auftr\xe4ge wurden abgeschlossen! Belohnungen wurden verschickt.","2017":"Diese Bestellung wurde bereits beansprucht.","2020":"Zug ist","2030":"Angebote aktualisieren in","2040":"Willkommen, B\xfcrgermeister.","2041":"\ud83d\udcb0 Steuersatz: ","2042":"Vorgeschlagen: ","2043":"Aktualisieren","2044":"\u26a0\ufe0f Nur der B\xfcrgermeister kann den Steuersatz festlegen.","2045":"\ud83d\uddf3\ufe0f Wahlen","2046":"Aktuelle Phase:","2047":"Phasen-Timer:","2048":"\ud83d\udce2 Wahlversprechen","2060":"Abstimmung beginnt in:","2061":"Abstimmung endet in:","2062":"Abstimmung ist beendet. Ergebnisse werden bekannt gegeben in:","2063":"N\xe4chster Wahlkampf beginnt in:","2070":"\ud83d\udce2 Wahlversprechen","2071":"Niemand hat noch ein Wahlversprechen abgegeben.","2072":"Gib dein Wahlversprechen ein (max. 200 Zeichen)...","2073":"Wahlversprechen abgeben","2074":"Stimme abgeben","2075":"Keine Kandidaten zur Wahl verf\xfcgbar.","2076":"Wahlversprechen:","2077":"Du hast in dieser Wahl bereits abgestimmt.","2078":"Es gab keine Kandidaten.","2079":"Wie macht sich dein B\xfcrgermeister?","2080":"Willkommen, B\xfcrgermeister.","2081":"Siedlungsnamen eingeben...","2082":"Deine Siedlung:","2083":"Namen aktualisieren","2084":"Besuche das \ud83c\udfdb\ufe0f Regierungs-Panel, um Statistiken zu sehen, wie es der Siedlung geht, um deine Wahlentscheidung zu leiten.","2085":"Aktueller B\xfcrgermeister:","2090":"\ud83c\udfe4 Gemeinschaftsgeb\xe4ude","2092":"\ud83c\udfeb Schulen: ","2093":"\ud83c\udfeb Noch keine Schulen gebaut.","2094":"\ud83c\udfe5 Krankenh\xe4user: ","2095":"\ud83c\udfe5 Noch keine Krankenh\xe4user gebaut.","2096":"\ud83d\udc3e Tierh\xf6fe: ","2097":"\ud83d\udc3e Noch keine Tierh\xf6fe gebaut.","2098":"\ud83c\udfe4 Bibliotheken: ","2099":"\ud83c\udfe4 Noch keine Bibliotheken gebaut.","3000":"REGIERUNGS-PANEL:","3001":"Deine Siedlung:","3002":"\ud83d\ude0a Bev.","3003":"\ud83d\udcb0 Steuersatz:","3004":"Der Steuersatz wird vom B\xfcrgermeister f\xfcr diese Siedlung festgelegt, und ein Prozentsatz aller gesammelten Steuern wird dem Bankkonto des B\xfcrgermeisters hinzugef\xfcgt.","3005":"B\xfcrgermeister werden im Gerichtsgeb\xe4ude in der Stadt gew\xe4hlt.","3006":"\ud83c\udfdb\ufe0f Regierungsbeamte","3007":"Noch keine Regierungsbeamten gew\xe4hlt.","3009":"Nur der B\xfcrgermeister kann Schulen, Krankenh\xe4user und Bibliotheken in der Stadt bauen.","3010":"\ud83c\udfeb Schulen geben B\xfcrgern Zugang zu bestimmten F\xe4higkeiten, die anderswo nicht erlangt werden k\xf6nnen.","3011":"\ud83c\udfe5 Krankenh\xe4user stellen \xc4rzte zur Verf\xfcgung, die Abenteurer heilen k\xf6nnen, die aus dem Tal zur\xfcckkehren.","3012":"\ud83c\udfe4 Bibliotheken sind eine Quelle f\xfcr B\xfccher, die f\xfcr Abenteurer, die neue F\xe4higkeiten erlernen m\xf6chten, lebenswichtig sind.","3013":"\ud83d\ude82 Der B\xfcrgermeister kann die Nachfrage nach Waren am Zug beeinflussen.","3020":"Steuerprotokoll anzeigen","3021":"","3022":"","3023":"","3024":"","3025":"","3050":"SAISON-PANEL-TEXTE","3051":"(Das Nettoverm\xf6gen wird zweimal t\xe4glich neu berechnet.)","3052":"Keine Daten f\xfcr Top-B\xfcrger verf\xfcgbar.","3053":"Es ist","3054":"L\xe4dt...","3055":"Saison endet in:","3056":"Wir befinden uns zwischen den Saisons.","3057":"Am Ende der Saison werden Bonusbelohnungen an die besten Spieler der Grenzlande sowie an alle Spieler der f\xfchrenden Siedlung gesendet.","3058":"\ud83c\udfc6 Top-B\xfcrger der Grenzlande","3059":"\ud83c\udfd9\ufe0f F\xfchrende Siedlung","3060":"Gesamtverm\xf6gen:","3061":"Bev\xf6lkerung:","3062":"Unbekannt","3063":"Keine Daten verf\xfcgbar","3064":"Saisonprotokoll anzeigen","4000":"ANMELDE-PANEL:","4001":"Hast du noch kein Profil? Erstelle ein neues kostenloses Profil, um zu spielen:","4002":"Neues Profil","4003":"Benutzername","4004":"Du wirst nicht nach einer E-Mail-Adresse gefragt.","4005":"Mit deinem eigenen Profil erh\xe4ltst du dein eigenes Geh\xf6ft zum Bewirtschaften in einer Siedlung mit anderen Spielern, in einer Grenze voller Siedlungen. Abenteuer erwarten dich im Tal.","4006":"Passwort","4007":"Anmelden","4008":"Benutzername","4009":"Melde dich bei deinem Profil an, um weiterzuspielen. Wenn du keinen hast","4010":"Hast du bereits ein Profil?","4050":"PROFIL-PANEL:","4051":"Hallo, ","4052":"Benutzername \xe4ndern:","4053":"Passwort \xe4ndern:","4054":"Profilverwaltung","4055":"Profilstatus:","4056":"Abmelden","4057":"Dein Profil l\xf6schen","4058":"Spieler-ID:","4059":"Geh\xf6ft-Umzug","4060":"Verbleibende Umz\xfcge:","4061":"Besuche den Shop, um mehr Umz\xfcge zu kaufen.","4062":"Einstellungen","4063":"Sprache:","4064":"Reichweitenanzeige:","4065":"Avatar \xe4ndern","4066":"Zur\xfcck zur Anmeldung","4067":"Sprache ausw\xe4hlen","5000":"WEITERE MODAL-STRINGS:","5001":"\ud83d\udc80 Du bist gestorben.","5002":"Du wurdest nach Hause zur\xfcckgebracht. Alle Rucksack \ud83c\udf92 Gegenst\xe4nde, die du hattest, gingen verloren.","5003":"Sei n\xe4chstes Mal vorsichtiger.","5005":"\ud83d\ude00 Willkommen bei Valley View\u2122","5006":"Bitte melde dich an oder erstelle ein kostenloses Profil.","5007":"\xa9 Valley View Studios, 2025, Alle Rechte vorbehalten.","5010":"\ud83d\udce8 Posteingang","5011":"Du hast keine Nachrichten","5015":"\ud83d\uded2 Shop","5016":"K\xe4ufe werden an den Posteingang geliefert. Wir k\xf6nnen keine R\xfcckgaben anbieten. Alle K\xe4ufe sind endg\xfcltig.","5017":"Beachte, dass die meisten Inventargegenst\xe4nde zwischen den Saisons gel\xf6scht werden. \xdcberpr\xfcfe also bitte die Saisonuhr vor dem Kauf und siehe das Saisons-Panel f\xfcr weitere Informationen.","5020":"\ud83d\udeab Du bist derzeit abgemeldet.","5021":"Klicke auf die Anmelde- oder Profil erstellen-Schaltfl\xe4che, um zu beginnen.","5025":"\ud83d\ude4f Danke f\xfcr deine Unterst\xfctzung!","5026":"Dein Kauf wurde an deinen Posteingang geliefert.","5027":"Genie\xdfe Valley View!","5030":"\ud83d\ude00 Willkommen bei Valley View!","5031":"Kein Spieler ist angemeldet oder der Server ist offline.","5032":"Bitte aktualisiere die Seite, \xfcberpr\xfcfe deine Internetverbindung oder komme sp\xe4ter zur\xfcck.","5035":"Wir sind zwischen den Saisons!","5036":"Valley View ist vor\xfcbergehend nicht verf\xfcgbar, w\xe4hrend wir die Saison zur\xfccksetzen.","5040":"\ud83d\udcf0 Stadtnachrichten","5041":"Das passiert gerade in der Stadt:","5045":"Benutze ","5046":"M\xf6chtest du einen verwenden","5047":"Du hast ","5050":"\u26a0\ufe0f Geh\xf6ft-Umzug best\xe4tigen","5051":"Bist du sicher, dass du dein Geh\xf6ft umziehen m\xf6chtest? Dies kann nicht r\xfcckg\xe4ngig gemacht werden.","5052":"Schlie\xdfe diesen Dialog zum Abbrechen.","5060":"\u2b50\ufe0f Gl\xfcckwunsch!","5061":"Du hast jetzt einen Gold-Pass. Gehe zu deinem Profil-Panel, um dein Spielersymbol anzupassen und andere Gold-Vorteile zu entdecken.","5062":"Danke f\xfcr deine Unterst\xfctzung!","5100":"Letzte Steuererhebungen","5101":"Noch keine Steuererhebungshistorie verf\xfcgbar.","5102":"\ud83d\uddd3\ufe0f Datum","5103":"\ud83d\udcb0 Gesamt gesammelt","5104":"B\xfcrgermeister","5105":"\ud83d\udcb0 B\xfcrgermeisteranteil","5110":"","6003":"Troph\xe4e Erhalten!","7000":"BENACHRICHTIGUNGSTEXTE:","7001":"Tipp:","7005":"Verwende A-W-S-D oder die Pfeiltasten zum Bewegen.","7006":"Suche nach dem \ud83d\udcaa Symbol, um das F\xe4higkeiten-Panel zu \xf6ffnen.","7007":"Stehe auf Gras und finde dann das \ud83d\udc2e Kaufen-Panel, um eine Kuh zu kaufen. Du brauchst zuerst die Tierhaltungs-F\xe4higkeit.","7009":"\xdcberpr\xfcfe weiterhin deine \u2705 Aufgabenliste und sprich weiterhin mit \ud83e\udd20 Kent und \ud83d\udc75\ud83c\udffb der Hirtin.","7015":"Klicke auf + und - oben auf dem Bildschirm zum Hinein- und Herauszoomen.","8999":"WIE MAN SPIELT-STRINGS:","9000":"Willkommen bei Valley View!","9001":"Worum geht es?","9002":"Valley View ist ein Spiel, das erforscht, wie Menschen sich selbst organisieren und Mikrogesellschaften in einer Welt asymmetrischer Ressourcen und gegenseitiger Abh\xe4ngigkeit schaffen k\xf6nnten, mit sowohl eigenen als auch gemeinsamen R\xe4umen.","9003":"Obwohl es keine expliziten Spezialisierungspfade gibt, gibt es drei Hauptrichtungen des Spiels, die voneinander abh\xe4ngig sind. Diese sind: der BAUER, der ABENTEURER und der POLITIKER. Du wirst ermutigt, dich aufeinander zu st\xfctzen.","9004":"Zuerst die Grundlagen:","9005":"Benutze die A-W-S-D-Tasten zum BEWEGEN. Klicke, um mit Dingen zu interagieren, die sich in deinem Interaktionsradius befinden.","9006":"Erkunde \ud83d\ude9c LANDWIRTSCHAFT, \u2692\ufe0f BAUEN und \ud83d\udc2e KAUFEN, um dein Geh\xf6ft zu verbessern und Ressourcen zu generieren.","9007":"Generiere \ud83d\udcb0 GELD am \ud83d\udce5 HANDELSPOSTEN. Stelle Ressourcen zum Verkauf an andere Spieler ein oder verkaufe sie f\xfcr einen Teilwert an das Spiel.","9008":"Mehr:","9009":"W\xe4hrend du Reichtum schaffst, verbessere dich selbst mit F\xc4HIGKEITEN und FERTIGKEITEN. Kaufe zum Beispiel die \ud83d\udc34 REITF\xc4HIGKEIT, um dich ins Tal zu wagen.","9010":"Zoome heraus (- und +), um zu sehen, wie gro\xdf die Welt ist. Dein Geh\xf6ft ist eines von vielen in einer SIEDLUNG. Jede SIEDLUNG hat eine gemeinsame STADT. Deine Siedlung ist eine von vielen in der GRENZE.","9011":"Wenn du bereit bist, erkunde das TAL, das voller Gefahren und Wunder ist. Die Geheimnisse des Zauberers PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f und des verlorenen K\xf6nigs LEONTES \ud83e\udd34 k\xf6nnen unter anderem im Tal gefunden werden.","9012":"Deine Ziele:","9013":"F\xfchle dich frei, deine eigenen Ziele zu erstellen. Au\xdferdem werden am Ende jeder \ud83d\uddd3\ufe0f SAISON, die drei Monate l\xe4uft, sowohl Einzelpersonen als auch Siedlungen bewertet, und Top-Platzierungen generieren zus\xe4tzlichen Reichtum. Dein Geh\xf6ft, alle deine F\xe4higkeiten und ein Teil deines Reichtums werden in die n\xe4chste Saison \xfcbertragen.","9014":"Bewirtschafte, stelle her, handle, erkunde, k\xe4mpfe und genie\xdfe!","9020":"Wie man Geld verdient","9021":"Es gibt ein paar M\xf6glichkeiten, \ud83d\udcb0 GELD zu verdienen.","9022":"Wenn du anf\xe4ngst, \xf6ffne den \ud83d\udce5 HANDELSPOSTEN, den du in der oberen linken Ecke deines Geh\xf6fts findest. Hier kannst du Waren verkaufen, einschlie\xdflich Pflanzen und Handwerk.","9023":"Der \ud83d\udce5 HANDELSPOSTEN kauft Waren von dir zu 25% ihres Wertes. Um deine Einnahmen zu maximieren, solltest du mit anderen Spielern handeln. Sie werden Dinge haben, die du brauchst, und umgekehrt.","9024":"Wenn du fortschreitest, kannst du mit dem \u23ea WEGWEISER neben dem ZUG in die STADT reisen. Dort findest du Orte wie die BANK, die bestimmte Gegenst\xe4nde von dir zu einem Premium kauft.","9025":"Geld ausgeben","9026":"\xdcberraschung, die meisten Dinge kosten Geld. Anfangs m\xf6chtest du Geld f\xfcr \ud83d\udcaa F\xc4HIGKEITEN, \ud83d\udc2e NUTZTIERE und \u2692\ufe0f HANDWERKSSTATIONEN ausgeben. Erkunde die Panels auf der linken Seite des Bildschirms. Diese helfen dir, mehr Ressourcen zu generieren, die dir wiederum helfen, mehr Geld zu verdienen.","9027":"In der STADT wirst du mehr Gesch\xe4fte und H\xe4ndler entdecken.","9030":"Wie man Edelsteine verdient","9031":"Edelsteine sind eine seltene Ressource, die verwendet werden kann, um verschiedene Dinge zu kaufen, die dein Spiel beschleunigen.","9032":"Du kannst Edelsteine im Laden kaufen oder hier klicken:","9033":"In seltenen F\xe4llen k\xf6nnen Edelsteine im Tal gefunden oder als Belohnung f\xfcr das Meistern des Zugs oder einen starken Abschluss am Ende einer Saison verdient werden.","9040":"Kinderleicht:","9041":"100 \ud83d\udc8e Edelsteine f\xfcr ","9042":"Bester Wert:","9043":"500 \ud83d\udc8e Edelsteine f\xfcr ","9044":"Am beliebtesten:","9045":"1000 \ud83d\udc8e Edelsteine f\xfcr ","9050":"Vorteile","9051":"Ein Gold-Pass gibt dir Zugang zu Premium-Funktionen und Vorteilen in Valley View f\xfcr die Dauer einer Saison.","9052":"Mit einem Gold-Pass kannst du folgende Vorteile genie\xdfen:","9053":"\u2705 Premium-Avatare: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9054":"\u2705 Nahezu unbegrenzte Lagerhauskapazit\xe4t","9055":"\u2705 Nahezu unbegrenzte Rucksackkapazit\xe4t","9056":"\u2705 2 zus\xe4tzliche Handelsstand-Pl\xe4tze","9057":"\u2705 Niedrigerer Steuersatz","9058":"\u2705 Die H\xe4lfte deiner MaxHP beim Tod wiederhergestellt","9059":"\u2705 Du kannst f\xfcr ein Amt kandidieren","9060":"Danke f\xfcr deinen Gold-Pass-Kauf.","9061":"Kaufe einen Gold-Pass","10000":"\ud83d\udd0c Server ist unten","10001":"Der Server ist derzeit unten. Wir entschuldigen uns f\xfcr die Unannehmlichkeiten, bitte schaue bald wieder vorbei.","10002":"(Diese Nachricht verschwindet, wenn der Server wieder l\xe4uft.)","10100":"APP.JS-STRINGS:","10101":"Willkommen bei Valley View!","10102":"Bitte melde dich an oder erstelle ein kostenloses Profil.","10103":"\ud83c\udf92 Inventar","10104":"\ud83d\uded2 Shop","10105":"\ud83d\udce8 Posteingang","10106":"\ud83d\udce2 Teilen","10107":"\ud83d\udcac Chat","10108":"Du hast einen Gold-Pass","10109":"\u2194\ufe0f Bewegungstasten: ","10110":"\ud83d\udd79\ufe0f Wie man spielt","10111":"Du bist der B\xfcrgermeister","10112":"\u2764\ufe0f\u200d\ud83e\ude79 Gesundheit: ","10113":"\ud83d\uddd3\ufe0f Es ist","10114":"N\xe4chste Saison beginnt in:","10115":"\ud83d\uddd3\ufe0f N\xe4chste Saison in:","10116":"\u23ea Jetzt in der Stadt:","10117":"\ud83d\udcb0 N\xe4chste Steuererhebung:","10118":"In: ","10119":"Steuern werden jetzt erhoben...","10120":"\ud83c\udfdb\ufe0f Wahlen: ","10121":"Endet: ","10122":"\ud83d\ude82 Zug: ","10123":"\ud83c\udfe6 Bank: ","10124":"Neue Angebote: ","10125":"Lies die Nachrichten!","10126":"Wer ist hier:","10127":"Keine PCs im Raster vorhanden.","10128":"\xc4nderungen speichern","10129":"","10130":"Du hast einen Gold-Pass","10131":"Gold-Pass-Vorteile","10132":"Umzug abbrechen","10133":"Geh\xf6ft umziehen","11001":"Warte, bis der Timer endet, oder bis ein anderer Spieler diesen Gegenstand kauft.","12001":"Landwirtschaft","12002":"Bauen","12003":"Tiere","12004":"Aufgabenliste","12005":"F\xe4higkeiten","12006":"Kampf","12007":"Regierung","12008":"Saisons","12009":"Startseite","12010":"Profil","12011":"Dekorationen","12012":"Werkzeuge","12013":"Troph\xe4en","15000":"\ud83d\uddd3\ufe0f Saisonregeln","15001":"Saisons dauern drei Monate.","15002":"Belohnungen","15003":"\ud83d\udcb0 Das Nettoverm\xf6gen wird basierend auf deinem Geld, Inventargegenst\xe4nden und Gegenst\xe4nden auf deinem Geh\xf6ft berechnet.","15004":"\ud83c\udfc6 Die Top 3 Spieler \xfcber die Grenze hinweg erhalten Belohnungen in deinem Briefkasten und verdienen auch eine \'Saisonsieger\'-Troph\xe4e.","15005":"\ud83c\udfc6 Der beste Spieler an der Grenze erh\xe4lt auch die \'Saisonmeister\'-Troph\xe4e.","15006":"\ud83c\udf81 Alle Spieler in der besten Siedlung erhalten zus\xe4tzliche Belohnungen in deinem Briefkasten.","15007":"Zur\xfccksetzen von Spielern und Orten","15008":"\ud83c\udfe0 Du wirst zu deinem Geh\xf6ft zur\xfcckversetzt, wenn du bei Saisonende von zu Hause weg bist.","15009":"\ud83c\udfe0 Deine Geh\xf6fte werden NICHT zur\xfcckgesetzt \u2013 alle Layouts, Kacheln und Ressourcen bleiben erhalten.","15010":"\ud83c\udf92 Dein Inventar WIRD gel\xf6scht, mit Ausnahme seltener Gegenst\xe4nde wie Prosperos Kugel, K\xf6nigskrone, Goldene & Skelettschl\xfcssel, Dreizack).","15011":"\ud83d\udc8e Du beh\xe4ltst alle Edelsteine.","15012":"\ud83d\udcb0 Geld wird auf 10% des aktuellen Betrags reduziert (25% f\xfcr Gold Pass-Inhaber).","15013":"\u2705 Alle Quests werden gel\xf6scht.","15014":"\ud83d\udcaa Deine F\xe4higkeiten & Kr\xe4fte bleiben erhalten.","15015":"\u2764\ufe0f Deine Beziehungen bleiben erhalten.","15016":"\u2b50\ufe0f Dein Gold Pass-Status wird f\xfcr die neue Saison widerrufen.","15017":"\ud83c\udf32 Alle Stadt- und Talgitter werden mit frischen Kacheln, Ressourcen und Feinden zur\xfcckgesetzt.","15018":"Was \xe4ndert sich?","15019":"\ud83c\udf83 St\xe4dte haben Kacheln und Ressourcen entsprechend dem neuen Saisoninhalt.","15020":"\ud83d\ude00 Neue Spieler, die beitreten (und neue Geh\xf6fte erstellen), erhalten Starter-Kacheln und Ressourcen entsprechend dem neuen Saisoninhalt.","15021":"\ud83d\ude82 Zugbestellungen werden von den Saisons beeinflusst.","15022":"\ud83c\udfc6 Neue Belohnungen und Troph\xe4en k\xf6nnen verdient werden.","20000":"RESSOURCEN","30000":"TROPH\xc4EN:","30001":"Erster Landarbeiter","30002":"F\xe4higkeiten-Erbauer","30003":"Z\xfcge Abgeschlossen","30004":"Saisonsieger","30005":"Saisonmeister","200009":"Gold-Konto","200010":"Geld","200011":"Stummel","200012":"Wegweiser N","200013":"Wegweiser O","200014":"Wegweiser S","200015":"Wegweiser W","200016":"Wegweiser NW","200017":"Wegweiser NO","200018":"Wegweiser SO","200019":"Wegweiser SW","200020":"Wegweiser Stadt","200021":"Wegweiser Heim","200022":"Handelsstand","200023":"Handelsposten","200024":"Lagerhaus","200025":"Verlassenes Haus","200026":"Bauernhaus","200027":"Reparatur","200028":"Berg","200029":"Gro\xdfer Berg","200030":"Bank","200031":"Gerichtsgeb\xe4ude","200032":"Zug","200033":"Briefkasten","200034":"Eiche","200035":"Kiefer","200036":"Palme","200037":"Weihnachtsbaum","200038":"Schneemann","200039":"Felsen","200040":"Lehmgrube","200041":"Holz","200042":"Stein","200043":"Lehm","200044":"Weizenfeld","200045":"Karottenfeld","200046":"Maisfeld","200047":"Zuckerrohrfeld","200048":"Erdbeerfeld","200049":"Apfelbaum","200050":"Zitronenbaum","200051":"Weinrebe","200052":"Knoblauchfeld","200053":"Olivenbaum","200054":"Tomatenrebe","200055":"Eichenfeld","200056":"Weizen","200057":"Karotte","200058":"Mais","200059":"Zuckerrohr","200060":"Erdbeere","200061":"Apfel","200062":"Zitrone","200063":"Trauben","200064":"Knoblauch","200065":"Olive","200066":"Tomate","200067":"Blaubeere","200068":"Milch","200069":"Wolle","200070":"Ei","200071":"Mehl","200072":"H\xfchnerfutter","200073":"Zucker","200074":"Maismehl","200075":"Schnittholz","200076":"Butter","200077":"Sahne","200078":"K\xe4se","200079":"Faden","200080":"Stoff","200081":"Pullover","200082":"Jacke","200083":"Schwere Jacke","200084":"Runentunika","200085":"Brot","200086":"Maisbrot","200087":"Apfelkuchen","200088":"Erdbeerkuchen","200089":"Zitronenkeks","200090":"Olivenbrot","200091":"Knoblauchbrot","200092":"K\xf6niginnenkuchen","200093":"Tomatensuppe","200094":"Karottensuppe","200095":"Omelett","200096":"Pizza","200097":"Honig","200098":"Apfelwein","200099":"Wein","200100":"Portwein","200101":"Oliven\xf6l","200102":"Gereifter Wein","200103":"T\xf6pferwaren","200104":"M\xf6bel","200105":"Tinte","200106":"Urnen","200107":"Rosmarin","200108":"Pilz","200109":"Zauberpilz","200110":"G\xe4nsebl\xfcmchen","200111":"Tulpe","200112":"Sonnenblume","200113":"Mutterkraut","200114":"Trank A","200115":"Trank B","200116":"Trank C","200117":"Edelstein","200118":"Buch","200119":"Fell","200120":"B\xe4renfell","200121":"Knochen","200122":"Silber","200123":"Gold","200124":"Diamantring","200125":"K\xf6nigskrone","200126":"Portr\xe4t","200127":"Dreizack","200128":"Dietrich","200129":"Goldener Schl\xfcssel","200130":"Schriftrolle","200131":"Prosperos Kugel","200132":"Zelt","200133":"Boot","200134":"Schrein","200135":"Burg","200136":"Restaurant","200137":"Toilette","200138":"Gemischtwarenladen","200139":"Kriegerh\xf6hle","200140":"Magie-Laden","200141":"Alter Tempel","200142":"Abenteuerlager","200143":"Labor","200144":"Schule","200145":"Tierstall","200146":"M\xfchle","200147":"Molkerei","200148":"H\xfchnerstall","200149":"S\xe4gewerk","200150":"Webstuhl","200151":"Ofen","200152":"K\xfcche","200153":"Bienenstock","200154":"Studio","200155":"Weinkellerei","200156":"Bibliothek","200157":"Tierhof","200158":"Krankenhaus","200159":"Kuh","200160":"Schaf","200161":"Braune Kuh","200162":"Arzt","200163":"Chirurg","200164":"Fee","200165":"Kent","200166":"Portia","200167":"Die Sch\xe4ferin","200168":"Hotspur","200169":"Cassio","200170":"Mistress Quickly","200171":"Feste","200172":"Helena","200173":"Titania","200174":"Vampir","200175":"Weihnachtsmann","200176":"Prospero","200177":"Falstaff","200178":"Apotheker","200179":"Iago","200180":"Gertrude","200181":"Leontes","200182":"Caliban","200183":"Julia","200184":"Meerjungfrau","200185":"Bauer","200186":"Farmhelfer","200187":"Viehz\xfcchter","200188":"Holzf\xe4ller","200189":"Kojote","200190":"B\xe4r","200191":"Spinne","200192":"Zombie","200193":"Herzog Angelo","200194":"Geist","200195":"Oger","200196":"D\xe4mon","200197":"Drache","200198":"Kojoten-Spawner","200199":"B\xe4ren-Spawner","200200":"Spinnen-Spawner","200201":"Zombie-Spawner","200202":"Geist-Spawner","200203":"D\xe4monen-Spawner","200204":"Drachen-Spawner","200205":"Anbauer","200206":"Gr\xfcner Daumen","200207":"Viehzucht","200208":"Massentiersammlung","200209":"Axt","200210":"Spitzhacke","200211":"Baumeister","200212":"Massenernte","200213":"Massennachpflanzung","200214":"Holzf\xe4llen","200215":"Besseres Holzf\xe4llen","200216":"Bessere Axt","200217":"Bessere Spitzhacke","200218":"Vorratshaus","200219":"Depot","200220":"TBD Lager 3","200221":"TBD Lager 4","200222":"Maurerhandwerk","200223":"Mechanik","200224":"Chemie","200225":"Kochen","200226":"B\xe4cker","200227":"Textilien","200228":"Kunstfertigkeit","200229":"Winzer","200230":"Imker","200231":"Schneider","200232":"Politik","200233":"Bildung","200234":"Viehzucht","200235":"Recht","200236":"Medizin","200237":"Chirurgie","200238":"Rucksack","200239":"Wanderrucksack","200240":"Verzauberter Rucksack","200241":"Pferd","200242":"Kampf","200243":"Spurensuche","200244":"Kundschafter","200245":"Kraft","200246":"Zorn","200247":"Sturm","200248":"Sto\xdf","200249":"Wirbel","200250":"Sperrfeuer","200251":"Fokus","200252":"Pr\xe4zision","200253":"Horizontauge","200254":"Polsterung","200255":"R\xfcstung","200256":"Gesegneter Schleier","200257":"Ruhige Hand","200258":"Punktgenau","200259":"Standhaftigkeit","200260":"Steinherz","200261":"Unzerbrechlich","200262":"Kiste","200263":"Steinmauer","200264":"Gro\xdfe Steinmauer","200265":"Gr\xfcne Wand","200266":"Schwarze Wand","200267":"Sandwand","200268":"Blaue Wand","200269":"Orange Wand","200270":"Pflanze","200271":"Kaktus","200272":"Harfe","200273":"Flagge","200274":"B\xfccherstapel","200275":"Stuhl","200276":"Toilette","200277":"Bett","200278":"Teddyb\xe4r","200279":"Gro\xdfes Loch","200280":"Rutsche","200281":"Brunnen","200282":"Gro\xdfer Brunnen","200283":"Gro\xdfe dekorative Palme","200284":"Mahlstrom","200285":"Vernichtung","200286":"Unfehlbar","200287":"Titan","hp":"Trefferpunkte","maxhp":"Max. Trefferpunkte","range":"Reichweite","attackrange":"Angriffsreichweite","attackbonus":"Angriffsbonus","damage":"Schaden","speed":"Angriffsgeschwindigkeit","iscamping":"Zeltet","armorclass":"R\xfcstungsklasse","backpackCapacity":"Rucksackkapazit\xe4t","warehouseCapacity":"Lagerhauskapazit\xe4t"}'),c=JSON.parse('{"0":"Vista do Vale","1":"O servidor n\xe3o est\xe1 em execu\xe7\xe3o.","3":"\ud83d\ude9c Terra preparada com sucesso.","4":"\u26a0\ufe0f Voc\xea n\xe3o tem recursos suficientes.","5":"\u2692\ufe0f Constru\xe7\xe3o conclu\xedda com sucesso.","6":"\ud83d\udcb0 Itens vendidos.","7":"\ud83c\udfe0 Esta fazenda est\xe1 desocupada.","8":"\ud83d\udeab Esta \xe1rea \xe9 restrita.","9":"O Vale est\xe1 repleto de maravilhas e precisa ser explorado a p\xe9.","10":"\ud83c\udfe0 Fazenda de [username].","11":"\ud83c\udfe0 Fazenda de propriet\xe1rio desconhecido.","12":"Visualiza\xe7\xe3o do Assentamento. Dependendo de sua localiza\xe7\xe3o, pode ser necess\xe1rio rolar para ver a Cidade.","13":"Vis\xe3o da Fronteira.","14":"\ud83d\ude82 Bem-vindo \xe0 cidade.","15":"\ud83d\udc34 Voc\xea precisa da habilidade de Equita\xe7\xe3o para viajar at\xe9 aqui. Verifique seu painel de \ud83d\udcaa Habilidades.","16":"Voc\xea est\xe1 no vale.","17":"Voc\xea n\xe3o possui uma fazenda aqui.","18":"\ud83d\udeab Voc\xea n\xe3o pode ir por esse caminho.","19":"\ud83c\udf92 Voc\xea precisa de uma Mochila para coletar recursos longe de sua fazenda. Compre uma no Acampamento de Aventura.","20":"\ud83d\udeab N\xe3o h\xe1 espa\xe7o suficiente no Armaz\xe9m.","21":"\ud83c\udf92 N\xe3o h\xe1 espa\xe7o suficiente na Mochila. Abra o Invent\xe1rio para gerenciar o conte\xfado da Mochila.","22":"Itens adquiridos.","23":"\u26a0\ufe0f Voc\xea n\xe3o pode construir aqui.","24":"\ud83c\udfaf Fora de alcance.","25":"\ud83c\udf92 Nada na Mochila.","26":"\ud83c\udf92 Voc\xea precisa estar em sua fazenda para esvaziar sua Mochila.","27":"\u26fa\ufe0f Voc\xea n\xe3o tem uma barraca.","28":"\u26fa\ufe0f Agora voc\xea est\xe1 acampando.","29":"\u26a0\ufe0f \u26fa\ufe0f Falha ao acampar / desacampar.","30":"\u26fa\ufe0f N\xe3o est\xe1 mais acampando.","31":"\u26fa\ufe0f N\xe3o \xe9 poss\xedvel atacar enquanto estiver acampando.","32":"\u26fa\ufe0f Voc\xea precisa desacampar primeiro.","33":"\ud83d\udce6 Movido itens para o Armaz\xe9m.","34":"\ud83c\udf92 Mochila esvaziada.","35":"Voc\xea precisa de uma ","36":"Voc\xea usou um ","50":"\ud83d\udeab Esse nome de usu\xe1rio j\xe1 est\xe1 em uso.","70":"Sess\xe3o expirada","71":"Voc\xea esteve ausente por um tempo. Atualizar garante que sua sess\xe3o funcione corretamente.","72":"Essa p\xe1gina ser\xe1 atualizada automaticamente em 30 segundos, a menos que voc\xea fa\xe7a agora.","73":"\ud83d\udd04 Atualizar Agora","74":"\ud83c\udf92 Uma Mochila \xe9 necess\xe1ria para possuir uma Barraca.","75":"Voc\xea n\xe3o possui uma Mochila. Voc\xea pode adquirir uma no Acampamento de Aventura na Cidade.","76":"Seu Armaz\xe9m est\xe1 vazio.","77":"Sua Mochila est\xe1 vazia.","78":"Gerenciar Mochila","90":"\ud83d\udeab Esta n\xe3o \xe9 sua fazenda.","99":"\u26a0\ufe0f Algo deu errado.","100":"FRASES DE VIAGEM:","101":"\ud83d\udc34 Viajando para casa... por favor, aguarde.","102":"\ud83d\udc34 Viajando para a cidade ... por favor aguarde.","103":"\ud83d\udc34 Viajando para o pr\xf3ximo local ... por favor aguarde.","104":"\ud83d\udeab Nenhuma cidade nesta vila ainda.","105":"\u26a0\ufe0f Houve um problema ao tentar viajar.","106":"\ud83d\udeab Voc\xea n\xe3o pode viajar al\xe9m da fronteira.","110":"\u27a1\ufe0f Caminhe at\xe9 os Postes de Sinais para us\xe1-los","111":"Bem-vindo \xe0 cidade.","112":"Bem-vindo a casa.","120":"Voc\xea n\xe3o tem mais movimentos de fazenda dispon\xedveis.","121":"Voc\xea moveu com sucesso sua fazenda.","122":"Voc\xea n\xe3o pode se mudar para o vale!","123":"Voc\xea n\xe3o pode se mudar para a cidade!","124":"Essa fazenda est\xe1 ocupada.","125":"Para onde voc\xea est\xe1 se mudando?","130":"Selecione seu idioma:","131":"Confirmar","150":"STRINGS DE BARRACA DE COM\xc9RCIO:","151":"Voc\xea n\xe3o pode abastecer a barraca de com\xe9rcio de outro jogador.","152":"Voc\xea n\xe3o tem dinheiro suficiente para comprar este item.","153":"est\xe1 vendendo:","154":"est\xe3o vendendo","155":"Transa\xe7\xe3o falhou. Este item j\xe1 foi vendido.","200":"MISS\xd5ES","201":"\u2705 Miss\xe3o completada. Voc\xea tem sua recompensa.","202":"\u2705 Miss\xe3o aceita.","203":"Nenhuma miss\xe3o ativa no momento.","204":"est\xe1 oferecendo estas Miss\xf5es:","205":"n\xe3o tem miss\xf5es para voc\xea neste momento.","206":"Volte para o NPC que lhe deu esta miss\xe3o para coletar sua recompensa.","207":"Em Progresso","208":"Receber Recompensa","209":"Aceitar Miss\xe3o","299":"STRINGS DE AGRICULTURA:","300":"\u2705 Adicionado","301":"\ud83d\ude9c Arado","302":"\ud83d\ude9c Plantado","303":"\ud83d\ude9c Deve plantar na terra","304":"\ud83d\ude9c N\xe3o \xe9 poss\xedvel plantar aqui","305":"\u26a0\ufe0f Recursos insuficientes","306":"\u26a0\ufe0f N\xe3o \xe9 poss\xedvel construir aqui","310":"Voc\xea precisa preparar a terra para o plantio.","311":"Seus animais da fazenda precisar\xe3o de bastante grama para pastar.","312":"O pavimento pode ser \xfatil para controlar animais errantes.","313":"","400":"COMPRAR, CRIAR, HABILIDADES, CURA, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 J\xe1 est\xe1 com o m\xe1ximo de pontos de vida.","402":"\u26a0\ufe0f recursos.","403":"\u26a0\ufe0f Seu invent\xe1rio est\xe1 cheio.","404":"Trabalhando...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Pontos de vida aumentados em +","410":"\ud83c\udfd5\ufe0f Para usar uma barraca comprada, clique no seu pr\xf3prio \xedcone de jogador.","420":"ir\xe1 trocar com voc\xea:","421":"Usado em:","422":"Valor Base:","423":"Sem trocas dispon\xedveis.","424":"Sem receitas dispon\xedveis.","425":"Vender para reembolso.","426":"Culturas iniciais caras, mas caso voc\xea fique sem:","427":"Compre a habilidade Bulk Harvest do Auxiliar de Fazenda para colher todas as culturas de uma vez.","428":"Clique para colher instantaneamente todas as culturas.","429":"Voc\xea n\xe3o tem culturas para colher.","430":"Habilidades do Auxiliar de Fazenda:","431":"Compre a habilidade Bulk Animal Collect do Auxiliar de Fazenda para recolher de todos os animais de uma vez.","432":"Compre a habilidade de Logging do Auxiliar de Fazenda para cortar v\xe1rias \xe1rvores de uma vez e recolher a madeira.","433":"Compre Melhor Logging para aumentar o n\xfamero de \xe1rvores cortadas de uma vez.","434":"Clique para recolher instantaneamente de todos os animais.","435":"Clique para cortar instantaneamente v\xe1rias \xe1rvores e recolher a madeira.","436":"Voc\xea n\xe3o tem animais para recolher.","437":"Voc\xea n\xe3o tem \xe1rvores para cortar.","500":"STRINGS DE COMBATE","501":"\ud83c\udfaf Fora do alcance.","502":"\ud83c\udfaf Acerto!","503":"\u274c Erro","504":"\ud83d\udc80 Morto","505":"\u26a0\ufe0f Erro","510":"\u2764\ufe0f\u200d\ud83e\ude79 Voc\xea est\xe1 sofrendo dano...","899":"STRINGS DE DEPURA\xc7\xc3O:","900":"Depura\xe7\xe3o: Invent\xe1rio limpo.","901":"Depura\xe7\xe3o: Hist\xf3rico de miss\xf5es limpo.","902":"Depura\xe7\xe3o: Recursos adicionados.","903":"Depura\xe7\xe3o: Grade reiniciada com sucesso.","904":"Depura\xe7\xe3o: Habilidades adicionadas.","905":"Depura\xe7\xe3o: Habilidades e Poderes limpos.","906":"Depura\xe7\xe3o: Estat\xedsticas de combate redefinidas.","999":"STRINGS DE INTERFACE DO PAINEL:","1000":"[Descri\xe7\xe3o necess\xe1ria]","1001":"Invent\xe1rio: Recursos coletados na Fazenda ir\xe3o para o armaz\xe9m. Recursos coletados na cidade ou no vale ir\xe3o para a mochila. Para comprar uma mochila, v\xe1 para Habilidades. As esta\xe7\xf5es de artesanato s\xf3 pegar\xe3o itens do armaz\xe9m. Voc\xea pode esvaziar sua mochila no armaz\xe9m sempre que estiver na sua Fazenda.","1002":"Construir: Construa esta\xe7\xf5es de artesanato na sua Fazenda usando recursos do seu armaz\xe9m.","1003":"Os animais comprados aparecer\xe3o no seu \xedcone de jogador e come\xe7ar\xe3o imediatamente a vida na fazenda.","1004":"Arar a terra para transform\xe1-la em solo a fim de plantar culturas. Plante grama para fornecer algo para os animais da fazenda pastarem.","1005":"Adquira habilidades e melhorias para melhorar v\xe1rios atributos. Certifique-se de explorar a Cidade para encontrar locais adicionais e formas de obter habilidades e melhorias.","1006":"Gerencie todas as suas miss\xf5es em andamento aqui. Procure por personagens que fornecem miss\xf5es na sua fazenda, na Cidade ou at\xe9 mesmo no Vale.","1007":"Os governos em Valley View s\xe3o formados no n\xedvel de assentamento. O prefeito eleito implementa pol\xedticas e constr\xf3i edif\xedcios para ajudar a comunidade a prosperar.","1008":"Barraca de Trocas: Venda seus recursos para outros jogadores ou compre itens de suas barracas de troca. Use as setas para navegar entre as barracas de troca dentro do seu Assentamento. Se nenhum jogador comprar seus itens antes que o temporizador expire, voc\xea pode vend\xea-los para o jogo por uma fra\xe7\xe3o de seu valor base.","1009":"[Descri\xe7\xe3o do Artesanato]","1010":"[Descri\xe7\xe3o da Caixa de Correio]","1011":"Este Galp\xe3o de Animais est\xe1 vazio. Certifique-se de que os animais tenham grama para comer e eles eventualmente vir\xe3o para o galp\xe3o para a colheita.","1012":"As elei\xe7\xf5es acontecem no Tribunal. Aqui, os prefeitos t\xeam o poder de definir a taxa de imposto e renomear o Assentamento.","1013":" ","1014":" ","1015":"O jogo decorre ao longo de esta\xe7\xf5es em constante mudan\xe7a. No final de uma esta\xe7\xe3o, uma parte da tua riqueza e itens raros ser\xe3o transferidos. Atualiza para uma conta Gold para mais benef\xedcios de transfer\xeancia.","1016":" ","1017":"Visita o Banco para trocar itens por Dinheiro, incluindo itens raros como Ouro e Prata. Volta ao banco regularmente para diferentes ofertas.","1018":"","1019":"[Descri\xe7\xe3o do Perfil]","1021":"\xa9 Valley View Studios, 2025, Todos os Direitos Reservados.","1022":"[Descri\xe7\xe3o do Comboio]","1023":"[Descri\xe7\xe3o do Jardineiro]","1024":"[Descri\xe7\xe3o de Combate]","1025":"[Descri\xe7\xe3o da Loja]","1026":"[Descri\xe7\xe3o do Painel de Dinheiro]","1027":"Estes s\xe3o os benef\xedcios de um Passe Gold.","1028":"[Descri\xe7\xe3o do Painel de Decora\xe7\xf5es]","1101":"Invent\xe1rio","1102":"\u2692\ufe0f Construir","1103":"\ud83d\uded2 Comprar","1104":"\ud83d\ude9c Agricultura","1105":"\ud83d\udcaa Habilidades","1106":"\u2753 Miss\xf5es","1107":"\ud83c\udfdb\ufe0f Governo","1108":"\ud83d\udce5 Banca de Trocas","1109":"Cria\xe7\xe3o","1110":"\ud83d\udcea Caixa de Correio","1111":"\ud83d\udc3e Animais","1112":"\ud83c\udfdb\ufe0f Tribunal","1113":"Personagem Ajudante","1114":"\ud83d\ude00 Personagem do Jogador","1115":"\ud83d\uddd3\ufe0f Esta\xe7\xe3o","1116":"\ud83d\udd01 Comerciante","1117":"\ud83c\udfe6 Banco","1118":"\ud83d\udd79\ufe0f Como Jogar","1119":"\ud83d\ude00 Perfil","1120":"\ud83d\udc1e Depura\xe7\xe3o","1121":"\ud83d\ude00 Bem-vindo","1122":"\ud83d\ude82 Comboio","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Jardineiro","1124":"\u2694\ufe0f Combate","1125":"\ud83d\uded2 Loja","1126":"\ud83d\udcb0 Sobre Dinheiro","1127":"\u2b50\ufe0f Passe Gold","1128":"\ud83e\ude91 Decora\xe7\xf5es","1200":"HIST\xd3RIA DO COMERCIANTE","1201":"Ah, a floresta esconde muitos segredos... e eu? Eu roubei alguns. Essas Gemas, n\xe3o s\xe3o minhas, mas Tit\xe2nia tem mais do que precisa. Tens algo que desejo: P\xe3o de Azeitona, quente e rico. Troca comigo, e talvez te sussurre hist\xf3rias de olhos brilhantes na escurid\xe3o, asas que reluzem ao luar e drag\xf5es que falam em enigmas. Mant\xe9m um ouvido aberto e uma adaga pr\xf3xima.","1202":"A minha recompensa \xe9 t\xe3o vasta como o mar, o meu amor t\xe3o profundo... mas ele partiu, e tudo o que resta \xe9 um retrato e dor. \xc2ngelo levou ambos. Traze-me a semelhan\xe7a de Romeu, arrancado da minha c\xe2mara, e dar-te-ei Tulipas vermelhas como o sangue derramado nas pedras de Verona. Que este seja o nosso novo balc\xe3o: tu em baixo, trazendo justi\xe7a.","1203":"D\xe1-me vida, d\xe1-me amor, mas acima de tudo... d\xe1-me Porto! Em troca, um ramo de Tan\xe1sia, mais querido que ouro para alguns, especialmente para a Helena de olhos arregalados. Diz que est\xe1 atr\xe1s de coroas e lendas, pobre rapariga. Eu? Estou atr\xe1s de uma barriga cheia e uma sesta tranquila. \u2018\xc9s t\xe3o tola de beberes tanto vinho\u2019, disseram-me uma vez. Ha! Eles n\xe3o estavam errados.","1204":"Aqui est\xe1 alecrim, para a mem\xf3ria - e beladona, para os arrependimentos. As minhas po\xe7\xf5es n\xe3o s\xe3o para os fracos de vontade. Com a folha certa, posso reparar os teus membros ou confundir a tua l\xedngua. \u2018Lembro-me de um botic\xe1rio\', disse um rapaz uma vez, e ele pagou o pre\xe7o. Mas tu? Pareces mais s\xe1bio. Traz-me ra\xedzes raras e sementes amargas, e eu farei algo que valha o perigo.","1205":"Algo ainda est\xe1 podre. Sinto-o na terra. Uma vez reinei, amei, perdi. Helena queimou-me como rel\xe2mpago de ver\xe3o. E Leontes? Ele n\xe3o conseguiu perdoar o degelo. \u2018A dama protesta demais\u2019, disseram; deixem-nos. Se vires a Helena, diz-lhe que as rosas conhecem o seu nome. Se vires o Leontes, diz-lhe que n\xe3o esqueci o inverno.","1206":"A minha tristeza \xe9 uma est\xe1tua; silenciosa, mas nunca quieta. Enterrei a minha coroa na neve no dia em que Gertrudes escolheu o seu jardim em vez de mim. \'Sai, perseguido por um urso\'? N\xe3o, fugi de mim. Agora espero, entre pedra e sil\xeancio. Traga-me o que foi uma vez meu, a Coroa do Rei, e pagarei em Ouro, mais do que o peso da mem\xf3ria. Mas cuidado: alguns tronos carregam maldi\xe7\xf5es.","1207":"Esta ponte \xe9 minha, pela minha m\xe3e Sycorax.\u2019 Pr\xf3spero tentou roubar com feiti\xe7os e sorrisos. Chamaram-me besta, mas sou da terra e da tempestade, nascido para uma verdade selvagem. Troco ossos por Prata, s\xedmbolos dos mortos por moeda dos vivos. N\xe3o toques levemente nada nestas florestas. Traz-me o que outros temem, e tornar-te-ei rico... ou assombrado.","1208":"","1301":"Habilidades para comprar:","1302":"Melhorias para comprar:","1303":"Habilidades que voc\xea tem:","1304":"Melhorias que voc\xea tem:","1305":"Voc\xea ainda n\xe3o possui habilidades.","1306":"Voc\xea ainda n\xe3o possui melhorias.","1400":"MODAL STRINGS","1401":"MODAL DO BANCO","1402":"Estas ofertas s\xe3o v\xe1lidas por","1403":"Comprar\xe1","1404":"por","1405":"Sem ofertas dispon\xedveis.","1406":"Novas ofertas em","1407":"Gerando novos pedidos. Obrigado pela sua paci\xeancia.","1408":"\u26a0\ufe0f Voc\xea n\xe3o possui itens suficientes.","1409":"\u26a0\ufe0f Voc\xea n\xe3o possui habilidades suficientes.","1410":"\u26a0\ufe0f Voc\xea n\xe3o possui melhorias suficientes.","1500":"TOWN NEWS STRINGS:","1501":"Not\xedcias para","1502":"O atual Prefeito \xe9","1503":", e a taxa de imposto \xe9","1504":"Veja o que est\xe1 acontecendo na Cidade agora:","1505":"\xc9 \xe9poca de elei\xe7\xf5es, e a campanha est\xe1 a todo vapor. Passe na Prefeitura da Cidade para concorrer a Prefeito.","1506":"A vota\xe7\xe3o para o pr\xf3ximo Prefeito come\xe7ou. Vote na Prefeitura da Cidade.","1507":"O Trem est\xe1 chegando, oferecendo para comprar:","1508":"O Trem est\xe1 partindo. Quando retornar, estar\xe1 comprando:","1509":"O Trem est\xe1 aqui, oferecendo para comprar:","1510":" ","1511":"Visite o Banco para vender ouro, prata e diamantes. O Banco est\xe1 atualizando suas ofertas.","1512":"Atualmente n\xe3o h\xe1 prefeito.","1513":"O Trem est\xe1 partindo em","1514":"Quando retornar, estar\xe1 comprando:","1515":"A taxa de imposto \xe9","1516":"O Banco est\xe1 atualmente comprando:","1517":"O Trem partir\xe1 em","1518":"Os votos na \xfaltima elei\xe7\xe3o para Prefeito est\xe3o sendo contados. Resultados esperados em","1600":"MAILBOX STRINGS:","1601":"Carregando mensagens...","1602":"Voc\xea n\xe3o possui mensagens.","1603":"Recebido","1604":"Coletar","1605":"A maioria das mensagens ser\xe3o exclu\xeddas ap\xf3s 14 dias. Compras na loja n\xe3o ser\xe3o exclu\xeddas.","1606":"\ud83d\udcea Caixa de Correio","1607":"\ud83d\uddd1\ufe0f Mensagem exclu\xedda.","1700":"STORE STRINGS:","1701":"\ud83d\uded2 Loja","1702":"As compras ser\xe3o entregues na Caixa de Entrada.","1703":"\ud83d\ude4f Obrigado pelo seu apoio! Somos um pequeno desenvolvedor com poucos recursos, mas apaixonados por criar um espa\xe7o divertido para uma comunidade positiva.","1704":"Considere fazer compras para que possamos continuar a melhorar o jogo.","2000":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2002":"\u2705 Conclu\xeddo","2003":"\ud83d\udce6 Pr\xe9via do Pr\xf3ximo Envio:","2004":"\ud83c\udf81 Recompensas por completar todos os pedidos:","2005":"Clique para cumprir","2006":"Seu Pedido","2007":"Reclamado","2008":"Reclamar Pedido","2009":"Reclamado por voc\xea:","2010":"Dispon\xedvel para reivindicar:","2011":"Reclamado por outros:","2012":"Conclu\xeddo:","2013":"Reclamado por voc\xea:","2014":"Voc\xea s\xf3 pode reivindicar uma oferta de trem por vez.","2015":"Mostrar Log de Trem","2016":"\u2705 Todos os pedidos foram conclu\xeddos! As recompensas foram enviadas.","2020":"O trem est\xe1","2030":"Ofertas atualizadas em","2040":"Bem-vindo, Prefeito.","2041":"\ud83d\udcb0 Taxa de Imposto:","2042":"Proposta:","2043":"Atualiza\xe7\xe3o","2044":"\u26a0\ufe0f Apenas o Prefeito pode definir a taxa de imposto.","2045":"\ud83d\uddf3\ufe0f Elei\xe7\xf5es","2046":"Fase Atual:","2047":"Temporizador da Fase:","2048":"\ud83d\udce2 Promessas de Campanha","2060":"A vota\xe7\xe3o come\xe7a em:","2061":"A vota\xe7\xe3o termina em:","2062":"A vota\xe7\xe3o terminou. Resultados anunciados em:","2063":"Pr\xf3xima campanha come\xe7a em:","2070":"\ud83d\udce2 Promessas de Campanha","2071":"Ningu\xe9m fez uma promessa de campanha ainda.","2072":"Digite sua promessa de campanha (m\xe1x. 200 caracteres)...","2073":"Enviar Promessa de Campanha","2074":"Vote","2075":"N\xe3o h\xe1 candidatos dispon\xedveis para vota\xe7\xe3o.","2076":"Promessa de campanha:","2077":"Voc\xea j\xe1 votou nesta elei\xe7\xe3o.","2078":"N\xe3o houve candidatos.","2079":"Como est\xe1 seu Prefeito?","2080":"Bem-vindo, Prefeito.","2081":"Digite o nome do assentamento...","2082":"Seu Assentamento:","2083":"Atualizar Nome","2084":"Visite o Painel do Governo \ud83c\udfdb\ufe0f para visualizar estat\xedsticas sobre como o assentamento est\xe1 se saindo, para ajudar na sua decis\xe3o eleitoral.","2090":"\ud83c\udfe4 Pr\xe9dios Comunit\xe1rios","2092":"\ud83c\udfeb Escolas:","2093":"\ud83c\udfeb Nenhuma escola constru\xedda ainda.","2094":"\ud83c\udfe5 Hospitais:","2095":"\ud83c\udfe5 Nenhum hospital constru\xeddo ainda.","2096":"\ud83d\udc3e Jardins de Animais: ","2097":"\ud83d\udc3e Nenhum Jardim de Animais constru\xeddo ainda.","2098":"\ud83c\udfe4 Bibliotecas: ","2099":"\ud83c\udfe4 Nenhuma Biblioteca constru\xedda ainda.","3000":"PAINEL DO GOVERNO:","3001":"Assentamento:","3002":"\ud83d\ude0a Pop.","3003":"\ud83d\udcb0 Taxa de Imposto:","3004":"A taxa de imposto \xe9 definida pelo Prefeito, para este Assentamento, e uma porcentagem de todos os impostos arrecadados \xe9 adicionada \xe0 conta do Prefeito.","3005":"Prefeitos s\xe3o eleitos no Tribunal da Cidade.","3006":"\ud83c\udfdb\ufe0f Oficiais do Governo","3007":"Nenhum oficial do governo eleito ainda.","3009":"Apenas o Prefeito pode construir Escolas, Hospitais e Jardins de Animais na Cidade.","3010":"\ud83c\udfeb Escolas fornecem aos cidad\xe3os acesso a certas habilidades que n\xe3o podem ser obtidas em outros lugares.","3011":"\ud83c\udfe5 Hospitais fornecem m\xe9dicos, que podem curar aventureiros que retornam do Vale.","3012":"\ud83d\udc3e Jardins de Animais fornecem gado \xfanico, que pode ser transportado de volta para as propriedades por qualquer jogador.","3013":"\ud83d\ude82 O Prefeito pode influenciar a demanda por bens no Trem.","3020":"Ver Registro de Impostos","3021":"","3022":"","3023":"","3024":"","3025":"PAINEL DE LOGIN:","4000":"Bem-vindo ao Vale Vista! Ainda n\xe3o possui uma conta? Crie uma conta gratuita para come\xe7ar a jogar:","4001":"Criar Conta","4002":"Nome de Usu\xe1rio","4003":"Voc\xea n\xe3o ser\xe1 solicitado a fornecer um endere\xe7o de e-mail.","4004":"Com uma nova conta, voc\xea ter\xe1 sua pr\xf3pria propriedade para cultivar em um Assentamento com outros jogadores, em uma Fronteira cheia de Assentamentos. A aventura o aguarda no Vale.","4005":"Senha","4006":"Login","4007":"Nome de Usu\xe1rio","4008":"Fa\xe7a login em sua conta para continuar jogando. Se voc\xea n\xe3o tiver uma","4009":"PAINEL DE PERFIL:","4050":"Ol\xe1, ","4051":"Alterar Nome de Usu\xe1rio:","4052":"Alterar Senha:","4053":"Gerenciamento de Conta","4054":"Status da Conta:","4055":"Sair","4056":"Excluir Conta","4057":"ID do Jogador:","4058":"Realoca\xe7\xe3o da Propriedade","4059":"Realoca\xe7\xf5es Restantes:","4060":"Visite a Loja para comprar mais Realoca\xe7\xf5es.","4061":"Configura\xe7\xf5es","4062":"Idioma:","4063":"Indicador de Alcance:","4064":"Alterar Avatar","4065":"Voltar para o Login","4066":"Selecione o Idioma","4067":"MAIS FRASES MODAIS:","5000":"\ud83d\udc80 Voc\xea morreu.","5001":"Voc\xea foi devolvido para casa. Itens da mochila \ud83c\udf92 foram perdidos.","5002":"Seja mais cuidadoso da pr\xf3xima vez.","5003":"\ud83d\ude00 Bem-vindo ao Valley View\u2122","5005":"Por favor fa\xe7a login ou crie uma conta gratuita.","5006":"\xa9 Valley View Studios, 2025, Todos os Direitos Reservados.","5007":"\ud83d\udce8 Caixa de Entrada","5010":"Voc\xea n\xe3o tem mensagens","5011":"\ud83d\uded2 Loja","5015":"Compras ser\xe3o entregues na Caixa de Entrada. N\xe3o podemos oferecer devolu\xe7\xf5es. Todas as compras s\xe3o finais.","5016":"Lembre-se de que a maioria dos itens do invent\xe1rio s\xe3o resetados entre temporadas, ent\xe3o verifique o rel\xf3gio da temporada antes de comprar e consulte o painel das temporadas para mais informa\xe7\xf5es.","5017":"\ud83d\udeab Voc\xea est\xe1 atualmente desconectado.","5020":"Clique no bot\xe3o Login ou Criar Conta para come\xe7ar.","5021":"\ud83d\ude4f Obrigado pelo seu apoio!","5025":"Sua compra foi entregue na sua Caixa de Entrada.","5026":"Aproveite o Valley View!","5027":"\ud83d\ude00 Bem-vindo ao Valley View!","5030":"Nenhum jogador est\xe1 logado ou o servidor est\xe1 offline.","5031":"Por favor, atualize a p\xe1gina, verifique sua conex\xe3o com a internet ou retorne mais tarde.","5032":"Estamos entre temporadas!","5035":"Valley View est\xe1 temporariamente indispon\xedvel enquanto resetamos a temporada.","5036":"\ud83d\udcf0 Not\xedcias da Cidade","5040":"Veja o que est\xe1 acontecendo na Cidade agora:","5041":"Usar ","5045":"Voc\xea deseja usar um ","5046":"Voc\xea tem ","5047":"\u26a0\ufe0f Confirmar Mudan\xe7a de Fazenda","5050":"Voc\xea tem certeza de que quer mudar sua fazenda? Isso n\xe3o pode ser desfeito.","5051":"Feche este di\xe1logo para cancelar.","5052":"\u2b50\ufe0f Parab\xe9ns!","5060":"Agora voc\xea tem um Passe Ouro. V\xe1 para o seu painel de Perfil para personalizar o \xedcone do jogador e descobrir outros benef\xedcios do Ouro.","5061":"Obrigado pelo seu apoio!","5062":"Arrecada\xe7\xf5es de Impostos Recentes","5100":"Ainda n\xe3o h\xe1 hist\xf3rico de arrecada\xe7\xe3o de impostos dispon\xedvel.","5101":"\ud83d\uddd3\ufe0f Data","5102":"\ud83d\udcb0 Total Arrecadado","5103":"Prefeito","5104":"\ud83d\udcb0 Ganho do Prefeito","5105":"","5110":"COMO JOGAR:","8999":"Bem-vindo ao Valley View!","9000":"Sobre o que se trata?","9001":"Valley View \xe9 um jogo que explora como as pessoas podem se auto-organizar e criar microsociedades em um mundo de recursos assim\xe9tricos e interdepend\xeancia, com espa\xe7os pr\xf3prios e compartilhados.","9002":"Embora n\xe3o haja caminhos de especializa\xe7\xe3o expl\xedcitos, existem tr\xeas vetores principais de jogo que s\xe3o interdependentes. Estes s\xe3o: o FAZENDEIRO, o AVENTUREIRO e o POL\xcdTICO. Voc\xea \xe9 encorajado a apoiar uns aos outros.","9003":"Primeiro, o b\xe1sico:","9004":"Use as teclas A-W-S-D para SE MOVER. Clique para interagir com coisas que est\xe3o dentro do seu raio de intera\xe7\xe3o.","9005":"Explore \ud83d\ude9c FAZENDO, \u2692\ufe0f CONSTRUIR e \ud83d\udc2e COMPRAR para melhorar sua Fazenda e gerar recursos.","9006":"Gere \ud83d\udcb0 DINHEIRO no \ud83d\udce5 BALC\xc3O DE TROCAS. Poste recursos \xe0 venda para outros jogadores, ou venda para o jogo por um valor parcial.","9007":"Mais:","9008":"\xc0 medida que voc\xea cria riqueza, melhore-se com HABILIDADES e COMPET\xcaNCIAS. Por exemplo, adquira a habilidade de \ud83d\udc34 EQUITAC\xc3O para viajar at\xe9 a CIDADE.","9009":"Aproxime (- e +) para ver o qu\xe3o grande \xe9 o mundo. Sua Propriedade \xe9 uma das muitas em um POVOADO. Cada POVOADO tem uma CIDADE compartilhada. Seu Povoado \xe9 um dos muitos na FRONTEIRA.","9010":"Quando estiver pronto, explore o VALE, que est\xe1 cheio de perigos e maravilhas. Os segredos do mago PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f e do rei perdido LEONTES \ud83e\udd34, entre outros, podem ser encontrados no Vale.","9011":"Seus Objetivos:","9012":"Sinta-se \xe0 vontade para criar seus pr\xf3prios objetivos. Al\xe9m disso, no final de cada \ud83d\uddd3\ufe0f ESTA\xc7\xc3O, que dura tr\xeas meses, tanto indiv\xedduos quanto povoados ser\xe3o classificados, e as melhores posi\xe7\xf5es geram riqueza adicional. Sua propriedade, todas as suas habilidades, e parte de sua riqueza ir\xe3o se transferir para a pr\xf3xima Esta\xe7\xe3o.","9013":"Plante, produza, troque, explore, lute e divirta-se!","9014":"Como Ganhar Dinheiro","9020":"Existem algumas maneiras de ganhar \ud83d\udcb0 DINHEIRO.","9021":"Ao come\xe7ar, abra o \ud83d\udce5 BARRACA DE TROCA, que voc\xea encontrar\xe1 no canto superior esquerdo de sua Propriedade. Aqui, voc\xea pode vender mercadorias, incluindo colheitas e artesanatos.","9022":"A \ud83d\udce5 BARRACA DE TROCA comprar\xe1 mercadorias de voc\xea a 25% de seu valor. Para maximizar seus ganhos, voc\xea deve negociar com outros jogadores. Eles ter\xe3o coisas que voc\xea precisa, e vice-versa.","9023":"Conforme avan\xe7a, voc\xea poder\xe1 viajar para a CIDADE usando o \u23ea MARCO. L\xe1, voc\xea encontrar\xe1 lugares como o BANCO, que comprar\xe1 itens espec\xedficos de voc\xea por um pre\xe7o premium.","9024":"Gastando Dinheiro","9025":"Surpresa, a maioria das coisas custa Dinheiro. Inicialmente, voc\xea vai querer gastar dinheiro em \ud83d\udcaa HABILIDADES, \ud83d\udc2e ANIMAIS DE FAZENDA, e ESTA\xc7\xd5ES DE \u2692\ufe0f ARTESANATO. Explore os pain\xe9is no lado esquerdo da tela. Eles ir\xe3o ajud\xe1-lo a gerar mais recursos, o que por sua vez o ajudar\xe1 a ganhar mais Dinheiro.","9026":"Na CIDADE voc\xea descobrir\xe1 mais Lojas e Trocadores.","9027":"Benef\xedcios","9050":"Um Passe Gold d\xe1 acesso a recursos premium e benef\xedcios em Valley View durante a dura\xe7\xe3o de uma esta\xe7\xe3o.","9051":"Com um Passe Gold, voc\xea pode desfrutar dos seguintes benef\xedcios:","9052":"\u2705 Avatares premium: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9053":"\u2705 Capacidade de Armaz\xe9m virtualmente ilimitada","9054":"\u2705 Capacidade de Mochila virtualmente ilimitada","9055":"\u2705 2 slots adicionais de Barraca de Troca","9056":"\u2705 Taxa de Imposto mais baixa","9057":"\u2705 Metade do seu MaxHP restaurado na morte","9058":"\u2705 Voc\xea pode se candidatar a um cargo","9059":"Obrigado pela sua compra do Passe Gold.","9060":"Adquira um Passe Gold","9061":"\ud83d\udd0c Servidor Inativo","10000":"O servidor est\xe1 atualmente inativo. Pedimos desculpas pela inconveni\xeancia, por favor, volte em breve.","10001":"(Esta mensagem desaparecer\xe1 quando o servidor estiver de volta.)","10002":"STRINGS DO APP.JS:","10100":"Bem-vindo(a) a Valley View!","10101":"Por favor, fa\xe7a login ou crie uma conta gratuita.","10102":"\ud83c\udf92 Invent\xe1rio","10103":"\ud83d\uded2 Loja","10104":"\ud83d\udce8 Caixa de Entrada","10105":"\ud83d\udce2 Compartilhar","10106":"\ud83d\udcac Bate-papo","10107":"Voc\xea Possui um Passe Gold","10108":"\u2194\ufe0f Teclas de Movimento: ","10109":"\ud83d\udd79\ufe0f Como Jogar","10110":"Voc\xea \xe9 o Prefeito","10111":"\u2764\ufe0f\u200d\ud83e\ude79 Sa\xfade: ","10112":"\ud83d\uddd3\ufe0f \xc9","10113":"A Esta\xe7\xe3o Termina em:","10114":"\ud83d\uddd3\ufe0f Pr\xf3xima Esta\xe7\xe3o em:","10115":"\u23ea Ocorrendo Agora na Cidade:","10116":"\ud83d\udcb0 Pr\xf3xima Cobran\xe7a de Imposto:","10117":"Em: ","10118":"Agora coletando impostos...","10119":"\ud83c\udfdb\ufe0f Elei\xe7\xf5es: ","10120":"Termina: ","10121":"\ud83d\ude82 Comboio: ","10122":"\ud83c\udfe6 Banco: ","10123":"Novas Ofertas: ","10124":"Leia as Not\xedcias!","10125":"Quem est\xe1 aqui:","10126":"N\xe3o h\xe1 PCs presentes na grelha.","10127":"Guardar Altera\xe7\xf5es","10128":"","10129":"Tem um Passe Dourado","10130":"Benef\xedcios do Passe Dourado","10131":"Cancelar Realoca\xe7\xe3o","10132":"Realocar Casebre","10133":"CORDAS ADICIONADAS:","11000":"Aguarde o t\xe9rmino do temporizador ou outro jogador comprar este item.","11001":"Fazenda","12001":"Construir","12002":"Comprar Animais e Decora\xe7\xf5es","12003":"Miss\xf5es Ativas","12004":"Habilidades","12005":"Combate","12006":"Governo","12007":"Esta\xe7\xf5es","12008":"Casa","12009":"Perfil","12010":"Pontos de Vida","hp":"Pontos de Vida M\xe1ximos","maxhp":"Alcance","range":"Alcance de Ataque","attackrange":"B\xf4nus de Ataque","attackbonus":"Dano","damage":"Velocidade de Ataque","speed":"Est\xe1 Acampando","iscamping":"Classe de Armadura","armorclass":"Capacidade da Mochila","backpackCapacity":"Capacidade do Armaz\xe9m"}'),d=JSON.parse('{"0":"\u0414\u043e\u043b\u0438\u043d\u0430","1":"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d.","3":"\ud83d\ude9c \u0417\u0435\u043c\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u0441\u043f\u0430\u0445\u0430\u043d\u0430.","4":"\u26a0\ufe0f \u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.","5":"\u2692\ufe0f \u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e.","6":"\ud83d\udcb0 \u041f\u0440\u043e\u0434\u0430\u043d\u044b \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b.","7":"\ud83c\udfe0 \u042d\u0442\u0430 \u0444\u0435\u0440\u043c\u0430 \u043d\u0435 \u0437\u0430\u0441\u0435\u043b\u0435\u043d\u0430.","8":"\ud83d\udeab \u042d\u0442\u0430 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u0430 \u043a \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044e.","9":"\u0414\u043e\u043b\u0438\u043d\u0430 \u043f\u043e\u043b\u043d\u0430 \u0447\u0443\u0434\u0435\u0441 \u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0430 \u043f\u0435\u0448\u043a\u043e\u043c.","10":"\ud83c\udfe0 \u0424\u0435\u0440\u043c\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f [username].","11":"\ud83c\udfe0 \u0424\u0435\u0440\u043c\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430.","12":"\u0412\u0438\u0434 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0413\u043e\u0440\u043e\u0434.","13":"\u0412\u0438\u0434 \u043d\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u0443.","14":"\ud83d\ude82 \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0433\u043e\u0440\u043e\u0434.","15":"\ud83d\udc34 \u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0432\u043b\u0430\u0434\u0435\u0442\u044c \u043d\u0430\u0432\u044b\u043a\u043e\u043c \u0412\u0435\u0440\u0445\u043e\u0432\u043e\u0439 \u0435\u0437\u0434\u044b, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0441\u044e\u0434\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u043d\u0435\u043b\u044c \u043d\u0430\u0432\u044b\u043a\u043e\u0432 \ud83d\udcaa.","16":"\u0412\u044b \u0432 \u0434\u043e\u043b\u0438\u043d\u0435.","17":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0444\u0435\u0440\u043c\u044b \u0437\u0434\u0435\u0441\u044c.","18":"\ud83d\udeab \u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0439\u0442\u0438 \u044d\u0442\u0438\u043c \u043f\u0443\u0442\u0435\u043c.","19":"\ud83c\udf92 \u0414\u043b\u044f \u0441\u0431\u043e\u0440\u0430 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0432\u0434\u0430\u043b\u0438 \u043e\u0442 \u0432\u0430\u0448\u0435\u0439 \u0444\u0435\u0440\u043c\u044b \u0432\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0420\u044e\u043a\u0437\u0430\u043a. \u041a\u0443\u043f\u0438\u0442\u0435 \u0435\u0433\u043e \u0432 \u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0447\u0435\u0441\u043a\u043e\u043c \u043b\u0430\u0433\u0435\u0440\u0435.","20":"\ud83d\udeab \u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043c\u0435\u0441\u0442\u0430 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435.","21":"\ud83c\udf92 \u0412 \u0440\u044e\u043a\u0437\u0430\u043a\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043c\u0435\u0441\u0442\u0430. \u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c \u0440\u044e\u043a\u0437\u0430\u043a\u0430.","22":"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043a\u0443\u043f\u043b\u0435\u043d\u044b.","23":"\u26a0\ufe0f \u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u044d\u0442\u043e \u0437\u0434\u0435\u0441\u044c.","24":"\ud83c\udfaf \u0412\u043d\u0435 \u0437\u043e\u043d\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","25":"\ud83c\udf92 \u041d\u0438\u0447\u0435\u0433\u043e \u0432 \u0440\u044e\u043a\u0437\u0430\u043a\u0435.","26":"\ud83c\udf92 \u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u0444\u0435\u0440\u043c\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0443\u0441\u0442\u043e\u0448\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0440\u044e\u043a\u0437\u0430\u043a.","27":"\u26fa\ufe0f \u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0430\u043b\u0430\u0442\u043a\u0438.","28":"\u26fa\ufe0f \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u0432 \u043f\u0430\u043b\u0430\u0442\u043e\u0447\u043d\u043e\u043c \u043b\u0430\u0433\u0435\u0440\u0435.","29":"\u26a0\ufe0f \u26fa\ufe0f \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u0431\u0438\u0432\u043a\u0435 \u043f\u0430\u043b\u0430\u0442\u043a\u0438 / \u0443\u0431\u043e\u0440\u043a\u0435 \u043f\u0430\u043b\u0430\u0442\u043a\u0438.","30":"\u26fa\ufe0f \u0412\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0432 \u043b\u0430\u0433\u0435\u0440\u0435.","31":"\u26fa\ufe0f \u041d\u0435\u043b\u044c\u0437\u044f \u0430\u0442\u0430\u043a\u043e\u0432\u0430\u0442\u044c, \u043d\u0430\u0445\u043e\u0434\u044f\u0441\u044c \u0432 \u043b\u0430\u0433\u0435\u0440\u0435.","32":"\u26fa\ufe0f \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0443\u0431\u0440\u0430\u0442\u044c \u043f\u0430\u043b\u0430\u0442\u043a\u0443.","33":"\ud83d\udce6 \u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043d\u0430 \u0441\u043a\u043b\u0430\u0434.","34":"\ud83c\udf92 \u041e\u043f\u0443\u0441\u0442\u043e\u0448\u0435\u043d \u0440\u044e\u043a\u0437\u0430\u043a.","35":"\u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e ","36":"\u0412\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 ","50":"\ud83d\udeab \u042d\u0442\u043e \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442\u043e.","70":"\u0421\u0435\u0441\u0441\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u0430","71":"\u0412\u044b \u0434\u043e\u043b\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0438. \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0432\u0430\u0448\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438.","72":"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 30 \u0441\u0435\u043a\u0443\u043d\u0434, \u0435\u0441\u043b\u0438 \u0432\u044b \u044d\u0442\u043e\u0433\u043e \u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u0435\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441.","73":"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441","74":"\ud83c\udf92 \u0414\u043b\u044f \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u041f\u0430\u043b\u0430\u0442\u043a\u043e\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0420\u044e\u043a\u0437\u0430\u043a.","75":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0420\u044e\u043a\u0437\u0430\u043a\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0435\u0433\u043e \u0432 \u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0447\u0435\u0441\u043a\u043e\u043c \u043b\u0430\u0433\u0435\u0440\u0435 \u0432 \u0413\u043e\u0440\u043e\u0434\u0435.","76":"\u0412\u0430\u0448 \u0421\u043a\u043b\u0430\u0434 \u043f\u0443\u0441\u0442.","77":"\u0412\u0430\u0448 \u0440\u044e\u043a\u0437\u0430\u043a \u043f\u0443\u0441\u0442.","78":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u044e\u043a\u0437\u0430\u043a\u043e\u043c","90":"\ud83d\udeab \u042d\u0442\u043e \u043d\u0435 \u0432\u0430\u0448\u0430 \u0444\u0435\u0440\u043c\u0430.","99":"\u26a0\ufe0f \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.","100":"\u0421\u0422\u0420\u041e\u041a\u0418 \u041f\u0423\u0422\u0415\u0428\u0415\u0421\u0422\u0412\u0418\u042f:","101":"\ud83d\udc34 \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0434\u043e\u043c\u043e\u0439 ... \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.","102":"\ud83d\udc34 \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0432 \u0433\u043e\u0440\u043e\u0434... \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.","103":"\ud83d\udc34 \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044e... \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.","104":"\ud83d\udeab \u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0433\u043e\u0440\u043e\u0434\u0430.","105":"\u26a0\ufe0f \u041f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430.","106":"\ud83d\udeab \u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0437\u0430 \u043f\u0440\u0435\u0434\u0435\u043b\u044b \u0444\u0440\u043e\u043d\u0442\u0438\u0440\u0430.","110":"\u27a1\ufe0f \u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u043a \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044f\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f.","111":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0433\u043e\u0440\u043e\u0434.","112":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043c\u043e\u0439.","120":"\u0423 \u0432\u0430\u0441 \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432 \u043f\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435\u043c.","121":"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u043b\u0438 \u0441\u0432\u043e\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435.","122":"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u0434\u043e\u043b\u0438\u043d\u0443!","123":"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0435\u0445\u0430\u0442\u044c \u0432 \u0433\u043e\u0440\u043e\u0434!","124":"\u042d\u0442\u043e \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435 \u0437\u0430\u043d\u044f\u0442\u043e.","125":"\u041a\u0443\u0434\u0430 \u0432\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c\u0441\u044f?","130":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a:","131":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c","150":"\u0422\u041e\u0420\u0413\u041e\u0412\u042b\u0415 \u0421\u0422\u041e\u042f\u041d\u041a\u0418:","151":"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0439 \u0441\u0442\u0435\u043d\u0434 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430.","152":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0435\u043d\u0435\u0433, \u0447\u0442\u043e\u0431\u044b \u043a\u0443\u043f\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u0435\u0434\u043c\u0435\u0442.","153":"\u043f\u0440\u043e\u0434\u0430\u044e\u0442:","154":"\u043f\u0440\u043e\u0434\u0430\u044e\u0442","155":"\u0421\u0434\u0435\u043b\u043a\u0430 \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c. \u042d\u0442\u043e\u0442 \u043f\u0440\u0435\u0434\u043c\u0435\u0442 \u0443\u0436\u0435 \u043f\u0440\u043e\u0434\u0430\u043d.","200":"\u041a\u0412\u0415\u0421\u0422\u042b","201":"\u2705 \u041a\u0432\u0435\u0441\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d. \u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u0430\u0448\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u0430.","202":"\u2705 \u041a\u0432\u0435\u0441\u0442 \u043f\u0440\u0438\u043d\u044f\u0442.","203":"\u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u0432\u0435\u0441\u0442\u043e\u0432.","204":"\u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0432\u0430\u043c \u044d\u0442\u0438 \u043a\u0432\u0435\u0441\u0442\u044b:","205":"\u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043a\u0432\u0435\u0441\u0442\u043e\u0432.","206":"\u0412\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043a \u041d\u041f\u0421\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0434\u0430\u043b \u0432\u0430\u043c \u044d\u0442\u043e\u0442 \u043a\u0432\u0435\u0441\u0442, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u043d\u0430\u0433\u0440\u0430\u0434\u0443.","207":"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435","208":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u0443","209":"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u043a\u0432\u0435\u0441\u0442","299":"\u0421\u0422\u0420\u041e\u0418\u0422\u0415\u041b\u042c\u0421\u0422\u0412\u041e:","300":"\u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e","301":"\ud83d\ude9c \u0412\u0441\u043f\u0430\u0445\u0430\u043d\u043e","302":"\ud83d\ude9c \u041f\u043e\u0441\u0430\u0436\u0435\u043d\u043e","303":"\ud83d\ude9c \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043f\u043e\u0447\u0432\u0443","304":"\ud83d\ude9c \u0417\u0434\u0435\u0441\u044c \u043d\u0435\u043b\u044c\u0437\u044f \u0441\u0430\u0436\u0430\u0442\u044c","305":"\u26a0\ufe0f \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432","306":"\u26a0\ufe0f \u041d\u0435\u043b\u044c\u0437\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0437\u0434\u0435\u0441\u044c","310":"\u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0432\u0441\u043f\u0430\u0445\u0430\u0442\u044c \u0437\u0435\u043c\u043b\u044e \u0434\u043b\u044f \u043f\u043e\u0441\u0430\u0434\u043a\u0438.","311":"\u0412\u0430\u0448\u0438 \u0444\u0435\u0440\u043c\u0435\u0440\u0441\u043a\u0438\u0435 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043d\u0443\u0436\u0434\u0430\u0442\u044c\u0441\u044f \u0432 \u0431\u043e\u043b\u044c\u0448\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0442\u0440\u0430\u0432\u044b \u0434\u043b\u044f \u0432\u044b\u043f\u0430\u0441\u0430.","312":"\u0410\u0441\u0444\u0430\u043b\u044c\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u0435\u043d \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f \u0431\u043b\u0443\u0436\u0434\u0430\u044e\u0449\u0438\u0445 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445.","313":"","400":"\u041f\u041e\u041a\u0423\u041f\u041a\u0418, \u041a\u0420\u0410\u0424\u0422\u0418\u041d\u0413, \u041d\u0410\u0412\u042b\u041a\u0418, \u041b\u0415\u0427\u0415\u041d\u0418\u0415, \u0414\u0420\u0423\u0413\u041e\u0415.","401":"\u2764\ufe0f\u200d\ud83e\ude79 \u0412\u0430\u0448\u0438 \u043e\u0447\u043a\u0438 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u0443\u0436\u0435 \u043d\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0435.","402":"\u26a0\ufe0f \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.","403":"\u26a0\ufe0f \u0412\u0430\u0448 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c \u043f\u043e\u043b\u043e\u043d.","404":"\u0418\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430...","405":"\u2764\ufe0f\u200d\ud83e\ude79 \u041e\u0447\u043a\u0438 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u043d\u0430 +","410":"\ud83c\udfd5\ufe0f \u0427\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0443\u043f\u043b\u0435\u043d\u043d\u0443\u044e \u043f\u0430\u043b\u0430\u0442\u043a\u0443, \u0449\u0435\u043b\u043a\u043d\u0438\u0442\u0435 \u043f\u043e \u0441\u0432\u043e\u0435\u0439 \u0438\u043a\u043e\u043d\u043a\u0435 \u0438\u0433\u0440\u043e\u043a\u0430.","420":"\u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438:","421":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432:","422":"\u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:","423":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u0434\u0435\u043b\u043e\u043a.","424":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432.","425":"\u041f\u0440\u043e\u0434\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432.","426":"\u0414\u043e\u0440\u043e\u0433\u0438\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b, \u043d\u043e \u043d\u0430 \u0432\u0441\u044f\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439, \u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0430\u0442\u0441\u044f:","427":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435 \u041e\u043f\u0442\u043e\u0432\u044b\u0439 \u0441\u0431\u043e\u0440 \u0443\u043c\u0435\u043b\u044c\u0446\u0430 \u0444\u0435\u0440\u043c\u044b, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u0443\u0440\u043e\u0436\u0430\u0438 \u0441\u0440\u0430\u0437\u0443.","428":"\u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u0443\u0440\u043e\u0436\u0430\u0438.","429":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0443\u0440\u043e\u0436\u0430\u044f \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430.","430":"\u0423\u043c\u0435\u043d\u0438\u044f \u0443\u043c\u0435\u043b\u044c\u0446\u0430 \u0444\u0435\u0440\u043c\u044b:","431":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435 \u041e\u043f\u0442\u043e\u0432\u044b\u0439 \u0441\u0431\u043e\u0440 \u0443\u043c\u0435\u043b\u0438\u0446\u044b \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445 \u0441\u0440\u0430\u0437\u0443.","432":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435 \u041b\u0435\u0441\u043e\u043f\u0438\u043b\u044c\u0449\u0438\u043a\u0430 \u0443\u043c\u0435\u043b\u044c\u0446\u0430 \u0444\u0435\u0440\u043c\u044b, \u0447\u0442\u043e\u0431\u044b \u0441\u0440\u0443\u0431\u0430\u0442\u044c \u0441\u0440\u0430\u0437\u0443 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u0438 \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0443.","433":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438\u0442\u0435 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u0443\u044e \u043b\u0435\u0441\u043e\u043f\u0438\u043b\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0440\u0443\u0431\u0430\u0435\u043c\u044b\u0445 \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e.","434":"\u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445.","435":"\u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u0441\u0440\u0443\u0431\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u0438 \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0443.","436":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430.","437":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u0434\u043b\u044f \u0441\u0440\u0443\u0431\u043a\u0438.","500":"\u0421\u0422\u0420\u041e\u041a\u0418 \u0411\u041e\u0415\u0412:","501":"\ud83c\udfaf \u0412\u043d\u0435 \u0434\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438.","502":"\ud83c\udfaf \u041f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u0435!","503":"\u274c \u041f\u0440\u043e\u043c\u0430\u0445","504":"\ud83d\udc80 \u0423\u0431\u0438\u0442","505":"\u26a0\ufe0f \u041e\u0448\u0438\u0431\u043a\u0430","510":"\u2764\ufe0f\u200d\ud83e\ude79 \u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0443\u0440\u043e\u043d...","899":"\u0421\u0422\u0420\u041e\u041a\u0418 \u041e\u0422\u041b\u0410\u0414\u041a\u0418:","900":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c \u043e\u0447\u0438\u0449\u0435\u043d.","901":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u0432\u0435\u0441\u0442\u043e\u0432 \u043e\u0447\u0438\u0449\u0435\u043d\u0430.","902":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u0420\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b.","903":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u0421\u0435\u0442\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u0430.","904":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u041d\u0430\u0432\u044b\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b.","905":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u041d\u0430\u0432\u044b\u043a\u0438 \u0438 \u0441\u0438\u043b\u044b \u043e\u0447\u0438\u0449\u0435\u043d\u044b.","906":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430: \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0431\u043e\u044f.","999":"\u0421\u0422\u0420\u041e\u041a\u0418 \u041f\u0410\u041d\u0415\u041b\u0418 \u0418\u041d\u0422\u0415\u0420\u0424\u0415\u0419\u0421\u0410:","1000":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0443\u0436\u043d\u043e]","1001":"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c: \u0420\u0435\u0441\u0443\u0440\u0441\u044b, \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435, \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u044b \u043d\u0430 \u0441\u043a\u043b\u0430\u0434. \u0420\u0435\u0441\u0443\u0440\u0441\u044b, \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435 \u0438\u043b\u0438 \u0432 \u0434\u043e\u043b\u0438\u043d\u0435, \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u044b \u0432 \u0440\u044e\u043a\u0437\u0430\u043a. \u0414\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0440\u044e\u043a\u0437\u0430\u043a\u0430 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b \u041d\u0430\u0432\u044b\u043a\u0438. \u0420\u0430\u0431\u043e\u0447\u0438\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0440\u044e\u043a\u0437\u0430\u043a\u0430 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434 \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0441\u0432\u043e\u0435\u043c \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435.","1002":"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e: \u0421\u0442\u0440\u043e\u0439\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430 \u0441\u0432\u043e\u0435\u043c \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430.","1003":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043d\u044b\u0435 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 \u0438 \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u043d\u0430\u0447\u043d\u0443\u0442 \u0436\u0438\u0437\u043d\u044c \u043d\u0430 \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435.","1004":"\u0412\u0441\u043f\u0430\u0445\u0430\u0439\u0442\u0435 \u0437\u0435\u043c\u043b\u044e \u043a \u043f\u043e\u0447\u0432\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u044b. \u041f\u043e\u0441\u0430\u0434\u0438\u0442\u0435 \u0442\u0440\u0430\u0432\u0443, \u0447\u0442\u043e\u0431\u044b \u0434\u0430\u0442\u044c \u0444\u0435\u0440\u043c\u0435\u0440\u0441\u043a\u0438\u043c \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0435\u0441\u0442\u044c.","1005":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438\u0442\u0435 \u043d\u0430\u0432\u044b\u043a\u0438 \u0438 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0413\u043e\u0440\u043e\u0434, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0432\u044b\u043a\u043e\u0432 \u0438 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439.","1006":"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0432\u0441\u0435\u043c\u0438 \u0442\u0435\u043a\u0443\u0449\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u043c\u0438 \u0437\u0434\u0435\u0441\u044c. \u0418\u0449\u0438\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043d\u0430 \u0432\u0430\u0448\u0435\u043c \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0413\u043e\u0440\u043e\u0434\u0435 \u0438\u043b\u0438 \u0434\u0430\u0436\u0435 \u0432 \u0414\u043e\u043b\u0438\u043d\u0435.","1007":"\u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0432 \u0412\u044c\u044e \u0412\u0430\u043b\u043b\u0438 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f. \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043c\u044d\u0440 \u0432\u043d\u0435\u0434\u0440\u044f\u0435\u0442 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u0438 \u0441\u0442\u0440\u043e\u0438\u0442 \u0437\u0434\u0430\u043d\u0438\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043c\u043e\u0447\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \u043f\u0440\u043e\u0446\u0432\u0435\u0442\u0430\u0442\u044c.","1008":"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0439 \u043f\u0430\u0432\u0438\u043b\u044c\u043e\u043d: \u041f\u0440\u043e\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0438\u043b\u0438 \u043f\u043e\u043a\u0443\u043f\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0441 \u0438\u0445 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0432\u0438\u043b\u044c\u043e\u043d\u043e\u0432. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u0434\u043b\u044f \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u043c\u0435\u0436\u0434\u0443 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u043c\u0438 \u043f\u0430\u0432\u0438\u043b\u044c\u043e\u043d\u0430\u043c\u0438 \u0432 \u0432\u0430\u0448\u0435\u043c \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0438. \u0415\u0441\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u043d\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u044e\u0442 \u0432\u0430\u0448\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0434\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0442\u044c \u0438\u0445 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0434\u043e\u043b\u044e \u0438\u0445 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438.","1009":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0440\u0430\u0444\u0442\u0430]","1010":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u044f\u0449\u0438\u043a\u0430]","1011":"\u042d\u0442\u043e\u0442 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0439 \u0431\u0430\u0437\u0430\u0440 \u043f\u0443\u0441\u0442. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0443 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445 \u0435\u0441\u0442\u044c \u0442\u0440\u0430\u0432\u0430, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0438 \u043c\u043e\u0433\u043b\u0438 \u043f\u043e\u0435\u0441\u0442\u044c, \u0438 \u043e\u043d\u0438 \u0432 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u043c \u0438\u0442\u043e\u0433\u0435 \u043f\u0440\u0438\u0434\u0443\u0442 \u043d\u0430 \u0431\u0430\u0437\u0430\u0440 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430.","1012":"\u0412\u044b\u0431\u043e\u0440\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0442 \u0432 \u0431\u0443\u0434\u043a\u0435 \u0441\u0443\u0434\u044c\u0438. \u0417\u0434\u0435\u0441\u044c \u043c\u044d\u0440\u044b \u0438\u043c\u0435\u044e\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443 \u0438 \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435.","1013":" ","1014":" ","1015":"\u0418\u0433\u0440\u0430 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e \u043c\u0435\u043d\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u0435\u0437\u043e\u043d\u043e\u0432. \u041f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438 \u0441\u0435\u0437\u043e\u043d\u0430 \u0447\u0430\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u043e\u0433\u0430\u0442\u0441\u0442\u0432\u0430 \u0438 \u0440\u0435\u0434\u043a\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f. \u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438\u0442\u0435 \u0437\u043e\u043b\u043e\u0442\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435.","1016":"\u041f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u0431\u0430\u043d\u043a, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043d\u0430 \u0434\u0435\u043d\u044c\u0433\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0440\u0435\u0434\u043a\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0417\u043e\u043b\u043e\u0442\u043e \u0438 \u0421\u0435\u0440\u0435\u0431\u0440\u043e. \u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u0432 \u0431\u0430\u043d\u043a \u0437\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438.","1017":"","1018":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f]","1019":"\xa9 Valley View Studios, 2025, \u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b.","1021":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0435\u0437\u0434\u0430]","1022":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0444\u0435\u0440\u043c\u0435\u0440\u0430]","1023":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u043e\u044f]","1024":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430]","1025":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0430\u043d\u0435\u043b\u0438 \u0434\u0435\u043d\u0435\u0433]","1026":"\u042d\u0442\u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0417\u043e\u043b\u043e\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430.","1027":"[\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0430\u043d\u0435\u043b\u0438 \u0443\u043a\u0440\u0430\u0448\u0435\u043d\u0438\u0439]","1028":"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c","1101":"\u2692\ufe0f \u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c","1102":"\ud83d\uded2 \u041a\u0443\u043f\u0438\u0442\u044c","1103":"\ud83d\ude9c \u0424\u0435\u0440\u043c\u0435\u0440\u0441\u0442\u0432\u043e","1104":"\ud83d\udcaa \u041d\u0430\u0432\u044b\u043a\u0438","1105":"\u2753 \u041a\u0432\u0435\u0441\u0442\u044b","1106":"\ud83c\udfdb\ufe0f \u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e","1107":"\ud83d\udce5 \u041f\u0430\u043b\u0430\u0442\u043a\u0430 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438","1108":"\u0418\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435","1109":"\ud83d\udcea \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a","1110":"\ud83d\udc3e \u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435","1111":"\ud83c\udfdb\ufe0f \u0421\u0443\u0434","1112":"\u041f\u043e\u043c\u043e\u0449\u043d\u0438\u043a \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430","1113":"\ud83d\ude00 \u0418\u0433\u0440\u043e\u0432\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436","1114":"\ud83d\uddd3\ufe0f \u0421\u0435\u0437\u043e\u043d","1115":"\ud83d\udd01 \u0422\u043e\u0440\u0433\u043e\u0432\u0435\u0446","1116":"\ud83c\udfe6 \u0411\u0430\u043d\u043a","1117":"\ud83d\udd79\ufe0f \u041a\u0430\u043a \u0438\u0433\u0440\u0430\u0442\u044c","1118":"\ud83d\ude00 \u041f\u0440\u043e\u0444\u0438\u043b\u044c","1119":"\ud83d\udc1e \u041e\u0442\u043b\u0430\u0434\u043a\u0430","1120":"\ud83d\ude00 \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c","1121":"\ud83d\ude82 \u041f\u043e\u0435\u0437\u0434","1122":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e \u0424\u0435\u0440\u043c\u0435\u0440","1123":"\u2694\ufe0f \u0411\u043e\u0439","1124":"\ud83d\uded2 \u041c\u0430\u0433\u0430\u0437\u0438\u043d","1125":"\ud83d\udcb0 \u041e\u0431 \u043e\u0442 \u0434\u0435\u043d\u044c\u0433\u0430\u0445","1126":"\u2b50\ufe0f \u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043f\u0440\u043e\u043f\u0443\u0441\u043a","1127":"\ud83e\ude91 \u0423\u043a\u0440\u0430\u0448\u0435\u043d\u0438\u044f","1128":"\u0421\u0422\u0420\u041e\u041a\u0418 \u0418\u0421\u0422\u041e\u0420\u0418\u0418 \u0422\u041e\u0420\u0413\u041e\u0412\u0426\u0410","1200":"\u0410\u0445, \u043b\u0435\u0441 \u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u0432\u2026 \u0438 \u044f? \u0423\u043a\u0440\u0430\u043b \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e. \u042d\u0442\u0438 \u0414\u0440\u0430\u0433\u043e\u0446\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0435 \u043c\u043e\u0438, \u043d\u043e \u0443 \u0422\u0438\u0442\u0430\u043d\u0438\u0438 \u0438\u0445 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u043d\u0443\u0436\u043d\u043e. \u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0442\u043e, \u0447\u0442\u043e \u044f \u0436\u0430\u0436\u0434\u0443: \u041e\u043b\u0438\u0432\u043a\u043e\u0432\u044b\u0439 \u0425\u043b\u0435\u0431, \u0442\u0435\u043f\u043b\u044b\u0439 \u0438 \u0431\u043e\u0433\u0430\u0442\u044b\u0439. \u041e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u043e \u043c\u043d\u043e\u0439, \u0438 \u044f \u043c\u043e\u0433\u0443 \u0448\u0435\u043f\u043d\u0443\u0442\u044c \u0432\u0430\u043c \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043e \u0441\u0432\u0435\u0442\u044f\u0449\u0438\u0445\u0441\u044f \u0433\u043b\u0430\u0437\u0430\u0445 \u0432\u043e \u0442\u044c\u043c\u0435, \u043e \u043a\u0440\u044b\u043b\u044c\u044f\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0432\u0435\u0440\u043a\u0430\u044e\u0442 \u043d\u0430 \u0432\u043e\u0441\u0445\u043e\u0434\u0435 \u043b\u0443\u043d\u044b, \u0438 \u043e \u0434\u0440\u0430\u043a\u043e\u043d\u0430\u0445, \u0433\u043e\u0432\u043e\u0440\u044f\u0449\u0438\u0445 \u0437\u0430\u0433\u0430\u0434\u043a\u0430\u043c\u0438. \u041f\u0440\u0438\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u0438 \u0434\u0435\u0440\u0436\u0438\u0442\u0435 \u043a\u043b\u0438\u043d\u043e\u043a \u043f\u043e\u0434 \u0440\u0443\u043a\u043e\u0439.","1201":"\u041c\u043e\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u0430 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u0430, \u043a\u0430\u043a \u043c\u043e\u0440\u0435, \u043c\u043e\u044f \u043b\u044e\u0431\u043e\u0432\u044c \u0433\u043b\u0443\u0431\u043e\u043a\u0430\u2026 \u043d\u043e \u0435\u0433\u043e \u043d\u0435\u0442, \u0438 \u0432\u0441\u0435, \u0447\u0442\u043e \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c, \u2014 \u043f\u043e\u0440\u0442\u0440\u0435\u0442 \u0438 \u0431\u043e\u043b\u044c. \u0410\u043d\u0434\u0436\u0435\u043b\u043e \u0437\u0430\u0431\u0440\u0430\u043b \u0438 \u0442\u043e, \u0438 \u0434\u0440\u0443\u0433\u043e\u0435. \u041f\u0440\u0438\u043d\u0435\u0441\u0438\u0442\u0435 \u043c\u043d\u0435 \u043f\u043e\u0434\u043e\u0431\u0438\u0435 \u0420\u043e\u043c\u0435\u043e, \u0432\u044b\u0440\u0432\u0430\u043d\u043d\u043e\u0435 \u0438\u0437 \u043c\u043e\u0435\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u044b, \u0438 \u044f \u0434\u0430\u043c \u0432\u0430\u043c \u0422\u044e\u043b\u044c\u043f\u0430\u043d\u044b \u043a\u0440\u0430\u0441\u043d\u044b\u0435, \u043a\u0430\u043a \u043a\u0440\u043e\u0432\u044c, \u043f\u0440\u043e\u043b\u0438\u0442\u0430\u044f \u043d\u0430 \u043a\u0430\u043c\u043d\u044f\u0445 \u0412\u0435\u0440\u043e\u043d\u044b. \u041f\u0443\u0441\u0442\u044c \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 \u0431\u0430\u043b\u043a\u043e\u043d: \u0432\u044b \u0432\u043d\u0438\u0437\u0443, \u043d\u0435\u0441\u0443\u0449\u0438\u0435 \u043f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u0438\u0435.","1202":"\u0414\u0430\u0439\u0442\u0435 \u043c\u043d\u0435 \u0436\u0438\u0437\u043d\u044c, \u0434\u0430\u0439\u0442\u0435 \u043c\u043d\u0435 \u043b\u044e\u0431\u043e\u0432\u044c, \u043d\u043e \u043f\u0440\u0435\u0436\u0434\u0435 \u0432\u0441\u0435\u0433\u043e\u2026 \u0434\u0430\u0439\u0442\u0435 \u043c\u043d\u0435 \u041f\u043e\u0440\u0442\u0432\u0435\u0439\u043d! \u0412 \u043e\u0431\u043c\u0435\u043d \u043d\u0430 \u044d\u0442\u043e \u2014 \u0432\u0435\u0442\u043e\u0447\u043a\u0430 \u0427\u0430\u0431\u0440\u0435\u0446\u0430, \u0434\u043e\u0440\u043e\u0436\u0435 \u0437\u043e\u043b\u043e\u0442\u0430 \u0434\u043b\u044f \u043a\u043e\u0433\u043e-\u0442\u043e, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0439 \u043d\u0430\u0438\u0432\u043d\u043e\u0439 \u0415\u043b\u0435\u043d\u044b. \u0413\u043e\u0432\u043e\u0440\u0438\u0442, \u0447\u0442\u043e \u0438\u0449\u0435\u0442 \u043a\u043e\u0440\u043e\u043d\u044b \u0438 \u043b\u0435\u0433\u0435\u043d\u0434\u044b, \u0431\u0435\u0434\u043d\u044f\u0436\u043a\u0430. \u0410 \u044f? \u042f \u0438\u0449\u0443 \u043f\u043e\u043b\u043d\u044b\u0439 \u0436\u0438\u0432\u043e\u0442 \u0438 \u043c\u044f\u0433\u043a\u0438\u0439 \u0441\u043e\u043d. \'\u0422\u044b \u0442\u0430\u043a \u0442\u0443\u043f\u043e\u0433\u043e\u043b\u043e\u0432 \u0441 \u043f\u0438\u0442\u044c\u0435\u043c \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0441\u0430\u043a\u0430,\' \u2014 \u043a\u043e\u0433\u0434\u0430-\u0442\u043e \u043c\u043d\u0435 \u0433\u043e\u0432\u043e\u0440\u0438\u043b\u0438. \u0425\u0430! \u041e\u043d\u0438 \u043d\u0435 \u043e\u0448\u0438\u0431\u043b\u0438\u0441\u044c.","1203":"\u0412\u043e\u0442 \u0440\u043e\u0437\u043c\u0430\u0440\u0438\u043d, \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c \u2014 \u0438 \u043f\u0430\u0441\u043b\u0451\u043d, \u043d\u0430 \u043f\u0435\u0447\u0430\u043b\u044c. \u041c\u043e\u0438 \u0437\u0435\u043b\u044c\u044f \u043d\u0435 \u0434\u043b\u044f \u0442\u0440\u0443\u0441\u044b\u0445. \u0421 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u043b\u0438\u0441\u0442\u043e\u043c \u044f \u043c\u043e\u0433\u0443 \u0437\u0430\u043b\u0435\u0447\u0438\u0442\u044c \u0432\u0430\u0448\u0438 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u0438 \u0438\u043b\u0438 \u0437\u0430\u043f\u0443\u0442\u0430\u0442\u044c \u0432\u0430\u0448 \u044f\u0437\u044b\u043a. \'\u042f \u043f\u043e\u043c\u043d\u044e \u0430\u043f\u0442\u0435\u043a\u0430\u0440\u044f,\' \u0441\u043a\u0430\u0437\u0430\u043b \u043e\u0434\u043d\u0430\u0436\u0434\u044b \u043c\u0430\u043b\u044c\u0447\u0438\u043a, \u0438 \u0437\u0430\u043f\u043b\u0430\u0442\u0438\u043b \u0437\u0430 \u044d\u0442\u043e \u0446\u0435\u043d\u0443. \u041d\u043e \u0432\u044b? \u0412\u044b \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442\u0435 \u043c\u0443\u0434\u0440\u0435\u0435. \u041f\u0440\u0438\u043d\u0435\u0441\u0438\u0442\u0435 \u043c\u043d\u0435 \u0440\u0435\u0434\u043a\u0438\u0435 \u043a\u043e\u0440\u043d\u0438 \u0438 \u0433\u043e\u0440\u044c\u043a\u0438\u0435 \u0441\u0435\u043c\u0435\u043d\u0430, \u0438 \u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u044e \u0432\u0430\u043c \u0447\u0442\u043e-\u0442\u043e, \u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.","1204":"\u0427\u0442\u043e-\u0442\u043e \u0432\u0441\u0435 \u0435\u0449\u0451 \u0442\u043b\u0435\u0435\u0442. \u042f \u0447\u0443\u0432\u0441\u0442\u0432\u0443\u044e \u044d\u0442\u043e \u0432 \u043f\u043e\u0447\u0432\u0435. \u042f \u043a\u043e\u0433\u0434\u0430-\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b, \u043b\u044e\u0431\u0438\u043b, \u043f\u043e\u0442\u0435\u0440\u044f\u043b. \u0415\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0436\u0433\u043b\u0430 \u043c\u0435\u043d\u044f, \u043a\u0430\u043a \u043b\u0435\u0442\u043d\u0438\u0439 \u043c\u043e\u043b\u043d\u0438\u0435\u043d\u043e\u0441\u0435\u0446. \u0418 \u041b\u0435\u043e\u043d\u0442 \u0437\u0438\u043c\u043e\u0439 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u043b. \'\u041b\u0435\u0434\u0438 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0443\u043f\u043e\u0440\u043d\u043e \u043e\u0442\u0440\u0438\u0446\u0430\u0435\u0442,\' \u2014 \u0433\u043e\u0432\u043e\u0440\u0438\u043b\u0438 \u043e\u043d\u0438; \u043f\u0443\u0441\u0442\u044c \u0433\u043e\u0432\u043e\u0440\u044f\u0442. \u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u0441\u0442\u0440\u0435\u0442\u0438\u0442\u0435 \u0415\u043b\u0435\u043d\u0443, \u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u0440\u043e\u0437\u044b \u043f\u043e\u043c\u043d\u044f\u0442 \u0435\u0435 \u0438\u043c\u044f. \u0415\u0441\u043b\u0438 \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u041b\u0435\u043e\u043d\u0442\u0430, \u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u044f \u043d\u0435 \u0437\u0430\u0431\u044b\u043b \u0437\u0438\u043c\u0443.","1205":"\u041c\u043e\u044f \u0441\u043a\u043e\u0440\u0431\u044c \u2014 \u0441\u0442\u0430\u0442\u0443\u044f; \u043c\u043e\u043b\u0447\u0438\u0442, \u043d\u043e \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u043e\u043a\u043e\u0438\u0442\u0441\u044f. \u042f \u043f\u043e\u0433\u0440\u0435\u0431 \u043a\u0440\u043e\u043d\u0443 \u0432 \u0441\u043d\u0435\u0433 \u0432 \u0434\u0435\u043d\u044c, \u043a\u043e\u0433\u0434\u0430 \u0413\u0435\u0440\u0442\u0440\u0443\u0434\u0430 \u0432\u044b\u0431\u0440\u0430\u043b\u0430 \u0441\u0432\u043e\u0439 \u0441\u0430\u0434 \u043d\u0430\u0434\u043e \u043c\u043d\u043e\u0439. \'\u0423\u0445\u043e\u0434\u0438\u0442, \u043f\u0440\u0435\u0441\u043b\u0435\u0434\u0443\u0435\u043c\u044b\u0439 \u043c\u0435\u0434\u0432\u0435\u0434\u0435\u043c\'? \u041d\u0435\u0442, \u044f \u043f\u043e\u0431\u0435\u0436\u0430\u043b \u043e\u0442 \u0441\u0435\u0431\u044f \u0441\u0430\u043c\u043e\u0433\u043e. \u0422\u0435\u043f\u0435\u0440\u044c \u044f \u0436\u0434\u0443, \u0441\u0440\u0435\u0434\u0438 \u043a\u0430\u043c\u043d\u044f \u0438 \u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044f. \u041f\u0440\u0438\u043d\u0435\u0441\u0438\u0442\u0435 \u043c\u043d\u0435 \u0442\u043e, \u0447\u0442\u043e \u0431\u044b\u043b\u043e \u043a\u043e\u0433\u0434\u0430-\u0442\u043e \u043c\u043e\u0438\u043c, \u041a\u043e\u0440\u043e\u043d\u0443 \u041a\u043e\u0440\u043e\u043b\u044f, \u0438 \u044f \u0437\u0430\u043f\u043b\u0430\u0447\u0443 \u0417\u043e\u043b\u043e\u0442\u043e\u043c, \u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c \u0432\u0435\u0441 \u043f\u0430\u043c\u044f\u0442\u0438. \u041d\u043e \u043e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c: \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u043e\u043d\u044b \u043d\u0435\u0441\u0443\u0442 \u043f\u0440\u043e\u043a\u043b\u044f\u0442\u044c\u044f.","1206":"\u042d\u0442\u043e\u0442 \u043c\u043e\u0441\u0442 \u043c\u043e\u0439, \u043f\u043e \u0421\u0438\u043a\u043e\u0440\u0430\u043a\u0441, \u043c\u043e\u0435\u0439 \u043c\u0430\u0442\u0435\u0440\u0438.\' \u041f\u0440\u043e\u043f\u0441\u043f\u0435\u0440\u043e \u043f\u044b\u0442\u0430\u043b\u0441\u044f \u0443\u043a\u0440\u0430\u0441\u0442\u044c \u0435\u0433\u043e \u0437\u0430\u043a\u043b\u044f\u0442\u0438\u044f\u043c\u0438 \u0438 \u0443\u043b\u044b\u0431\u043a\u0430\u043c\u0438. \u0415\u0433\u043e \u043d\u0430\u0437\u044b\u0432\u0430\u043b\u0438 \u0437\u0432\u0435\u0440\u0435\u043c, \u043d\u043e \u044f \u2014 \u0438\u0437 \u0437\u0435\u043c\u043b\u0438 \u0438 \u0431\u0443\u0440\u0438, \u0440\u043e\u0436\u0434\u0435\u043d\u043d\u044b\u0439 \u0434\u043b\u044f \u0434\u0438\u043a\u043e\u0439 \u0438\u0441\u0442\u0438\u043d\u044b. \u042f \u043e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u044e \u043a\u043e\u0441\u0442\u0438 \u043d\u0430 \u0421\u0435\u0440\u0435\u0431\u0440\u043e, \u0437\u043d\u0430\u043a\u0438 \u043c\u0435\u0440\u0442\u0432\u044b\u0445 \u043d\u0430 \u043c\u043e\u043d\u0435\u0442\u044b \u0436\u0438\u0432\u044b\u0445. \u041d\u0435 \u043a\u0430\u0441\u0430\u0439\u0442\u0435\u0441\u044c \u043b\u0435\u0433\u043a\u043e\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0430 \u044d\u0442\u043e\u043c \u043b\u0435\u0441\u0443. \u041f\u0440\u0438\u043d\u0435\u0441\u0438\u0442\u0435 \u043c\u043d\u0435 \u0442\u043e, \u0447\u0435\u0433\u043e \u0431\u043e\u044f\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u0438\u0435, \u0438 \u044f \u0441\u0434\u0435\u043b\u0430\u044e \u0432\u0430\u0441 \u0431\u043e\u0433\u0430\u0442\u044b\u043c\u0438\u2026 \u0438\u043b\u0438 \u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c\u0438.","1207":"","1208":"\u041d\u0430\u0432\u044b\u043a\u0438 \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438:","1301":"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438:","1302":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043d\u0430\u0432\u044b\u043a\u0438:","1303":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:","1304":"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0430\u0432\u044b\u043a\u043e\u0432.","1305":"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439.","1306":"MODAL STRINGS","1400":"\u0411\u0410\u041d\u041a\u041e\u0412\u0421\u041a\u041e\u0415 \u041e\u041a\u041d\u041e","1401":"\u042d\u0442\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0445\u043e\u0440\u043e\u0448\u0438 \u0434\u043b\u044f","1402":"\u041a\u0443\u043f\u0438\u0442","1403":"\u0437\u0430","1404":"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0442.","1405":"\u041d\u043e\u0432\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432","1406":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0442\u0435\u0440\u043f\u0435\u043d\u0438\u0435.","1407":"\u26a0\ufe0f \u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432.","1408":"\u26a0\ufe0f \u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043d\u0430\u0432\u044b\u043a\u043e\u0432.","1409":"\u26a0\ufe0f \u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439.","1410":"TOWN NEWS STRINGS:","1500":"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0434\u043b\u044f","1501":"\u0422\u0435\u043a\u0443\u0449\u0438\u043c \u043c\u044d\u0440\u043e\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f","1502":", \u0438 \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442","1503":"\u0412\u043e\u0442, \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435 \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441:","1504":"\u0418\u0434\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0431\u043e\u0440\u043e\u0432, \u0438 \u043d\u0430\u0447\u0430\u043b\u0430\u0441\u044c \u043f\u0440\u0435\u0434\u0432\u044b\u0431\u043e\u0440\u043d\u0430\u044f \u043a\u0430\u043c\u043f\u0430\u043d\u0438\u044f. \u0417\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u0420\u0430\u0442\u0443\u0448\u0443 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435, \u0447\u0442\u043e\u0431\u044b \u0431\u0430\u043b\u043b\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u043e\u0441\u0442 \u043c\u044d\u0440\u0430.","1505":"\u041f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043c\u044d\u0440\u0430. \u041e\u0442\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0432 \u0420\u0430\u0442\u0443\u0448\u0435 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435.","1506":"\u041f\u043e\u0435\u0437\u0434 \u043f\u0440\u0438\u0431\u044b\u0432\u0430\u0435\u0442, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044f \u043a\u0443\u043f\u0438\u0442\u044c:","1507":"\u041f\u043e\u0435\u0437\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f. \u041a\u043e\u0433\u0434\u0430 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f, \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c:","1508":"\u041f\u043e\u0435\u0437\u0434 \u0437\u0434\u0435\u0441\u044c, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044f \u043a\u0443\u043f\u0438\u0442\u044c:","1509":" ","1510":"\u041f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u0411\u0430\u043d\u043a, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u0430\u0442\u044c \u0437\u043e\u043b\u043e\u0442\u043e, \u0441\u0435\u0440\u0435\u0431\u0440\u043e \u0438 \u0431\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u044b. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0431\u0430\u043d\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442 \u0441\u0432\u043e\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f.","1511":"\u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0435\u0442 \u043c\u044d\u0440\u0430.","1512":"\u041f\u043e\u0435\u0437\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437","1513":"\u041a\u043e\u0433\u0434\u0430 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f, \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c:","1514":"\u0421\u0442\u0430\u0432\u043a\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442","1515":"\u0411\u0430\u043d\u043a \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0442:","1516":"\u041f\u043e\u0435\u0437\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437","1517":"\u0418\u0434\u0435\u0442 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0433\u043e\u043b\u043e\u0441\u043e\u0432 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u0432\u044b\u0431\u043e\u0440\u0430\u0445 \u043c\u044d\u0440\u0430. \u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0432","1518":"MAILBOX STRINGS:","1600":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439...","1601":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439.","1602":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e","1603":"\u0421\u043e\u0431\u0440\u0430\u0442\u044c","1604":"\u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0447\u0435\u0440\u0435\u0437 14 \u0434\u043d\u0435\u0439. \u041f\u043e\u043a\u0443\u043f\u043a\u0438 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b.","1605":"\ud83d\udcea \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a","1606":"\ud83d\uddd1\ufe0f \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e.","1607":"STORE STRINGS:","1700":"\ud83d\uded2 \u041c\u0430\u0433\u0430\u0437\u0438\u043d","1701":"\u041f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0432\u043e \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435.","1702":"\ud83d\ude4f \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443! \u041c\u044b - \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438, \u043d\u043e \u0441\u0442\u0440\u0430\u0441\u0442\u043d\u043e \u0441\u0442\u0440\u0435\u043c\u0438\u043c\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430.","1703":"\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0443\u043f\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u043c\u044b \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b.","1704":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2000":"\u2705 \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e","2002":"\ud83d\udce6 \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438:","2003":"\ud83c\udf81 \u041d\u0430\u0433\u0440\u0430\u0434\u044b \u0437\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432:","2004":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c","2005":"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437","2006":"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043e","2007":"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437","2008":"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043e \u0432\u0430\u043c\u0438:","2009":"\u041c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c:","2010":"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043e \u0434\u0440\u0443\u0433\u0438\u043c\u0438:","2011":"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e:","2012":"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043e \u0432\u0430\u043c\u0438:","2013":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0430\u043c \u0437\u0430 \u043e\u0434\u0438\u043d \u0440\u0430\u0437.","2014":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u043f\u043e\u0435\u0437\u0434\u043e\u043a","2015":"\u2705 \u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b! \u041d\u0430\u0433\u0440\u0430\u0434\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u043e \u043f\u043e\u0447\u0442\u0435.","2016":"\u041f\u043e\u0435\u0437\u0434","2020":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437","2030":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, \u041c\u044d\u0440.","2040":"\ud83d\udcb0 \u041d\u0430\u043b\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430: ","2041":"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u043e: ","2042":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","2043":"\u26a0\ufe0f \u0422\u043e\u043b\u044c\u043a\u043e \u041c\u044d\u0440 \u043c\u043e\u0436\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443.","2044":"\ud83d\uddf3\ufe0f \u0412\u044b\u0431\u043e\u0440\u044b","2045":"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0444\u0430\u0437\u0430:","2046":"\u0422\u0430\u0439\u043c\u0435\u0440 \u0444\u0430\u0437\u044b:","2047":"\ud83d\udce2 \u0418\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u044f","2048":"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0447\u043d\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437:","2060":"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437:","2061":"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u044a\u044f\u0432\u044f\u0442 \u0447\u0435\u0440\u0435\u0437:","2062":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043a\u0430\u043c\u043f\u0430\u043d\u0438\u044f \u043d\u0430\u0447\u043d\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437:","2063":"\ud83d\udce2 \u0418\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u044f","2070":"\u041d\u0438\u043a\u0442\u043e \u0435\u0449\u0435 \u043d\u0435 \u0434\u0430\u043b \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0435.","2071":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0435 (\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)...","2072":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0435","2073":"\u041e\u0442\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441","2074":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f.","2075":"\u0418\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0435:","2076":"\u0412\u044b \u0443\u0436\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b\u0438 \u043d\u0430 \u044d\u0442\u0438\u0445 \u0432\u044b\u0431\u043e\u0440\u0430\u0445.","2077":"\u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u043d\u0435 \u0431\u044b\u043b\u043e.","2078":"\u041a\u0430\u043a \u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0430\u0448 \u041c\u044d\u0440?","2079":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, \u041c\u044d\u0440.","2080":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f...","2081":"\u0412\u0430\u0448\u0435 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435:","2082":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043c\u044f","2083":"\u041f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u043f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \ud83c\udfdb\ufe0f, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u043c\u043e\u0447\u044c \u0441 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435\u043c \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0432\u044b\u0431\u043e\u0440\u0430\u0445.","2084":"\ud83c\udfe4 \u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f","2090":"\ud83c\udfeb \u0428\u043a\u043e\u043b\u044b: ","2092":"\ud83c\udfeb \u0428\u043a\u043e\u043b\u044b \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u044b.","2093":"\ud83c\udfe5 \u0411\u043e\u043b\u044c\u043d\u0438\u0446\u044b: ","2094":"\ud83c\udfe5 \u0411\u043e\u043b\u044c\u043d\u0438\u0446\u044b \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u044b.","2095":"\ud83d\udc3e \u041f\u0430\u0441\u0442\u0431\u0438\u0449\u0430 \u0434\u043b\u044f \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445: ","2096":"\ud83d\udc3e \u041f\u0430\u0441\u0442\u0431\u0438\u0449\u0430 \u0434\u043b\u044f \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u044b.","2097":"\ud83c\udfe4 \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438:","2098":"\ud83c\udfe4 \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u044b.","2099":"\u041f\u0410\u041d\u0415\u041b\u042c \u041e\u0412 \u0413\u041e\u0420:","3000":"\u041f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435:","3001":"\ud83d\ude0a \u041d\u0430\u0441\u0435\u043b.","3002":"\ud83d\udcb0 \u041d\u0430\u043b\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430:","3003":"\u0421\u0442\u0430\u0432\u043a\u0430 \u043d\u0430\u043b\u043e\u0433\u0430 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043c\u044d\u0440\u043e\u043c \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f, \u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u0441\u0435\u0445 \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043d\u0430\u043b\u043e\u0433\u043e\u0432 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0447\u0435\u0442 \u043c\u044d\u0440\u0430.","3004":"\u041c\u044d\u0440\u044b \u0438\u0437\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f \u0432 \u0440\u0430\u0442\u0443\u0448\u0435 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435.","3005":"\ud83c\udfdb\ufe0f \u0427\u0438\u043d\u043e\u0432\u043d\u0438\u043a\u0438 \u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","3006":"\u041f\u043e\u043a\u0430 \u043d\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0447\u0438\u043d\u043e\u0432\u043d\u0438\u043a\u0430 \u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430.","3007":"\u0422\u043e\u043b\u044c\u043a\u043e \u043c\u044d\u0440 \u043c\u043e\u0436\u0435\u0442 \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0448\u043a\u043e\u043b\u044b, \u0431\u043e\u043b\u044c\u043d\u0438\u0446\u044b \u0438 \u0437\u0432\u0435\u0440\u0438\u043d\u0446\u044b \u0432 \u0433\u043e\u0440\u043e\u0434\u0435.","3009":"\ud83c\udfeb \u0428\u043a\u043e\u043b\u044b \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0430\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u043d\u0430\u0432\u044b\u043a\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0433\u0434\u0435-\u043b\u0438\u0431\u043e \u0435\u0449\u0435.","3010":"\ud83c\udfe5 \u0411\u043e\u043b\u044c\u043d\u0438\u0446\u044b \u0438\u043c\u0435\u044e\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0434\u043e\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u0446\u0435\u043b\u044f\u0442\u044c \u0438\u0441\u043a\u0430\u0442\u0435\u043b\u0435\u0439, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0438\u0437 \u0434\u043e\u043b\u0438\u043d\u044b.","3011":"\ud83d\udc3e \u0417\u0432\u0435\u0440\u0438\u043d\u0446\u044b \u0441\u043d\u0430\u0431\u0436\u0430\u044e\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u0441\u043a\u043e\u0442\u043e\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0432 \u0445\u0443\u0442\u043e\u0440\u0430 \u043b\u044e\u0431\u044b\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u043c.","3012":"\ud83d\ude82 \u041c\u044d\u0440 \u043c\u043e\u0436\u0435\u0442 \u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u0441\u043f\u0440\u043e\u0441 \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b \u043d\u0430 \u043f\u043e\u0435\u0437\u0434\u0435.","3013":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0436\u0443\u0440\u043d\u0430\u043b\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432","3020":"","3021":"","3022":"","3023":"","3024":"\u041f\u0410\u041d\u0415\u041b\u042c \u0412\u0425\u041e\u0414\u0410:","3025":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Valley View! \u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0443\u044e \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0430\u0442\u044c:","4000":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c","4001":"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","4002":"\u0423 \u0432\u0430\u0441 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.","4003":"\u0421 \u043d\u043e\u0432\u043e\u0439 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0432\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u043c \u0434\u043b\u044f \u043a\u0443\u043b\u044c\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0432 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438, \u0432 \u041f\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u044c\u0435, \u043f\u043e\u043b\u043d\u043e\u043c \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0439. \u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0436\u0434\u0435\u0442 \u0432\u0430\u0441 \u0432 \u0434\u043e\u043b\u0438\u043d\u0435.","4004":"\u041f\u0430\u0440\u043e\u043b\u044c","4005":"\u0412\u043e\u0439\u0442\u0438","4006":"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","4007":"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u044e \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0438\u0433\u0440\u0443. \u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442","4008":"\u041f\u0410\u041d\u0415\u041b\u042c \u041f\u0420\u041e\u0424\u0418\u041b\u042f:","4009":"\u041f\u0440\u0438\u0432\u0435\u0442,","4050":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:","4051":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c:","4052":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u044c\u044e","4053":"\u0421\u0442\u0430\u0442\u0443\u0441 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438:","4054":"\u0412\u044b\u0439\u0442\u0438","4055":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c","4056":"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0438\u0433\u0440\u043e\u043a\u0430:","4057":"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0445\u0443\u0442\u043e\u0440\u0430","4058":"\u041e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f:","4059":"\u041f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f.","4060":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","4061":"\u042f\u0437\u044b\u043a:","4062":"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430:","4063":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440","4064":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0432\u0445\u043e\u0434\u0443","4065":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u0437\u044b\u043a","4066":"\u0414\u041e\u041f\u041e\u041b\u041d\u0418\u0422\u0415\u041b\u042c\u041d\u042b\u0415 \u041c\u041e\u0414\u0410\u041b\u042c\u041d\u042b\u0415 \u0421\u0422\u0420\u041e\u041a\u0418:","4067":"\ud83d\udc80 \u0412\u044b \u0443\u043c\u0435\u0440\u043b\u0438.","5000":"\u0412\u044b \u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c \u0434\u043e\u043c\u043e\u0439. \u0412\u0441\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0432 \u0440\u044e\u043a\u0437\u0430\u043a\u0435 \ud83c\udf92 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b.","5001":"\u0411\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u0435\u0435 \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437.","5002":"\ud83d\ude00 \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Valley View\u2122","5003":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0443\u044e \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c.","5005":"\xa9 Valley View Studios, 2025, \u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b.","5006":"\ud83d\udce8 \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435","5007":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439","5010":"\ud83d\uded2 \u041c\u0430\u0433\u0430\u0437\u0438\u043d","5011":"\u041f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a. \u041c\u044b \u043d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u043e\u0437\u0432\u0440\u0430\u0442. \u0412\u0441\u0435 \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438.","5015":"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044f \u043e\u0447\u0438\u0449\u0430\u044e\u0442\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0435\u0437\u043e\u043d\u0430\u043c\u0438, \u043f\u043e\u044d\u0442\u043e\u043c\u0443, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0435\u0437\u043e\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u043f\u0435\u0440\u0435\u0434 \u043f\u043e\u043a\u0443\u043f\u043a\u043e\u0439, \u0438 \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u044c\u0442\u0435\u0441\u044c \u0441 \u043f\u0430\u043d\u0435\u043b\u044c\u044e \u0441\u0435\u0437\u043e\u043d\u043e\u0432 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.","5016":"\ud83d\udeab \u0412\u044b \u043d\u0435 \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443.","5017":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u0412\u0445\u043e\u0434 \u0438\u043b\u0438 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c.","5020":"\ud83d\ude4f \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443!","5021":"\u0412\u0430\u0448\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0432\u0430\u0448 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a.","5025":"\u041f\u0440\u0438\u044f\u0442\u043d\u043e\u0439 \u0438\u0433\u0440\u044b \u0432 Valley View!","5026":"\ud83d\ude00 \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Valley View!","5027":"\u041d\u0438 \u043e\u0434\u0438\u043d \u0438\u0433\u0440\u043e\u043a \u043d\u0435 \u0432\u043e\u0448\u0435\u043b \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d.","5030":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435.","5031":"\u041c\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0435\u0437\u043e\u043d\u0430\u043c\u0438!","5032":"\u0412 Valley View \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0438\u0437-\u0437\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0435\u0437\u043e\u043d\u0430.","5035":"\ud83d\udcf0 \u0413\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438","5036":"\u0412\u043e\u0442, \u0447\u0442\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435:","5040":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","5041":"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","5045":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c","5046":"\u26a0\ufe0f \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u0430\u0434\u044c\u0431\u044b","5047":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u0443\u0441\u0430\u0434\u044c\u0431\u0443? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.","5050":"\u0417\u0430\u043a\u0440\u043e\u0439\u0442\u0435 \u044d\u0442\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.","5051":"\u2b50\ufe0f \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c!","5052":"\u0423 \u0432\u0430\u0441 \u0442\u0435\u043f\u0435\u0440\u044c \u0435\u0441\u0442\u044c \u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u041f\u0440\u043e\u043f\u0443\u0441\u043a. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u043f\u0430\u043d\u0435\u043b\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044f, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043a\u043e\u043d\u043a\u0443 \u0438\u0433\u0440\u043e\u043a\u0430 \u0438 \u0443\u0437\u043d\u0430\u0442\u044c \u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0417\u043e\u043b\u043e\u0442\u043e\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430.","5060":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443!","5061":"\u041d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f","5062":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u0431\u043e\u0440\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432 \u043f\u043e\u043a\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442.","5100":"\ud83d\uddd3\ufe0f \u0414\u0430\u0442\u0430","5101":"\ud83d\udcb0 \u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0431\u0440\u0430\u043d\u043e","5102":"\u041c\u044d\u0440","5103":"\ud83d\udcb0 \u0414\u043e\u043b\u044f \u043c\u044d\u0440\u0430","5104":"\u041a\u0410\u041a \u0418\u0413\u0420\u0410\u0422\u042c: \u0421\u0422\u0420\u041e\u041a\u0418","5105":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Valley View!","5110":"\u041e \u0447\u0435\u043c \u044d\u0442\u043e?","8999":"Valley View - \u044d\u0442\u043e \u0438\u0433\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0438\u0441\u0441\u043b\u0435\u0434\u0443\u0435\u0442, \u043a\u0430\u043a \u043b\u044e\u0434\u0438 \u043c\u043e\u0433\u0443\u0442 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043c\u0438\u043a\u0440\u043e\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043c\u0438\u0440\u0435 \u0430\u0441\u0438\u043c\u043c\u0435\u0442\u0440\u0438\u0447\u043d\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438, \u0441 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438 \u0438 \u043e\u0431\u0449\u0438\u043c\u0438 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430\u043c\u0438.","9000":"\u0425\u043e\u0442\u044f \u043d\u0435\u0442 \u044f\u0432\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438, \u0435\u0441\u0442\u044c \u0442\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0432\u0435\u043a\u0442\u043e\u0440\u0430 \u0438\u0433\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0441\u0432\u044f\u0437\u0430\u043d\u044b. \u042d\u0442\u043e \u0424\u0415\u0420\u041c\u0415\u0420, \u041f\u0420\u0418\u041a\u041b\u042e\u0427\u0415\u041d\u0415\u0426 \u0438 \u041f\u041e\u041b\u0418\u0422\u0418\u041a. \u0412\u0430\u0441 \u043f\u043e\u0431\u0443\u0436\u0434\u0430\u044e\u0442 \u043e\u043f\u0438\u0440\u0430\u0442\u044c\u0441\u044f \u0434\u0440\u0443\u0433 \u043d\u0430 \u0434\u0440\u0443\u0433\u0430.","9001":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0441\u043d\u043e\u0432\u044b:","9002":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 A-W-S-D \u0434\u043b\u044f \u041f\u0415\u0420\u0415\u041c\u0415\u0429\u0415\u041d\u0418\u042f. \u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u043c\u0438\u0441\u044f \u0432 \u0440\u0430\u0434\u0438\u0443\u0441\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f.","9003":"\u0418\u0441\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \ud83d\ude9c \u0424\u0415\u0420\u041c\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u0415, \u2692\ufe0f \u0421\u0422\u0420\u041e\u0418\u0422\u0415\u041b\u042c\u0421\u0422\u0412\u041e \u0438 \ud83d\udc2e \u041f\u041e\u041a\u0423\u041f\u041a\u0423, \u0447\u0442\u043e\u0431\u044b \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u0443\u0441\u0430\u0434\u044c\u0431\u0443 \u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0441\u0443\u0440\u0441\u044b.","9004":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \ud83d\udcb0 \u0414\u0415\u041d\u042c\u0413\u0418 \u043d\u0430 \ud83d\udce5 \u0422\u041e\u0420\u0413\u041e\u0412\u041e\u0419 \u041f\u041b\u041e\u0429\u0410\u0414\u041a\u0415. \u0420\u0430\u0437\u043c\u0435\u0449\u0430\u0439\u0442\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u0445 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0447\u0430\u0441\u0442\u044c \u0438\u0445 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438.","9005":"\u0411\u043e\u043b\u044c\u0448\u0435:","9006":"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0431\u043e\u0433\u0430\u0442\u0441\u0442\u0432\u043e, \u0443\u043b\u0443\u0447\u0448\u0430\u0439\u0442\u0435 \u0441\u0435\u0431\u044f \u043d\u0430\u0432\u044b\u043a\u0430\u043c\u0438 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044f\u043c\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0430\u0439\u0442\u0435 \u043d\u0430\u0432\u044b\u043a \ud83d\udc34 \u0412\u0415\u0420\u0425\u0410\u0427\u0415\u0421\u0422\u0412\u0410, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f \u0432 \u0433\u043e\u0440\u043e\u0434.","9007":"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u044c\u0442\u0435 (- \u0438 +), \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0435\u043b\u0438\u043a \u043c\u0438\u0440. \u0412\u0430\u0448\u0430 \u0425\u0443\u0442\u043e\u0440 - \u043e\u0434\u0438\u043d \u0438\u0437 \u043c\u043d\u043e\u0433\u0438\u0445 \u0432 \u041f\u041e\u0421\u0415\u041b\u0415\u041d\u0418\u0418. \u041a\u0430\u0436\u0434\u043e\u0435 \u041f\u041e\u0421\u0415\u041b\u0415\u041d\u0418\u0415 \u0438\u043c\u0435\u0435\u0442 \u043e\u0431\u0449\u0438\u0439 \u0413\u041e\u0420\u041e\u0414. \u0412\u0430\u0448\u0435 \u041f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435 - \u043e\u0434\u043d\u043e \u0438\u0437 \u043c\u043d\u043e\u0433\u0438\u0445 \u043d\u0430 \u041f\u0415\u0420\u0418\u0424\u0415\u0420\u0418\u0418.","9008":"\u041a\u043e\u0433\u0434\u0430 \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0433\u043e\u0442\u043e\u0432\u044b, \u0438\u0441\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0414\u041e\u041b\u0418\u041d\u0423, \u043f\u043e\u043b\u043d\u0443\u044e \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0435\u0439 \u0438 \u0447\u0443\u0434\u0435\u0441. \u0422\u0430\u0439\u043d\u044b \u0432\u043e\u043b\u0448\u0435\u0431\u043d\u0438\u043a\u0430 \u041f\u0420\u041e\u0421\u041f\u0415\u0420\u041e \ud83e\uddd9\u200d\u2642\ufe0f \u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u043e\u043b\u044f \u041b\u0415\u041e\u041d\u0422\u0410 \ud83e\udd34, \u0441\u0440\u0435\u0434\u0438 \u043f\u0440\u043e\u0447\u0438\u0445, \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0414\u043e\u043b\u0438\u043d\u0435.","9009":"\u0412\u0430\u0448\u0438 \u0426\u0435\u043b\u0438:","9010":"\u041d\u0435 \u0441\u0442\u0435\u0441\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0446\u0435\u043b\u0438. \u0422\u0430\u043a\u0436\u0435, \u0432 \u043a\u043e\u043d\u0446\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \ud83d\uddd3\ufe0f \u0421\u0415\u0417\u041e\u041d\u0410, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043b\u0438\u0442\u0441\u044f \u0442\u0440\u0438 \u043c\u0435\u0441\u044f\u0446\u0430, \u043a\u0430\u043a \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0438\u0433\u0440\u043e\u043a\u0438, \u0442\u0430\u043a \u0438 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u043d\u0436\u0438\u0440\u043e\u0432\u0430\u043d\u044b, \u0438 \u043b\u0443\u0447\u0448\u0438\u0435 \u043c\u0435\u0441\u0442\u0430 \u043f\u0440\u0438\u043d\u043e\u0441\u044f\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0431\u043e\u0433\u0430\u0442\u0441\u0442\u0432\u043e. \u0412\u0430\u0448 \u0445\u0443\u0442\u043e\u0440, \u0432\u0441\u0435 \u0432\u0430\u0448\u0438 \u043d\u0430\u0432\u044b\u043a\u0438 \u0438 \u0447\u0430\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u043e\u0433\u0430\u0442\u0441\u0442\u0432\u0430 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0421\u0435\u0437\u043e\u043d.","9011":"\u0421\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u043e, \u0440\u0435\u043c\u0435\u0441\u043b\u043e, \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f, \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435, \u0431\u0438\u0442\u0432\u0430 \u0438 \u0443\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u0438\u0435!","9012":"\u041a\u0430\u043a \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438","9013":"\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \ud83d\udcb0 \u0414\u0415\u041d\u042c\u0413\u0418.","9014":"\u041a\u043e\u0433\u0434\u0430 \u0432\u044b \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0435, \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \ud83d\udce5 \u0422\u041e\u0420\u0413\u041e\u0412\u0423\u042e \u041b\u0410\u0412\u041a\u0423, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u043b\u0435\u0432\u043e\u043c \u0443\u0433\u043b\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u0425\u0443\u0442\u043e\u0440\u0430. \u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0443\u0440\u043e\u0436\u0430\u0439 \u0438 \u0438\u0437\u0434\u0435\u043b\u0438\u044f.","9020":"\ud83d\udce5 \u0422\u041e\u0420\u0413\u041e\u0412\u0410\u042f \u041b\u0410\u0412\u041a\u0410 \u0432\u044b\u043a\u0443\u043f\u0438\u0442 \u0442\u043e\u0432\u0430\u0440\u044b \u0443 \u0432\u0430\u0441 \u0437\u0430 25% \u043e\u0442 \u0438\u0445 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438. \u0427\u0442\u043e\u0431\u044b \u043c\u0430\u043a\u0441\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0442\u043e\u0440\u0433\u043e\u0432\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438. \u0423 \u043d\u0438\u0445 \u0431\u0443\u0434\u0435\u0442 \u0442\u043e, \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e, \u0438 \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442.","9021":"\u041f\u043e \u043c\u0435\u0440\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f \u0432 \u0413\u041e\u0420\u041e\u0414, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u23ea \u0423\u041a\u0410\u0417\u0410\u0422\u0415\u041b\u042c. \u0422\u0430\u043c \u0432\u044b \u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u043c\u0435\u0441\u0442\u0430, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0411\u0410\u041d\u041a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u043a\u0443\u043f\u0438\u0442 \u0443 \u0432\u0430\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043f\u043e \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u043d\u043e\u0439 \u0446\u0435\u043d\u0435.","9022":"\u0422\u0440\u0430\u0442\u044b \u0434\u0435\u043d\u0435\u0433","9023":"\u0423\u0434\u0438\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e, \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0432\u0435\u0449\u0435\u0439 \u0441\u0442\u043e\u044f\u0442 \u0414\u0435\u043d\u044c\u0433\u0438. \u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u0432\u0430\u043c \u0437\u0430\u0445\u043e\u0447\u0435\u0442\u0441\u044f \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438 \u043d\u0430 \ud83d\udcaa \u041d\u0410\u0412\u042b\u041a\u0418, \ud83d\udc2e \u0424\u0415\u0420\u041c\u0415\u0420\u0421\u041a\u0418\u0425 \u0416\u0418\u0412\u041e\u0422\u041d\u042b\u0425 \u0438 \u2692\ufe0f \u0420\u0410\u0411\u041e\u0427\u0418\u0415 \u041c\u0415\u0421\u0422\u0410 \u0414\u041b\u042f \u0420\u0415\u041c\u0415\u0421\u041b\u0410. \u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u043f\u0430\u043d\u0435\u043b\u0438 \u0432 \u043b\u0435\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u044d\u043a\u0440\u0430\u043d\u0430. \u041e\u043d\u0438 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u0432\u0430\u043c \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432, \u0447\u0442\u043e \u0432 \u0441\u0432\u043e\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0435\u043d\u0435\u0433.","9024":"\u0412 \u0413\u041e\u0420\u041e\u0414\u0415 \u0432\u044b \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432 \u0438 \u0422\u043e\u0440\u0433\u043e\u0432\u0446\u0435\u0432.","9025":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430","9026":"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0434\u0430\u0435\u0442 \u0432\u0430\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u0435\u043c\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c \u0438 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u043c \u0432 Valley View \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u0441\u0435\u0437\u043e\u043d\u0430.","9027":"\u0421 \u0417\u043e\u043b\u043e\u0442\u044b\u043c \u041f\u0440\u043e\u043f\u0443\u0441\u043a\u043e\u043c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u043b\u0430\u0436\u0434\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u043c\u0438:","9050":"\u2705 \u041f\u0440\u0435\u043c\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u044b: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9051":"\u2705 \u041f\u043e\u0447\u0442\u0438 \u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0421\u043a\u043b\u0430\u0434\u0430","9052":"\u2705 \u041f\u043e\u0447\u0442\u0438 \u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0420\u044e\u043a\u0437\u0430\u043a\u0430","9053":"\u2705 2 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u043b\u043e\u0442\u0430 \u0422\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u041b\u0430\u0432\u043a\u0438","9054":"\u2705 \u041d\u0438\u0436\u0435 \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430","9055":"\u2705 \u041f\u043e\u043b\u043e\u0432\u0438\u043d\u0430 \u0432\u0430\u0448\u0435\u0433\u043e MaxHP \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0441\u043c\u0435\u0440\u0442\u0438","9056":"\u2705 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0431\u0430\u043b\u043b\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c","9057":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u0417\u043e\u043b\u043e\u0442\u043e\u0433\u043e \u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0430.","9058":"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u041f\u0440\u043e\u043f\u0443\u0441\u043a","9059":"\ud83d\udd0c \u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d","9060":"\u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u0440\u0438\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u0432\u0438\u043d\u0435\u043d\u0438\u044f \u0437\u0430 \u043d\u0435\u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435.","9061":"(\u042d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0441\u0447\u0435\u0437\u043d\u0435\u0442, \u043a\u043e\u0433\u0434\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043d\u043e\u0432\u0430 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442.)","10000":"APP.JS \u0421\u0422\u0420\u041e\u041a\u0418:","10001":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Valley View!","10002":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0443\u044e \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c.","10100":"\ud83c\udf92 \u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c","10101":"\ud83d\uded2 \u041c\u0430\u0433\u0430\u0437\u0438\u043d","10102":"\ud83d\udce8, \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435","10103":"\ud83d\udce2 \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f","10104":"\ud83d\udcac \u0427\u0430\u0442","10105":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u041f\u0440\u043e\u043f\u0443\u0441\u043a","10106":"\u2194\ufe0f \u041a\u043b\u0430\u0432\u0438\u0448\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f:","10107":"\ud83d\udd79\ufe0f \u041a\u0430\u043a \u0438\u0433\u0440\u0430\u0442\u044c","10108":"\u0412\u044b \u043c\u044d\u0440","10109":"\u2764\ufe0f\u200d\ud83e\ude79 \u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435:","10110":"\ud83d\uddd3\ufe0f \u0421\u0435\u0439\u0447\u0430\u0441","10111":"\u0421\u0435\u0437\u043e\u043d \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437:","10112":"\ud83d\uddd3\ufe0f \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0441\u0435\u0437\u043e\u043d \u0447\u0435\u0440\u0435\u0437:","10113":"\u23ea \u041f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0441\u0435\u0439\u0447\u0430\u0441 \u0432 \u0413\u043e\u0440\u043e\u0434\u0435:","10114":"\ud83d\udcb0 \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0441\u0431\u043e\u0440 \u043d\u0430\u043b\u043e\u0433\u043e\u0432:","10115":"\u0412:","10116":"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0441\u0431\u043e\u0440 \u043d\u0430\u043b\u043e\u0433\u043e\u0432...","10117":"\ud83c\udfdb\ufe0f \u0412\u044b\u0431\u043e\u0440\u044b:","10118":"\u0417\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f:","10119":"\ud83d\ude82 \u041f\u043e\u0435\u0437\u0434: ","10120":"\ud83c\udfe6 \u0411\u0430\u043d\u043a: ","10121":"\u041d\u043e\u0432\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f: ","10122":"\u0427\u0438\u0442\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u0438!","10123":"\u041a\u0442\u043e \u0437\u0434\u0435\u0441\u044c:","10124":"\u0412 \u0441\u0435\u0442\u043a\u0435 \u043d\u0435\u0442 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432.","10125":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","10126":"","10127":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0437\u043e\u043b\u043e\u0442\u043e\u0439 \u0430\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442","10128":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0437\u043e\u043b\u043e\u0442\u043e\u0433\u043e \u0430\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442\u0430","10129":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0435\u0437\u0434","10130":"\u041f\u0435\u0440\u0435\u0435\u0445\u0430\u0442\u044c \u0434\u043e\u043c\u043e\u0439","10131":"\u0414\u041e\u0411\u0410\u0412\u041b\u0415\u041d\u041d\u042b\u0415 \u0421\u0422\u0420\u041e\u041a\u0418:","10132":"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u0442\u0430\u0439\u043c\u0435\u0440, \u0438\u043b\u0438 \u043f\u043e\u043a\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0438\u0433\u0440\u043e\u043a \u043d\u0435 \u043a\u0443\u043f\u0438\u0442 \u044d\u0442\u0443 \u0432\u0435\u0449\u044c.","10133":"\u0424\u0435\u0440\u043c\u0435\u0440\u0441\u0442\u0432\u043e","11000":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c","11001":"\u041a\u0443\u043f\u0438\u0442\u044c \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445 \u0438 \u0443\u043a\u0440\u0430\u0448\u0435\u043d\u0438\u044f","12001":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043a\u0432\u0435\u0441\u0442\u044b","12002":"\u041d\u0430\u0432\u044b\u043a\u0438","12003":"\u0411\u043e\u0439","12004":"\u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e","12005":"\u0421\u0435\u0437\u043e\u043d\u044b","12006":"\u0414\u043e\u043c","12007":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c","12008":"\u0425\u0438\u0442\u044b","12009":"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0445\u0438\u0442\u044b","12010":"\u0420\u0430\u0434\u0438\u0443\u0441","hp":"\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0442\u0430\u043a\u0438","maxhp":"\u0411\u043e\u043d\u0443\u0441 \u0430\u0442\u0430\u043a\u0438","range":"\u0423\u0440\u043e\u043d","attackrange":"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0430\u0442\u0430\u043a\u0438","attackbonus":"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u043a\u0435\u043c\u043f\u0438\u043d\u0433\u0435","damage":"\u0411\u0440\u043e\u043d\u0435\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441","speed":"\u0412\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u044e\u043a\u0437\u0430\u043a\u0430","iscamping":"\u0412\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043a\u043b\u0430\u0434\u0430"}'),u=JSON.parse('{"0":"Valley View","1":"Server is not running.","3":"\ud83d\ude9c Land successfully tilled.","4":"\u26a0\ufe0f You don\'t have enough resources.","5":"\u2692\ufe0f Construction completed successfully.","6":"\ud83d\udcb0 Items sold.","7":"\ud83c\udfe0 This homsetead is unoccupied.","8":"\ud83d\udeab This area is off limits.","9":"The Valley is full of wonders, and must be explored on foot.","10":"\ud83c\udfe0 [username]\'s homestead.","11":"\ud83c\udfe0 Unknown owner\'s homestead.","12":"Settlement view. Depending on your location, you may need to scroll to see the Town.","13":"Frontier view.","14":"\ud83d\ude82 Welcome to town.","15":"\ud83d\udc34 You need the Horseriding skill to travel here. Check your \ud83d\udcaa Skills panel.","16":"You\'re in the valley.","17":"You do not own a hometead here.","18":"\ud83d\udeab You can\'t go that way.","19":"\ud83c\udf92 You need a Backpack to collect resources away from your homestead. Buy one at the Adventure Camp.","20":"\ud83d\udeab Not enough room in the Warehouse.","21":"\ud83c\udf92 Not enough room in the Backpack. Open Inventory to manage Backpack contents.","22":"Items purchased.","23":"\u26a0\ufe0f You can\'t build that here.","24":"\ud83c\udfaf Out of range","25":"\ud83c\udf92 Nothing in the Backpack.","26":"\ud83c\udf92 You must be at your homestead to empty your Backpack.","27":"\u26fa\ufe0f You don\'t have a tent.","28":"\u26fa\ufe0f You are now camping.","29":"\u26a0\ufe0f \u26fa\ufe0f Failed to camp / decamp.","30":"\u26fa\ufe0f No longer camping.","31":"\u26fa\ufe0f Cannot attack while camping.","32":"\u26fa\ufe0f You need to decamp first.","33":"\ud83d\udce6 Moved items to the Warehouse.","34":"\ud83c\udf92 Emptied backpack.","35":"You need a ","36":"You used a ","50":"\ud83d\udeab That username is already taken.","70":"Session Expired","71":"You\'ve been away for a while. Refreshing ensures your session works properly.","72":"This page will auto-refresh in 30 seconds unless you do it now.","73":"\ud83d\udd04 Refresh Now","74":"\ud83c\udf92 A Backpack is required to own a Tent.","75":"You do not own a Backpack. You can purchase one at the Adventure Camp in Town.","76":"Your Warehouse is empty.","77":"Your Backpack is empty.","78":"Manage Backpack","90":"\ud83d\udeab This is not your homestead.","99":"\u26a0\ufe0f Something went wrong.","100":"TRAVELING STRINGS:","101":"\ud83d\udc34 Traveling home ... please wait.","102":"\ud83d\udc34 Traveling to town ... please wait.","103":"\ud83d\udc34 Traveling to the next location ... please wait.","104":"\ud83d\udeab No town in this settlement yet.","105":"\u26a0\ufe0f There was a problem trying to travel.","106":"\ud83d\udeab You cannot travel beyond the frontier.","110":"\u27a1\ufe0f Walk onto Signposts to use them","111":"Welcome to town.","112":"Welcome home.","120":"You don\'t have any homestead moves left.","121":"You have successfully moved your homestead.","122":"You cannot move to the valley!","123":"You cannot move to the town!","124":"That homestead is occupied.","125":"Where are you moving to?","150":"TRADE STALL STRINGS:","151":"You cannot fill another player\'s trade stall.","152":"You do not have enough money to buy this item.","153":"is selling:","154":"are selling","200":"QUESTS","201":"\u2705 Quest completed. You have your reward.","202":"\u2705 Quest accepted.","203":"No active quests at the moment.","204":"is offering these Quests:","205":"has no quests for you at this time.","206":"Return to collect your reward.","207":"In Progress","208":"Get Reward","209":"Accept Quest","299":"FARMING STRINGS:","300":"\u2705 Added","301":"\ud83d\ude9c Tilled","302":"\ud83d\ude9c Planted","303":"\ud83d\ude9c Must plant on dirt","304":"\ud83d\ude9c Can\'t plant here","305":"\u26a0\ufe0f Not enough resources","306":"\u26a0\ufe0f Can\'t build here","310":"You need to till the land for planting.","311":"Your farm animals will need plenty of grass to graze on.","312":"Pavement can be useful to control wandering animals.","313":"","400":"BUYING, CRAFTING, SKILLS, HEALING, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Already at maximum hit points.","402":"\u26a0\ufe0f  resources.","403":"\u26a0\ufe0f Youre inventory is full.","404":"Working...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Hit Points healed by +","410":"\ud83c\udfd5\ufe0f To use a purchased tent, click on your own player icon.","420":"will trade you:","421":"Used In:","422":"Base Value:","423":"No trades available.","424":"No recipes available.","425":"Sell for refund.","500":"COMBAT STRINGS","501":"\ud83c\udfaf Out of range.","502":"\ud83c\udfaf Hit!","503":"\u274c Miss","504":"\ud83d\udc80 Killed","505":"\u26a0\ufe0f Error","510":"\u2764\ufe0f\u200d\ud83e\ude79 You\'re taking damage ...","899":"DEBUG STRINGS:","900":"Debug: Inventory cleared.","901":"Debug: Quest history cleared.","902":"Debug: Resources added.","903":"Debug: Grid successfully reset.","904":"Debug: Skills added.","905":"Debug: Skills & Powers cleared.","906":"Debug: Combat Stats reset.","999":"PANEL UI STRINGS:","1000":"[Description needed]","1001":"Inventory: Resources collected at the Homestead will go into the warehouse. Resources collected in town or in the valley will go into the backpack. To buy a backpack, go to Skills. Crafting stations will only pull items from the warehouse. You can empty your backpack into the warehouse anytime you are on your Homestead.","1002":"Build: Build crafting stations on your Homestead using resources from your warehouse.","1003":"Purchased animals will appear at your player icon, and immediately begin life on the homestead.","1004":"Till land to dirt in order to plant crops. Plant grass to give farm animals something to graze on.","1005":"Acquire Skills and Upgrades to improve various attributes. Make sure to explore the Town to find additional places and ways to gain Skills and Upgrades.","1006":"Manage all of your ongoing quests here. Look for quest-giving characters on your homestead as well as Town, or even the Valley.","1007":"Governments in Valley View are formed at the settlement level. The elected mayor implements policies and builds buildings to help the community thrive.","1008":"Trade Stall: Sell your resources to other players or buy items from their trade stalls. Use the arrows to navigate between trade stalls within your Settlement. If no other players buy your items, you can always sell them to the game for 25% of their value.","1009":"[Crafting description]","1010":"[Mailbox description]","1011":"This Animal Stall is empty. Make sure animals have grass to eat, and they will eventually come to the stall for harvesting.","1012":"Elections take place in the Courthouse. Here, Mayors have the power to set the tax rate and rename the Settlement.","1013":" ","1014":" ","1015":"The game takes place over the course of continually changing seasons. At the end of a season, a portion of your wealth and rare items will carry over. Upgrade to a Gold account for more carry-over benefits.","1016":" ","1017":"Visit the Bank to exchange items for Money, including rare items like Gold and Silver. Return to the bank regulalry for different offers.","1018":"","1019":"[Profile description]","1021":"\xa9 Valley View Studios, 2025, All Rights Reserved.","1022":"[Train description]","1023":"[Farm hands description]","1024":"[Combat description]","1025":"[Shop description]","1026":"[Money panel description]","1027":"These are the benefits of a Gold Pass.","1028":" ","1101":"Inventory","1102":"\u2692\ufe0f Build","1103":"\ud83d\uded2 Buy","1104":"\ud83d\ude9c Farming","1105":"\ud83d\udcaa Skills","1106":"\u2753 Quests","1107":"\ud83c\udfdb\ufe0f Government","1108":"\ud83d\udce5 Trade Stall","1109":"Crafting","1110":"\ud83d\udcea Mailbox","1111":"\ud83d\udc3e Animals","1112":"\ud83c\udfdb\ufe0f Courthouse","1113":"Helper Character","1114":"\ud83d\ude00 Player Character","1115":"\ud83d\uddd3\ufe0f Season","1116":"\ud83d\udd01 Trader","1117":"\ud83c\udfe6 Bank","1118":"\ud83d\udd79\ufe0f How to Play","1119":"\ud83d\ude00 Profile","1120":"\ud83d\udc1e Debug","1121":"\ud83d\ude00 Welcome","1122":"\ud83d\ude82 Train","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Farm Hands","1124":"\u2694\ufe0f Combat","1125":"\ud83d\uded2 Shop","1126":"\ud83d\udcb0 About Money","1127":"\u2b50\ufe0f Gold Pass","1128":"\ud83e\ude91 Decorations","1200":"TRADER STORY STRINGS","1201":"Ah, the forest hides many secrets\u2026 and I? I\u2019ve stolen a few. These Gems, they\u2019re not mine, but Titania has more than she needs. You\u2019ve something I crave: Olive Bread, warm and rich. Trade with me, and I might whisper tales of glowing eyes in the dark, wings that shimmer at moonrise, and dragons that speak in riddles. Keep an ear open, and a dagger close.","1202":"My bounty is as boundless as the sea, my love as deep... but he is gone, and all that remains is a portrait and pain. Angelo took both. Bring me Romeo\u2019s likeness, torn from my chamber, and I\u2019ll give you Tulips red as the blood spilt on Verona\u2019s stones. Let this be our new balcony: you below, bearing justice.","1203":"Give me life, give me love, but most of all... give me Port! In exchange, a sprig of Feverfew, dearer than gold to some, especially that wide-eyed Helena. Says she\u2019s after crowns and legends, poor girl. Me? I\u2019m after a full belly and a gentle nap. \u2018Thou art so fat-witted with drinking of old sack,\u2019 they once told me. Ha! They were not wrong.","1204":"Here\u2019s rosemary, for remembrance\u2014and nightshade, for regrets. My potions are not for the faint of will. With the right leaf, I can mend your limbs or muddle your tongue. \u2018I do remember an apothecary,\u2019 said a boy once, and he paid the price. But you? You look wiser. Bring me rare roots and bitter seeds, and I\u2019ll mix you something worth the danger.","1205":"Something is rotten, still. I feel it in the soil. I once ruled, loved, lost. Helena burned through me like summer lightning. And Leontes? He could not forgive the thaw. \u2018The lady doth protest too much,\u2019 they said; let them. If you see Helena, tell her the roses know her name. If you see Leontes, tell him I have not forgotten the winter.","1206":"My grief is a statue; silent, but never still. I buried my crown in snow the day Gertrude chose her garden over me. \u2018Exit, pursued by a bear\u2019? No, I fled myself. Now I wait, among stone and silence. Bring me what was once mine, the King\u2019s Crown, and I\u2019ll pay in Gold, more than the weight of memory. But beware: some thrones carry curses.","1207":"This bridge is mine, by Sycorax my mother.\u2019 Prospero tried to steal it with spells and smiles. They called me beast, but I am of earth and storm, born to wild truth. I trade bones for Silver, tokens of the dead for coin of the living. Touch nothing lightly in these woods. Bring me what others fear, and I shall make you rich... or haunted.","1208":"","1301":"Skills to purchase:","1302":"Upgrades to purchase:","1303":"Skills you have:","1304":"Upgrades you have:","1305":"You have no skills yet.","1306":"You have no upgrades yet.","1400":"MODAL STRINGS","1401":"BANK MODAL","1402":"These offers good for","1403":"Will buy","1404":"for","1405":"No offers available.","1406":"New offers in","1407":"Generating new orders. Thank you for your patience.","1408":"\u26a0\ufe0f You don\'t have enough items.","1409":"\u26a0\ufe0f You don\'t have enough skills.","1410":"\u26a0\ufe0f You don\'t have enough upgrades.","1500":"TOWN NEWS STRINGS:","1501":"News for settlement","1502":"The current Mayor is","1503":", and the tax rate is","1504":"Here\'s what\'s happening in Town right now:","1505":"It\'s election season, and campaigning is in full swing. Stop by the Courthouse in Town to run for Mayor.","1506":"Voting for the next Mayor has begun. Cast your vote at the Courthouse in Town.","1507":"The Train is arriving, offering to buy:","1508":"The Train is departing. When it returns, it will be buying:","1509":"The Train is here, offering to buy:","1510":" ","1511":"Visit the Bank to sell gold, silver, and diamonds. The Bank is currently updating its offers.","1512":"There is currently no mayor. ","1513":"The Train is departing in","1514":"When it returns, it will be buying:","1515":"The tax rate is","1516":"The Bank is currently buying:","1517":"The Train will be departing in","1518":"The votes in the latest election for Mayor are being counted. Results expected in ","1600":"MAILBOX STRINGS:","1601":"Loading messages...","1602":"You have no messages.","1603":"Received","1604":"Collect","1605":"Most messages will be deleted afer 14 days. Store purchases will not be deleted.","1606":"\ud83d\udcea Mailbox","1607":"\ud83d\uddd1\ufe0f Message deleted.","1700":"STORE STRINGS:","1701":"\ud83d\uded2 Store","1702":"Purchases will be delivered to the Inbox.","1703":"\ud83d\ude4f Thank you for your support! We are a tiny developer with few resources, but passionate about creating a fun space for a positive community.","1704":"Please consider making purchases so we can continue to improve the game.","2000":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2002":"\u2705 Completed","2003":"\ud83d\udce6 Next Shipment Preview:","2004":"\ud83c\udf81 Rewards for filling all orders:","2005":"Click to fulfill","2006":"Your Order","2007":"Claimed","2008":"Claim Order","2009":"Claimed by you:","2010":"Available to claim:","2011":"Claimed by others:","2012":"Completed:","2013":"Claimed by you:","2020":"Train is","2030":"Offers Update in","2040":"Welcome, Mayor.","2041":"\ud83d\udcb0 Tax Rate: ","2042":"Proposed: ","2043":"Update","2044":"\u26a0\ufe0f Only the Mayor can set the tax rate.","2045":"\ud83d\uddf3\ufe0f Elections","2046":"Current Phase:","2047":"Phase Timer:","2048":"\ud83d\udce2 Campaign Promises","2060":"Voting begins in:","2061":"Voting ends in:","2062":"Voting has ended. Results announced in:","2063":"Next campaign begins in:","2070":"\ud83d\udce2 Campaign Promises","2071":"No one has made a campaign promise yet.","2072":"Enter your campaign promise (max 200 characters)...","2073":"Submit Campaign Promise","2074":"Cast Your Vote","2075":"No candidates available for voting.","2076":"Campaign promise:","2077":"You have already voted in this election.","2078":"There were no candidates.","2079":"How\'s your Mayor doing?","2080":"Welcome, Mayor.","2081":"Enter settlement name...","2082":"Your Settlement:","2083":"Update Name","2084":"Visit the \ud83c\udfdb\ufe0f Government Panel to view stats on how the settlement is doing, to help guide your election decision.","2090":"\ud83c\udfe4 Community Buildings","2092":"\ud83c\udfeb Schools: ","2093":"\ud83c\udfeb No Schools built yet.","2094":"\ud83c\udfe5 Hospitals: ","2095":"\ud83c\udfe5 No Hospitals built yet.","2096":"\ud83d\udc3e Animal Yards: ","2097":"\ud83d\udc3e No Animal Yards built yet.","2098":"\ud83c\udfe4 Libraries: ","2099":"\ud83c\udfe4 No Libraries built yet.","3000":"GOV PANEL:","3001":"Settlement:","3002":"\ud83d\ude0a Pop.","3003":"\ud83d\udcb0 Tax Rate:","3004":"The tax rate is set by the Mayor, for this Settlement, and a percentage of all taxes collected are added to the Mayor\'s account.","3005":"Mayors are elected at the Courthouse in Town.","3006":"\ud83c\udfdb\ufe0f Government Officials","3007":"No government officials elected yet.","3009":"Only the Mayor can build Schools, Hospitals and Animal Yards in the Town.","3010":"\ud83c\udfeb Schools give citizens access to certain Skills that cannot be gained elsewhere.","3011":"\ud83c\udfe5 Hospitals supply Doctors, who can heal adventurers returning from the Valley.","3012":"\ud83d\udc3e Animal Yards supply unique livestock, which can be transported back to Homesteads by any player.","3013":"\ud83d\ude82 The Mayor can influence demand for goods at the Train.","3020":"View Tax Log","3021":"","3022":"","3023":"","3024":"","3025":"","4000":"LOGIN PANEL:","4001":"Welcome to Valley View! Don\'t have an account yet? Create a free account to start playing:","4002":"Create Account","4003":"Username","4004":"You will not be asked for an email address.","4005":"With a new account, you\'ll be granted your own homestead to cultivate in a Settlement with other players, in a Frontier full of Settlements. Adventure awits you in the Valley.","4006":"Password","4007":"Login","4008":"Username","4009":"Login to your account to continue playing. If you don\'t have an","4050":"PROFILE PANEL:","4051":"Hi, ","4052":"Change Username:","4053":"Change Password:","4054":"Account Management","4055":"Account Status:","4056":"Logout","4057":"Delete Account","4058":"Player ID:","4059":"Homestead Relocation","4060":"Relocations Remaining:","4061":"Visit the Store to purchase more Relocations.","4062":"Settings","4063":"Language:","4064":"Range Indicator:","4065":"Change Avatar","4066":"Back to Login","4067":"Select Language","5000":"MORE MODAL STRINGS:","5001":"\ud83d\udc80 You have died.","5002":"You have been returned home. Any backpack \ud83c\udf92 items you had were lost.","5003":"Be more careful next time.","5005":"\ud83d\ude00 Welcome to Valley View\u2122","5006":"Please login, or create a free account.","5007":"\xa9 Valley View Studios, 2025, All Rights Reserved.","5010":"\ud83d\udce8 Inbox","5011":"You have no messages","5015":"\ud83d\uded2 Store","5016":"Purchases will be delivered to the Inbox. We are unable to offer returns. All purchases are final.","5017":"Be aware that most inventory items are wiped between seasons, so please check the season clock before purchasing, and see the seasons panel for more information.","5020":"\ud83d\udeab You are currently logged out.","5021":"Click the Login or Create Account button to begin.","5025":"\ud83d\ude4f Thank you for your support!","5026":"Your purchase has been delivered to your Inbox.","5027":"Enjoy Valley View!","5030":"\ud83d\ude00 Welcome to Valley View!","5031":"No player is logged in or the server is offline.","5032":"Please refresh the page, check your internet connetion, or return later.","5035":"We are between seasons!","5036":"Valley View is temporarily unavailable while we reset the season.","5040":"\ud83d\udcf0 Town News","5041":"Here\'s what\'s happening in Town right now:","5045":"Use ","5046":"Do you want to use a","5047":"You have ","5050":"\u26a0\ufe0f Confirm Homestead Move","5051":"Are you sure you want to move your homestead? This cannot be undone.","5052":"Close this dialog to cancel.","5060":"\u2b50\ufe0f Congratulations!","5061":"You now have a Gold Pass. Go to your Profile panel to customize your player icon, and discover other Gold benefits.","5062":"Thank you for your support!","5100":"Recent Tax Collections","5101":"No tax collection history available yet.","5102":"\ud83d\uddd3\ufe0f Date","5103":"\ud83d\udcb0 Total Collected","5104":"Mayor","5105":"\ud83d\udcb0 Mayor Take","5110":"","8999":"HOW TO PLAY STRINGS:","9000":"Welcome to Valley View!","9001":"What\u2019s it about?","9002":"Valley view is a game that explores how people might self organize and create micro societies in a world of asymmetric resources and interdependence, with both owned and shared spaces.","9003":"While there are no explicit specialization paths, there are three main vectors of play which are interdependent. These are: the FARMER, the ADVENTURER, and the POLITICIAN. You are encouraged to lean upon each other.","9004":"First, the basics:","9005":"Use A-W-S-D keys to MOVE. Click to interact with things that are within your interaction radius.","9006":"Explore \ud83d\ude9c FARMING, \u2692\ufe0f BUILD, and \ud83d\udc2e BUY to improve your Homestead and generate resources.","9007":"Generate \ud83d\udcb0 MONEY at the \ud83d\udce5 TRADE STALL. Post resources for sale to other players, or sell them to the game for partial value.","9008":"More:","9009":"As you create wealth, improve yourself with SKILLS and ABILITIES. For example, purchase the \ud83d\udc34 HORSERIDING SKILL to travel to TOWN.","9010":"Zoom out (- and +) to see how big the world is. Your Homestead is one of many in a SETTLEMENT. Each SETTLEMENT has a shared TOWN. Your Settlement is one of many in the FRONTIER.","9011":"When you are ready, explore the VALLEY, which is full of danger and wonders. The secrets of the wizard PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f and the lost king LEONTES \ud83e\udd34, among others, can be found in the Valley.","9012":"Your Goals:","9013":"Feel free to create your own goals. Also, at the end of each \ud83d\uddd3\ufe0f SEASON, which runs three months, both individuals and settlements will be ranked, and top placement generates additional wealth. Your homsestead, all of your skills, and some of your wealth will carry over into the next Season.","9014":"Farm, craft, trade, explore, fight, and enjoy!","9020":"How to Earn Money","9021":"There are a few ways to make \ud83d\udcb0 MONEY.","9022":"As you are getting started, open the \ud83d\udce5 TRADE STALL, which you will find in the upper left corner of your Homestead. Here, you can sell goods, including crops and crafts.","9023":"The \ud83d\udce5 TRADE STALL will buy goods from you at 25% of their value. To maximize your earnings, you should trade with other players. They will have things you need, and vice versa.","9024":"As you advance, you\'ll be able to travel into TOWN using the \u23ea SIGNPOST. There, you will find places like the BANK, which will buy specific items from you at a premium.","9025":"Spending Money","9026":"Surprise, most things cost Money. Initially, you will want to spend money on \ud83d\udcaa SKILLS, \ud83d\udc2e FARM ANIMALS, and \u2692\ufe0f CRAFTING STATIONS. Explore the panels at the left side of the screen. These will help you generate more resources, which in turn will help you earn more Money.","9027":"In TOWN you will disocver more Shops and Traders.","9050":"Benefits","9051":"A Gold Pass is a monthly subscription that gives you access to premium features and benefits in Valley View.","9052":"With a Gold Pass, you can enjoy the following benefits:","9053":"\u2705 Premium avatars: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9054":"\u2705 Near unlimited Warehouse capacity","9055":"\u2705 Near unlimited Backpack capacity","9056":"\u2705 2 additional Trade Stall slots","9057":"\u2705 Lower Tax rate","9058":"\u2705 Half your MaxHP restored on death","9059":"\u2705 You can run for office","9060":"Thank you for your Gold Pass purchase.","9061":"Purchase a Gold Pass","10000":"\ud83d\udd0c Server is Down","10001":"The server is currently down. We apologize for the inconvencient, please check back soon.","10002":"(This message will disappear when the server is back up.)","10100":"APP.JS STRINGS:","10101":"Welcome to Valley View!","10102":"Please login, or create a free account.","10103":"\ud83c\udf92 Inventory","10104":"\ud83d\uded2 Store","10105":"\ud83d\udce8, Inbox","10106":"\ud83d\udce2 Share","10107":"\ud83d\udcac Chat","10108":"You Have a Gold Pass","10109":"\u2194\ufe0f Move Keys: ","10110":"\ud83d\udd79\ufe0f How to Play","10111":"You are the Mayor","10112":"\u2764\ufe0f\u200d\ud83e\ude79 Health: ","10113":"\ud83d\uddd3\ufe0f It\'s","10114":"The Season Ends in:","10115":"\ud83d\uddd3\ufe0f Next Season in:","10116":"\u23ea Happening Now in Town:","10117":"\ud83d\udcb0 Next Tax Collection:","10118":"In: ","10119":"Now collecting taxes...","10120":"\ud83c\udfdb\ufe0f Elections: ","10121":"Ends: ","10122":"\ud83d\ude82 Train: ","10123":"\ud83c\udfe6 Bank: ","10124":"New Offers: ","10125":"Read the News!","10126":"Who\'s here:","10127":"No PCs present in the grid.","10128":"Save Changes","10129":"","10130":"You Have a Gold Pass","10131":"Gold Pass Benefits","10132":"Cancel Relocation","10133":"Relocate Homestead","hp":"Hit Points","maxhp":"Max Hit Points","range":"Range","attackrange":"Attack Range","attackbonus":"Attack Bonus","damage":"Damage","speed":"Attack Speed","iscamping":"Is Camping","armorclass":"Armor Class","backpackCapacity":"Backpack Capacity","warehouseCapacity":"Warehouse Capacity"}'),p=JSON.parse('{"0":"Valley View","1":"Server is not running.","3":"\ud83d\ude9c Land successfully tilled.","4":"\u26a0\ufe0f You don\'t have enough resources.","5":"\u2692\ufe0f Construction completed successfully.","6":"\ud83d\udcb0 Items sold.","7":"\ud83c\udfe0 This homsetead is unoccupied.","8":"\ud83d\udeab This area is off limits.","9":"The Valley is full of wonders, and must be explored on foot.","10":"\ud83c\udfe0 [username]\'s homestead.","11":"\ud83c\udfe0 Unknown owner\'s homestead.","12":"Settlement view. Depending on your location, you may need to scroll to see the Town.","13":"Frontier view.","14":"\ud83d\ude82 Welcome to town.","15":"\ud83d\udc34 You need the Horseriding skill to travel here. Check your \ud83d\udcaa Skills panel.","16":"You\'re in the valley.","17":"You do not own a hometead here.","18":"\ud83d\udeab You can\'t go that way.","19":"\ud83c\udf92 You need a Backpack to collect resources away from your homestead. Buy one at the Adventure Camp.","20":"\ud83d\udeab Not enough room in the Warehouse.","21":"\ud83c\udf92 Not enough room in the Backpack. Open Inventory to manage Backpack contents.","22":"Items purchased.","23":"\u26a0\ufe0f You can\'t build that here.","24":"\ud83c\udfaf Out of range","25":"\ud83c\udf92 Nothing in the Backpack.","26":"\ud83c\udf92 You must be at your homestead to empty your Backpack.","27":"\u26fa\ufe0f You don\'t have a tent.","28":"\u26fa\ufe0f You are now camping.","29":"\u26a0\ufe0f \u26fa\ufe0f Failed to camp / decamp.","30":"\u26fa\ufe0f No longer camping.","31":"\u26fa\ufe0f Cannot attack while camping.","32":"\u26fa\ufe0f You need to decamp first.","33":"\ud83d\udce6 Moved items to the Warehouse.","34":"\ud83c\udf92 Emptied backpack.","35":"You need a ","36":"You used a ","50":"\ud83d\udeab That username is already taken.","70":"Session Expired","71":"You\'ve been away for a while. Refreshing ensures your session works properly.","72":"This page will auto-refresh in 30 seconds unless you do it now.","73":"\ud83d\udd04 Refresh Now","74":"\ud83c\udf92 A Backpack is required to own a Tent.","75":"You do not own a Backpack. You can purchase one at the Adventure Camp in Town.","76":"Your Warehouse is empty.","77":"Your Backpack is empty.","78":"Manage Backpack","90":"\ud83d\udeab This is not your homestead.","99":"\u26a0\ufe0f Something went wrong.","100":"TRAVELING STRINGS:","101":"\ud83d\udc34 Traveling home ... please wait.","102":"\ud83d\udc34 Traveling to town ... please wait.","103":"\ud83d\udc34 Traveling to the next location ... please wait.","104":"\ud83d\udeab No town in this settlement yet.","105":"\u26a0\ufe0f There was a problem trying to travel.","106":"\ud83d\udeab You cannot travel beyond the frontier.","110":"\u27a1\ufe0f Walk onto Signposts to use them","111":"Welcome to town.","112":"Welcome home.","120":"You don\'t have any homestead moves left.","121":"You have successfully moved your homestead.","122":"You cannot move to the valley!","123":"You cannot move to the town!","124":"That homestead is occupied.","125":"Where are you moving to?","150":"TRADE STALL STRINGS:","151":"You cannot fill another player\'s trade stall.","152":"You do not have enough money to buy this item.","153":"is selling:","154":"are selling","200":"QUESTS","201":"\u2705 Quest completed. You have your reward.","202":"\u2705 Quest accepted.","203":"No active quests at the moment.","204":"is offering these Quests:","205":"has no quests for you at this time.","206":"Return to collect your reward.","207":"In Progress","208":"Get Reward","209":"Accept Quest","299":"FARMING STRINGS:","300":"\u2705 Added","301":"\ud83d\ude9c Tilled","302":"\ud83d\ude9c Planted","303":"\ud83d\ude9c Must plant on dirt","304":"\ud83d\ude9c Can\'t plant here","305":"\u26a0\ufe0f Not enough resources","306":"\u26a0\ufe0f Can\'t build here","310":"You need to till the land for planting.","311":"Your farm animals will need plenty of grass to graze on.","312":"Pavement can be useful to control wandering animals.","313":"","400":"BUYING, CRAFTING, SKILLS, HEALING, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Already at maximum hit points.","402":"\u26a0\ufe0f  resources.","403":"\u26a0\ufe0f Youre inventory is full.","404":"Working...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Hit Points healed by +","410":"\ud83c\udfd5\ufe0f To use a purchased tent, click on your own player icon.","420":"will trade you:","421":"Used In:","422":"Base Value:","423":"No trades available.","424":"No recipes available.","425":"Sell for refund.","500":"COMBAT STRINGS","501":"\ud83c\udfaf Out of range.","502":"\ud83c\udfaf Hit!","503":"\u274c Miss","504":"\ud83d\udc80 Killed","505":"\u26a0\ufe0f Error","510":"\u2764\ufe0f\u200d\ud83e\ude79 You\'re taking damage ...","899":"DEBUG STRINGS:","900":"Debug: Inventory cleared.","901":"Debug: Quest history cleared.","902":"Debug: Resources added.","903":"Debug: Grid successfully reset.","904":"Debug: Skills added.","905":"Debug: Skills & Powers cleared.","906":"Debug: Combat Stats reset.","999":"PANEL UI STRINGS:","1000":"[Description needed]","1001":"Inventory: Resources collected at the Homestead will go into the warehouse. Resources collected in town or in the valley will go into the backpack. To buy a backpack, go to Skills. Crafting stations will only pull items from the warehouse. You can empty your backpack into the warehouse anytime you are on your Homestead.","1002":"Build: Build crafting stations on your Homestead using resources from your warehouse.","1003":"Purchased animals will appear at your player icon, and immediately begin life on the homestead.","1004":"Till land to dirt in order to plant crops. Plant grass to give farm animals something to graze on.","1005":"Acquire Skills and Upgrades to improve various attributes. Make sure to explore the Town to find additional places and ways to gain Skills and Upgrades.","1006":"Manage all of your ongoing quests here. Look for quest-giving characters on your homestead as well as Town, or even the Valley.","1007":"Governments in Valley View are formed at the settlement level. The elected mayor implements policies and builds buildings to help the community thrive.","1008":"Trade Stall: Sell your resources to other players or buy items from their trade stalls. Use the arrows to navigate between trade stalls within your Settlement. If no other players buy your items, you can always sell them to the game for 25% of their value.","1009":"[Crafting description]","1010":"[Mailbox description]","1011":"This Animal Stall is empty. Make sure animals have grass to eat, and they will eventually come to the stall for harvesting.","1012":"Elections take place in the Courthouse. Here, Mayors have the power to set the tax rate and rename the Settlement.","1013":" ","1014":" ","1015":"The game takes place over the course of continually changing seasons. At the end of a season, a portion of your wealth and rare items will carry over. Upgrade to a Gold account for more carry-over benefits.","1016":" ","1017":"Visit the Bank to exchange items for Money, including rare items like Gold and Silver. Return to the bank regulalry for different offers.","1018":"","1019":"[Profile description]","1021":"\xa9 Valley View Studios, 2025, All Rights Reserved.","1022":"[Train description]","1023":"[Farm hands description]","1024":"[Combat description]","1025":"[Shop description]","1026":"[Money panel description]","1027":"These are the benefits of a Gold Pass.","1028":" ","1101":"Inventory","1102":"\u2692\ufe0f Build","1103":"\ud83d\uded2 Buy","1104":"\ud83d\ude9c Farming","1105":"\ud83d\udcaa Skills","1106":"\u2753 Quests","1107":"\ud83c\udfdb\ufe0f Government","1108":"\ud83d\udce5 Trade Stall","1109":"Crafting","1110":"\ud83d\udcea Mailbox","1111":"\ud83d\udc3e Animals","1112":"\ud83c\udfdb\ufe0f Courthouse","1113":"Helper Character","1114":"\ud83d\ude00 Player Character","1115":"\ud83d\uddd3\ufe0f Season","1116":"\ud83d\udd01 Trader","1117":"\ud83c\udfe6 Bank","1118":"\ud83d\udd79\ufe0f How to Play","1119":"\ud83d\ude00 Profile","1120":"\ud83d\udc1e Debug","1121":"\ud83d\ude00 Welcome","1122":"\ud83d\ude82 Train","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Farm Hands","1124":"\u2694\ufe0f Combat","1125":"\ud83d\uded2 Shop","1126":"\ud83d\udcb0 About Money","1127":"\u2b50\ufe0f Gold Pass","1128":"\ud83e\ude91 Decorations","1200":"TRADER STORY STRINGS","1201":"Ah, the forest hides many secrets\u2026 and I? I\u2019ve stolen a few. These Gems, they\u2019re not mine, but Titania has more than she needs. You\u2019ve something I crave: Olive Bread, warm and rich. Trade with me, and I might whisper tales of glowing eyes in the dark, wings that shimmer at moonrise, and dragons that speak in riddles. Keep an ear open, and a dagger close.","1202":"My bounty is as boundless as the sea, my love as deep... but he is gone, and all that remains is a portrait and pain. Angelo took both. Bring me Romeo\u2019s likeness, torn from my chamber, and I\u2019ll give you Tulips red as the blood spilt on Verona\u2019s stones. Let this be our new balcony: you below, bearing justice.","1203":"Give me life, give me love, but most of all... give me Port! In exchange, a sprig of Feverfew, dearer than gold to some, especially that wide-eyed Helena. Says she\u2019s after crowns and legends, poor girl. Me? I\u2019m after a full belly and a gentle nap. \u2018Thou art so fat-witted with drinking of old sack,\u2019 they once told me. Ha! They were not wrong.","1204":"Here\u2019s rosemary, for remembrance\u2014and nightshade, for regrets. My potions are not for the faint of will. With the right leaf, I can mend your limbs or muddle your tongue. \u2018I do remember an apothecary,\u2019 said a boy once, and he paid the price. But you? You look wiser. Bring me rare roots and bitter seeds, and I\u2019ll mix you something worth the danger.","1205":"Something is rotten, still. I feel it in the soil. I once ruled, loved, lost. Helena burned through me like summer lightning. And Leontes? He could not forgive the thaw. \u2018The lady doth protest too much,\u2019 they said; let them. If you see Helena, tell her the roses know her name. If you see Leontes, tell him I have not forgotten the winter.","1206":"My grief is a statue; silent, but never still. I buried my crown in snow the day Gertrude chose her garden over me. \u2018Exit, pursued by a bear\u2019? No, I fled myself. Now I wait, among stone and silence. Bring me what was once mine, the King\u2019s Crown, and I\u2019ll pay in Gold, more than the weight of memory. But beware: some thrones carry curses.","1207":"This bridge is mine, by Sycorax my mother.\u2019 Prospero tried to steal it with spells and smiles. They called me beast, but I am of earth and storm, born to wild truth. I trade bones for Silver, tokens of the dead for coin of the living. Touch nothing lightly in these woods. Bring me what others fear, and I shall make you rich... or haunted.","1208":"","1301":"Skills to purchase:","1302":"Upgrades to purchase:","1303":"Skills you have:","1304":"Upgrades you have:","1305":"You have no skills yet.","1306":"You have no upgrades yet.","1400":"MODAL STRINGS","1401":"BANK MODAL","1402":"These offers good for","1403":"Will buy","1404":"for","1405":"No offers available.","1406":"New offers in","1407":"Generating new orders. Thank you for your patience.","1408":"\u26a0\ufe0f You don\'t have enough items.","1409":"\u26a0\ufe0f You don\'t have enough skills.","1410":"\u26a0\ufe0f You don\'t have enough upgrades.","1500":"TOWN NEWS STRINGS:","1501":"News for settlement","1502":"The current Mayor is","1503":", and the tax rate is","1504":"Here\'s what\'s happening in Town right now:","1505":"It\'s election season, and campaigning is in full swing. Stop by the Courthouse in Town to run for Mayor.","1506":"Voting for the next Mayor has begun. Cast your vote at the Courthouse in Town.","1507":"The Train is arriving, offering to buy:","1508":"The Train is departing. When it returns, it will be buying:","1509":"The Train is here, offering to buy:","1510":" ","1511":"Visit the Bank to sell gold, silver, and diamonds. The Bank is currently updating its offers.","1512":"There is currently no mayor. ","1513":"The Train is departing in","1514":"When it returns, it will be buying:","1515":"The tax rate is","1516":"The Bank is currently buying:","1517":"The Train will be departing in","1518":"The votes in the latest election for Mayor are being counted. Results expected in ","1600":"MAILBOX STRINGS:","1601":"Loading messages...","1602":"You have no messages.","1603":"Received","1604":"Collect","1605":"Most messages will be deleted afer 14 days. Store purchases will not be deleted.","1606":"\ud83d\udcea Mailbox","1607":"\ud83d\uddd1\ufe0f Message deleted.","1700":"STORE STRINGS:","1701":"\ud83d\uded2 Store","1702":"Purchases will be delivered to the Inbox.","1703":"\ud83d\ude4f Thank you for your support! We are a tiny developer with few resources, but passionate about creating a fun space for a positive community.","1704":"Please consider making purchases so we can continue to improve the game.","2000":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2002":"\u2705 Completed","2003":"\ud83d\udce6 Next Shipment Preview:","2004":"\ud83c\udf81 Rewards for filling all orders:","2005":"Click to fulfill","2006":"Your Order","2007":"Claimed","2008":"Claim Order","2009":"Claimed by you:","2010":"Available to claim:","2011":"Claimed by others:","2012":"Completed:","2013":"Claimed by you:","2020":"Train is","2030":"Offers Update in","2040":"Welcome, Mayor.","2041":"\ud83d\udcb0 Tax Rate: ","2042":"Proposed: ","2043":"Update","2044":"\u26a0\ufe0f Only the Mayor can set the tax rate.","2045":"\ud83d\uddf3\ufe0f Elections","2046":"Current Phase:","2047":"Phase Timer:","2048":"\ud83d\udce2 Campaign Promises","2060":"Voting begins in:","2061":"Voting ends in:","2062":"Voting has ended. Results announced in:","2063":"Next campaign begins in:","2070":"\ud83d\udce2 Campaign Promises","2071":"No one has made a campaign promise yet.","2072":"Enter your campaign promise (max 200 characters)...","2073":"Submit Campaign Promise","2074":"Cast Your Vote","2075":"No candidates available for voting.","2076":"Campaign promise:","2077":"You have already voted in this election.","2078":"There were no candidates.","2079":"How\'s your Mayor doing?","2080":"Welcome, Mayor.","2081":"Enter settlement name...","2082":"Your Settlement:","2083":"Update Name","2084":"Visit the \ud83c\udfdb\ufe0f Government Panel to view stats on how the settlement is doing, to help guide your election decision.","2090":"\ud83c\udfe4 Community Buildings","2092":"\ud83c\udfeb Schools: ","2093":"\ud83c\udfeb No Schools built yet.","2094":"\ud83c\udfe5 Hospitals: ","2095":"\ud83c\udfe5 No Hospitals built yet.","2096":"\ud83d\udc3e Animal Yards: ","2097":"\ud83d\udc3e No Animal Yards built yet.","2098":"\ud83c\udfe4 Libraries: ","2099":"\ud83c\udfe4 No Libraries built yet.","3000":"GOV PANEL:","3001":"Settlement:","3002":"\ud83d\ude0a Pop.","3003":"\ud83d\udcb0 Tax Rate:","3004":"The tax rate is set by the Mayor, for this Settlement, and a percentage of all taxes collected are added to the Mayor\'s account.","3005":"Mayors are elected at the Courthouse in Town.","3006":"\ud83c\udfdb\ufe0f Government Officials","3007":"No government officials elected yet.","3009":"Only the Mayor can build Schools, Hospitals and Animal Yards in the Town.","3010":"\ud83c\udfeb Schools give citizens access to certain Skills that cannot be gained elsewhere.","3011":"\ud83c\udfe5 Hospitals supply Doctors, who can heal adventurers returning from the Valley.","3012":"\ud83d\udc3e Animal Yards supply unique livestock, which can be transported back to Homesteads by any player.","3013":"\ud83d\ude82 The Mayor can influence demand for goods at the Train.","3020":"View Tax Log","3021":"","3022":"","3023":"","3024":"","3025":"","4000":"LOGIN PANEL:","4001":"Welcome to Valley View! Don\'t have an account yet? Create a free account to start playing:","4002":"Create Account","4003":"Username","4004":"You will not be asked for an email address.","4005":"With a new account, you\'ll be granted your own homestead to cultivate in a Settlement with other players, in a Frontier full of Settlements. Adventure awits you in the Valley.","4006":"Password","4007":"Login","4008":"Username","4009":"Login to your account to continue playing. If you don\'t have an","4050":"PROFILE PANEL:","4051":"Hi, ","4052":"Change Username:","4053":"Change Password:","4054":"Account Management","4055":"Account Status:","4056":"Logout","4057":"Delete Account","4058":"Player ID:","4059":"Homestead Relocation","4060":"Relocations Remaining:","4061":"Visit the Store to purchase more Relocations.","4062":"Settings","4063":"Language:","4064":"Range Indicator:","4065":"Change Avatar","4066":"Back to Login","4067":"Select Language","5000":"MORE MODAL STRINGS:","5001":"\ud83d\udc80 You have died.","5002":"You have been returned home. Any backpack \ud83c\udf92 items you had were lost.","5003":"Be more careful next time.","5005":"\ud83d\ude00 Welcome to Valley View\u2122","5006":"Please login, or create a free account.","5007":"\xa9 Valley View Studios, 2025, All Rights Reserved.","5010":"\ud83d\udce8 Inbox","5011":"You have no messages","5015":"\ud83d\uded2 Store","5016":"Purchases will be delivered to the Inbox. We are unable to offer returns. All purchases are final.","5017":"Be aware that most inventory items are wiped between seasons, so please check the season clock before purchasing, and see the seasons panel for more information.","5020":"\ud83d\udeab You are currently logged out.","5021":"Click the Login or Create Account button to begin.","5025":"\ud83d\ude4f Thank you for your support!","5026":"Your purchase has been delivered to your Inbox.","5027":"Enjoy Valley View!","5030":"\ud83d\ude00 Welcome to Valley View!","5031":"No player is logged in or the server is offline.","5032":"Please refresh the page, check your internet connetion, or return later.","5035":"We are between seasons!","5036":"Valley View is temporarily unavailable while we reset the season.","5040":"\ud83d\udcf0 Town News","5041":"Here\'s what\'s happening in Town right now:","5045":"Use ","5046":"Do you want to use a","5047":"You have ","5050":"\u26a0\ufe0f Confirm Homestead Move","5051":"Are you sure you want to move your homestead? This cannot be undone.","5052":"Close this dialog to cancel.","5060":"\u2b50\ufe0f Congratulations!","5061":"You now have a Gold Pass. Go to your Profile panel to customize your player icon, and discover other Gold benefits.","5062":"Thank you for your support!","5100":"Recent Tax Collections","5101":"No tax collection history available yet.","5102":"\ud83d\uddd3\ufe0f Date","5103":"\ud83d\udcb0 Total Collected","5104":"Mayor","5105":"\ud83d\udcb0 Mayor Take","5110":"","8999":"HOW TO PLAY STRINGS:","9000":"Welcome to Valley View!","9001":"What\u2019s it about?","9002":"Valley view is a game that explores how people might self organize and create micro societies in a world of asymmetric resources and interdependence, with both owned and shared spaces.","9003":"While there are no explicit specialization paths, there are three main vectors of play which are interdependent. These are: the FARMER, the ADVENTURER, and the POLITICIAN. You are encouraged to lean upon each other.","9004":"First, the basics:","9005":"Use A-W-S-D keys to MOVE. Click to interact with things that are within your interaction radius.","9006":"Explore \ud83d\ude9c FARMING, \u2692\ufe0f BUILD, and \ud83d\udc2e BUY to improve your Homestead and generate resources.","9007":"Generate \ud83d\udcb0 MONEY at the \ud83d\udce5 TRADE STALL. Post resources for sale to other players, or sell them to the game for partial value.","9008":"More:","9009":"As you create wealth, improve yourself with SKILLS and ABILITIES. For example, purchase the \ud83d\udc34 HORSERIDING SKILL to travel to TOWN.","9010":"Zoom out (- and +) to see how big the world is. Your Homestead is one of many in a SETTLEMENT. Each SETTLEMENT has a shared TOWN. Your Settlement is one of many in the FRONTIER.","9011":"When you are ready, explore the VALLEY, which is full of danger and wonders. The secrets of the wizard PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f and the lost king LEONTES \ud83e\udd34, among others, can be found in the Valley.","9012":"Your Goals:","9013":"Feel free to create your own goals. Also, at the end of each \ud83d\uddd3\ufe0f SEASON, which runs three months, both individuals and settlements will be ranked, and top placement generates additional wealth. Your homsestead, all of your skills, and some of your wealth will carry over into the next Season.","9014":"Farm, craft, trade, explore, fight, and enjoy!","9020":"How to Earn Money","9021":"There are a few ways to make \ud83d\udcb0 MONEY.","9022":"As you are getting started, open the \ud83d\udce5 TRADE STALL, which you will find in the upper left corner of your Homestead. Here, you can sell goods, including crops and crafts.","9023":"The \ud83d\udce5 TRADE STALL will buy goods from you at 25% of their value. To maximize your earnings, you should trade with other players. They will have things you need, and vice versa.","9024":"As you advance, you\'ll be able to travel into TOWN using the \u23ea SIGNPOST. There, you will find places like the BANK, which will buy specific items from you at a premium.","9025":"Spending Money","9026":"Surprise, most things cost Money. Initially, you will want to spend money on \ud83d\udcaa SKILLS, \ud83d\udc2e FARM ANIMALS, and \u2692\ufe0f CRAFTING STATIONS. Explore the panels at the left side of the screen. These will help you generate more resources, which in turn will help you earn more Money.","9027":"In TOWN you will disocver more Shops and Traders.","9050":"Benefits","9051":"A Gold Pass is a monthly subscription that gives you access to premium features and benefits in Valley View.","9052":"With a Gold Pass, you can enjoy the following benefits:","9053":"\u2705 Premium avatars: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9054":"\u2705 Near unlimited Warehouse capacity","9055":"\u2705 Near unlimited Backpack capacity","9056":"\u2705 2 additional Trade Stall slots","9057":"\u2705 Lower Tax rate","9058":"\u2705 Half your MaxHP restored on death","9059":"\u2705 You can run for office","9060":"Thank you for your Gold Pass purchase.","9061":"Purchase a Gold Pass","10000":"\ud83d\udd0c Server is Down","10001":"The server is currently down. We apologize for the inconvencient, please check back soon.","10002":"(This message will disappear when the server is back up.)","10100":"APP.JS STRINGS:","10101":"Welcome to Valley View!","10102":"Please login, or create a free account.","10103":"\ud83c\udf92 Inventory","10104":"\ud83d\uded2 Store","10105":"\ud83d\udce8, Inbox","10106":"\ud83d\udce2 Share","10107":"\ud83d\udcac Chat","10108":"You Have a Gold Pass","10109":"\u2194\ufe0f Move Keys: ","10110":"\ud83d\udd79\ufe0f How to Play","10111":"You are the Mayor","10112":"\u2764\ufe0f\u200d\ud83e\ude79 Health: ","10113":"\ud83d\uddd3\ufe0f It\'s","10114":"The Season Ends in:","10115":"\ud83d\uddd3\ufe0f Next Season in:","10116":"\u23ea Happening Now in Town:","10117":"\ud83d\udcb0 Next Tax Collection:","10118":"In: ","10119":"Now collecting taxes...","10120":"\ud83c\udfdb\ufe0f Elections: ","10121":"Ends: ","10122":"\ud83d\ude82 Train: ","10123":"\ud83c\udfe6 Bank: ","10124":"New Offers: ","10125":"Read the News!","10126":"Who\'s here:","10127":"No PCs present in the grid.","10128":"Save Changes","10129":"","10130":"You Have a Gold Pass","10131":"Gold Pass Benefits","10132":"Cancel Relocation","10133":"Relocate Homestead","hp":"Hit Points","maxhp":"Max Hit Points","range":"Range","attackrange":"Attack Range","attackbonus":"Attack Bonus","damage":"Damage","speed":"Attack Speed","iscamping":"Is Camping","armorclass":"Armor Class","backpackCapacity":"Backpack Capacity","warehouseCapacity":"Warehouse Capacity"}'),m=JSON.parse('{"0":"Laakson\xe4kym\xe4","1":"Palvelin ei ole k\xe4ynniss\xe4.","3":"\ud83d\ude9c Maa on onnistuneesti muokattu.","4":"\u26a0\ufe0f Sinulla ei ole tarpeeksi resursseja.","5":"\u2692\ufe0f Rakennus on valmistunut onnistuneesti.","6":"\ud83d\udcb0 Tavarat myyty.","7":"\ud83c\udfe0 T\xe4m\xe4 tila on tyhj\xe4.","8":"\ud83d\udeab T\xe4m\xe4 alue on suljettu.","9":"Laakso on t\xe4ynn\xe4 ihmeit\xe4, ja se on tutkittava k\xe4vellen.","10":"\ud83c\udfe0 [k\xe4ytt\xe4j\xe4nimi]n tila.","11":"\ud83c\udfe0 Tuntemattoman omistajan tila.","12":"Kyl\xe4 n\xe4kym\xe4. Riippuen sijainnistasi, saattaa olla tarpeen vieritt\xe4\xe4 n\xe4hd\xe4ksesi kyl\xe4n.","13":"Rajan\xe4kym\xe4.","14":"\ud83d\ude82 Tervetuloa kaupunkiin.","15":"\ud83d\udc34 Tarvitset ratsastustaitoa p\xe4\xe4st\xe4ksesi t\xe4nne. Tarkista \ud83d\udcaa taitosivultasi.","16":"Olet laaksossa.","17":"Sinulla ei ole omaa tilaa t\xe4\xe4ll\xe4.","18":"\ud83d\udeab Et voi menn\xe4 tuota tiet\xe4.","19":"\ud83c\udf92 Tarvitset repun ker\xe4t\xe4ksesi resursseja poissa tilaltasi. Osta yksi Seikkailuleirilt\xe4.","20":"\ud83d\udeab Ei tarpeeksi tilaa varastossa.","21":"\ud83c\udf92 Ei tarpeeksi tilaa repussa. Avaa inventaario hallitaksesi repun sis\xe4lt\xf6\xe4.","22":"Tavaroita ostettu.","23":"\u26a0\ufe0f Et voi rakentaa t\xe4nne.","24":"\ud83c\udfaf Ei kantomatkan sis\xe4ll\xe4","25":"\ud83c\udf92 Ei mit\xe4\xe4n repussa.","26":"\ud83c\udf92 Sinun t\xe4ytyy olla kotona tyhjent\xe4\xe4ksesi repun.","27":"\u26fa\ufe0f Sinulla ei ole telttaa.","28":"\u26fa\ufe0f Olet nyt leiriytynyt.","29":"\u26a0\ufe0f \u26fa\ufe0f Leiriytymisess\xe4 / purkamisessa ep\xe4onnistuttiin.","30":"\u26fa\ufe0f Et en\xe4\xe4 leiriytynyt.","31":"\u26fa\ufe0f Ei voi hy\xf6k\xe4t\xe4 leiriytymisen aikana.","32":"\u26fa\ufe0f Sinun t\xe4ytyy purkaa leirin ensin.","33":"\ud83d\udce6 Siirretty tavaroita varastoon.","34":"\ud83c\udf92 Tyhjennetty reppu.","35":"Tarvitset ","36":"K\xe4ytit ","50":"\ud83d\udeab Kyseinen k\xe4ytt\xe4j\xe4nimi on jo varattu.","70":"Istunto vanhentunut","71":"Olet ollut poissa jonkin aikaa. P\xe4ivitt\xe4minen varmistaa, ett\xe4 istuntosi toimii kunnolla.","72":"T\xe4m\xe4 sivu p\xe4ivittyy automaattisesti 30 sekunnin kuluttua, ellei p\xe4ivit\xe4 sit\xe4 nyt.","73":"\ud83d\udd04 P\xe4ivit\xe4 nyt","74":"\ud83c\udf92 Reppu vaaditaan teltan omistamiseen.","75":"Sinulla ei ole reppua. Voit ostaa yhden Seikkailuleirilt\xe4 kaupungista.","76":"Varastosi on tyhj\xe4.","77":"Reppusi on tyhj\xe4.","78":"Hallitse reppua","90":"\ud83d\udeab T\xe4m\xe4 ei ole sinun tilasi.","99":"\u26a0\ufe0f Jotain meni pieleen.","100":"MATKUSTAMISMERKKIJONO:","101":"\ud83d\udc34 Matkustetaan kotiin... odota hetki.","102":"\ud83d\udc34 Matkalla kaupunkiin... odota hetki.","103":"\ud83d\udc34 Matkalla seuraavaan sijaintiin... odota hetki.","104":"\ud83d\udeab T\xe4ss\xe4 asutuksessa ei viel\xe4 ole kaupunkia.","105":"\u26a0\ufe0f Ongelma matkustaessa.","106":"\ud83d\udeab Et voi matkustaa rajan yli.","110":"\u27a1\ufe0f K\xe4vele opasteille k\xe4ytt\xe4\xe4ksesi niit\xe4.","111":"Tervetuloa kaupunkiin.","112":"Tervetuloa kotiin.","120":"Sinulla ei ole en\xe4\xe4 siirtymi\xe4 kotitilalla.","121":"Olet siirt\xe4nyt kotitilasi onnistuneesti.","122":"Et voi siirty\xe4 laaksoon!","123":"Et voi siirty\xe4 kaupunkiin!","124":"Kyseinen kotitila on varattu.","125":"Mihin siirryt?","130":"Valitse kielesi:","131":"Vahvista","150":"MYYNTITUPLA TEKSTIT:","151":"Et voi t\xe4ytt\xe4\xe4 toisen pelaajan myyntituplaa.","152":"Sinulla ei ole tarpeeksi rahaa ostaa t\xe4m\xe4 esine.","153":"myy:","154":"myyv\xe4t:","155":"Kauppa ep\xe4onnistui. T\xe4m\xe4 esine on jo myyty.","200":"TEHT\xc4V\xc4T","201":"\u2705 Teht\xe4v\xe4 suoritettu. Sinulla on palkkiosi.","202":"\u2705 Teht\xe4v\xe4 hyv\xe4ksytty.","203":"Ei aktiivisia teht\xe4vi\xe4 t\xe4ll\xe4 hetkell\xe4.","204":"tarjoaa n\xe4m\xe4 teht\xe4v\xe4t:","205":"ei ole sinulle teht\xe4vi\xe4 t\xe4ll\xe4 hetkell\xe4.","206":"Palaa NPC:lle, joka antoi sinulle t\xe4m\xe4n teht\xe4v\xe4n noutaaksesi palkkiosi.","207":"K\xe4ynniss\xe4","208":"Nouda palkkiosi","209":"Hyv\xe4ksy teht\xe4v\xe4","299":"VILJELY TEKSTIT:","300":"\u2705 Lis\xe4tty","301":"\ud83d\ude9c Kyntetty","302":"\ud83d\ude9c Kylvetty","303":"\ud83d\ude9c Pit\xe4\xe4 kylv\xe4\xe4 maahan","304":"\ud83d\ude9c Ei voi kylv\xe4\xe4 t\xe4h\xe4n","305":"\u26a0\ufe0f Ei tarpeeksi resursseja","306":"\u26a0\ufe0f Ei voi rakentaa t\xe4h\xe4n","310":"Maan t\xe4ytyy olla kyntetty ennen kylv\xe4mist\xe4.","311":"Maatilojesi el\xe4imet tarvitsevat runsaasti ruohoa.","312":"K\xe4yt\xe4 kivityst\xe4 est\xe4\xe4ksesi el\xe4imi\xe4 karkaamasta.","313":"","400":"OSTAMINEN, K\xc4SITY\xd6T, TAIDOT, PARANTAMINEN, YM.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Olet jo maksimielinvoimissa.","402":"\u26a0\ufe0f resurssit.","403":"\u26a0\ufe0f Inventaarisi on t\xe4ynn\xe4.","404":"Ty\xf6skentely...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Elinvoimaa parannettu +","410":"\ud83c\udfd5\ufe0f Ostaaksesi ostetun teltan, klikkaa omaa pelaaja-ikonia.","420":"vaihtaa sinulle:","421":"K\xe4ytet\xe4\xe4n kohteissa:","422":"Perushinta:","423":"Ei vaihtoehtoja saatavilla.","424":"Ei reseptej\xe4 saatavilla.","425":"Myy hyvitykseksi.","426":"Kalliita aloituskasveja, mutta jos niit\xe4 loppuu:","427":"Osta Maaty\xf6ntekij\xe4n Massasadon taito sadonkorjuun kaikkien kasvien ker\xe4\xe4miseen kerralla.","428":"Klikkaa ker\xe4t\xe4ksesi kaikki viljelykset v\xe4litt\xf6m\xe4sti.","429":"Sinulla ei ole viljelyksi\xe4 ker\xe4tt\xe4v\xe4ksi.","430":"Maaty\xf6ntekij\xe4n Taidot:","431":"Osta Maaty\xf6ntekij\xe4n Massael\xe4inten ker\xe4ystaito ker\xe4t\xe4ksesi kaikki el\xe4imet kerralla.","432":"Osta Maaty\xf6ntekij\xe4n Puutaito useiden puiden kaatamiseen kerralla ja puun ker\xe4\xe4miseen.","433":"Osta Parempi Puutaito lis\xe4t\xe4ksesi puiden kaatamisen m\xe4\xe4r\xe4\xe4 kerralla.","434":"Klikkaa ker\xe4t\xe4ksesi kaikilta el\xe4imilt\xe4 v\xe4litt\xf6m\xe4sti.","435":"Klikkaa kaataaksesi useita puita ja ker\xe4t\xe4ksesi puut v\xe4litt\xf6m\xe4sti.","436":"Sinulla ei ole el\xe4imi\xe4 ker\xe4tt\xe4v\xe4ksi.","437":"Sinulla ei ole puita kaadettavaksi.","500":"TAISTELUJOUKKOJEN MERKKIJONO","501":"\ud83c\udfaf Ulos kantamattomissa.","502":"\ud83c\udfaf Osuma!","503":"\u274c Ohi","504":"\ud83d\udc80 Tapettu","505":"\u26a0\ufe0f Virhe","510":"\u2764\ufe0f\u200d\ud83e\ude79 Sinulle tulee vahinkoa...","899":"VIANETSINT\xc4MERKAT: ","900":"Debug: Inventointi tyhjennetty.","901":"Debug: Teht\xe4v\xe4historia tyhjennetty.","902":"Debug: Resurssit lis\xe4tty.","903":"Debug: Ruudukko nollattu onnistuneesti.","904":"Debug: Taidot lis\xe4tty.","905":"Debug: Taidot ja Voimat tyhjennetty.","906":"Debug: Taistelutilastot nollattu.","999":"PANEELIN K\xc4YTT\xd6LIITTYM\xc4MERKIT: ","1000":"[Kuvausta vaaditaan]","1001":"Inventointi: Homesteadille ker\xe4tyt resurssit menev\xe4t varastoon. Kaupungissa tai laaksossa ker\xe4tyt resurssit menev\xe4t reppuun. Ostaaaksesi repun, mene Taitoihin. K\xe4sity\xf6asemat ottavat vain esineit\xe4 varastosta. Voit tyhjent\xe4\xe4 repun varastoon milloin tahansa ollessasi Homesteadissasi.","1002":"Rakentaa: Rakenna k\xe4sity\xf6asemia Homesteadissasi k\xe4ytt\xe4en varastoosi olevia resursseja.","1003":"Ostetut el\xe4imet ilmestyv\xe4t pelaaja-ikoniisi ja alkavat heti el\xe4m\xe4ns\xe4 Homesteadiss\xe4.","1004":"Muokata maata maaksi voidaksesi istuttaa kasveja. Istuta ruohoa antaaksesi maatalousel\xe4imille jotain laiduntamista varten.","1005":"Hanki Taitoja ja P\xe4ivityksi\xe4 parantaaksesi eri ominaisuuksia. Varmista, ett\xe4 tutkit Kaupunkia l\xf6yt\xe4\xe4ksesi lis\xe4\xe4 paikkoja ja tapoja saada Taitoja ja P\xe4ivityksi\xe4.","1006":"Hallinnoi kaikkia k\xe4ynniss\xe4 olevia teht\xe4vi\xe4si t\xe4\xe4lt\xe4. Etsi teht\xe4vi\xe4 antavia hahmoja kotiseudullasi sek\xe4 Kaupungista, tai jopa Laaksosta.","1007":"Valley Viewin hallitukset muodostetaan asutustasolla. Valittu pormestari toteuttaa politiikkaa ja rakentaa rakennuksia auttaakseen yhteis\xf6\xe4 kukoistamaan.","1008":"Kauppatori: Myy resurssejasi toisille pelaajille tai osta heid\xe4n kauppakojuistaan esineit\xe4. K\xe4yt\xe4 nuolia siirty\xe4ksesi kaupank\xe4yntiin kauppakojujen v\xe4lill\xe4 sinun asutuksessasi. Jos pelaajat eiv\xe4t osta esineit\xe4si ennen aikakatkaisua, voit myyd\xe4 ne pelille murto-osalla niiden perushinnasta.","1009":"[K\xe4sity\xf6kuvaus]","1010":"[Postilaatikkokuvailu]","1011":"T\xe4m\xe4 El\xe4inkauppakuja on tyhj\xe4. Varmista, ett\xe4 el\xe4imill\xe4 on ruohoa sy\xf6t\xe4v\xe4n\xe4\xe4n, ja ne tulevat lopulta kujalle sadonkorjuuta varten.","1012":"Vaaleja j\xe4rjestet\xe4\xe4n Oikeustalossa. T\xe4\xe4ll\xe4 pormestarit voivat asettaa verokannan ja nimet\xe4 uudelleen Asutuksen.","1013":"Peli tapahtuu jatkuvasti muuttuvien vuodenaikojen aikana. Kauden lopussa osa varallisuudestasi ja harvinaisista esineist\xe4 siirtyy seuraavalle kaudelle. P\xe4ivit\xe4 kultatilille saadaksesi enemm\xe4n siirtomahdollisuuksia.","1014":"","1015":"Vieraile pankissa vaihtaaksesi esineit\xe4 rahaksi, mukaan lukien kulta ja hopea. Palaa pankkiin s\xe4\xe4nn\xf6llisesti eri tarjouksia varten.","1016":"","1017":"[Profiilikuvaus]","1018":"\xa9 Valley View Studios, 2025, Kaikki oikeudet pid\xe4tet\xe4\xe4n.","1019":"[Junakuvaus]","1021":"[Maaty\xf6l\xe4iskuvaus]","1022":"[Taistelukuvaus]","1023":"[Kauppakuvaus]","1024":"[Rahapaneelin kuvaus]","1025":"N\xe4m\xe4 ovat Kulta-Passin edut.","1026":"[Koristeiden paneelin kuvaus]","1027":"Inventaario","1028":"\u2692\ufe0f Rakenna","1101":"\ud83d\uded2 Osta","1102":"\ud83d\ude9c Maanviljely","1103":"\ud83d\udcaa Taidot","1104":"\u2753 Teht\xe4v\xe4t","1105":"\ud83c\udfdb\ufe0f Hallitus","1106":"\ud83d\udce5 Kauppapiste","1107":"K\xe4sity\xf6","1108":"\ud83d\udcea Postilaatikko","1109":"\ud83d\udc3e El\xe4imet","1110":"\ud83c\udfdb\ufe0f Oikeustalo","1111":"Avustajahahmo","1112":"\ud83d\ude00 Pelaajahahmo","1113":"\ud83d\uddd3\ufe0f Vuodenaika","1114":"\ud83d\udd01 Kauppias","1115":"\ud83c\udfe6 Pankki","1116":"\ud83d\udd79\ufe0f Peliohjeet","1117":"\ud83d\ude00 Profiili","1118":"\ud83d\udc1e Vianj\xe4ljitys","1119":"\ud83d\ude00 Tervetuloa","1120":"\ud83d\ude82 Juna","1121":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Maatalousapulainen","1122":"\u2694\ufe0f Taistelu","1123":"\ud83d\uded2 Kauppa","1124":"\ud83d\udcb0 Rahasta","1125":"\u2b50\ufe0f Kulta-Passi","1126":"\ud83e\ude91 Koristeet","1127":"KAUPPIAAN TARINAJONO","1128":"Ah, mets\xe4 k\xe4tkee monta salaisuutta\u2026 ja min\xe4? Olen varastanut muutaman. N\xe4m\xe4 Jalokivet eiv\xe4t ole minun, mutta Titania omistaa enemm\xe4n kuin tarvitsee. Sinulla on jotain, mit\xe4 himoitsen: oliivileip\xe4, l\xe4mmin ja rikas. Kauppaile kanssani, niin saat kuulla tarinoita hohtavista silmist\xe4 pime\xe4ss\xe4, siivist\xe4 jotka v\xe4lkkyv\xe4t kuutamossa, ja lohik\xe4\xe4rmeist\xe4 jotka puhuvat arvoituksia. Pid\xe4 korvasi avoinna ja tikari l\xe4hell\xe4.","1200":"Oma saaliini on loputon kuin meri, rakkauteni syv\xe4\u2026 mutta h\xe4n on poissa, ja kaikki mik\xe4 j\xe4i on muotokuva ja tuska. Angelo vei molemmat. To bring me Romeo\u2019s likeness, torn from my chamber, and I\u2019ll give you Tulips red as the blood spilt on Verona\u2019s stones. Let this be our new balcony: you below, bearing justice.","1201":"Anna minulle el\xe4m\xe4, anna minulle rakkaus, mutta ennen kaikkea\u2026 anna minulle Tynnyrillinen! Vaihtokaupassa rohtoputtu, kalliimpi kuin kulta joillekin, erityisesti sille suurisilm\xe4iselle Helenalle. H\xe4n sanoo olevansa kruunujen ja tarujen per\xe4ss\xe4, k\xf6yh\xe4 tytt\xf6. Min\xe4? Olen kyll\xe4isen vatsan ja lempe\xe4n p\xe4iv\xe4unen per\xe4ss\xe4. \u2018Thou art so fat-witted with drinking of old sack,\u2019 he once told me. Ha! They were not wrong.","1202":"T\xe4ss\xe4 on rosmariini, muistojen vuoksi \u2013 ja lehtojuuri, katumuksen vuoksi. Juomanikka ei ole heikkohermoisille. Oikealla lehdell\xe4 voin korjata raajasi tai sekottaa kielesi. \u2018I do remember an apothecary,\u2019 said a boy once, and he paid the price. But you? You look wiser. Bring me rare roots and bitter seeds, and I\u2019ll mix you something worth the danger.","1203":"Jotain on edelleen m\xe4d\xe4ntynyt. Tunnistan sen maassa. Olen hallinnut, rakastanut, menett\xe4nyt. Helena poltti minut kuten kes\xe4inen salama. Ja Leontes? H\xe4n ei voinut antaa anteeksi sulamista. \u2018The lady doth protest too much,\u2019 he said; let them. If you see Helena, tell her the roses know her name. If you see Leontes, tell him I have not forgotten the winter.","1204":"Murheeni on patsas; \xe4\xe4net\xf6n, mutta ei koskaan hiljainen. Hautasin kruununi lumihankeen sin\xe4 p\xe4iv\xe4n\xe4 kun Gertrude valitsi puutarhansa yli minut. \u2018Exit, pursued by a bear\u2019? Ei, pakenin itse\xe4ni. Nyt odotan, kiven ja hiljaisuuden keskell\xe4. tuo minulle se mik\xe4 oli kerran minun, Kuningaskruunu, ja maksan kullalla, enemm\xe4n kuin muistojen paino. But beware: some thrones carry curses.","1205":"T\xe4m\xe4 silta on minun, Sycorax-\xe4itini.\u2019 Prospero yritti varastaa sen loitsuilla ja hymyill\xe4. Minua kutsuttiin peto, mutta olen maasta ja myrskyst\xe4 syntynyt, villin totuuden kasvattama. Vaihdan luuta hopeaan, kuolleiden tunnusteita el\xe4vien kolikoihin. \xc4l\xe4 koske kevyesti n\xe4iss\xe4 metsiss\xe4. tuo minulle se mit\xe4 muut pelk\xe4\xe4v\xe4t, ja teen sinusta rikkaan\u2026 tai kummitellun.","1206":"","1207":"Ostettavat taidot:","1208":"Ostettavat p\xe4ivitykset:","1301":"Sinulla on seuraavat taidot:","1302":"Sinulla on seuraavat p\xe4ivitykset:","1303":"Sinulla ei ole viel\xe4 taitoja.","1304":"Sinulla ei ole viel\xe4 p\xe4ivityksi\xe4.","1305":"MODAALI MERKKIJONOJA","1306":"PANKKI MODAALI","1400":"N\xe4m\xe4 tarjoukset ovat voimassa","1401":"Ostaa","1402":"varten","1403":"Ei tarjouksia saatavilla.","1404":"Uusia tarjouksia","1405":"Uusien tilausten luominen. Kiitos k\xe4rsiv\xe4llisyydest\xe4si.","1406":"\u26a0\ufe0f Sinulla ei ole tarpeeksi tavaroita.","1407":"\u26a0\ufe0f Sinulla ei ole tarpeeksi taitoja.","1408":"\u26a0\ufe0f Sinulla ei ole tarpeeksi p\xe4ivityksi\xe4.","1409":"KAUPUNGIN UUTISMERKKIJONOJA:","1410":"Uutiset ","1500":"Nykyinen pormestari on","1501":", ja verokanta on","1502":"T\xe4ss\xe4 tapahtuu kaupungissa juuri nyt:","1503":"On vaalikausi ja kampanjointi on t\xe4ydess\xe4 vauhdissa. Poikkea kaupungintalolle asettuaksesi ehdolle pormestariksi.","1504":"\xc4\xe4nestys seuraavasta pormestarista on alkanut. \xc4\xe4nest\xe4 kaupungintalolla.","1505":"Juna saapuu ja tarjoaa ostettavaksi:","1506":"Juna l\xe4htee. Palatessaan se ostaa:","1507":"Juna on t\xe4\xe4ll\xe4 ja tarjoaa ostettavaksi:","1508":" ","1509":"Vieraile pankissa myyd\xe4ksesi kultaa, hopeaa ja timantteja. Pankki p\xe4ivitt\xe4\xe4 tarjouksiaan.","1510":"Kaupungissa ei ole t\xe4ll\xe4 hetkell\xe4 pormestaria.","1511":"Juna l\xe4htee kello","1512":"Palatessaan se ostaa:","1513":"Verokanta on","1514":"Pankki ostaa t\xe4ll\xe4 hetkell\xe4:","1515":"Juna l\xe4htee kello","1516":"Viimeisimm\xe4n pormestarinvaalin \xe4\xe4net lasketaan. Tulokset odotettavissa","1517":"POSTILOKAALI MERKKIJONOJA:","1518":"Viestien lataaminen...","1600":"Sinulla ei ole viestej\xe4.","1601":"Vastaanotettu","1602":"Nouda","1603":"Useimmat viestit poistetaan 14 p\xe4iv\xe4n kuluttua. Ostoja ei poisteta.","1604":"\ud83d\udcea Postilaatikko","1605":"\ud83d\uddd1\ufe0f Viesti poistettu.","1606":"KAUPPA MERKKIJONOJA:","1607":"\ud83d\uded2 Kauppa","1700":"Ostokset toimitetaan Saapuneet-kansioon.","1701":"\ud83d\ude4f Kiitos tuestasi! Olemme pieni kehitt\xe4j\xe4 tiukan budjetin kanssa, mutta intohimoinen luomaan hauskaa tilaa positiiviselle yhteis\xf6lle.","1702":"Harkitse ostosten tekemist\xe4, jotta voimme jatkaa pelin parantamista.","1703":"JUNA, PANKKI, KAPITOLI, jne. MERKKIJONOJA:","1704":"\u2705 Valmis","2000":"\ud83d\udce6 Seuraava L\xe4hetys Esikatselu:","2002":"\ud83c\udf81 Palkinnot t\xe4ytt\xe4m\xe4ll\xe4 kaikki tilaukset:","2003":"Klikkaa t\xe4ytt\xe4\xe4ksesi","2004":"Sinun tilauksesi","2005":"Haettu","2006":"Haettava tilaus","2007":"Haetut sinulta:","2008":"Haettavissa:","2009":"Haettu muilta:","2010":"Valmis:","2011":"Haetut sinulta:","2012":"Voit hakea vain yhden junatarjouksen kerrallaan.","2013":"N\xe4yt\xe4 Junalogi","2014":"\u2705 Kaikki tilaukset on suoritettu! Palkinnot on postitettu.","2015":"Juna on","2016":"Tarjoukset p\xe4ivitet\xe4\xe4n","2020":"Tervetuloa, Pormestari.","2030":"\ud83d\udcb0 Verokanta: ","2040":"Ehdotettu: ","2041":"P\xe4ivit\xe4","2042":"\u26a0\ufe0f Vain Pormestari voi asettaa verokannan.","2043":"\ud83d\uddf3\ufe0f Vaalit","2044":"Nykyinen Vaihe:","2045":"Vaiheen Ajastin:","2046":"\ud83d\udce2 Kampanjalupaukset","2047":"\xc4\xe4nestys alkaa: ","2048":"\xc4\xe4nestys p\xe4\xe4ttyy: ","2060":"\xc4\xe4nestys on p\xe4\xe4ttynyt. Tulokset julkaistaan: ","2061":"Seuraava kampanja alkaa: ","2062":"\ud83d\udce2 Kampanjalupaukset","2063":"Kukaan ei ole viel\xe4 antanut kampanjalupausta.","2070":"Sy\xf6t\xe4 kampanjalupauksesi (max 200 merkki\xe4)...","2071":"L\xe4het\xe4 Kampanjalupaus","2072":"Anna \xc4\xe4nesi","2073":"Ei ehdokkaita \xe4\xe4nestett\xe4v\xe4n\xe4.","2074":"Kampanjalupaus:","2075":"Olet jo \xe4\xe4nest\xe4nyt t\xe4ss\xe4 vaalissa.","2076":"Ei ollut ehdokkaita.","2077":"Kuinka Pormestari voi?","2078":"Tervetuloa, Pormestari.","2079":"Sy\xf6t\xe4 kyl\xe4n nimi...","2080":"Sinun Kyl\xe4si:","2081":"P\xe4ivit\xe4 Nimi","2082":"K\xe4y \ud83c\udfdb\ufe0f Hallinnon Panelissa n\xe4hd\xe4ksesi tilastot kyl\xe4n tilanteesta ja auttaaksesi p\xe4\xe4t\xf6ksenteossa vaalissa.","2083":"\ud83c\udfe4 Yhteis\xf6rakennukset","2084":"\ud83c\udfeb Kouluja: ","2090":"\ud83c\udfeb Ei viel\xe4 rakennettu kouluja.","2092":"\ud83c\udfe5 Sairaaloita: ","2093":"\ud83c\udfe5 Ei viel\xe4 rakennettu sairaaloita.","2094":"\ud83d\udc3e El\xe4inkarsinat: ","2095":"\ud83d\udc3e El\xe4inkarsinoita ei ole viel\xe4 rakennettu.","2096":"\ud83c\udfe4 Kirjastot: ","2097":"\ud83c\udfe4 Kirjastoja ei ole viel\xe4 rakennettu.","2098":"HALLINTAPANEELI:","2099":"Asutus: ","3000":"\ud83d\ude0a V\xe4ki.","3001":"\ud83d\udcb0 Verokanta: ","3002":"Verokanta asetetaan kaupunginjohtajan toimesta kyseiselle asutukselle, ja osuus kaikista ker\xe4tyist\xe4 veroista lis\xe4t\xe4\xe4n kaupunginjohtajan tilille.","3003":"Kaupunginjohtajat valitaan kaupungintalolla Kaupungissa.","3004":"\ud83c\udfdb\ufe0f Hallintovirkailijat","3005":"Hallintovirkailijoita ei ole viel\xe4 valittu.","3006":"Vain kaupunginjohtaja voi rakentaa Koulut, Sairaalat ja El\xe4inkarsinat Kaupungissa.","3007":"\ud83c\udfeb Koulut antavat kansalaisille p\xe4\xe4syn tiettyihin taitoihin, joita ei voi oppia muualta.","3009":"\ud83c\udfe5 Sairaalat tarjoavat L\xe4\xe4k\xe4reit\xe4, jotka voivat parantaa seikkailijat, jotka palaavat laaksosta.","3010":"\ud83d\udc3e El\xe4inkarsinat tarjoavat ainutlaatuista karjaa, jotka voi kuljettaa takaisin Tilalle kenen tahansa pelaajan toimesta.","3011":"\ud83d\ude82 Kaupunginjohtaja voi vaikuttaa kysynt\xe4\xe4n tuotteille Junassa.","3012":"N\xe4yt\xe4 Verologi","3013":"","3020":"","3021":"","3022":"","3023":"KIRJAUTUMISPANEELI:","3024":"Tervetuloa Valley Viewiin! Ei viel\xe4 tili\xe4? Luo ilmainen tili aloittaaksesi pelaamisen:","3025":"Luo Tili","4000":"K\xe4ytt\xe4j\xe4nimi","4001":"Sinua ei pyydet\xe4 antamaan s\xe4hk\xf6postiosoitetta.","4002":"Uudella tilill\xe4 saat oman tilan viljell\xe4ksesi yhdess\xe4 muiden pelaajien kanssa Asutuksessa monien muiden Asutusten t\xe4ytt\xe4m\xe4ss\xe4 Rintamalla. Seikkailu odottaa sinua laaksossa.","4003":"Salasana","4004":"Kirjaudu","4005":"K\xe4ytt\xe4j\xe4nimi","4006":"Kirjaudu tilillesi jatkaaksesi pelaamista. Jos sinulla ei ole","4007":"PROFIILIPANEELI:","4008":"Hei, ","4009":"Vaihda K\xe4ytt\xe4j\xe4nimi:","4050":"Vaihda Salasana:","4051":"Tilin Hallinta","4052":"Tilin Tila:","4053":"Kirjaudu Ulos","4054":"Poista Tili","4055":"Pelaajan ID:","4056":"Tilan Siirto","4057":"J\xe4ljell\xe4 olevat siirrot:","4058":"Vieraile Kaupassa ostaaaksesi lis\xe4\xe4 Siirtoja.","4059":"Asetukset","4060":"Kieli:","4061":"Kantaman Ilmaisin:","4062":"Vaihda Avatar","4063":"Takaisin Kirjautumiseen","4064":"Valitse kieli","4065":"LIS\xc4\xc4 MODAALIEN MERKKIJONOJA:","4066":"\ud83d\udc80 Olet kuollut.","4067":"Olet palautettu kotiin. Mahdolliset reppuesineesi menetettiin.","5000":"Ole ensi kerralla tarkempi.","5001":"\ud83d\ude00 Tervetuloa Valley View\u2122:iin","5002":"Kirjaudu sis\xe4\xe4n tai luo ilmainen tili.","5003":"\xa9 Valley View Studios, 2025, Kaikki oikeudet pid\xe4tet\xe4\xe4n.","5005":"\ud83d\udce8 Saapuneet","5006":"Sinulla ei ole viestej\xe4","5007":"\ud83d\uded2 Kauppa","5010":"Ostokset toimitetaan Saapuneisiin. Palautuksia ei ole mahdollista. Kaikki ostokset ovat lopullisia.","5011":"Huomaa, ett\xe4 suurin osa inventaarion esineist\xe4 nollataan kausien v\xe4lill\xe4, joten tarkista kausikello ennen ostamista ja katso kausipaneelia lis\xe4tietojen saamiseksi.","5015":"\ud83d\udeab Olet t\xe4ll\xe4 hetkell\xe4 uloskirjautuneena.","5016":"Klikkaa Kirjaudu sis\xe4\xe4n tai Luo tili aloittaaksesi.","5017":"\ud83d\ude4f Kiitos tuestasi!","5020":"Ostoksesi on toimitettu Saapuneisiin.","5021":"Nauti Valley View\'sta!","5025":"\ud83d\ude00 Tervetuloa Valley View\'sta!","5026":"Yht\xe4\xe4n pelaajaa ei ole kirjautunut sis\xe4\xe4n tai palvelin on poissa k\xe4yt\xf6st\xe4.","5027":"P\xe4ivit\xe4 sivu, tarkista internet-yhteytesi tai palaa my\xf6hemmin.","5030":"Olemme kausien v\xe4liss\xe4!","5031":"Valley View on v\xe4liaikaisesti poissa k\xe4yt\xf6st\xe4, kun nollataan kautta.","5032":"\ud83d\udcf0 Kaupungin uutiset","5035":"T\xe4ss\xe4 mit\xe4 tapahtuu Kaupungissa juuri nyt:","5036":"K\xe4yt\xe4 ","5040":"Haluatko k\xe4ytt\xe4\xe4","5041":"Sinulla on ","5045":"\u26a0\ufe0f Vahvista kotitilan siirto","5046":"Oletko varma, ett\xe4 haluat siirt\xe4\xe4 kotitilasi? T\xe4t\xe4 ei voi perua.","5047":"Sulje t\xe4m\xe4 vuoropuhelu peruuttaaksesi.","5050":"\u2b50\ufe0f Onnittelut!","5051":"Sinulla on nyt Kultapassi. Mene Profiilipaneeliin mukauttaaksesi pelaajakuvakettasi ja l\xf6yt\xe4\xe4ksesi muita Kultaetuja.","5052":"Kiitos tuestasi!","5060":"Viimeisimm\xe4t veronker\xe4ykset","5061":"Ei viel\xe4 veronker\xe4yshistoriaa saatavilla.","5062":"\ud83d\uddd3\ufe0f P\xe4iv\xe4m\xe4\xe4r\xe4","5100":"\ud83d\udcb0 Kokonaism\xe4\xe4r\xe4","5101":"Pormestari","5102":"\ud83d\udcb0 Pormestarin osuus","5103":"","5104":"MITEN PELATA MERKKIJONOJA:","5105":"Tervetuloa Valley View\'sta!","5110":"Mist\xe4 on kyse?","8999":"Valley View on peli, joka tutkii miten ihmiset voisivat itse j\xe4rjest\xe4yty\xe4 ja luoda mikroyhteis\xf6j\xe4 ep\xe4symmetrisiin resursseihin ja riippuvuussuhteisiin perustuvassa maailmassa, jossa on sek\xe4 omia ett\xe4 jaettuja tiloja.","9000":"Vaikka erityisi\xe4 erikoistumisreittej\xe4 ei ole, on kolme p\xe4\xe4pelivektoria, jotka ovat riippuvaisia toisistaan. N\xe4m\xe4 ovat: FARMI, SEIKKAILIJA ja POLIITIKKO. Sinua kannustetaan nojaamaan toisiinsa.","9001":"Ensinn\xe4kin, perusteet:","9002":"K\xe4yt\xe4 A-W-S-D n\xe4pp\xe4imi\xe4 LIIKKUMISEEN. Klikkaa toimiaksesi asioiden kanssa, jotka ovat vuorovaikutuset\xe4isyydell\xe4si.","9003":"Tutki \ud83d\ude9c PELTOMAATALOUTTA, \u2692\ufe0f RAKENNA ja \ud83d\udc2e OSTAaksesi, parantaaksesi maatilaa ja tuottaaksesi resursseja.","9004":"Tuota \ud83d\udcb0 RAHAA \ud83d\udce5 KAUPPAPYSS\xc4. Laita resursseja myyntiin muille pelaajille tai myy ne pelille osittaisarvolla.","9005":"Lis\xe4\xe4:","9006":"Kun luot vaurautta, kehit\xe4 itse\xe4si TAIDOILLA ja KYVYILL\xc4. Esimerkiksi voit ostaa \ud83d\udc34 RATSASTUSTAIDON matkustaaksesi KAUPUNKIIN.","9007":"Loitota (- ja +) n\xe4hd\xe4ksesi kuinka suuri maailma on. Oma tilasi on yksi monista SIJOITTELUSSA. Jokaisella SIJOITTELUILLA on jaettu KAUPUNKI. Oma Sijoittelusi on yksi monista RAJALLA.","9008":"Kun olet valmis, tutki LAAKSOA, joka on t\xe4ynn\xe4 vaaraa ja ihmeit\xe4. Taikurin PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f ja kadonneen kuninkaan LEONTES \ud83e\udd34 salaisuudet, muun muassa, voivat l\xf6yty\xe4 Laaksosta.","9009":"Tavoitteesi:","9010":"Voit luoda omia tavoitteitasi vapaasti. Lis\xe4ksi jokaisen \ud83d\uddd3\ufe0f VUODENAIKAN kohdalla, joka kest\xe4\xe4 kolme kuukautta, sek\xe4 yksil\xf6t ett\xe4 sijoittelut saavat sijoituksen, ja parhaat sijoitukset tuottavat lis\xe4\xe4 vaurautta. Kotitilasi, kaikki taitosi, ja osa vauraudestasi siirtyv\xe4t seuraavaan vuodenaikaan.","9011":"Viljele, askartele, kauppaa, tutki, taistele ja nauti!","9012":"Kuinka ansaita rahaa","9013":"On muutamia tapoja ansaita \ud83d\udcb0 RAHAA.","9014":"Kun aloitat, avaa \ud83d\udce5 KAUPANK\xc4YNTIKOJU, joka l\xf6ytyy kotitilasi vasemmasta yl\xe4kulmasta. T\xe4\xe4ll\xe4 voit myyd\xe4 tavaroita, mukaan lukien sadot ja k\xe4sity\xf6t.","9020":"\ud83d\udce5 KAUPANK\xc4YNTIKOJU ostaa tavaroita sinulta 25% niiden arvosta. Voidaksesi maksimoida tulosi, sinun kannattaa k\xe4yd\xe4 kauppaa muiden pelaajien kanssa. Heill\xe4 on asioita joita tarvitset ja p\xe4invastoin.","9021":"Edetess\xe4si pystyt matkustamaan KAUPUNKIIN KILVETT\xc4 k\xe4ytt\xe4en. Siell\xe4 l\xf6yd\xe4t paikkoja kuten PANKIN, joka ostaa tietyt esineet sinulta ylihintaan.","9022":"Rahan k\xe4ytt\xf6","9023":"Yll\xe4tys, useimmat asiat maksavat Rahaa. Aluksi haluat k\xe4ytt\xe4\xe4 rahaa \ud83d\udcaa TAIDOIHIN, \ud83d\udc2eMAATILAEL\xc4IMIIN ja \u2692\ufe0f ASKARTELUPAIKKOIHIN. Tutustu ruudun vasemmalla puolella oleviin paneelien. N\xe4m\xe4 auttavat sinua tuottamaan enemm\xe4n resursseja, jotka puolestaan auttavat sinua ansaitsemaan enemm\xe4n rahaa.","9024":"KAUPUNGISSA l\xf6yd\xe4t lis\xe4ksi enemm\xe4n Kauppoja ja Kauppiaita.","9025":"Hy\xf6dyt","9026":"Kultapassi antaa sinulle p\xe4\xe4syn premium-ominaisuuksiin ja etuihin Laakson\xe4kym\xe4ss\xe4 yhden vuodenajan ajan.","9027":"Kultapassilla voit nauttia seuraavista eduista:","9050":"\u2705 Premium avatarit: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9051":"\u2705 L\xe4hes rajaton varastokapasiteetti","9052":"\u2705 L\xe4hes rajaton reppukapasiteetti","9053":"\u2705 2 lis\xe4ist\xe4 kaupank\xe4yntikojun paikkaa","9054":"\u2705 Alhaisempi Verokanta","9055":"\u2705 Puolet maksimiel\xe4m\xe4pisteist\xe4 palautuu kuollessa","9056":"\u2705 Voit asettua ehdolle","9057":"Kiitos Kultapassin ostosta.","9058":"Osta Kultapassi","9059":"\ud83d\udd0c Palvelin on alhaalla","9060":"Palvelin on t\xe4ll\xe4 hetkell\xe4 alhaalla. Pahoittelemme h\xe4iri\xf6t\xe4, tulethan takaisin pian.","9061":"(T\xe4m\xe4 viesti katoaa kun palvelin on taas ylh\xe4\xe4ll\xe4.)","10000":"APP.JS MERKKIJONOJA:","10001":"Tervetuloa Laakson\xe4kym\xe4\xe4n!","10002":"Kirjaudu sis\xe4\xe4n tai luo ilmainen tili.","10100":"\ud83c\udf92 Inventointi","10101":"\ud83d\uded2 Kauppa","10102":"\ud83d\udce8, Saapuneet","10103":"\ud83d\udce2 Jaa","10104":"\ud83d\udcac Chat","10105":"Sinulla on Kultapassi","10106":"\u2194\ufe0f Siirtyn\xe4pp\xe4imet:","10107":"\ud83d\udd79\ufe0f Kuinka Pelata","10108":"Olet Pormestari","10109":"\u2764\ufe0f\u200d\ud83e\ude79 Terveys:","10110":"\ud83d\uddd3\ufe0f Nyt on","10111":"Vuodenaika p\xe4\xe4ttyy:","10112":"\ud83d\uddd3\ufe0f Seuraava vuodenaika alkaa:","10113":"\u23ea Tapahtuu nyt kaupungissa:","10114":"\ud83d\udcb0 Seuraava veronker\xe4ys:","10115":"Ker\xe4t\xe4\xe4n nyt veroja...","10116":"\ud83c\udfdb\ufe0f Vaalit: ","10117":"P\xe4\xe4ttyy: ","10118":"\ud83d\ude82 Juna: ","10119":"\ud83c\udfe6 Pankki: ","10120":"Uudet tarjoukset: ","10121":"Lue uutiset!","10122":"Kuka on t\xe4\xe4ll\xe4: ","10123":"Ei tietokoneita ruudukossa.","10124":"Tallenna muutokset","10125":"","10126":"Sinulla on kultainen passi","10127":"Kultaisen passin edut","10128":"Peruuta siirto","10129":"Siirr\xe4 kotitilaa","10130":"LIS\xc4TYT MERKKIJONO:T","10131":"Odota ajastimen p\xe4\xe4ttymist\xe4 tai toisen pelaajan ostavan t\xe4m\xe4n kohteen.","10132":"Maanviljely","10133":"Rakenna","11000":"Osta el\xe4imi\xe4 & koristuksia","11001":"Aktiiviset teht\xe4v\xe4t","12001":"Taidot","12002":"Taistelu","12003":"Hallitus","12004":"Vuodenajat","12005":"Koti","12006":"Profiili","12007":"Osumapisteet","12008":"Maksimiosumapisteet","12009":"Kantama","12010":"Hy\xf6kk\xe4yskantama","hp":"Hy\xf6kk\xe4ysbonus","maxhp":"Vahinko","range":"Hy\xf6kk\xe4ysnopeus","attackrange":"Onko leiriytymist\xe4","attackbonus":"Panssariluokka","damage":"Reppukapasiteetti","speed":"Varastotilan kapasiteetti"}');var h=n(579);const f={en:o,fr:r,es:s,de:l,it:i,pt:c,ru:d,no:u,sv:p,fi:m},g=(0,a.createContext)(o),y=e=>{let{language:t="en",children:n}=e;const a=f[null===t||void 0===t?void 0:t.toLowerCase()]||o;return console.log("\ud83e\uddec StringsProvider:",{rawLanguage:t,normalized:null===t||void 0===t?void 0:t.toLowerCase(),resolvedFile:a}),(0,h.jsx)(g.Provider,{value:a,children:n})},v=()=>(0,a.useContext)(g)},43:(e,t,n)=>{e.exports=n(202)},106:(e,t,n)=>{n.d(t,{Eu:()=>d,V5:()=>p,ZH:()=>i,di:()=>m,zQ:()=>u});n(517);var a=n(431),o=n(823),r=n(894),s=n(704);const i={};const l=new Set,c=["Shift","Control","Alt","Meta","CapsLock","NumLock","ScrollLock"];function d(e,t,n,i,d,u,m,h,f,g,y,v,b){c.includes(e.key)||(l.add(e.key),function(e,t,n,i,c,d,u,m,h,f,g,y){const v={ArrowUp:{dx:0,dy:-1},w:{dx:0,dy:-1},W:{dx:0,dy:-1},ArrowDown:{dx:0,dy:1},s:{dx:0,dy:1},S:{dx:0,dy:1},ArrowLeft:{dx:-1,dy:0},a:{dx:-1,dy:0},A:{dx:-1,dy:0},ArrowRight:{dx:1,dy:0},d:{dx:1,dy:0},D:{dx:1,dy:0}};let b=0,k=0;for(const a of l){const e=v[a];e&&(b+=e.dx,k+=e.dy)}if(0===b&&0===k)return;if(b=Math.max(-1,Math.min(1,b)),k=Math.max(-1,Math.min(1,k)),e.iscamping)return void r.A.addFloatingText(32,e.location.x,e.location.y,t);const w=e._id.toString(),S=e.location.g,x=a.A.getPlayersInGrid(S);if(!x||!x[w])return;const C=x[w].position,I=Math.round(C.x+b),A=Math.round(C.y+k);if(!Array.isArray(n))return void console.error("masterResources is not an array:",n);if(!function(e,t,n,a,r,i,l,c,d,u,p,m,h){const f=o.A.getTiles(),g=o.A.getResources();if(!Array.isArray(g))return console.warn("\u26d4 Movement blocked: resources is not an array yet.",g),!1;if(e<0||t<0||e>63||t>63){const n=e<0?"Signpost W":e>63?"Signpost E":t<0?"Signpost N":t>63?"Signpost S":null;if(!n)return console.warn(`\u26d4 Invalid movement direction from (${e}, ${t}).`),!1;console.log(`\ud83d\udce6 Attempting directional travel via: ${n}`);const o=a.skills;return(0,s.handleTransitSignpost)(a,n,r,i,l,c,d,u,p,o,m,h),!1}const y=function(e,t,n,a,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(e=Math.floor(e),t=Math.floor(t),e<0||t<0||t>=n.length||e>=n[0].length)return console.warn(`\u26d4 Tile (${e}, ${t}) is out of bounds.`),!1;const s=n[t][e];if(!s)return console.warn(`\u26d4 Invalid tile at (${e}, ${t}) - No tileType found.`),!1;if(null!==r&&void 0!==r&&r.isinboat)return"w"===s?(console.log(`\ud83d\udea4 Boat player can move to water tile (${e}, ${t})`),!0):(console.warn(`\u26d4 Boat player cannot move to non-water tile (${e}, ${t}): ${s}`),!1);const i=o.find((e=>e.type===s));if(!i||!i.passable)return console.warn(`\u26d4 Tile (${e}, ${t}) is not passable according to masterResources.`),!1;const l=a.find((n=>n.x===e&&n.y===t));if(l&&!1===l.passable)return console.warn(`\u26d4 Tile (${e}, ${t}) contains an impassable resource (${l.type}).`),!1;return!0}(e,t,f,g,n,a);y||console.warn(`\u26d4 Movement blocked: Tile (${e}, ${t}) is not passable.`);return y}(I,A,n,e,i,c,d,u,m,h,t,f,y))return void console.warn(`\u26d4 Player blocked from moving to (${I}, ${A}).`);const T={x:I,y:A},N=Date.now();g&&(g.current=N);a.A.updatePC(S,w,{position:T,lastUpdated:N}),p(T,t)}(t,n,i,d,u,m,h,f,g,y,v,b))}function u(e){l.delete(e.key),c.includes(e.key)&&l.clear()}function p(e,t){const n=document.querySelector(".homestead");if(!n)return;const a=e.x*t-(window.innerWidth-300)/2,o=e.y*t-(window.innerHeight-200)/2,r=n.scrollWidth-n.clientWidth,s=n.scrollHeight-n.clientHeight,i=Math.max(0,Math.min(a,r)),l=Math.max(0,Math.min(o,s));n.scrollTo({left:i,top:l,behavior:"smooth"}),console.log(`\ud83d\udcf7 Camera centered on player at (${e.x}, ${e.y})`)}function m(e,t){const n=document.querySelector(".homestead");if(!n)return;const a=e.x*t-(window.innerWidth-300)/2,o=e.y*t-(window.innerHeight-200)/2,r=n.scrollWidth-n.clientWidth,s=n.scrollHeight-n.clientHeight,i=Math.max(0,Math.min(a,r)),l=Math.max(0,Math.min(o,s));n.scrollTo({left:i,top:l}),console.log(`\ud83d\udcf7 Camera centered on player at (${e.x}, ${e.y})`)}"undefined"!==typeof window&&(window.addEventListener("blur",(()=>{l.clear()})),document.addEventListener("visibilitychange",(()=>{document.hidden&&l.clear()})),window.debugMovementKeys=()=>(console.log("Currently pressed keys:",Array.from(l)),Array.from(l)),window.resetMovementKeys=()=>{l.clear(),console.log("Movement keys reset")})},146:(e,t,n)=>{n.d(t,{Mp:()=>f,Xs:()=>m,_M:()=>p,hC:()=>u,sk:()=>h,zz:()=>g});var a=n(488),o=n(213);let r=null,s=null,i=null,l=null,c=null,d=null;async function u(){if(!r)try{const e=await o.A.get(`${a.A}/api/skills-tuning`);r=e.data,console.log("Skills tuning loaded:",r)}catch(e){console.error("Error fetching master skills:",e),r={}}return r}async function p(){if(!s)try{const e=await o.A.get(`${a.A}/api/resources`);s=e.data,console.log("Master resources loaded:",s)}catch(e){console.error("Error fetching master resources:",e),s=[]}return s}async function m(){if(!i)try{const e=await o.A.get(`${a.A}/api/global-tuning`);i=e.data,console.log("Global tuning loaded:",i)}catch(e){console.error("Error fetching global tuning:",e),i={}}return i}async function h(){if(!l)try{const e=await o.A.get(`${a.A}/api/interactions`);l=e.data,console.log("Master interactions loaded:",l)}catch(e){console.error("Error fetching master interactions:",e),l=[]}return l}async function f(){if(!c)try{const e=await o.A.get(`${a.A}/api/traders`);c=e.data,console.log("Master traders loaded:",c)}catch(e){console.error("Error fetching master traders:",e),c=[]}return c}async function g(){if(!d)try{const e=await o.A.get(`${a.A}/api/trophies`);d=e.data,console.log("Master trophies loaded:",d)}catch(e){console.error("Error fetching master trophies:",e),d=[]}return d}},153:(e,t,n)=>{var a=n(43),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,r={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!l.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:o,type:e,key:c,ref:d,props:r,_owner:i.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},167:(e,t,n)=>{n.d(t,{FD:()=>g,Ke:()=>h,mQ:()=>m,qh:()=>y,t3:()=>f});var a=n(488),o=n(213),r=n(957),s=n(667),i=n(431),l=n(665),c=n(823),d=n(819),u=n(106),p=(n(898),n(605));const m=async function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const{x:r,y:s,growEnd:i,craftEnd:c,craftedItem:d,type:u}=t,p={resource:{type:u,x:r,y:s,...void 0!==i&&{growEnd:i},...void 0!==c&&{craftEnd:c},...void 0!==d&&{craftedItem:d}},broadcast:n};if(!(await o.A.patch(`${a.A}/api/update-grid/${e}`,p)).data.success)throw new Error("Failed DB update");return n&&l.Ay&&l.Ay.emit&&l.Ay.emit("update-resource",{gridId:e,updatedResources:[null===(null===t||void 0===t?void 0:t.type)?{x:r,y:s,type:null}:t]}),{success:!0}}catch(r){return console.error("\u274c Error in updateGridResource:",r),{success:!1}}},h=async function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{const i=await o.A.patch(`${a.A}/api/update-tile/${e}`,{x:t,y:n,newType:r});i.data.success?(s&&s((e=>{const a=(0,d.El)(e,[{x:t,y:n,type:r}]);return console.log("\ud83c\udf31 Optimistically updated tileTypes (emitter):",a),a})),l.Ay.emit("update-tile",{gridId:e,updatedTiles:[{x:t,y:n,type:r}]})):console.error(`\u274c Failed to update tile at (${t}, ${n}):`,i.data.message)}catch(i){console.error(`\u274c Error converting tile at (${t}, ${n}):`,i)}},f=async function(e,t,n,d,p,m,h,f,g,v,b,k){var w;if(null!==k&&void 0!==k&&null!==(w=k.isAnyBulkOperationActive)&&void 0!==w&&w.call(k))return b&&b(470),!1;if(t&&n)try{var S,x,C,I,A,T,N,j,P,E,R,$,O,z,D,M,L,B,G,q,F,V,_;v&&v();const k=null===(S=i.A.getPlayersInGrid(t.g))||void 0===S?void 0:S[e.playerId],w=(null===(x=(await o.A.get(`${a.A}/api/load-grid-state/${t.g}`)).data)||void 0===x||null===(C=x.playersInGrid)||void 0===C?void 0:C.pcs)||{},H=k||w[e.playerId]||{};w[e.playerId]&&delete w[e.playerId];try{const n=await o.A.post(`${a.A}/api/remove-single-pc`,{gridId:t.g,playerId:e.playerId});n.data.success?!1===n.data.removed&&console.warn("\u26a0\ufe0f Player was not found in the from grid - might already be removed"):console.error("\u274c Remove-single-pc returned unsuccessful")}catch(U){throw console.error("\u274c CRITICAL: Failed to remove player from previous grid:",U),new Error("Failed to remove player from previous grid. Aborting travel to prevent ghost player.")}l.Ay.emit("player-left-grid",{gridId:t.g,playerId:e.playerId,username:e.username}),l.Ay.emit("leave-grid",t.g);null===(I=(await o.A.get(`${a.A}/api/load-grid-state/${n.g}`)).data)||void 0===I||null===(A=I.playersInGrid)||void 0===A||A.pcs;const K=Date.now(),W={playerId:e.playerId,type:"pc",username:e.username,position:{x:n.x,y:n.y},icon:e.icon||"\ud83d\ude00",hp:null!==(T=null!==(N=H.hp)&&void 0!==N?N:e.hp)&&void 0!==T?T:25,maxhp:null!==(j=null!==(P=H.maxhp)&&void 0!==P?P:e.maxhp)&&void 0!==j?j:25,armorclass:null!==(E=null!==(R=H.armorclass)&&void 0!==R?R:e.armorclass)&&void 0!==E?E:10,attackbonus:null!==($=null!==(O=H.attackbonus)&&void 0!==O?O:e.attackbonus)&&void 0!==$?$:0,damage:null!==(z=null!==(D=H.damage)&&void 0!==D?D:e.damage)&&void 0!==z?z:1,speed:null!==(M=null!==(L=H.speed)&&void 0!==L?L:e.speed)&&void 0!==M?M:1,attackrange:null!==(B=null!==(G=H.attackrange)&&void 0!==G?G:e.attackrange)&&void 0!==B?B:1,iscamping:null!==(q=null!==(F=H.iscamping)&&void 0!==F?F:e.iscamping)&&void 0!==q&&q,isinboat:null!==(V=null!==(_=H.isinboat)&&void 0!==_?_:e.isinboat)&&void 0!==V&&V,lastUpdated:K},Y={gridId:n.g,playerId:e.playerId,pc:W,lastUpdated:K};await o.A.post(`${a.A}/api/save-single-pc`,Y),l.Ay.emit("player-joined-grid",{gridId:n.g,playerId:e.playerId,username:e.username,playerData:W});const J=await o.A.post(`${a.A}/api/update-player-location`,{playerId:e.playerId,location:n});if(!J.data.success)throw new Error(J.data.error);const Q={...e,location:n};d(Q),localStorage.setItem("player",JSON.stringify(Q)),p(n.g),await Promise.all([(0,r.F)(g,n.g,m,f,h,b,e),(async()=>{try{await s.Ay.initializeGridState(n.g),await i.A.initializePlayersInGrid(n.g);const e=s.Ay.getNPCsInGrid(n.g),t=i.A.getPlayersInGrid(n.g);s.Ay.setGridStateReact({[n.g]:{npcs:e,NPCsInGridLastUpdated:Date.now()}}),i.A.setPlayersInGridReact({[n.g]:{pcs:t,playersInGridLastUpdated:Date.now()}})}catch(e){console.error("\u274c Error initializing playersInGrid:",e)}})()]),l.Ay.emit("join-grid",{gridId:n.g,playerId:e.playerId}),l.Ay.emit("set-username",{username:e.username}),l.Ay.emit("request-npc-controller",{gridId:n.g});let Z=n.x,X=n.y;if(n.findSignpost){console.log(`\ud83d\udd0d Looking for ${n.findSignpost} on the destination grid...`);const t=c.A.getResources().find((e=>e.type===n.findSignpost));if(t){Z=t.x,X=t.y;const r={...W,position:{x:Z,y:X}};i.A.updatePC(n.g,e.playerId,r),await o.A.post(`${a.A}/api/save-single-pc`,{gridId:n.g,playerId:e.playerId,pc:r,lastUpdated:Date.now()}),l.Ay.emit("player-moved",{gridId:n.g,playerId:e.playerId,position:{x:Z,y:X},username:e.username})}else console.log(`\u26a0\ufe0f ${n.findSignpost} not found on destination grid, using default position (0, 0)`)}(0,u.V5)({x:Z,y:X},g),b&&n.gtype&&await y(n.gtype,null,b,e,n.g),console.log("\u2705 Location change complete")}catch(H){throw console.error("\u274c Location change error:",H),H}else console.error("\u274c Invalid fromLocation or toLocation")};async function g(e,t,n){try{const t=(await o.A.get(`${a.A}/api/load-grid/${e}`)).data||{},{gridType:n,_id:r,ownerId:s,playersInGrid:i,NPCsInGrid:l}=t;console.log("Fetched grid data:",t);const c={pcs:(null===i||void 0===i?void 0:i.pcs)||{},npcs:(null===l||void 0===l?void 0:l.npcs)||{}};return{...t,NPCsInGrid:c}}catch(r){return console.error("Error fetching grid data:",r),t&&t("Failed to load grid data"),{}}}async function y(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(n)switch(console.log("\ud83d\ude00\ud83d\ude00 UPDATING GRID STATUS message"),e){case"homestead":if(a&&o){const{username:e}=await(0,p.qJ)(o);if(e===a.username)return void n(112);t=e}n(`Welcome to ${t||"Unknown"}'s homestead.`);break;case"town":n(14);break;case"valley0":case"valley1":case"valley2":case"valley3":n(16);break;case"settlement":n(12);break;case"frontier":n(13)}}},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var k=b.prototype=new v;k.constructor=b,f(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,a){var o,r={},s=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!C.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:i,props:r,_owner:x.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,o,r,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return s=s(l=e),e=""===r?"."+N(l,0):r,w(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),j(s,t,o,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var d=r+N(i=e[c],c);l+=j(i,t,o,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=j(i=i.value,t,o,d=r+N(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var a=[],o=0;return j(e,a,"","",(function(e){return t.call(n,e,o++)})),a}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},$={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:$,ReactCurrentOwner:x};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=z,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),r=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=x.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:n,type:e.type,key:r,ref:s,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},213:(e,t,n)=>{n.d(t,{A:()=>yt});var a={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(a),n.d(a,{hasBrowserEnv:()=>se,hasStandardBrowserEnv:()=>le,hasStandardBrowserWebWorkerEnv:()=>ce,navigator:()=>ie,origin:()=>de});const{toString:r}=Object.prototype,{getPrototypeOf:s}=Object,i=(l=Object.create(null),e=>{const t=r.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())});var l;const c=e=>(e=e.toLowerCase(),t=>i(t)===e),d=e=>t=>typeof t===e,{isArray:u}=Array,p=d("undefined");const m=c("ArrayBuffer");const h=d("string"),f=d("function"),g=d("number"),y=e=>null!==e&&"object"===typeof e,v=e=>{if("object"!==i(e))return!1;const t=s(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=c("Date"),k=c("File"),w=c("Blob"),S=c("FileList"),x=c("URLSearchParams"),[C,I,A,T]=["ReadableStream","Request","Response","Headers"].map(c);function N(e,t){let n,a,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const a=o?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;let s;for(n=0;n<r;n++)s=a[n],t.call(null,e[s],s,e)}}function j(e,t){t=t.toLowerCase();const n=Object.keys(e);let a,o=n.length;for(;o-- >0;)if(a=n[o],t===a.toLowerCase())return a;return null}const P="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,E=e=>!p(e)&&e!==P;const R=($="undefined"!==typeof Uint8Array&&s(Uint8Array),e=>$&&e instanceof $);var $;const O=c("HTMLFormElement"),z=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),D=c("RegExp"),M=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};N(n,((n,o)=>{let r;!1!==(r=t(n,o,e))&&(a[o]=r||n)})),Object.defineProperties(e,a)};const L=c("AsyncFunction"),B=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,a=[],P.addEventListener("message",(e=>{let{source:t,data:o}=e;t===P&&o===n&&a.length&&a.shift()()}),!1),e=>{a.push(e),P.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,f(P.postMessage)),G="undefined"!==typeof queueMicrotask?queueMicrotask.bind(P):"undefined"!==typeof process&&process.nextTick||B,q={isArray:u,isArrayBuffer:m,isBuffer:function(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||f(e.append)&&("formdata"===(t=i(e))||"object"===t&&f(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&m(e.buffer),t},isString:h,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:v,isReadableStream:C,isRequest:I,isResponse:A,isHeaders:T,isUndefined:p,isDate:b,isFile:k,isBlob:w,isRegExp:D,isFunction:f,isStream:e=>y(e)&&f(e.pipe),isURLSearchParams:x,isTypedArray:R,isFileList:S,forEach:N,merge:function e(){const{caseless:t}=E(this)&&this||{},n={},a=(a,o)=>{const r=t&&j(n,o)||o;v(n[r])&&v(a)?n[r]=e(n[r],a):v(a)?n[r]=e({},a):u(a)?n[r]=a.slice():n[r]=a};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&N(arguments[o],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return N(t,((t,a)=>{n&&f(t)?e[a]=o(t,n):e[a]=t}),{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let o,r,i;const l={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],a&&!a(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:O,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:M,freezeMethods:e=>{M(e,((t,n)=>{if(f(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];f(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach((e=>{n[e]=!0}))};return u(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:j,global:P,isContextDefined:E,isSpecCompliantForm:function(e){return!!(e&&f(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const o=u(e)?[]:{};return N(e,((e,t)=>{const r=n(e,a+1);!p(r)&&(o[t]=r)})),t[a]=void 0,o}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(y(e)||f(e))&&f(e.then)&&f(e.catch),setImmediate:B,asap:G};function F(e,t,n,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}q.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const V=F.prototype,_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{_[e]={value:e}})),Object.defineProperties(F,_),Object.defineProperty(V,"isAxiosError",{value:!0}),F.from=(e,t,n,a,o,r)=>{const s=Object.create(V);return q.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),F.call(s,e.message,t,n,a,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const U=F;function H(e){return q.isPlainObject(e)||q.isArray(e)}function K(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function W(e,t,n){return e?e.concat(t).map((function(e,t){return e=K(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Y=q.toFlatObject(q,{},null,(function(e){return/^is[A-Z]/.test(e)}));const J=function(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!q.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,r=n.dots,s=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(!i&&q.isBlob(e))throw new U("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let i=e;if(e&&!o&&"object"===typeof e)if(q.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(H)}(e)||(q.isFileList(e)||q.endsWith(n,"[]"))&&(i=q.toArray(e)))return n=K(n),i.forEach((function(e,a){!q.isUndefined(e)&&null!==e&&t.append(!0===s?W([n],a,r):null===s?n:n+"[]",l(e))})),!1;return!!H(e)||(t.append(W(o,n,r),l(e)),!1)}const d=[],u=Object.assign(Y,{defaultVisitor:c,convertValue:l,isVisitable:H});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!q.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),q.forEach(n,(function(n,r){!0===(!(q.isUndefined(n)||null===n)&&o.call(t,n,q.isString(r)?r.trim():r,a,u))&&e(n,a?a.concat(r):[r])})),d.pop()}}(e),t};function Q(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Z(e,t){this._pairs=[],e&&J(e,this,t)}const X=Z.prototype;X.append=function(e,t){this._pairs.push([e,t])},X.toString=function(e){const t=e?function(t){return e.call(this,t,Q)}:Q;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ee=Z;function te(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ne(e,t,n){if(!t)return e;const a=n&&n.encode||te;q.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let r;if(r=o?o(t,n):q.isURLSearchParams(t)?t.toString():new ee(t,n).toString(a),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const ae=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},re={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ee,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},se="undefined"!==typeof window&&"undefined"!==typeof document,ie="object"===typeof navigator&&navigator||void 0,le=se&&(!ie||["ReactNative","NativeScript","NS"].indexOf(ie.product)<0),ce="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,de=se&&window.location.href||"http://localhost",ue={...a,...re};const pe=function(e){function t(e,n,a,o){let r=e[o++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),i=o>=e.length;if(r=!r&&q.isArray(a)?a.length:r,i)return q.hasOwnProp(a,r)?a[r]=[a[r],n]:a[r]=n,!s;a[r]&&q.isObject(a[r])||(a[r]=[]);return t(e,n,a[r],o)&&q.isArray(a[r])&&(a[r]=function(e){const t={},n=Object.keys(e);let a;const o=n.length;let r;for(a=0;a<o;a++)r=n[a],t[r]=e[r];return t}(a[r])),!s}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,((e,a)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,n,0)})),n}return null};const me={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,o=q.isObject(e);o&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return a?JSON.stringify(pe(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return J(e,new ue.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return ue.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return J(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||a?(t.setContentType("application/json",!1),function(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||me.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw U.from(o,U.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],(e=>{me.headers[e]={}}));const he=me,fe=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ge=Symbol("internals");function ye(e){return e&&String(e).trim().toLowerCase()}function ve(e){return!1===e||null==e?e:q.isArray(e)?e.map(ve):String(e)}function be(e,t,n,a,o){return q.isFunction(a)?a.call(this,t,n):(o&&(t=n),q.isString(t)?q.isString(a)?-1!==t.indexOf(a):q.isRegExp(a)?a.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function o(e,t,n){const o=ye(t);if(!o)throw new Error("header name must be a non-empty string");const r=q.findKey(a,o);(!r||void 0===a[r]||!0===n||void 0===n&&!1!==a[r])&&(a[r||t]=ve(e))}const r=(e,t)=>q.forEach(e,((e,n)=>o(e,n,t)));if(q.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,a,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),a=e.substring(o+1).trim(),!n||t[n]&&fe[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)})),t})(e),t);else if(q.isHeaders(e))for(const[s,i]of e.entries())o(i,s,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=ye(e)){const n=q.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(q.isFunction(t))return t.call(this,e,n);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ye(e)){const n=q.findKey(this,e);return!(!n||void 0===this[n]||t&&!be(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function o(e){if(e=ye(e)){const o=q.findKey(n,e);!o||t&&!be(0,n[o],o,t)||(delete n[o],a=!0)}}return q.isArray(e)?e.forEach(o):o(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const o=t[n];e&&!be(0,this[o],o,e,!0)||(delete this[o],a=!0)}return a}normalize(e){const t=this,n={};return q.forEach(this,((a,o)=>{const r=q.findKey(n,o);if(r)return t[r]=ve(a),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=ve(a),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return q.forEach(this,((n,a)=>{null!=n&&!1!==n&&(t[a]=e&&q.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ge]=this[ge]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=ye(e);t[a]||(!function(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+n,{value:function(e,n,o){return this[a].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[a]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(ke.prototype,((e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}})),q.freezeMethods(ke);const we=ke;function Se(e,t){const n=this||he,a=t||n,o=we.from(a.headers);let r=a.data;return q.forEach(e,(function(e){r=e.call(n,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function xe(e){return!(!e||!e.__CANCEL__)}function Ce(e,t,n){U.call(this,null==e?"canceled":e,U.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Ce,U,{__CANCEL__:!0});const Ie=Ce;function Ae(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new U("Request failed with status code "+n.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Te=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=a[s];o||(o=l),n[r]=i,a[r]=l;let d=s,u=0;for(;d!==r;)u+=n[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const Ne=function(e,t){let n,a,o=0,r=1e3/t;const s=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=r,n=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=r?s(l,e):(n=l,a||(a=setTimeout((()=>{a=null,s(n)}),r-t)))},()=>n&&s(n)]},je=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const o=Te(50,250);return Ne((n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,i=r-a,l=o(i);a=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:i,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},Pe=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Ee=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return q.asap((()=>e(...n)))},Re=ue.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ue.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,$e=ue.hasStandardBrowserEnv?{write(e,t,n,a,o,r){const s=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),q.isString(a)&&s.push("path="+a),q.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Oe(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ze=e=>e instanceof we?{...e}:e;function De(e,t){t=t||{};const n={};function a(e,t,n,a){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:a},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function o(e,t,n,o){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e,0,o):a(e,t,0,o)}function r(e,t){if(!q.isUndefined(t))return a(void 0,t)}function s(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(n,o,r){return r in t?a(n,o):r in e?a(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t,n)=>o(ze(e),ze(t),0,!0)};return q.forEach(Object.keys(Object.assign({},e,t)),(function(a){const r=l[a]||o,s=r(e[a],t[a],a);q.isUndefined(s)&&r!==i||(n[a]=s)})),n}const Me=e=>{const t=De({},e);let n,{data:a,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=we.from(i),t.url=ne(Oe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(a))if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(ue.hasStandardBrowserEnv&&(o&&q.isFunction(o)&&(o=o(t)),o||!1!==o&&Re(t.url))){const e=r&&s&&$e.read(s);e&&i.set(r,e)}return t},Le="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const a=Me(e);let o=a.data;const r=we.from(a.headers).normalize();let s,i,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(s),a.signal&&a.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const a=we.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Ae((function(e){t(e),h()}),(function(e){n(e),h()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new U("Request aborted",U.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new U("Network Error",U.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const o=a.transitional||oe;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new U(t,o.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,f)),f=null},void 0===o&&r.setContentType(null),"setRequestHeader"in f&&q.forEach(r.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),q.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([l,d]=je(m,!0),f.addEventListener("progress",l)),p&&f.upload&&([i,c]=je(p),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(s=t=>{f&&(n(!t||t.type?new Ie(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(s),a.signal&&(a.signal.aborted?s():a.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);y&&-1===ue.protocols.indexOf(y)?n(new U("Unsupported protocol "+y+":",U.ERR_BAD_REQUEST,e)):f.send(o||null)}))},Be=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;a.abort(t instanceof U?t:new Ie(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,o(new U(`timeout ${t} of ms exceeded`,U.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:i}=a;return i.unsubscribe=()=>q.asap(s),i}},Ge=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,o=0;for(;o<n;)a=o+t,yield e.slice(o,a),o=a},qe=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Fe=(e,t,n,a)=>{const o=async function*(e,t){for await(const n of qe(e))yield*Ge(n,t)}(e,t);let r,s=0,i=e=>{r||(r=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await o.next();if(t)return i(),void e.close();let r=a.byteLength;if(n){let e=s+=r;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),o.return())},{highWaterMark:2})},Ve="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,_e=Ve&&"function"===typeof ReadableStream,Ue=Ve&&("function"===typeof TextEncoder?(He=new TextEncoder,e=>He.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var He;const Ke=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(o){return!1}},We=_e&&Ke((()=>{let e=!1;const t=new Request(ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ye=_e&&Ke((()=>q.isReadableStream(new Response("").body))),Je={stream:Ye&&(e=>e.body)};var Qe;Ve&&(Qe=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Je[e]&&(Je[e]=q.isFunction(Qe[e])?t=>t[e]():(t,n)=>{throw new U(`Response type '${e}' is not supported`,U.ERR_NOT_SUPPORT,n)})})));const Ze=async(e,t)=>{const n=q.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e)){const t=new Request(ue.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return q.isArrayBufferView(e)||q.isArrayBuffer(e)?e.byteLength:(q.isURLSearchParams(e)&&(e+=""),q.isString(e)?(await Ue(e)).byteLength:void 0)})(t):n},Xe={http:null,xhr:Le,fetch:Ve&&(async e=>{let{url:t,method:n,data:a,signal:o,cancelToken:r,timeout:s,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=Me(e);c=c?(c+"").toLowerCase():"text";let m,h=Be([o,r&&r.toAbortSignal()],s);const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&We&&"get"!==n&&"head"!==n&&0!==(g=await Ze(d,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(q.isFormData(a)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Pe(g,je(Ee(l)));a=Fe(n.body,65536,e,t)}}q.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;m=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:o?u:void 0});let r=await fetch(m);const s=Ye&&("stream"===c||"response"===c);if(Ye&&(i||s&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=q.toFiniteNumber(r.headers.get("content-length")),[n,a]=i&&Pe(t,je(Ee(i),!0))||[];r=new Response(Fe(r.body,65536,n,(()=>{a&&a(),f&&f()})),e)}c=c||"text";let y=await Je[q.findKey(Je,c)||"text"](r,e);return!s&&f&&f(),await new Promise(((t,n)=>{Ae(t,n,{data:y,headers:we.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:m})}))}catch(y){if(f&&f(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new U("Network Error",U.ERR_NETWORK,e,m),{cause:y.cause||y});throw U.from(y,y&&y.code,e,m)}})};q.forEach(Xe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>`- ${e}`,tt=e=>q.isFunction(e)||null===e||!1===e,nt=e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let n,a;const o={};for(let r=0;r<t;r++){let t;if(n=e[r],a=n,!tt(n)&&(a=Xe[(t=String(n)).toLowerCase()],void 0===a))throw new U(`Unknown adapter '${t}'`);if(a)break;o[t||"#"+r]=a}if(!a){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ie(null,e)}function ot(e){at(e),e.headers=we.from(e.headers),e.data=Se.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return nt(e.adapter||he.adapter)(e).then((function(t){return at(e),t.data=Se.call(e,e.transformResponse,t),t.headers=we.from(t.headers),t}),(function(t){return xe(t)||(at(e),t&&t.response&&(t.response.data=Se.call(e,e.transformResponse,t.response),t.response.headers=we.from(t.response.headers))),Promise.reject(t)}))}const rt="1.8.4",st={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{st[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const it={};st.transitional=function(e,t,n){function a(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,r)=>{if(!1===e)throw new U(a(o," has been removed"+(t?" in "+t:"")),U.ERR_DEPRECATED);return t&&!it[o]&&(it[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,r)}},st.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const lt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let o=a.length;for(;o-- >0;){const r=a[o],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new U("option "+r+" must be "+n,U.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new U("Unknown option "+r,U.ERR_BAD_OPTION)}},validators:st},ct=lt.validators;class dt{constructor(e){this.defaults=e,this.interceptors={request:new ae,response:new ae}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(a){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=De(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:o}=t;void 0!==n&&lt.assertOptions(n,{silentJSONParsing:ct.transitional(ct.boolean),forcedJSONParsing:ct.transitional(ct.boolean),clarifyTimeoutError:ct.transitional(ct.boolean)},!1),null!=a&&(q.isFunction(a)?t.paramsSerializer={serialize:a}:lt.assertOptions(a,{encode:ct.function,serialize:ct.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lt.assertOptions(t,{baseUrl:ct.spelling("baseURL"),withXsrfToken:ct.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=o&&q.merge(o.common,o[t.method]);o&&q.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=we.concat(r,o);const s=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[ot.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=ot.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ne(Oe((e=De(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],(function(e){dt.prototype[e]=function(t,n){return this.request(De(n||{},{method:e,url:t,data:(n||{}).data}))}})),q.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,o){return this.request(De(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}dt.prototype[e]=t(),dt.prototype[e+"Form"]=t(!0)}));const ut=dt;class pt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e,a,o){n.reason||(n.reason=new Ie(e,a,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pt((function(t){e=t})),cancel:e}}}const mt=pt;const ht={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ht).forEach((e=>{let[t,n]=e;ht[n]=t}));const ft=ht;const gt=function e(t){const n=new ut(t),a=o(ut.prototype.request,n);return q.extend(a,ut.prototype,n,{allOwnKeys:!0}),q.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(De(t,n))},a}(he);gt.Axios=ut,gt.CanceledError=Ie,gt.CancelToken=mt,gt.isCancel=xe,gt.VERSION=rt,gt.toFormData=J,gt.AxiosError=U,gt.Cancel=gt.CanceledError,gt.all=function(e){return Promise.all(e)},gt.spread=function(e){return function(t){return e.apply(null,t)}},gt.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},gt.mergeConfig=De,gt.AxiosHeaders=we,gt.formToJSON=e=>pe(q.isHTMLForm(e)?new FormData(e):e),gt.getAdapter=nt,gt.HttpStatusCode=ft,gt.default=gt;const yt=gt},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,o=e[a];if(!(0<r(o,t)))break e;e[a]=t,e[n]=o,n=a}}function a(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,o=e.length,s=o>>>1;a<s;){var i=2*(a+1)-1,l=e[i],c=i+1,d=e[c];if(0>r(l,n))c<o&&0>r(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[i]=n,a=i);else{if(!(c<o&&0>r(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=a(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function w(e){if(g=!1,k(e),!f)if(null!==a(c))f=!0,$(S);else{var t=a(d);null!==t&&O(w,t.startTime-e)}}function S(e,n){f=!1,g&&(g=!1,v(A),A=-1),h=!0;var r=m;try{for(k(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!j());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var i=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===a(c)&&o(c),k(n)}else o(c);p=a(c)}if(null!==p)var l=!0;else{var u=a(d);null!==u&&O(w,u.startTime-n),l=!1}return l}finally{p=null,m=r,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,I=null,A=-1,T=5,N=-1;function j(){return!(t.unstable_now()-N<T)}function P(){if(null!==I){var e=t.unstable_now();N=e;var n=!0;try{n=I(!0,e)}finally{n?x():(C=!1,I=null)}}else C=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,R=E.port2;E.port1.onmessage=P,x=function(){R.postMessage(null)}}else x=function(){y(P,0)};function $(e){I=e,C||(C=!0,x())}function O(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,$(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>s?(e.sortIndex=r,n(d,e),null===a(c)&&e===a(d)&&(g?(v(A),A=-1):g=!0,O(w,r-s))):(e.sortIndex=i,n(c,e),f||h||(f=!0,$(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},255:(e,t,n)=>{n.d(t,{MV:()=>i,TL:()=>l,il:()=>s});const a=500,o=1e3,r=new Map,s=(e,t,n)=>({centerX:e*n+n/2-6,centerY:t*n+n/2-6}),i=(e,t,n)=>{const o=document.querySelector(".homestead");if(!o)return;const i=`collect-${e}-${t}`,l=Date.now(),c=r.get(i);if(c&&l-c<100)return void console.log("Skipping duplicate collect effect at",e,t);r.set(i,l),setTimeout((()=>{r.delete(i)}),1e3);const d=o.querySelectorAll(".tile");let u,p,m=null;if(d.forEach((a=>{const o=parseInt(a.style.top)/n,r=parseInt(a.style.left)/n;Math.round(r)===e&&Math.round(o)===t&&(m=a)})),m){const e=m.getBoundingClientRect(),t=o.getBoundingClientRect();u=e.left-t.left+e.width/2-6,p=e.top-t.top+e.height/2-6}else{const{centerX:a,centerY:o}=s(e,t,n);u=a,p=o}console.log("createCollectEffect at grid(",e,",",t,") -> screen(",u,",",p,")");[{dx:-1,dy:-1,startX:-2,startY:-2},{dx:1,dy:-1,startX:2,startY:-2},{dx:-1,dy:1,startX:-2,startY:2},{dx:1,dy:1,startX:2,startY:2}].forEach((e=>{const t=((e,t,n)=>{const a=document.createElement("div");return a.innerText=e,a.style.position="absolute",a.style.left=`${t}px`,a.style.top=`${n}px`,a.style.pointerEvents="none",a.style.zIndex="1000",a.style.fontSize="12px",a})("\ud83d\udca8",u+e.startX,p+e.startY);o.appendChild(t),t.style.transition="all 0.5s ease-out",requestAnimationFrame((()=>{t.style.transform=`translate(${20*e.dx}px, ${20*e.dy}px)`,t.style.opacity="0"})),setTimeout((()=>{o.removeChild(t)}),a)}))},l=(e,t,n,a)=>{const r=document.querySelector(".homestead");if(!r)return;console.log("createSourceConversionEffect called with x:",e,"y:",t,"requiredSkill:",a);const i=null!==a&&void 0!==a&&a.includes("Axe")?"\ud83e\ude93":null!==a&&void 0!==a&&a.includes("Pickaxe")?"\u26cf\ufe0f":null!==a&&void 0!==a&&a.includes("Golden Key")?"\ud83d\udd11":null!==a&&void 0!==a&&a.includes("Skeleton Key")?"\ud83d\udddd\ufe0f":"\ud83d\udcab",{centerX:l,centerY:c}=s(e,t,n),d=document.createElement("div");d.innerText=i,d.style.position="absolute",d.style.left=l-n/2+5+"px",d.style.top=c-n/2-4+"px",d.style.pointerEvents="none",d.style.zIndex="1000",d.style.fontSize="28px",r.appendChild(d),d.style.transition=`all ${o}ms cubic-bezier(0.2, 0, 0, 1)`,requestAnimationFrame((()=>{d.style.transform=`translate(-${n}px, ${n}px)`,d.style.opacity="0"})),setTimeout((()=>{r.removeChild(d)}),o)}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},431:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(488),o=n(665),r=n(213),s=n(517),i=n(146);const l=new class{constructor(){this.playersInGrid={},this.pendingUpdates={},this.batchInterval=null,this.BATCH_SAVE_INTERVAL=500}registerSetPlayersInGrid(e){this.setPlayersInGridReact=e}registerTileSize(e){this.tileSize=e}startBatchSaving(){this.batchInterval||(this.batchInterval=setInterval((()=>{this.processPendingUpdates()}),this.BATCH_SAVE_INTERVAL),console.log("\ud83d\udd04 Started batch saving interval"))}stopBatchSaving(){this.batchInterval&&(clearInterval(this.batchInterval),this.batchInterval=null),this.processPendingUpdates()}async processPendingUpdates(){const e=Object.entries(this.pendingUpdates);if(0!==e.length){console.log(`\ud83d\udce6 Processing ${e.length} pending position updates`),this.pendingUpdates={};for(const[n,o]of e)try{await r.A.post(`${a.A}/api/save-single-pc`,{gridId:o.gridId,playerId:o.playerId,pc:o.pc,lastUpdated:o.lastUpdated})}catch(t){console.error(`\u274c Failed to save position for ${o.playerId}:`,t),this.pendingUpdates[n]=o}0===Object.keys(this.pendingUpdates).length&&console.log("\u2705 All position updates saved successfully")}}async forceSavePendingUpdates(){await this.processPendingUpdates()}async initializePlayersInGrid(e){if(console.log("\ud83e\udde0 Fetching playersInGrid for gridId:",e),e)try{const t=await r.A.get(`${a.A}/api/load-grid-state/${e}`),{playersInGrid:n={pcs:{},lastUpdated:0}}=t.data,s={pcs:n.pcs||{},playersInGridLastUpdated:new Date(n.lastUpdated||0).getTime()},i=s.pcs||{};console.log("Fetched PC NPCsInGrid:",s),Object.keys(i).forEach((e=>{const t=i[e];i[e]={...t,position:t.position||{x:0,y:0}}})),this.playersInGrid[e]=s,this.setPlayersInGridReact((t=>({...t,[e]:{pcs:i,playersInGridLastUpdated:Date.now()}}))),console.log(`\u2705 Initialized playersInGrid for gridId ${e}:`,i),this.startBatchSaving(),this.unloadListenerAdded||(window.addEventListener("beforeunload",(()=>{console.log("\ud83d\udd04 Page unloading, saving pending positions...");const e=Object.entries(this.pendingUpdates);if(e.length>0)for(const[t,n]of e){const e=new XMLHttpRequest;e.open("POST",`${a.A}/api/save-single-pc`,!1),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({gridId:n.gridId,playerId:n.playerId,pc:n.pc,lastUpdated:n.lastUpdated}))}})),this.unloadListenerAdded=!0),console.log("\ud83d\udd04 Requesting current players from server for grid:",e),o.Ay&&o.Ay.emit&&o.Ay.emit("request-current-grid-players",{gridId:e})}catch(t){console.error("\u274c Error fetching playersInGrid:",t)}else console.error("initializePlayersInGrid: gridId is undefined.")}getPlayersInGrid(e){const t=this.playersInGrid[e];return t?t.pcs:(console.warn(`\u26a0\ufe0f No PC state found for gridId: ${e}`),{})}getAllPCs(e){var t,n;return(null===(t=this.playersInGrid)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.pcs)||{}}getPlayerPosition(e,t){var n,a,o,r;return(null===(n=this.playersInGrid)||void 0===n||null===(a=n[e])||void 0===a||null===(o=a.pcs)||void 0===o||null===(r=o[t])||void 0===r?void 0:r.position)||null}setAllPCs(e,t){this.playersInGrid[e]={pcs:t||{},playersInGridLastUpdated:Date.now()},this.setPlayersInGridReact&&this.setPlayersInGridReact((t=>({...t,[e]:this.playersInGrid[e]})))}async addPlayer(e,t,n){this.playersInGrid[e]||(this.playersInGrid[e]={pcs:{},playersInGridLastUpdated:Date.now()});const s=Date.now(),l=await(0,i._M)(),c={};(n.powers||[]).forEach((e=>{const t=l.find((t=>t.type===e.type));if(null!==t&&void 0!==t&&t.output&&"number"===typeof t.qtycollected){const n=(e.quantity||0)*t.qtycollected;c[t.output]=(c[t.output]||0)+n}}));const d=(e,t)=>(n[e]||0)+(c[t]||0),u={playerId:t,username:n.username,type:"pc",icon:n.icon,position:n.position||{x:0,y:0},hp:d("baseHp","hp"),maxhp:d("baseMaxhp","maxhp"),armorclass:d("baseArmorclass","armorclass"),attackbonus:d("baseAttackbonus","attackbonus"),damage:d("baseDamage","damage"),attackrange:d("baseAttackrange","attackrange"),speed:d("baseSpeed","speed"),iscamping:n.iscamping||!1,isinboat:n.isinboat||!1,lastUpdated:s};this.playersInGrid[e].pcs[t]=u;try{await r.A.post(`${a.A}/api/save-single-pc`,{gridId:e,playerId:t,pc:u,lastUpdated:s}),console.log(`\u2705 Added and saved new PC ${t} to server.`)}catch(p){console.error(`\u274c Failed to add PC ${t}:`,p)}o.Ay&&o.Ay.emit&&o.Ay.emit("update-NPCsInGrid-PCs",{gridId:e,pcs:{[t]:u},playersInGridLastUpdated:s})}addPC(e,t,n){this.playersInGrid[e]||(this.playersInGrid[e]={pcs:{},playersInGridLastUpdated:Date.now()});const a=Date.now(),o={playerId:n.playerId,username:n.username,type:n.type,icon:n.icon,position:n.position||{x:0,y:0},hp:n.hp,maxhp:n.maxhp,armorclass:n.armorclass,attackbonus:n.attackbonus,damage:n.damage,attackrange:n.attackrange,speed:n.speed,iscamping:n.iscamping||!1,isinboat:n.isinboat||!1,lastUpdated:a};this.playersInGrid[e].pcs[t]=o,this.setPlayersInGridReact&&this.setPlayersInGridReact((n=>{var a;return{...n,[e]:{...n[e]||{},pcs:{...(null===(a=n[e])||void 0===a?void 0:a.pcs)||{},[t]:o}}}}))}async updatePC(e,t,n){var a,r;const i=null===(a=this.playersInGrid[e])||void 0===a?void 0:a.pcs;if(!i||!i[t])return void console.error(`Cannot update PC ${t}. No NPCsInGrid or PC found for gridId: ${e}`);const l=i[t];if(Object.keys(n).filter((e=>"lastUpdated"!==e)).every((e=>{const t=l[e],a=n[e];return JSON.stringify(t)===JSON.stringify(a)})))return;const c=null===(r=i[t])||void 0===r?void 0:r.position,d=Date.now(),u={...i[t],...n,lastUpdated:d},p=u.position;if(this.playersInGrid[e].pcs[t]=u,o.Ay&&o.Ay.emit){const n={[e]:{pcs:{[t]:u},playersInGridLastUpdated:d},emitterId:o.Ay.id};o.Ay.emit("update-NPCsInGrid-PCs",n)}this.tileSize&&c&&p&&(c.x!==p.x||c.y!==p.y)&&(0,s.d)(t,c,p,this.tileSize),this.setPlayersInGridReact&&this.setPlayersInGridReact((n=>{var a;return{...n,[e]:{...n[e]||{},pcs:{...(null===(a=n[e])||void 0===a?void 0:a.pcs)||{},[t]:u}}}}));const m=`${e}-${t}`;this.pendingUpdates[m]={gridId:e,playerId:t,pc:u,lastUpdated:d},this.batchInterval||this.startBatchSaving()}removePC(e,t){var n,a;null!==(n=this.playersInGrid[e])&&void 0!==n&&null!==(a=n.pcs)&&void 0!==a&&a[t]?(delete this.playersInGrid[e].pcs[t],this.setPlayersInGridReact&&this.setPlayersInGridReact((n=>{var a;const o={...(null===(a=n[e])||void 0===a?void 0:a.pcs)||{}};return delete o[t],{...n,[e]:{...n[e]||{},pcs:o}}})),console.log(`\ud83d\uddd1\ufe0f Removed PC ${t} from grid ${e}`)):console.warn(`\u26a0\ufe0f Cannot remove PC ${t}; not found in grid ${e}.`)}},c=l,{initializePlayersInGrid:d}=l},488:(e,t,n)=>{n.d(t,{A:()=>a});const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51ReZDs2Ldypb8mDE69ZKUaxZ5aUTW9PCLZUg8JPNmQmefLd4c8jy44ryZ19UZhsMVqOi7DU3RJ9qGdN5a5K2aOP2000ulybBFt"}.REACT_APP_SERVER_URL||"http://localhost:3001"},517:(e,t,n)=>{n.d(t,{d:()=>o});var a=n(106);function o(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,s=0;console.log("animateRemotePC",e,t,n,"steps:",r);const i=t.x*o,l=t.y*o,c=n.x*o,d=n.y*o;!function t(){if(s>=r)return void delete a.ZH[e];const n=i+(c-i)/r*s,u=l+(d-l)/r*s;a.ZH[e]={x:n/o,y:u/o},s++,requestAnimationFrame(t)}()}},544:e=>{e.exports=JSON.parse('{"0":"Valley View","1":"Server is not running.","3":"\ud83d\ude9c Land successfully tilled.","4":"\u26a0\ufe0f You don\'t have enough resources.","5":"\u2692\ufe0f Construction completed successfully.","6":"\ud83d\udcb0 Items sold.","7":"\ud83c\udfe0 This homsetead is unoccupied.","8":"\ud83d\udeab This area is off limits.","9":"The Valley is full of wonders, and must be explored on foot.","10":"\ud83c\udfe0 [username]\'s homestead.","11":"\ud83c\udfe0 Unknown owner\'s homestead.","12":"Settlement view. Depending on your location, you may need to scroll to see the Town.","13":"Frontier view.","14":"\ud83d\ude82 Welcome to town.","15":"\ud83d\udc34 You need a Horse to travel here. Visit the Adventure Camp in Town.","16":"You\'re in the valley.","17":"You do not own a hometead here.","18":"\ud83d\udeab You can\'t go that way.","19":"\ud83c\udf92 You need a Backpack to collect resources away from your homestead. Buy one at the Adventure Camp.","20":"\ud83d\udeab Not enough room in the Warehouse.","21":"\ud83c\udf92 Not enough room in the Backpack. Open Inventory to manage Backpack contents.","22":"Items purchased.","23":"\u26a0\ufe0f You can\'t build that here.","24":"\ud83c\udfaf Out of range","25":"\ud83c\udf92 Nothing in the Backpack.","26":"\ud83c\udf92 You must be at your homestead to empty your Backpack.","27":"\u26fa\ufe0f You don\'t have a tent.","28":"\u26fa\ufe0f You are now camping.","29":"\u26a0\ufe0f \u26fa\ufe0f Failed to camp / decamp.","30":"\u26fa\ufe0f No longer camping.","31":"\u26fa\ufe0f Cannot attack while camping.","32":"\u26fa\ufe0f You need to decamp first.","33":"\ud83d\udce6 Moved items to the Warehouse.","34":"\ud83c\udf92 Emptied backpack.","35":"You need a ","36":"You used a ","50":"\ud83d\udeab That username is already taken.","70":"Session Expired","71":"You\'ve been away for a while. Refreshing ensures your session works properly.","72":"This page will auto-refresh in 30 seconds unless you do it now.","73":"\ud83d\udd04 Refresh Now","74":"\ud83c\udf92 A Backpack is required to own a Tent.","75":"You do not own a Backpack. You can purchase one at the Adventure Camp in Town.","76":"Your Warehouse is empty.","77":"Your Backpack is empty.","78":"Manage Contents","80":"Acquired ","90":"\ud83d\udeab This is not your homestead.","91":"\ud83d\udc34 Horse required.","96":"Have Feedback?","97":"@ Email Us","98":"\u23f3 Loading ...","99":"\u26a0\ufe0f Something went wrong.","100":"TRAVELING STRINGS:","101":"\ud83d\udc34 Traveling home ... please wait.","102":"\ud83d\udc34 Traveling to town ... please wait.","103":"\ud83d\udc34 Traveling to the next location ... please wait.","104":"\ud83d\udeab No town in this settlement yet.","105":"\u26a0\ufe0f There was a problem trying to travel.","106":"\ud83d\udeab You cannot travel beyond the frontier.","110":"\u27a1\ufe0f Walk onto Signposts to use them","111":"Welcome to town.","112":"Welcome home.","120":"You don\'t have any homestead moves left.","121":"You have successfully moved your homestead.","122":"You cannot move to the valley!","123":"You cannot move to the town!","124":"That homestead is occupied.","125":"Where are you moving to?","130":"Select your language:","131":"Confirm","150":"TRADE STALL STRINGS:","151":"You cannot fill another player\'s trade stall.","152":"You do not have enough money to buy this item.","153":"is selling:","154":"are selling","155":"Transaction failed. This item has already been sold.","156":"Click to sell","157":"Bought by","158":" limit per order.","159":"Ready to sell","160":"Items to Sell","161":"Item","162":"Available","163":"Price","164":"Amount","165":"All","166":"Add","170":"Unlocked trading slot","171":"Gold Pass Required","172":"Locked","173":"Limit of","174":"to Sell","175":"Unlock for","176":"Wood","177":"Need","178":"to unlock this slot","179":"This Outpost only accepts items from your backpack. Any player can collect money from an Outpost.","180":"INVENTORY STRINGS:","181":"\ud83d\udce6 Warehouse","182":"\ud83c\udf92 Backpack","183":"Capacity: ","184":"Manage Contents","185":"Quantity","186":"Amount","187":"Add to Warehouse","188":"Discard","189":"Add All to Warehouse","190":"Discard All","191":"Item","192":"Action","193":"Discard Items","194":"Expand Warehouse","195":"Expand Backpack at the Adventure Camp in Town.","199":"Near unlimited capacity with Gold Pass (among other benefits).","200":"QUESTS","201":"\u2705 Action item completed. You have your reward.","202":"\u2705 Action item accepted.","203":"No action items at the moment.","204":"To Do List:","205":"Nothing new at this time. Check your \u2705 To Do list!","206":"Return to the NPC who gave you this quest to collect your reward.","207":"In Progress","208":"Get Reward","209":"Accept","299":"FARMING STRINGS:","300":"Added","301":"\ud83d\ude9c Tilled","302":"\ud83d\ude9c Planted","303":"\ud83d\ude9c Must plant on dirt","304":"\ud83d\ude9c Can\'t plant here","305":"\u26a0\ufe0f Not enough resources","306":"\u26a0\ufe0f Can\'t build here","310":"You need to till the land for planting.","311":"Your farm animals will need plenty of grass to graze on.","312":"Pavement can be useful to control wandering animals.","313":"","315":"Select Crops to Harvest:","316":"Select All","317":"Deselect All","318":"Collect","319":"Select Animals to Collect:","320":"Cannot terraform here.","340":"Not avilable unless you\'re on foot.","341":"Select Crafting Stations to Collect:","342":"Harvest?","343":"Replant?","344":"No crops ready to harvest.","345":"Ready to Collect:","350":"The Farm Hand will help you automate harvesting and planting of crops.","351":"The Rancher will help you automate collecting from animals.","352":"The Lumberjack will help you automate chopping trees for wood.","353":"The Crafter will help you automate collecting from crafting stations.","354":"Kent is your Farm Manager. He can help you run your homestead.","355":"The Shepherd will guide you in the management of your farm animals.","400":"BUYING, CRAFTING, SKILLS, HEALING, ETC.","401":"\u2764\ufe0f\u200d\ud83e\ude79 Already at maximum hit points.","402":"\u26a0\ufe0f  resources.","403":"\u26a0\ufe0f Youre inventory is full.","404":"Working...","405":"\u2764\ufe0f\u200d\ud83e\ude79 Hit Points healed by +","410":"\ud83c\udfd5\ufe0f To use a purchased tent, click on your own player icon.","420":"will trade you:","421":"Used In:","422":"Base Value:","423":"No trades available.","424":"No recipes available.","425":"Sell for refund","426":"Expensive starter crops, but in case you run out:","427":"Purchase the Farm Hand\'s Bulk Harvest skill to harvest all crops at once.","428":"Click to instantly harvest all crops.","429":"You have no crops to harvest.","430":"Purchase these farm skills:","431":"Purchase the Farm Hand\'s Bulk Animal Collect skill to collect from all animals at once.","432":"Purchase the Farm Hand\'s Logging skill to chop multiple trees at once and collect the wood.","433":"Purchase Better Logging to increase the number of trees chopped at once.","434":"Click to instantly collect from all animals.","435":"Click to instantly chop multiple trees and collect wood.","436":"You have no animals to collect from.","437":"You have no trees to chop.","438":"Remove Crop","439":"Crop returned.","440":"Started ","441":"\u231b\ufe0f Ready in ","442":"\ud83c\udfe0 House repairs complete!","450":"\u274c Cannot afford crafting costs","451":"\u26a0\ufe0f Crafting already in progress","452":"\u274c Failed to start crafting.","453":"\u274c Failed to repair house.","454":"\u274c Failed to hire worker.","455":" has arrived!","456":"No more workers available.","457":"Ready!","458":"Time: ","459":"Instant","460":"Requires: ","461":"Costs: ","462":"Gives: ","463":"Heals: ","464":"Purchase Bulk Crafting to collect from ready crafting stations all at once.","465":"Click to instantly collect from all ready crafting stations.","466":"You have no crafting stations ready to collect from.","467":"Bulk Crafting","468":"Restarted: ","469":"Animal Collect complete: ","470":"Cannot travel right now, farming actions in progress.","471":"\u26a0\ufe0f Already in progress.","472":"Harvest complete: ","475":"Restart?","476":"Station","477":"Your farm workers are busy...","478":"\ud83d\ude9c Working","490":"Sell for refund (Dev only)","500":"COMBAT STRINGS","501":"\ud83c\udfaf Out of range.","502":"\ud83c\udfaf Hit!","503":"\u274c Miss","504":"\ud83d\udc80 Killed","505":"\u26a0\ufe0f Error","510":"\u2764\ufe0f\u200d\ud83e\ude79 You\'re taking damage ...","511":"\u2764\ufe0f\u200d\ud83e\ude79 Your Health: ","512":"Your Health Unavailable","600":"RELATIONSHIP STRINGS:","601":"Relationship:","602":"You\'ve met","603":"You\'re now friends with","604":"You have a crush on","605":"You\'re in love with","606":"You and","607":"are now married.","608":"are now rivals.","609":"is now your rival because of this.","610":"isn\'t going to be very happy about this...","611":"aren\'t going to be very happy about this...","612":"will be very happy about this.","613":"approve of this.","614":"and","615":"Your relationship with","616":"has changed.","620":"You need to move closer to interact with this character.","630":"Greet","631":"Talk","632":"Trade","633":"Quest","634":"Met","635":"Friend","636":"Married","637":"Rival","638":"Love","639":"Crush","640":"Joke","641":"Make Friends","642":"Insult","643":"Hug","644":"Kiss","645":"Apologize","646":"Give Gift","647":"Compliment","648":"Flatter","649":"Profess Love","650":"Propose","651":"Taunt","652":"Tease","653":"End Marriage","700":"FTUE STRINGS:","701":"\ud83d\ude00 Welcome to Valley View","702":"Welcome, traveler! You\'ve arrived in Valley View, a frontier land of opportunity, mystery and adventure.","705":"Aspiration","706":"Valley View is a big world. It\'s up to you how you want to spend your time. Which of these aspirations best suits your style of play? (This choice will not limit your options in any way.)","721":"\ud83e\udd20 Meet Kent the Farm Manager","722":"First things first! Harvest some \ud83c\udf3e Wheat and sell it at the \ud83d\udce5 Trading Post for \ud83d\udcb0 Money.","723":"\ud83d\ude9c Get Farming","724":"Well done, you\'re making money now, so start Farming! Plant crops using the \ud83d\ude9c Farming panel, harvest them, and sell.","727":"\ud83d\udc75\ud83c\udffb Hire the Shepherd","728":"Nice work! Now hire the \ud83d\udc75\ud83c\udffb Shepherd from the \ud83c\udfe0 Farm House, and she\'ll help bring some \ud83d\udc2e animal life to the farm, so you can continue to expand your business.","729":"\ud83d\udc2e Animal Husbandry","730":"Welcome \ud83d\udc75\ud83c\udffb Shepherd! Now visit the \ud83d\udc2e Animal Panel to acquire a cow. Cows need \ud83d\udfe9 grass to graze, so place them carefully. And you already have your first \ud83d\udfeb Animal Stall; this is where you can produce milk once the cow is full.","731":"\u26cf\ufe0f Shape the Land","732":"Crops need dirt. Cows and sheep need \ud83d\udfe9 grass. Pavement can help contain the movements of people and animals. Use the \u26cf\ufe0f Tools to pave the land to your liking, and learn the  \ud83e\ude93 axe skill to chop trees for wood.","733":"\u2692\ufe0f Builder","734":"You\'ve mastered the \ud83e\ude93 axe -- excellent! Wood is useful for a number of things, including building crafting stations. You can also chop your way to the \ud83d\ude82 Train Station at the edge of your Homestead, where you can eventually travel into Town.","737":"Time to Explore","738":"Your Homestead is part of a larger Settlement of other players sharing a large Frontier. Zoom out (+ and -) to see the whole Settlement and Frontier. Use \u27a1\ufe0f Signposts to travel, or walk to the edge of any map. ENJOY PLAYING VALLEY VIEW!","750":"\ud83d\ude9c Farmer","751":"Cultivate your homestead, grow crops, tend animals, and craft goods to sell and trade with other players. Invest in farming and crafting skills to grow your profits.","752":"\u2694\ufe0f Adventurer","753":"Venture into the Valley for resources and rare items. Fight animals and creatures, uncover hidden locations, and meet magical characters. Invest in combat skills to become a formidable fighter.","754":"\ud83c\udfdb\ufe0f Politician","755":"Run for Mayor, set the tax rate, and earn tax revenue for your self. Invest in community buildings for the whole Town, like Hospitals, Schools, and Libraries, and help your settlement thrive.","795":"Skip Tutorial","796":"OK","797":"Back","798":"Play","800":"MORE CRAFTING STATION STRINGS:","801":"Acquire the ","802":" Skill at the ","803":" to increase the output of this station by ","805":"Your ","806":" Skill increases the base output of this station by ","810":"You can also purchase this skill directly: ","820":"Makes: ","821":"Base Amount: ","899":"DEBUG STRINGS:","900":"Debug: Inventory cleared.","901":"Debug: Quest history cleared.","902":"Debug: Resources added.","903":"Debug: Grid successfully reset.","904":"Debug: Skills added.","905":"Debug: Skills & Powers cleared.","906":"Debug: Combat Stats reset.","999":"PANEL UI STRINGS:","1000":"[Description needed]","1001":"Resources collected at the homestead go into the warehouse. Resources collected in town or in the valley will go into the backpack. To buy a backpack, visit the Store in town. To empty the backpack or warehouse, use the Manage buttons.","1002":"Build crafting stations on your Homestead using resources from your warehouse.","1003":"Purchased animals will appear at your player icon, and immediately begin life on the homestead.","1004":"Till land to dirt in order to plant crops. Plant grass to give farm animals something to graze on.","1005":"Acquire Skills and Upgrades to improve various attributes. Make sure to explore the Town to find additional places and ways to gain Skills and Upgrades.","1006":"Manage your ongoing To Do list here. Look for quest-giving characters on your homestead as well as Town, or even the Valley.","1007":"Governments in Valley View are formed at the settlement level. The elected mayor implements policies and builds buildings to help the community thrive.","1008":"Buy and sell with other players. If no players buy your items before the timer expires, sell them to the game for a fraction of their base value.","1009":"[Crafting description]","1010":"[Mailbox description]","1011":"This Animal Stall is empty. Make sure animals have grass to eat, and they will eventually come to the stall for harvesting.","1012":"Elections take place in the Courthouse. Here, Mayors have the power to set the tax rate and rename the Settlement.","1013":" ","1014":" ","1015":"The game takes place over the course of continually changing seasons.","1016":" ","1017":"Visit the Bank to exchange items for Money, including rare items like Gold and Silver. Return to the bank regulalry for different offers.","1018":"","1019":"[Profile description]","1021":"\xa9 Valley View Studios, 2025, All Rights Reserved.","1022":"[Train description]","1023":"Workers help you run your homestead. Hire them at the Farm House.","1024":"[Combat description]","1025":"[Shop description]","1026":"Earning and spending Money.","1027":"These are the benefits of a Gold Pass.","1028":"[Decorations panel description]","1029":"[Animal panel]","1030":"[Crop panel]","1031":"Buy decorations for your homesetead. You will be able to sell these for a full refund.","1032":"The Farm House is where you can hire people to help you run your homestead.","1033":"Terraform the land with these tools. Animals need grass for grazing, crops need dirt to grow on. Pavement can be useful for controlling movements of animals and characters.","1034":"Earning and spending Gems.","1035":"This is your collection of lifetime Trophies.","1101":"Inventory","1102":"\u2692\ufe0f Build","1103":"\ud83d\uded2 Buy","1104":"\ud83d\ude9c Farming","1105":"\ud83d\udcaa Skills","1106":"\u2705 To Do List","1107":"\ud83c\udfdb\ufe0f Government","1108":"\ud83d\udce5 Trade","1109":"Crafting","1110":"\ud83d\udcea Mailbox","1111":"\ud83d\udc3e Animals","1112":"\ud83c\udfdb\ufe0f Courthouse","1113":"Helper Character","1114":"\ud83d\ude00 Player Character","1115":"\ud83d\uddd3\ufe0f Season","1116":"\ud83d\udd01 Trader","1117":"\ud83c\udfe6 Bank","1118":"\ud83d\udd79\ufe0f How to Play","1119":"\ud83d\ude00 Profile","1120":"\ud83d\udc1e Debug","1121":"\ud83d\ude00 Welcome","1122":"\ud83d\ude82 Train","1123":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf3e Farm Hand","1124":"\u2694\ufe0f Combat","1125":"\ud83d\uded2 Shop","1126":"\ud83d\udcb0 About Money","1127":"\u2b50\ufe0f Gold Pass","1128":"\ud83e\udeb4 Decorations","1129":"\ud83d\udc3e Animals","1130":"\ud83c\udf31 Crops & Trees","1131":"\ud83e\udeb4 Decorations","1132":"\ud83c\udfe0 Farm House","1133":"\u26cf\ufe0f Tools","1134":"\ud83d\udc8e Gems","1135":"\ud83c\udfc6 Trophies","1200":"TRADER STORY STRINGS","1201":"Ah, the forest hides many secrets\u2026 and I? I\u2019ve stolen a few. These Gems, they\u2019re not mine, but Titania has more than she needs. You\u2019ve something I crave: Olive Bread, warm and rich. Trade with me, and I might whisper tales of glowing eyes in the dark, wings that shimmer at moonrise, and dragons that speak in riddles. Keep an ear open, and a dagger close.","1202":"My bounty is as boundless as the sea, my love as deep... but he is gone, and all that remains is a portrait and pain. Angelo took both. Bring me Romeo\u2019s likeness, torn from my chamber, and I\u2019ll give you Tulips red as the blood spilt on Verona\u2019s stones. Let this be our new balcony: you below, bearing justice.","1203":"Give me life, give me love, but most of all... give me Port! In exchange, a sprig of Feverfew, dearer than gold to some, especially that wide-eyed Helena. Says she\u2019s after crowns and legends, poor girl. Me? I\u2019m after a full belly and a gentle nap. \u2018Thou art so fat-witted with drinking of old sack,\u2019 they once told me. Ha! They were not wrong.","1204":"Here\u2019s rosemary, for remembrance\u2014and nightshade, for regrets. My potions are not for the faint of will. With the right leaf, I can mend your limbs or muddle your tongue. \u2018I do remember an apothecary,\u2019 said a boy once, and he paid the price. But you? You look wiser. Bring me rare roots and bitter seeds, and I\u2019ll mix you something worth the danger.","1205":"Something is rotten, still. I feel it in the soil. I once ruled, loved, lost. Helena burned through me like summer lightning. And Leontes? He could not forgive the thaw. \u2018The lady doth protest too much,\u2019 they said; let them. If you see Helena, tell her the roses know her name. If you see Leontes, tell him I have not forgotten the winter.","1206":"My grief is a statue; silent, but never still. I buried my crown in snow the day Gertrude chose her garden over me. \u2018Exit, pursued by a bear\u2019? No, I fled myself. Now I wait, among stone and silence. Bring me what was once mine, the King\u2019s Crown, and I\u2019ll pay in Gold, more than the weight of memory. But beware: some thrones carry curses.","1207":"This bridge is mine, by Sycorax my mother.\u2019 Prospero tried to steal it with spells and smiles. They called me beast, but I am of earth and storm, born to wild truth. I trade bones for Silver, tokens of the dead for coin of the living. Touch nothing lightly in these woods. Bring me what others fear, and I shall make you rich... or haunted.","1208":"","1301":"Skills to purchase:","1302":"Upgrades to purchase:","1303":"Skills you have:","1304":"Upgrades you have:","1305":"You have no skills yet.","1306":"You have no upgrades yet.","1400":"MODAL STRINGS","1401":"BANK MODAL","1402":"These offers good for","1403":"Will buy","1404":"for","1405":"No offers available.","1406":"New offers in","1407":"Generating new orders. Thank you for your patience.","1408":"\u26a0\ufe0f You don\'t have enough items.","1409":"\u26a0\ufe0f You don\'t have enough skills.","1410":"\u26a0\ufe0f You don\'t have enough upgrades.","1500":"TOWN NEWS STRINGS:","1501":"News for ","1502":"The current Mayor is","1503":", and the tax rate is","1504":"Here\'s what\'s happening in Town right now:","1505":"It\'s election season, and campaigning is in full swing. Stop by the Courthouse in Town to run for Mayor.","1506":"Voting for the next Mayor has begun. Cast your vote at the Courthouse in Town.","1507":"The Train is arriving, offering to buy:","1508":"The Train is departing. When it returns, it will be buying:","1509":"The Train is here, offering to buy:","1510":" ","1511":"Visit the Bank to sell gold, silver, and diamonds. The Bank is currently updating its offers.","1512":"There is currently no mayor. ","1513":"The Train is departing in","1514":"When it returns, it will be buying:","1515":"The tax rate is","1516":"The Bank is currently buying:","1517":"The Train will be departing in","1518":"The votes in the latest election for Mayor are being counted. Results expected in ","1600":"MAILBOX STRINGS:","1601":"Loading messages...","1602":"You have no messages.","1603":"Received","1604":"Collect","1605":"Most messages will be deleted afer 14 days. Store purchases will not be deleted.","1606":"\ud83d\udcea Mailbox","1607":"\ud83d\uddd1\ufe0f Message deleted.","1700":"STORE STRINGS:","1701":"\ud83d\uded2 Store","1702":"Purchases will be delivered to the Inbox.","1703":"\ud83d\ude4f Thank you for your support! We are a tiny developer with few resources, but passionate about creating a fun space for a positive community.","1704":"Please consider making purchases so we can continue to improve the game.","2000":"TRAIN, BANK, COURTHOUSE, etc. STRINGS:","2002":"Completed","2003":"\ud83d\udce6 Next Shipment Preview:","2004":"\ud83c\udf81 Rewards for filling all orders (sent to all who complete at least one order):","2005":"Click to fulfill","2006":"Your Order","2007":"Claimed","2008":"Claim Order","2009":"Claimed by you:","2010":"Available to claim:","2011":"Claimed by others:","2012":"Completed:","2013":"Claimed by you:","2014":"You can only claim one train offer at a time.","2015":"Show Train Log","2016":"\ud83c\udf89 All orders were completed! Rewards have been mailed out.","2017":"This order has already been claimed.","2020":"Train is","2030":"Offers Update in","2040":"Welcome, Mayor.","2041":"\ud83d\udcb0 Tax Rate: ","2042":"Proposed: ","2043":"Update","2044":"\u26a0\ufe0f Only the Mayor can set the tax rate.","2045":"\ud83d\uddf3\ufe0f Elections","2046":"Current Phase:","2047":"Phase Timer:","2048":"\ud83d\udce2 Campaign Promises","2060":"Voting begins in:","2061":"Voting ends in:","2062":"Voting has ended. Results announced in:","2063":"Next campaign begins in:","2070":"\ud83d\udce2 Campaign Promises","2071":"No one has made a campaign promise yet.","2072":"Enter your campaign promise (max 200 characters)...","2073":"Submit Campaign Promise","2074":"Cast Your Vote","2075":"No candidates available for voting.","2076":"Campaign promise:","2077":"You have already voted in this election.","2078":"There were no candidates.","2079":"How\'s your Mayor doing?","2080":"Welcome, Mayor.","2081":"Enter settlement name...","2082":"Your Settlement:","2083":"Update Name","2084":"Visit the \ud83c\udfdb\ufe0f Government Panel to view stats on how the settlement is doing, to help guide your election decision.","2085":"Current Mayor:","2090":"\ud83c\udfe4 Community Buildings","2092":"\ud83c\udfeb Schools: ","2093":"\ud83c\udfeb No Schools built yet.","2094":"\ud83c\udfe5 Hospitals: ","2095":"\ud83c\udfe5 No Hospitals built yet.","2096":"\ud83d\udc3e Animal Yards: ","2097":"\ud83d\udc3e No Animal Yards built yet.","2098":"\ud83c\udfe4 Libraries: ","2099":"\ud83c\udfe4 No Libraries built yet.","3000":"GOV PANEL:","3001":"Your Settlement:","3002":"\ud83d\ude0a Pop.","3003":"\ud83d\udcb0 Tax Rate:","3004":"The tax rate is set by the Mayor, for this Settlement, and a percentage of all taxes collected are added to the Mayor\'s bank account.","3005":"Mayors are elected at the Courthouse in Town.","3006":"\ud83c\udfdb\ufe0f Government Officials","3007":"No government officials elected yet.","3009":"Only the Mayor can build Schools, Hospitals and Libraries in the Town.","3010":"\ud83c\udfeb Schools give citizens access to certain Skills that cannot be gained elsewhere.","3011":"\ud83c\udfe5 Hospitals supply Doctors, who can heal adventurers returning from the Valley.","3012":"\ud83c\udfe4 Libraries are a source of Books, which are vital to Adventurers looking to learn new skills.","3013":"\ud83d\ude82 The Mayor can influence demand for goods at the Train.","3020":"View Tax Log","3021":"","3022":"","3023":"","3024":"","3025":"","3050":"SEASON PANEL STRINGS","3051":"(Net worth is recalculated twice per day.)","3052":"No data available for top citizens.","3053":"It\'s","3054":"Loading...","3055":"Season ends in:","3056":"We are in between seasons.","3057":"At the end of the season, bonus rewards will be sent to the top players in the Frontier, as well as to all players in the top Settlement.","3058":"\ud83c\udfc6 Top Citizens in the Frontier","3059":"\ud83c\udfd9\ufe0f Leading Settlement","3060":"Total Wealth:","3061":"Population:","3062":"Unknown","3063":"No data available","3064":"View Season Log","4000":"LOGIN PANEL:","4001":"Don\'t have a profile? Create a new free profile to start playing:","4002":"New Profile","4003":"Username","4004":"You will not be asked for an email address.","4005":"With your own profile, you\'ll be granted your own homestead to cultivate in a Settlement with other players, in a Frontier full of Settlements. Adventure awaits you in the Valley.","4006":"Password","4007":"Login","4008":"Username","4009":"Login to your profile to continue playing. If you don\'t have an","4010":"Already have a profile?","4050":"PROFILE PANEL:","4051":"Hi, ","4052":"Change Username:","4053":"Change Password:","4054":"Profile Management","4055":"Profile Status:","4056":"Logout","4057":"Delete Your Profile","4058":"Player ID:","4059":"Homestead Relocation","4060":"Relocations Remaining:","4061":"Visit the Store to purchase more Relocations.","4062":"Settings","4063":"Language:","4064":"Range Indicator:","4065":"Change Avatar","4066":"Back to Login","4067":"Select Language","5000":"MORE MODAL STRINGS:","5001":"\ud83d\udc80 You have died.","5002":"You have been returned home. Any backpack \ud83c\udf92 items you had were lost.","5003":"Be more careful next time.","5005":"\ud83d\ude00 Welcome to Valley View\u2122","5006":"Please login, or create a free profile.","5007":"\xa9 Valley View Studios, 2025, All Rights Reserved.","5010":"\ud83d\udce8 Inbox","5011":"You have no messages","5015":"\ud83d\uded2 Store","5016":"Purchases will be delivered to the Inbox. We are unable to offer returns. All purchases are final.","5017":"Be aware that most inventory items are wiped between seasons, so please check the season clock before purchasing, and see the seasons panel for more information.","5020":"\ud83d\udeab You are currently logged out.","5021":"Click the Login or Create Profile button to begin.","5025":"\ud83d\ude4f Thank you for your support!","5026":"Your purchase has been delivered to your Inbox.","5027":"Enjoy Valley View!","5030":"\ud83d\ude00 Welcome to Valley View!","5031":"No player is logged in or the server is offline.","5032":"Please refresh the page, check your internet connetion, or return later.","5035":"We are between seasons!","5036":"Valley View is temporarily unavailable while we reset the season.","5040":"\ud83d\udcf0 Town News","5041":"Here\'s what\'s happening in Town right now:","5045":"Use ","5046":"Do you want to use a","5047":"You have ","5050":"\u26a0\ufe0f Confirm Homestead Move","5051":"Are you sure you want to move your homestead? This cannot be undone.","5052":"Close this dialog to cancel.","5060":"\u2b50\ufe0f Congratulations!","5061":"You now have a Gold Pass. Go to your Profile panel to customize your player icon, and discover other Gold benefits.","5062":"Thank you for your support!","5100":"Recent Tax Collections","5101":"No tax collection history available yet.","5102":"\ud83d\uddd3\ufe0f Date","5103":"\ud83d\udcb0 Total Collected","5104":"Mayor","5105":"\ud83d\udcb0 Mayor Take","5110":"","6000":"TROPHY STRINGS:","6001":"Here are your lifetime Trophies:","6002":"You have no trophies yet. Earn trophies for achievements throughout the game.","6003":"Trophy Earned!","7000":"NOTIFICAITION STRINGS:","7001":"Tip:","7005":"Use A-W-S-D or the Arrow Keys to Move.","7006":"Look for the \ud83d\udcaa icon to open the Skills panel.","7007":"Stand on grass, then find the \ud83d\udc2e Buy panel to purchase a cow. You\'ll first need the Husbandry skill.","7009":"Keep checking your \u2705 To-Do-List, and keep checking with \ud83e\udd20 Kent and \ud83d\udc75\ud83c\udffb the Shepherd.","7015":"Click + and - at the top of the screen to zoom in and out.","8999":"HOW TO PLAY STRINGS:","9000":"Welcome to Valley View!","9001":"What\u2019s it about?","9002":"Valley view is a game that explores how people might self organize and create micro societies in a world of asymmetric resources and interdependence, with both owned and shared spaces.","9003":"While there are no explicit specialization paths, there are three main vectors of play which are interdependent. These are: the FARMER, the ADVENTURER, and the POLITICIAN. You are encouraged to lean upon each other.","9004":"First, the basics:","9005":"Use A-W-S-D keys to MOVE. Click to interact with things that are within your interaction radius.","9006":"Explore \ud83d\ude9c FARMING, \u2692\ufe0f BUILD, and \ud83d\udc2e BUY to improve your Homestead and generate resources.","9007":"Generate \ud83d\udcb0 MONEY at the \ud83d\udce5 TRADING POST. Post resources for sale to other players, or sell them to the game for partial value.","9008":"More:","9009":"As you create wealth, improve yourself with SKILLS and ABILITIES. For example, purchase the \ud83d\udc34 HORSERIDING SKILL to venture into the Valley.","9010":"Zoom out (- and +) to see how big the world is. Your Homestead is one of many in a SETTLEMENT. Each SETTLEMENT has a shared TOWN. Your Settlement is one of many in the FRONTIER.","9011":"When you are ready, explore the VALLEY, which is full of danger and wonders. The secrets of the wizard PROSPERO \ud83e\uddd9\u200d\u2642\ufe0f and the lost king LEONTES \ud83e\udd34, among others, can be found in the Valley.","9012":"Your Goals:","9013":"Feel free to create your own goals. Also, at the end of each \ud83d\uddd3\ufe0f SEASON, which runs three months, both individuals and settlements will be ranked, and top placement generates additional wealth. Your homsestead, all of your skills, and some of your wealth will carry over into the next Season.","9014":"Farm, craft, trade, explore, fight, and enjoy!","9020":"How to Earn Money","9021":"There are a few ways to make \ud83d\udcb0 MONEY.","9022":"As you are getting started, open the \ud83d\udce5 TRADING POST, which you will find in the upper left corner of your Homestead. Here, you can sell goods, including crops and crafts.","9023":"The \ud83d\udce5 TRADING POST will buy goods from you at 25% of their value. To maximize your earnings, you should trade with other players. They will have things you need, and vice versa.","9024":"As you advance, you\'ll be able to travel into TOWN using the \u23ea SIGNPOST next to the TRAIN. There, you will find places like the BANK, which will buy specific items from you at a premium.","9025":"Spending Money","9026":"Surprise, most things cost Money. Initially, you will want to spend money on \ud83d\udcaa SKILLS, \ud83d\udc2e FARM ANIMALS, and \u2692\ufe0f CRAFTING STATIONS. Explore the panels at the left side of the screen. These will help you generate more resources, which in turn will help you earn more Money.","9027":"In TOWN you will disocver more Shops and Traders.","9030":"How to Earn Gems","9031":"Gems are a rare resource that can be used to purchase various things to help accelerate your play.","9032":"You can purchase Gems in the Store, or by clicking here:","9033":"On rare occassions, Gems can be found in the Valley, or earned as rewards for crushing it with the Train, or finishing strong at the end of a Season.","9040":"No Brainer:","9041":"100 \ud83d\udc8e Gems for ","9042":"Best Value:","9043":"500 \ud83d\udc8e Gems for ","9044":"Most Popular:","9045":"1000 \ud83d\udc8e Gems for ","9050":"Benefits","9051":"A Gold Pass gives you access to premium features and benefits in Valley View for the duration of a season.","9052":"With a Gold Pass, you can enjoy the following benefits:","9053":"\u2705 Premium avatars: \ud83d\udc31\ud83e\udd21\ud83d\udc7d\ud83e\udd16\ud83d\udca9\ud83d\udc7e","9054":"\u2705 Near unlimited Warehouse capacity","9055":"\u2705 Near unlimited Backpack capacity","9056":"\u2705 2 additional Trade Stall slots","9057":"\u2705 Lower Tax rate","9058":"\u2705 Half your MaxHP restored on death","9059":"\u2705 You can run for office","9060":"Thank you for your Gold Pass purchase.","9061":"Purchase a Gold Pass","10000":"\ud83d\udd0c Server is Down","10001":"The server is currently down. We apologize for the inconvencient, please check back soon.","10002":"(This message will disappear when the server is back up.)","10100":"APP.JS STRINGS:","10101":"Welcome to Valley View!","10102":"Please login, or create a free profile.","10103":"\ud83c\udf92 Inventory","10104":"\ud83d\uded2 Store","10105":"\ud83d\udce8, Inbox","10106":"\ud83d\udce2 Share","10107":"\ud83d\udcac Chat","10108":"You Have a Gold Pass","10109":"\u2194\ufe0f Move Keys: ","10110":"\ud83d\udd79\ufe0f How to Play","10111":"You are the Mayor","10112":"\u2764\ufe0f\u200d\ud83e\ude79 Health: ","10113":"\ud83d\uddd3\ufe0f It\'s","10114":"Next Season starts in:","10115":"\ud83d\uddd3\ufe0f Next Season:","10116":"\u23ea Happening Now in Town:","10117":"\ud83d\udcb0 Next Tax Collection:","10118":"In: ","10119":"Now collecting taxes...","10120":"\ud83c\udfdb\ufe0f Elections: ","10121":"Ends: ","10122":"\ud83d\ude82 Train: ","10123":"\ud83c\udfe6 Bank: ","10124":"New Offers: ","10125":"Read the News!","10126":"Who\'s here:","10127":"No PCs present in the grid.","10128":"Save Changes","10129":"","10130":"You Have a Gold Pass","10131":"Gold Pass Benefits","10132":"Cancel Relocation","10133":"Relocate Homestead","11000":"ADDED STRINGS:","11001":"Wait for the timer to end, or for another player to buy this item.","12001":"Farming","12002":"Build","12003":"Animals","12004":"To Do List","12005":"Skills","12006":"Combat","12007":"Government","12008":"Seasons","12009":"Home","12010":"Profile","12011":"Decorations","12012":"Tools","12013":"Trophies","15000":"\ud83d\uddd3\ufe0f Season Rules","15001":"Seasons last three months.","15002":"Rewards","15003":"\ud83d\udcb0 Net worth will be calculated based on your money, inventory items, and items on your homestead.","15004":"\ud83c\udfc6 The top 3 players across the frontier will have rewards sent to your mailbox, and also earn a \u201cSeason Winner\u201d trophy.","15005":"\ud83c\udfc6 The top player in the frontier will also earn the \u201cSeason Champion\u201d trophy.","15006":"\ud83c\udf81 All players in the top settlement will receive additional rewards in your mailbox.","15007":"Resetting Players and Locations","15008":"\ud83c\udfe0 You will be relocated back to your homestead if you are away from home when the season ends.","15009":"\ud83c\udfe0 Your homesteads will NOT reset \u2013 all layout, tiles and resources carry over.","15010":"\ud83c\udf92 Your inventory WILL be wiped, with the exception of rare items like Prospero\u2019s Orb, King\u2019s Crown, Golden & Skeleton Keys, Trident).","15011":"\ud83d\udc8e You will keep all Gems.","15012":"\ud83d\udcb0 Money will be nerfed to 10% of the current amount (25% for Gold Pass holders).","15013":"\u2705 All quests will be wiped.","15014":"\ud83d\udcaa Your skills & powers carry over.","15015":"\u2764\ufe0f Your relationships carry over.","15016":"\u2b50\ufe0f Your Gold Pass status will be revoked for the new season.","15017":"\ud83c\udf32 All town and valley grids will be reset with fresh tiles, resources and enemies.","15018":"What Changes?","15019":"\ud83c\udf83 Towns will have tiles and resources according to the new season content.","15020":"\ud83d\ude00 New players joining (and creating new homesteads) will get starter tiles and resources according to the new season content.","15021":"\ud83d\ude82 Train orders are affected by the seasons.","15022":"\ud83c\udfc6 New rewards and trophies can be earned.","20000":"RESOURCES","30000":"TROPHIES:","30001":"First Farm Worker","30002":"Skill Builder","30003":"Trains Completed","30004":"Season Winner","30005":"Season Champion","200009":"Gold Account","200010":"Money","200011":"Stub","200012":"Signpost N","200013":"Signpost E","200014":"Signpost S","200015":"Signpost W","200016":"Signpost NW","200017":"Signpost NE","200018":"Signpost SE","200019":"Signpost SW","200020":"Signpost Town","200021":"Signpost Home","200022":"Trade Stall","200023":"Trading Post","200024":"Warehouse","200025":"Abandoned House","200026":"Farm House","200027":"Repair","200028":"Mountain","200029":"Mountain Large","200030":"Bank","200031":"Courthouse","200032":"Train","200033":"Mailbox","200034":"Oak Tree","200035":"Pine Tree","200036":"Palm Tree","200037":"Holiday Tree","200038":"Snowman","200039":"Rocks","200040":"Clay Pit","200041":"Wood","200042":"Stone","200043":"Clay","200044":"Wheat Plot","200045":"Carrot Plot","200046":"Corn Plot","200047":"Sugarcane Plot","200048":"Strawberry Plot","200049":"Apple Tree","200050":"Lemon Tree","200051":"Grape Vine","200052":"Garlic Plot","200053":"Olive Tree","200054":"Tomato Vine","200055":"Oak Tree Plot","200056":"Wheat","200057":"Carrot","200058":"Corn","200059":"Sugarcane","200060":"Strawberry","200061":"Apple","200062":"Lemon","200063":"Grapes","200064":"Garlic","200065":"Olive","200066":"Tomato","200067":"Blueberry","200068":"Milk","200069":"Wool","200070":"Egg","200071":"Flour","200072":"Chicken Feed","200073":"Sugar","200074":"Cornmeal","200075":"Lumber","200076":"Butter","200077":"Cream","200078":"Cheese","200079":"Thread","200080":"Cloth","200081":"Sweater","200082":"Jacket","200083":"Heavy Jacket","200084":"Runic Tunic","200085":"Bread","200086":"Cornbread","200087":"Apple Pie","200088":"Strawberry Pie","200089":"Lemon Cookie","200090":"Olive Bread","200091":"Garlic Bread","200092":"Queen\'s Cake","200093":"Tomato Soup","200094":"Carrot Soup","200095":"Omelette","200096":"Pizza","200097":"Honey","200098":"Apple Cider","200099":"Wine","200100":"Port","200101":"Olive Oil","200102":"Aged Wine","200103":"Pottery","200104":"Furniture","200105":"Ink","200106":"Urns","200107":"Rosemary","200108":"Mushroom","200109":"Magic Mushroom","200110":"Daisy","200111":"Tulip","200112":"Sunflower","200113":"Feverfew","200114":"Potion A","200115":"Potion B","200116":"Potion C","200117":"Gem","200118":"Book","200119":"Pelt","200120":"Bear Skin","200121":"Bones","200122":"Silver","200123":"Gold","200124":"Diamond Ring","200125":"King\'s Crown","200126":"Portrait","200127":"Trident","200128":"Skeleton Key","200129":"Golden Key","200130":"Scroll","200131":"Prospero\'s Orb","200132":"Tent","200133":"Boat","200134":"Shrine","200135":"Castle","200136":"Restaurant","200137":"Restroom","200138":"General Store","200139":"Warrior\'s Den","200140":"Magic Shop","200141":"Ancient Temple","200142":"Adventure Camp","200143":"Laboratory","200144":"School","200145":"Animal Stall","200146":"Mill","200147":"Dairy","200148":"Chicken Coop","200149":"Lumber Yard","200150":"Loom","200151":"Oven","200152":"Kitchen","200153":"Beehive","200154":"Studio","200155":"Winery","200156":"Library","200157":"Animal Yard","200158":"Hospital","200159":"Cow","200160":"Sheep","200161":"Brown Cow","200162":"Doctor","200163":"Surgeon","200164":"Fairy","200165":"Kent","200166":"Portia","200167":"The Shepherd","200168":"Hotspur","200169":"Cassio","200170":"Mistress Quickly","200171":"Feste","200172":"Helena","200173":"Titania","200174":"Vampire","200175":"Santa Claus","200176":"Prospero","200177":"Falstaff","200178":"Apothecary","200179":"Iago","200180":"Gertrude","200181":"Leontes","200182":"Caliban","200183":"Juliet","200184":"Mermaid","200185":"Farmer","200186":"Farm Hand","200187":"Rancher","200188":"Lumberjack","200189":"Coyote","200190":"Bear","200191":"Spider","200192":"Zombie","200193":"Duke Angelo","200194":"Ghost","200195":"Ogre","200196":"Demon","200197":"Dragon","200198":"Coyote Spawner","200199":"Bear Spawner","200200":"Spider Spawner","200201":"Zombie Spawner","200202":"Ghost Spawner","200203":"Demon Spawner","200204":"Dragon Spawner","200205":"Grower","200206":"Green Thumb","200207":"Husbandry","200208":"Bulk Animal Collect","200209":"Axe","200210":"Pickaxe","200211":"Builder","200212":"Bulk Harvest","200213":"Bulk Replant","200214":"Logging","200215":"Better Logging","200216":"Better Axe","200217":"Better Pickaxe","200218":"Storehouse","200219":"Depot","200220":"TBD Storage 3","200221":"TBD Storage 4","200222":"Masonry","200223":"Mechanics","200224":"Chemistry","200225":"Cooking","200226":"Baker","200227":"Textiles","200228":"Artistry","200229":"Winemaker","200230":"Beekeeper","200231":"Tailor","200232":"Politics","200233":"Education","200234":"Livestock","200235":"Law","200236":"Medicine","200237":"Surgery","200238":"Backpack","200239":"Rucksack","200240":"Enchanted Pack","200241":"Horse","200242":"Combat","200243":"Tracking","200244":"Scout","200245":"Force","200246":"Wrath","200247":"Tempest","200248":"Jab","200249":"Flurry","200250":"Barrage","200251":"Focus","200252":"Precision","200253":"Horizon Eye","200254":"Padding","200255":"Armor","200256":"Blessed Veil","200257":"Steady Hand","200258":"Pinpoint","200259":"Fortitude","200260":"Stoneheart","200261":"Unbreakable","200262":"Crate","200263":"Stone Wall","200264":"Stone Wall Large","200265":"Green Wall","200266":"Black Wall","200267":"Sand Wall","200268":"Blue Wall","200269":"Orange Wall","200270":"Plant","200271":"Cactus","200272":"Harp","200273":"Flag","200274":"Stack of Books","200275":"Chair","200276":"Toilet","200277":"Bed","200278":"Teddy Bear","200279":"Big Hole","200280":"Slide","200281":"Fountain","200282":"Fountain Large","200283":"Large Decorative Palm Tree","200284":"Maelstrom","200285":"Oblivion","200286":"Unerring","200287":"Titan","hp":"Hit Points","maxhp":"Max Hit Points","range":"Range","attackrange":"Attack Range","attackbonus":"Attack Bonus","damage":"Damage","speed":"Attack Speed","iscamping":"Is Camping","armorclass":"Armor Class","backpackCapacity":"Backpack Capacity","warehouseCapacity":"Warehouse Capacity"}')},579:(e,t,n)=>{e.exports=n(153)},605:(e,t,n)=>{n.d(t,{FV:()=>r,ZW:()=>c,f0:()=>s,gd:()=>l,qJ:()=>i});var a=n(488),o=n(213);n(146);const r=async e=>{try{const t=(await o.A.get(`${a.A}/api/load-grid/${e}`)).data;if(t.resources&&Array.isArray(t.resources)){const n=t.resources.find((e=>"Signpost Town"===e.type));if(n)return console.log(`\u2705 Found Signpost Town at (${n.x}, ${n.y}) on homestead grid ${e}`),{x:n.x,y:n.y};console.log(`\u26a0\ufe0f Signpost Town not found on homestead grid ${e}, using default (1, 1)`)}}catch(t){console.error(`\u274c Error fetching homestead grid data for grid ${e}:`,t)}return{x:1,y:1}},s=async e=>{try{const t=(await o.A.get(`${a.A}/api/load-grid/${e}`)).data;if(t.resources&&Array.isArray(t.resources)){const n=t.resources.find((e=>"Train"===e.type));if(n)return console.log(`\u2705 Found Train at (${n.x}, ${n.y}) on town grid ${e}`),{x:n.x,y:n.y};console.log(`\u26a0\ufe0f Train not found on town grid ${e}, using default (0, 0)`)}}catch(t){console.error(`\u274c Error fetching town grid data for grid ${e}:`,t)}return{x:0,y:0}},i=async e=>{try{console.log(`Fetching homestead owner for gridId: ${e}`);const t=await o.A.get(`${a.A}/api/load-grid/${e}`),{ownerId:n=null,gridType:r=null}=t.data;if(console.log("ownerId =",n),!n)return console.log("\ud83c\udfe1 This homestead is unoccupied."),{username:null,gridType:r};const s=await o.A.get(`${a.A}/api/player/${n._id}`),{username:i=null}=s.data;return i?(console.log(`\ud83c\udfe1 Homestead belongs to: ${i}`),{username:i,gridType:r}):(console.warn("\ud83d\udea8 Owner's player document not found!"),{username:null,gridType:r})}catch(t){return console.error("\u274c Error fetching homestead owner:",t),{username:null,gridType:null}}},l=(e,t)=>e&&t&&"undefined"!==typeof e.x&&"undefined"!==typeof e.y&&"undefined"!==typeof t.x&&"undefined"!==typeof t.y?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):(console.warn("Skipping distance calculation due to invalid position:",{pos1:e,pos2:t}),1/0),c=(e,t)=>{var n,a;if(!e||!Array.isArray(t))return 1;const o=e.range||1,r=(null===(n=e.skills)||void 0===n?void 0:n.reduce(((e,n)=>{const a=t.find((e=>e.type===n.type));return"range"===(null===a||void 0===a?void 0:a.output)&&"number"===typeof a.qtycollected?e+a.qtycollected:e}),0))||0;return"homestead"===(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.gtype)?o+r+5:o+r}},665:(e,t,n)=>{n.d(t,{Ay:()=>Ue,pV:()=>Ve,xY:()=>_e,kf:()=>Fe,jg:()=>Ge,zK:()=>Le,j0:()=>ze,ZR:()=>$e,zN:()=>Oe,Wc:()=>qe,Bp:()=>De,uv:()=>Be,BD:()=>Me});var a={};n.r(a),n.d(a,{Decoder:()=>we,Encoder:()=>be,PacketType:()=>ve,protocol:()=>ye});var o=n(14),r=n(894),s=n(667),i=n(431);const l=Object.create(null);l.open="0",l.close="1",l.ping="2",l.pong="3",l.message="4",l.upgrade="5",l.noop="6";const c=Object.create(null);Object.keys(l).forEach((e=>{c[l[e]]=e}));const d={type:"error",data:"parser error"},u="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),p="function"===typeof ArrayBuffer,m=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,h=(e,t,n)=>{let{type:a,data:o}=e;return u&&o instanceof Blob?t?n(o):f(o,n):p&&(o instanceof ArrayBuffer||m(o))?t?n(o):f(new Blob([o]),n):n(l[a]+(o||""))},f=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function g(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let y;const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Ke=0;Ke<64;Ke++)b[v.charCodeAt(Ke)]=Ke;const k="function"===typeof ArrayBuffer,w=(e,t)=>{if("string"!==typeof e)return{type:"message",data:x(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:S(e.substring(1),t)};return c[n]?e.length>1?{type:c[n],data:e.substring(1)}:{type:c[n]}:d},S=(e,t)=>{if(k){const n=(e=>{let t,n,a,o,r,s=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<i;t+=4)n=b[e.charCodeAt(t)],a=b[e.charCodeAt(t+1)],o=b[e.charCodeAt(t+2)],r=b[e.charCodeAt(t+3)],d[l++]=n<<2|a>>4,d[l++]=(15&a)<<4|o>>2,d[l++]=(3&o)<<6|63&r;return c})(e);return x(n,t)}return{base64:!0,data:e}},x=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,C=String.fromCharCode(30);function I(){return new TransformStream({transform(e,t){!function(e,t){u&&e.data instanceof Blob?e.data.arrayBuffer().then(g).then(t):p&&(e.data instanceof ArrayBuffer||m(e.data))?t(g(e.data)):h(e,!1,(e=>{y||(y=new TextEncoder),t(y.encode(e))}))}(e,(n=>{const a=n.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,a)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}})}let A;function T(e){return e.reduce(((e,t)=>e+t.length),0)}function N(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let a=0;for(let o=0;o<t;o++)n[o]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),n}function j(e){if(e)return function(e){for(var t in j.prototype)e[t]=j.prototype[t];return e}(e)}j.prototype.on=j.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},j.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},j.prototype.off=j.prototype.removeListener=j.prototype.removeAllListeners=j.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<a.length;o++)if((n=a[o])===t||n.fn===t){a.splice(o,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},j.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(n){a=0;for(var o=(n=n.slice(0)).length;a<o;++a)n[a].apply(this,t)}return this},j.prototype.emitReserved=j.prototype.emit,j.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},j.prototype.hasListeners=function(e){return!!this.listeners(e).length};const P="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),E="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const $=E.setTimeout,O=E.clearTimeout;function z(e,t){t.useNativeTimers?(e.setTimeoutFn=$.bind(E),e.clearTimeoutFn=O.bind(E)):(e.setTimeoutFn=E.setTimeout.bind(E),e.clearTimeoutFn=E.clearTimeout.bind(E))}function D(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class M extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class L extends j{constructor(e){super(),this.writable=!1,z(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new M(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=w(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class B extends L{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(C),a=[];for(let o=0;o<n.length;o++){const e=w(n[o],t);if(a.push(e),"error"===e.type)break}return a})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,a=new Array(n);let o=0;e.forEach(((e,r)=>{h(e,!1,(e=>{a[r]=e,++o===n&&t(a.join(C))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=D()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let G=!1;try{G="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(He){}const q=G;function F(){}class V extends B{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class _ extends j{constructor(e,t,n){super(),this.createRequest=e,z(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=R(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(a){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{n.setRequestHeader("Accept","*/*")}catch(a){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(a){return void this.setTimeoutFn((()=>{this._onError(a)}),0)}"undefined"!==typeof document&&(this._index=_.requestsCount++,_.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=F,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete _.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(_.requestsCount=0,_.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",U);else if("function"===typeof addEventListener){addEventListener("onpagehide"in E?"pagehide":"unload",U,!1)}function U(){for(let e in _.requests)_.requests.hasOwnProperty(e)&&_.requests[e].abort()}const H=function(){const e=K({xdomain:!1});return e&&null!==e.responseType}();function K(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||q))return new XMLHttpRequest}catch(n){}if(!t)try{return new(E[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const W="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Y extends L{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=W?{}:R(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(He){return this.emitReserved("error",He)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;h(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(t){}a&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=D()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const J=E.WebSocket||E.MozWebSocket;const Q={websocket:class extends Y{createSocket(e,t,n){return W?new J(e,t,n):t?new J(e,t):new J(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends L{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(He){return this.emitReserved("error",He)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){A||(A=new TextDecoder);const n=[];let a=0,o=-1,r=!1;return new TransformStream({transform(s,i){for(n.push(s);;){if(0===a){if(T(n)<1)break;const e=N(n,1);r=128===(128&e[0]),o=127&e[0],a=o<126?3:126===o?1:2}else if(1===a){if(T(n)<2)break;const e=N(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),a=3}else if(2===a){if(T(n)<8)break;const e=N(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),r=t.getUint32(0);if(r>Math.pow(2,21)-1){i.enqueue(d);break}o=r*Math.pow(2,32)+t.getUint32(4),a=3}else{if(T(n)<o)break;const e=N(n,o);i.enqueue(w(r?e:A.decode(e),t)),a=0}if(0===o||o>e){i.enqueue(d);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),a=I();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const o=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())})).catch((e=>{}))};o();const r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this._writer.write(r).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;this._writer.write(n).then((()=>{a&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends V{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=H&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new _(K,this.uri(),e)}}},Z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,X=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ee(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));let o=Z.exec(e||""),r={},s=14;for(;s--;)r[X[s]]=o[s]||"";return-1!=n&&-1!=a&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(e,t){const n=/\/{2,9}/g,a=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||a.splice(0,1);"/"==t.slice(-1)&&a.splice(a.length-1,1);return a}(0,r.path),r.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,a){t&&(n[t]=a)})),n}(0,r.query),r}const te="function"===typeof addEventListener&&"function"===typeof removeEventListener,ne=[];te&&addEventListener("offline",(()=>{ne.forEach((e=>e()))}),!1);class ae extends j{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=ee(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=ee(t.host).host);z(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let a=0,o=n.length;a<o;a++){let e=n[a].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),te&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ne.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&ae.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",ae.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(e+="string"===typeof(t=a)?function(e){let t=0,n=0;for(let a=0,o=e.length;a<o;a++)t=e.charCodeAt(a),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(a++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,P((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof n&&(a=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(ae.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),te&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ne.indexOf(this._offlineEventListener);-1!==e&&ne.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ae.protocol=4;class oe extends ae{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;ae.priorWebsocketSuccess=!1;const a=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ae.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,c(),t.close(),t=null)}const r=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){r("transport closed")}function i(){r("socket closed")}function l(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",a),t.removeListener("error",r),t.removeListener("close",s),this.off("close",i),this.off("upgrading",l)};t.once("open",a),t.once("error",r),t.once("close",s),this.once("close",i),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class re extends oe{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Q[e])).filter((e=>!!e))),super(e,t)}}const se="function"===typeof ArrayBuffer,ie=Object.prototype.toString,le="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ie.call(Blob),ce="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ie.call(File);function de(e){return se&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||le&&e instanceof Blob||ce&&e instanceof File}function ue(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ue(e[t]))return!0;return!1}if(de(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ue(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ue(e[n]))return!0;return!1}function pe(e){const t=[],n=e.data,a=e;return a.data=me(n,t),a.attachments=t.length,{packet:a,buffers:t}}function me(e,t){if(!e)return e;if(de(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let a=0;a<e.length;a++)n[a]=me(e[a],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=me(e[a],t));return n}return e}function he(e,t){return e.data=fe(e.data,t),delete e.attachments,e}function fe(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=fe(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=fe(e[n],t));return e}const ge=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ye=5;var ve;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ve||(ve={}));class be{constructor(e){this.replacer=e}encode(e){return e.type!==ve.EVENT&&e.type!==ve.ACK||!ue(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ve.EVENT?ve.BINARY_EVENT:ve.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ve.BINARY_EVENT&&e.type!==ve.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=pe(e),n=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(n),a}}function ke(e){return"[object Object]"===Object.prototype.toString.call(e)}class we extends j{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ve.BINARY_EVENT;n||t.type===ve.BINARY_ACK?(t.type=n?ve.EVENT:ve.ACK,this.reconstructor=new Se(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!de(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ve[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ve.BINARY_EVENT||n.type===ve.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(a,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(a,t)}else n.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!we.isPayloadValid(n.type,a))throw new Error("invalid payload");n.data=a}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case ve.CONNECT:return ke(t);case ve.DISCONNECT:return void 0===t;case ve.CONNECT_ERROR:return"string"===typeof t||ke(t);case ve.EVENT:case ve.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===ge.indexOf(t[0]));case ve.ACK:case ve.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Se{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=he(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function xe(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ce=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ie extends j{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xe(e,"open",this.onopen.bind(this)),xe(e,"packet",this.onpacket.bind(this)),xe(e,"error",this.onerror.bind(this)),xe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,a;if(Ce.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,r=new Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:ve.EVENT,data:r,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){const e=this.ids++,t=r.pop();this._registerAckCallback(e,t),i.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var n,a=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),o),s=function(){a.io.clearTimeoutFn(r);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(a,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new Promise(((t,a)=>{const o=(e,n)=>e?a(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(a!==t._queue[0])return;if(null!==e)a.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,r=new Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];n(null,...r)}return a.pending=!1,t._drainQueue()})),this._queue.push(a),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ve.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ve.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ve.EVENT:case ve.BINARY_EVENT:this.onevent(e);break;case ve.ACK:case ve.BINARY_ACK:this.onack(e);break;case ve.DISCONNECT:this.ondisconnect();break;case ve.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];t.packet({type:ve.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ve.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Ae(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ae.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ae.prototype.reset=function(){this.attempts=0},Ae.prototype.setMin=function(e){this.ms=e},Ae.prototype.setMax=function(e){this.max=e},Ae.prototype.setJitter=function(e){this.jitter=e};class Te extends j{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,z(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ae({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const o=t.parser||a;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new re(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=xe(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},r=xe(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{a(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(a),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xe(e,"ping",this.onping.bind(this)),xe(e,"data",this.ondata.bind(this)),xe(e,"error",this.onerror.bind(this)),xe(e,"close",this.onclose.bind(this)),xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){P((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ie(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ne={};function je(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),a=ee(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const o=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+o+":"+a.port+t,a.href=a.protocol+"://"+o+(n&&n.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=n.source,o=n.id,r=n.path,s=Ne[o]&&r in Ne[o].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?i=new Te(a,t):(Ne[o]||(Ne[o]=new Te(a,t)),i=Ne[o]),n.query&&!t.query&&(t.query=n.queryKey),i.socket(n.path,t)}Object.assign(je,{Manager:Te,Socket:Ie,io:je,connect:je});var Pe=n(517),Ee=n(255);const Re=je("https://vvgame-server.onrender.com",{transports:["websocket"],autoConnect:!1});function $e(e,t,n,a,o,r){if(console.log("\ud83c\udf10 useEffect for PC join & leave running. gridId:",e,"socket:",!!Re),console.log("  \ud83c\udf10 isMasterResourcesReady = ",n),!e||!t||!n)return;const s=t=>{let{playerId:n,username:o,playerData:r,emitterId:s}=t;s!==Re.id?(console.log(`\ud83d\udc4b Player ${o} joined grid with data:`,r),a((t=>{var a,o;const s=null===(a=t[e])||void 0===a||null===(o=a.pcs)||void 0===o?void 0:o[n],l=new Date(null===r||void 0===r?void 0:r.lastUpdated).getTime()||0,c=new Date(null===s||void 0===s?void 0:s.lastUpdated).getTime()||0;var d;return!s||l>c?(console.log(`\u23e9 Inserting or updating PC ${n} from player-joined-sync.`),i.A.addPC?i.A.addPC(e,n,r):console.warn("\ud83d\uded1 playersInGridManager.addPC is not defined."),{...t,[e]:{...t[e],pcs:{...(null===(d=t[e])||void 0===d?void 0:d.pcs)||{},[n]:r}}}):(console.log(`\u23f3 Skipping player-joined-sync for ${n}; local is newer.`),t)}))):console.log("\ud83d\ude00 Ignoring player-joined event from self.")},l=t=>{let{playerId:n,username:s,emitterId:l}=t;l!==Re.id?(console.log(`\ud83d\udc4b Player ${s} left grid`),i.A.removePC?i.A.removePC(e,n):console.warn("\ud83d\uded1 playersInGridManager.removePC is not defined."),a((t=>{var a,i;if(null===(a=t[e])||void 0===a||!a.pcs)return t;const l={...null===(i=t[e])||void 0===i?void 0:i.pcs};return delete l[n],o===s&&r&&(console.log(`\ud83c\udfae Removed player ${s} was the NPCController, clearing controller`),r(null)),{...t,[e]:{...t[e],pcs:l}}}))):console.log("\ud83d\ude00 Ignoring player-left event from self.")},c=t=>{let{gridId:n,pcs:s}=t;if(console.log(`\ud83d\udce6 Received current PCs for grid ${n}:`,s),n===e){if(a((t=>({...t,[e]:{...t[e],pcs:s||{}}}))),i.A.setAllPCs&&i.A.setAllPCs(e,s||{}),o&&r){Object.values(s||{}).some((e=>e.username===o))||(console.log(`\ud83c\udfae NPCController ${o} is not in the current player list, clearing controller`),r(null))}}else console.log(`\ud83d\udd04 Ignoring PC list for different grid ${n} (current: ${e})`)};return console.log("\ud83e\uddf2 [NPCsInGrid join/leave] Subscribing to PC and NPC join/leave sync events for grid:",e),Re.on("player-joined-sync",s),Re.on("player-left-sync",l),Re.on("current-grid-players",c),()=>{Re.off("player-joined-sync",s),Re.off("player-left-sync",l),Re.off("current-grid-players",c)}}function Oe(e,t,n,a,o){if(console.log("\ud83c\udf10\ud83c\udf10\ud83c\udf10\ud83c\udf10\ud83c\udf10\ud83c\udf10 useEffect for PC & NPC grid-state-sync running. gridId:",t,"socket:",!!Re),!t)return;const s=t=>{const o=Object.entries(t).filter((e=>{let[t]=e;return"emitterId"!==t}));if(0===o.length)return void console.warn("\u274c No grid data found in sync-PCs payload:",t);const[s,l]=o[0],{pcs:c,playersInGridLastUpdated:d}=l||{};if(!c||"object"!==typeof c)return void console.warn("\ud83d\udce4 Invalid sync-PCs payload (missing pcs):",t);const[u,p]=Object.entries(c)[0],m=(null===n||void 0===n?void 0:n._id)||(null===n||void 0===n?void 0:n.playerId);if(n&&u===String(m))return void console.log(`\ud83d\udee1\ufe0f Blocking socket sync for own player (${u}) - should never update local player from socket`);const{emitterId:h}=t;if(h===Re.id)return void console.log("\ud83d\udce4 Skipping sync-PCs from self (emitterId = socket.id)");const f=new Date(null===p||void 0===p?void 0:p.lastUpdated).getTime();a((t=>{var n,a;const o=null===(n=t[s])||void 0===n||null===(a=n.pcs)||void 0===a?void 0:a[u],l=new Date(null===o||void 0===o?void 0:o.lastUpdated).getTime()||0,c=Object.keys(p).filter((e=>"lastUpdated"!==e&&JSON.stringify(p[e])!==JSON.stringify(null===o||void 0===o?void 0:o[e])));if(c.length>0&&(console.log(`\ud83d\udd04 PC ${u} changed fields: ${c.join(", ")}`),c.includes("hp")&&null!==o&&void 0!==o&&o.hp&&(null===p||void 0===p?void 0:p.hp)<o.hp)){const t=o.hp-p.hp;r.A.addFloatingText(`- ${t} \u2764\ufe0f\u200d\ud83e\ude79 HP`,p.position.x,p.position.y,e)}if(f<=l)return console.log(`\u23f3 Skipping stale update for PC ${u}.`),t;console.log(`\u23e9 Updating PC ${u} from socket event.`),i.A.updatePC(s,u,p);const m=null===o||void 0===o?void 0:o.position,h=null===p||void 0===p?void 0:p.position;m&&h&&(m.x!==h.x||m.y!==h.y)&&(0,Pe.d)(u,m,h,e);const g=t[s]||{},y=g.pcs||{};return{...t,[s]:{...g,pcs:{...y,[u]:p},playersInGridLastUpdated:d||g.playersInGridLastUpdated}}}))};return console.log("\ud83e\uddf2 Subscribing to PC sync events for grid:",t),Re.on("sync-PCs",s),()=>{console.log("\ud83e\uddf9 Unsubscribing from PC sync events for grid:",t),Re.off("sync-PCs",s)}}function ze(e,t,n,a){if(!t)return;const i=t=>{const{emitterId:i}=t;if(i===Re.id)return void console.log("\ud83d\udce4 Skipping sync-NPCs from self (emitterId = socket.id)");const l=Object.entries(t).filter((e=>{let[t]=e;return"emitterId"!==t}));if(0===l.length)return void console.warn("\u274c No grid data found in sync-NPCs payload:",t);const[c,d]=l[0],{npcs:u,NPCsInGridLastUpdated:p}=d||{};if(!u||"object"!==typeof u)return void console.warn("\ud83d\udce4 Invalid sync-NPCs payload (missing npcs):",t);const m=a.isControllingGrid(c);console.log("IsNPCController:",m),n((t=>{var n;const a={...t.npcs},i=null===(n=s.Ay.NPCsInGrid)||void 0===n?void 0:n[c];return Object.entries(u).forEach((t=>{let[n,s]=t;if(!s)return delete a[n],void(null!==i&&void 0!==i&&i.npcs?delete i.npcs[n]:console.warn(`\u26a0\ufe0f liveGrid.npcs missing for gridId ${c}`));const l=a[n];if(new Date(s.lastUpdated).getTime()>(null!==l&&void 0!==l&&l.lastUpdated?new Date(l.lastUpdated).getTime():0)){const t=Object.keys(s).filter((e=>"lastUpdated"!==e&&JSON.stringify(s[e])!==JSON.stringify(null===l||void 0===l?void 0:l[e])));if(t.length>0&&(console.log(`\ud83d\udd04 NPC ${n} changed fields: ${t.join(", ")}`),t.includes("hp")&&null!==l&&void 0!==l&&l.hp&&(null===s||void 0===s?void 0:s.hp)<l.hp)){const t=l.hp-s.hp;r.A.addFloatingText(`- ${t} \u2764\ufe0f\u200d\ud83e\ude79 HP`,s.position.x,s.position.y,e)}const d=new o.A(s.id,s.type,s.position,s,s.gridId||c);a[n]=d,null!==i&&void 0!==i&&i.npcs?i.npcs[n]=d:console.warn(`\u26a0\ufe0f liveGrid.npcs missing for gridId ${c}`)}else console.log(`  \u23f3 Skipped NPC ${n}, newer or same version already present.`)})),{...t,npcs:a}}))},l=a=>{let{npcId:r,newPosition:i,emitterId:l}=a;r&&i&&(l&&l===Re.id?console.log(`\ud83d\udce4 Skipping NPC animation for own broadcast (NPC ${r})`):n((n=>{const a={...n.npcs},l=a[r];if(l){const n=null===l||void 0===l?void 0:l.position,c=l instanceof o.A?l:new o.A(l.id,l.type,l.position,l,l.gridId||t);n&&i&&(n.x!==i.x||n.y!==i.y)&&(console.log("Calling animateRemotePC for NPC",r,n,i),(0,Pe.d)(r,n,i,e,30)),c.position=i,a[r]=c,c instanceof o.A?s.Ay.NPCsInGrid[t].npcs[r]=c:console.warn(`\ud83d\uded1 Tried to inject non-NPC instance into live NPCsInGrid for ${r}`)}return{...n,npcs:a}})))},c=e=>{let{gridId:t,npcId:a}=e;n((e=>{var n;const o={...e.npcs};delete o[a];const r=null===(n=s.Ay.NPCsInGrid)||void 0===n?void 0:n[t];return null!==r&&void 0!==r&&r.npcs&&(delete r.npcs[a],console.log(`\ud83e\udde0 Removed NPC ${a} from live NPCsInGrid (remove-NPC event)`)),{...e,npcs:o}}))};return Re.on("sync-NPCs",i),Re.on("npc-moved-sync",l),Re.on("remove-NPC",c),()=>{Re.off("sync-NPCs",i),Re.off("npc-moved-sync",l),Re.off("remove-NPC",c)}}function De(e,t,n,a,o,r){if(!t||!Re||!n)return void console.warn("Master Resources not ready or missing gridId/socket.");const s=t=>{let{updatedResources:n}=t;null!==n&&void 0!==n&&n.length&&a((t=>{if(null===o||void 0===o||!o.length)return console.warn("\u23f3 Skipping resource enrichment; masterResources not yet ready"),t;const a=[...t];n.forEach((t=>{if(!t||"number"!==typeof t.x||"number"!==typeof t.y)return void console.warn("\u26a0\ufe0f Skipping invalid socket resource:",t);if(null===t.type){const n=a.findIndex((e=>e.x===t.x&&e.y===t.y));return(0,Ee.MV)(t.x,t.y,e),void(-1!==n&&a.splice(n,1))}o.find((e=>e.type===t.type))||console.warn(`\u26a0\ufe0f No matching resource template found for ${t.type}`);const n=r(t,o),s=a.filter((e=>!(e.x===t.x&&e.y===t.y)));s.push(n),a.splice(0,a.length,...s)}));const s=[...a];return a.forEach((e=>{if(e.range&&e.range>1){const t=e.anchorKey||`${e.type}-${e.x}-${e.y}`;for(let n=0;n<e.range;n++)for(let a=0;a<e.range;a++){if(0===n&&0===a)continue;const o={type:"shadow",x:e.x+n,y:e.y-a,parentAnchorKey:t,passable:e.passable};s.push(o)}}})),s}))};return console.log("\ud83e\uddf2 [resources] Subscribing to real-time updates for grid:",t),Re.on("resource-sync",s),()=>{Re.off("resource-sync",s)}}function Me(e,t,n){if(!e||!Re)return void console.warn("Missing gridId or socket.");const a=e=>{let{updatedTiles:a}=e;a.forEach((e=>{})),null!==a&&void 0!==a&&a.length&&t((e=>n(e,a)))};return console.log("\ud83e\uddf2 [tiles] Subscribing to real-time tile updates for grid:",e),Re.on("tile-sync",a),()=>{console.log("\ud83e\uddf9 Unsubscribing from tile-sync for grid:",e),Re.off("tile-sync",a)}}function Le(e,t,n){if(console.log("\ud83c\udf10 useEffect for npc-controller running. gridId:",e,"socket:",!!Re),Re&&t)return e&&Re.emit("set-username",{username:t.username}),Re.on("npc-controller-update",(e=>{let{controllerUsername:t}=e;n(t)})),Re.on("npc-controller-assigned",(e=>{let{gridId:t}=e;console.log(`\ud83c\udfae Assigned as NPC controller for grid ${t}`)})),Re.on("npc-controller-revoked",(e=>{let{gridId:t}=e;console.log(`\ud83c\udfae Revoked as NPC controller for grid ${t}`)})),()=>{Re.off("npc-controller-update"),Re.off("npc-controller-assigned"),Re.off("npc-controller-revoked")}}function Be(){if(Re)return Re.on("force-refresh",(e=>{let{reason:t}=e;console.warn(`\ud83d\udd01 Server requested refresh: ${t}`),window.location.reload()})),()=>{Re.off("force-refresh")}}function Ge(e,t,n){const a=()=>{console.log("\ud83d\udce1 Socket connected!"),n(!0),Re.emit("player-connected",{playerId:t._id,gridId:e})},o=()=>{console.warn("\ud83d\udcf4 Socket disconnected."),n(!1),Re.emit("player-disconnected",{playerId:t._id,gridId:e})};return Re.on("connect",a),Re.on("disconnect",o),()=>{Re.off("connect",a),Re.off("disconnect",o)}}function qe(e,t){if(!Re||!e)return;console.log("\ud83c\udf10 useEffect for player-connected/disconnected running. gridId:",e),console.log("\ud83d\udd04 Requesting connected players list on startup."),Re.emit("request-connected-players",{gridId:e});const n=e=>{let{playerId:n}=e;console.log(`\ud83d\udce1 Player connected: ${n}`),t((e=>new Set(e).add(n)))},a=e=>{let{playerId:n}=e;console.log(`\ud83d\udcf4 Player disconnected: ${n}`),t((e=>{const t=new Set(e);return t.delete(n),t}))},o=e=>{let{connectedPlayerIds:n}=e;console.log("\ud83d\udce6 Received full list of currently connected players:",n),t(new Set(n))};return Re.on("player-connected",n),Re.on("player-disconnected",a),Re.on("connected-players",o),()=>{Re.off("player-connected",n),Re.off("player-disconnected",a),Re.off("connected-players",o)}}function Fe(e){if(!Re)return;const t=t=>{console.log("\ud83d\udcac Incoming chat message:",t);const{scope:n,scopeId:a}=t;e((e=>{const n=e[a]||[];return{...e,[a]:[...n,t]}}));Re.emit("chat-badge-update",{playerId:null,username:null,hasUpdate:!0})};return Re.on("receive-chat-message",t),()=>{Re.off("receive-chat-message",t)}}function Ve(e){let{playerId:t,username:n,message:a,scope:o,scopeId:r}=e;Re&&Re.emit("send-chat-message",{playerId:t,username:n,message:a,scope:o,scopeId:r,emitterId:Re.id})}function _e(e,t,n){if(console.log("\ud83d\udce1 socketListenForBadgeUpdates called with player:",null===e||void 0===e?void 0:e.username),!Re||!e)return;const a=a=>{let{type:o,playerId:r,username:s,hasUpdate:i}=a;console.log("\ud83e\uddea handleBadge invoked with:",{type:o,playerId:r,username:s,hasUpdate:i}),console.log("\ud83d\udd14 SOCKET LISTENER: Received badge update:",{type:o,playerId:r,username:s,hasUpdate:i}),console.log("\ud83d\udcdb Comparing currentPlayer._id:",e._id,"to incoming:",r);const l="chat"===o||(r&&String(e._id)===String(r)||s&&e.username===s);console.log("\ud83d\udd14 isMatch:",l,"for currentPlayer:",e.username),l&&(console.log(`\ud83d\udcdb Badge update received for ${o}.`),n(e,t,o,i))};return Re.on("mailbox-badge-update",(e=>a({...e,type:"mailbox"}))),Re.on("store-badge-update",(e=>a({...e,type:"store"}))),Re.on("chat-badge-update",(e=>a({...e,type:"chat"}))),()=>{Re.off("mailbox-badge-update"),Re.off("store-badge-update"),Re.off("chat-badge-update")}}const Ue=Re},667:(e,t,n)=>{n.d(t,{Ay:()=>b});var a=n(488),o=n(665),r=n(213),s=n(14),i=n(146);let l=null,c=null;const d=new class{constructor(){this.NPCsInGrid={},console.log("GridStateManager instance created.")}registerSetGridState(e){c=e}async initializeGridState(e){if(console.log("\ud83d\udc4d Initialize NPCsInGrid for gridId:",e),e)try{const t=await r.A.get(`${a.A}/api/load-grid-state/${e}`),{NPCsInGrid:n={npcs:{},lastUpdated:0}}=t.data,o={npcs:n.npcs||{},NPCsInGridLastUpdated:new Date(n.lastUpdated||0).getTime()},l=o.npcs||{};console.log("Fetched NPCsInGrid:",o);const c=await(0,i._M)();l&&Object.keys(l).forEach((t=>{const a=l[t],o=c.find((e=>e.type===a.type));o||(console.warn(`\u26a0\ufe0f Missing template for NPC type: ${a.type}`),console.log("Master resources:",c.map((e=>e.type))));const r=new s.A(t,a.type,a.position,{...o,...a},e);console.log("  \u2705 Hydrated NPC instance:",r),n.npcs[t]=r})),this.NPCsInGrid[e]=n,this.setGridStateReact&&(console.log("\ud83d\udce1 Syncing initialized NPCs to React state for gridId:",e),this.setGridStateReact((t=>({...t,[e]:{...t[e]||{},...n}})))),console.log(`\u2705 Initialized and enriched NPCsInGrid for gridId ${e}:`,n)}catch(t){console.error("Error fetching NPCsInGrid:",t)}else console.error("initializeGridState: gridId is undefined.")}getNPCsInGrid(e){const t=this.NPCsInGrid[e];return t?t.npcs:(console.warn(`\u26a0\ufe0f No NPCsInGrid found for gridId: ${e}`),{npcs:{}})}async spawnNPC(e,t,n){var o;if(console.log("spawnNPC called with:",{gridId:e,npcType:t,position:n}),"object"===typeof t&&null!==(o=t)&&void 0!==o&&o.type&&(t=t.type),"string"!==typeof t)return void console.error("Invalid npcType. Expected a string but got:",t);const i=(await r.A.get(`${a.A}/api/resources`)).data.find((e=>e.type===t&&"npc"===e.category));if(!i)return void console.error(`NPC template not found for type: ${t}`);const l=`${Date.now()}`;let c;c="graze"===i.action?{id:l,type:t,action:i.action,state:"idle",position:n,hp:0,maxhp:i.maxhp,lastUpdated:Date.now()}:"spawn"===i.action?{id:l,type:t,action:i.action,state:"hungry",position:n,hp:i.maxhp,maxhp:i.maxhp,lastUpdated:Date.now(),nextspawn:Date.now()+1e3*i.speed}:{id:l,type:t,action:i.action,state:"idle",position:n,hp:i.maxhp,maxhp:i.maxhp,lastUpdated:Date.now()},console.log("Creating lightweightNPC:",c);const d=new s.A(l,t,n,{...i,...c},e);this.addNPC(e,d),console.log(`Successfully added NPC to NPCsInGrid. NPC ID: ${l}`);const u=this.getNPCsInGrid(e);this.setAllNPCs(e,u)}async addNPC(e,t){console.log(`Adding NPC to NPCsInGrid for gridId: ${e}. NPC:`,t);let n=this.NPCsInGrid[e];n||(console.warn(`\u26a0\ufe0f No NPCsInGrid found for gridId: ${e}. Initializing new entry.`),n={npcs:{},NPCsInGridLastUpdated:Date.now()},this.NPCsInGrid[e]=n),n.npcs||(n.npcs={});const s=Date.now();t.lastUpdated=s,n.npcs[t.id]=t;try{await r.A.post(`${a.A}/api/save-single-npc`,{gridId:e,npcId:t.id,npc:t,lastUpdated:s}),console.log(`\u2705 Saved single NPC ${t.id} to server.`)}catch(i){console.error(`\u274c Failed to save single NPC ${t.id}:`,i)}if(o.Ay&&o.Ay.emit){const n={[e]:{npcs:{[t.id]:t},NPCsInGridLastUpdated:s},emitterId:o.Ay.id};console.log("\ud83d\udce1 Emitting update-NPCsInGrid-NPCs with payload:",JSON.stringify(n,null,2)),o.Ay.emit("update-NPCsInGrid-NPCs",n)}}async updateNPC(e,t,n){var i,l;const c=this.NPCsInGrid[e],d=null===c||void 0===c||null===(i=c.npcs)||void 0===i?void 0:i[t];if(!c||null===(l=c.npcs)||void 0===l||!l[t])return void console.error(`Cannot update NPC ${t}. No NPCsInGrid or NPC found for gridId: ${e}`);if(!(d instanceof s.A))return void console.error(`\ud83d\uded1 Skipping updateNPC for ${t} \u2014 not an instance of NPC:`,d);const u=Date.now(),p=c.npcs[t];Object.assign(p,n),p.lastUpdated=u;try{const n={id:p.id,type:p.type,position:p.position,state:p.state,hp:p.hp,maxhp:p.maxhp,grazeEnd:p.grazeEnd,lastUpdated:p.lastUpdated,action:p.action,gridId:p.gridId};console.log(`\ud83d\udc2e Saving NPC ${t} to server with state: ${n.state}`),await r.A.post(`${a.A}/api/save-single-npc`,{gridId:e,npcId:t,npc:n,lastUpdated:u}),console.log(`\ud83d\udc2e\u2705 Saved single NPC ${t} to server with state: ${n.state}`)}catch(h){console.error(`\u274c Failed to save single NPC ${t}:`,h)}if(o.Ay&&o.Ay.emit){const n={[e]:{npcs:{[t]:p},NPCsInGridLastUpdated:u},emitterId:o.Ay.id};o.Ay.emit("update-NPCsInGrid-NPCs",n)}const m=this.getNPCsInGrid(e);this.setAllNPCs(e,m)}async removeNPC(e,t){console.log(`Removing NPC ${t} from gridId: ${e}`);const n=this.NPCsInGrid[e];if(n&&n.npcs){delete n.npcs[t],this.setAllNPCs(e,n.npcs);try{await r.A.post(`${a.A}/api/remove-single-npc`,{gridId:e,npcId:t}),console.log(`\u2705 Removed single NPC ${t} from server.`)}catch(s){console.error(`\u274c Failed to remove single NPC ${t}:`,s)}o.Ay&&o.Ay.emit&&(o.Ay.emit("remove-NPC",{gridId:e,npcId:t,emitterId:o.Ay.id}),console.log(`\ud83d\udce1 Emitted NPC removal for ${t}`))}else console.error(`Cannot remove NPC. No NPCsInGrid or NPCs found for gridId: ${e}`)}async saveGridStateNPCs(e){console.log("\ud83d\udcbe saveGridStateNPCs called with gridId:",e);try{const t=this.NPCsInGrid[e];if(!t||!t.npcs)return void console.warn(`\u26a0\ufe0f No NPCs to save for grid ${e}`);const n=Date.now();t.NPCsInGridLastUpdated=n;const s={};Object.entries(t.npcs).forEach((e=>{let[t,n]=e;s[t]={id:n.id,type:n.type,position:n.position,state:n.state,hp:n.hp,maxhp:n.maxhp,grazeEnd:n.grazeEnd,lastUpdated:n.lastUpdated}}));const i={gridId:e,npcs:s,NPCsInGridLastUpdated:n};console.log("\ud83d\udcbe Payload for saving NPCs:",i),await r.A.post(`${a.A}/api/save-grid-state-npcs`,i),console.log(`\u2705 \ud83d\udcbe Saved NPCs for grid ${e}`),o.Ay&&o.Ay.emit&&(console.log(`\ud83d\udce1 Emitting NPC grid-state for grid ${e}`),o.Ay.emit("update-NPCsInGrid-NPCs",{gridId:e,npcs:s,NPCsInGridLastUpdated:n}))}catch(t){console.error(`\u274c Error saving NPCs for grid ${e}:`,t)}}startGridTimer(e){l&&clearInterval(l),l=setInterval((()=>{const t=this.NPCsInGrid[e];if(!t)return;const{npcs:n}=t,a=Date.now();Object.values(n||{}).forEach((e=>{e instanceof s.A&&"function"===typeof e.update?e.update(a,t):console.error(`NPC ID: ${e.id} is not a valid NPC instance or missing update method. NPC:`,e)})),console.log(`Processed NPC updates for gridId ${e}.`)}),1e3)}stopGridTimer(){l&&clearInterval(l),l=null}stopGridStateUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),this.NPCsInGrid={}}registerSetGridState(e){this.setGridStateReact=e}setAllNPCs(e,t){const n=this.NPCsInGrid[e]||{},a=n.NPCsInGridLastUpdated||Date.now();this.NPCsInGrid[e]={...n,npcs:t||{},NPCsInGridLastUpdated:a},this.setGridStateReact&&this.setGridStateReact((n=>({...n,[e]:{...n[e]||{},npcs:t||{},NPCsInGridLastUpdated:a}})))}},{initializeGridState:u,getNPCsInGrid:p,addNPC:m,updateNPC:h,removeNPC:f,saveGridStateNPCs:g,registerSetGridState:y,setAllNPCs:v}=d,b=d},704:(e,t,n)=>{n.d(t,{handleTransitSignpost:()=>u});var a=n(488),o=n(213),r=n(167);const s={N:{x:31,y:63},NE:{x:0,y:63},E:{x:0,y:31},SE:{x:0,y:0},S:{x:31,y:0},SW:{x:63,y:0},W:{x:63,y:30},NW:{x:63,y:63}};var i=n(431),l=n(605),c=n(836),d=n(894);async function u(e,t,n,u,p,m,h,f,g,y,v,b,k){try{var w,S,x,C,I,A,T;"function"!==typeof f&&console.warn("\u26a0\ufe0f updateStatus is not a function:",f),console.log("Handling transit for resource:",t),console.log("\ud83d\udd0d currentPlayer before checking skills:",e),console.log("\ud83d\udcdc currentPlayer.skills:",e.skills);const{g:j,s:P,f:E}=e.location;if(!("Signpost Town"===t||"Signpost Home"===t)){y=e.skills.length?e.skills:await o.A.get(`${a.A}/api/inventory/${e.playerId}`).then((e=>e.data.skills||[])),console.log("skillResponse.data: ",y),console.log("currentPlayer = ",e.username);const t=y.some((e=>"Horse"===e.type&&e.quantity>0));if(console.log("hasHorse: ",t),!t){f(15);const t=i.A.getPlayersInGrid(j);if(t&&t[e.playerId]){const n=t[e.playerId].position;d.A.addFloatingText(91,n.x,n.y,g)}return}}if("Signpost Home"===t){console.log("\ud83c\udfe0 Traveling to homestead:",{gridId:e.gridId,settlementId:e.settlementId,gridCoord:e.gridCoord});try{const t=await(0,l.FV)(e.gridId),a={x:t.x,y:t.y,g:e.gridId,s:e.settlementId,f:e.location.f,gtype:"homestead",gridCoord:e.gridCoord};f(101),await(0,r.t3)(e,e.location,a,n,u,p,m,h,g,v,f,b,k)}catch(N){console.error("\u274c Error traveling home:",N),N.message&&N.message.includes("Failed to remove player from previous grid")?f("Failed to leave current location. Please try again."):f("Error traveling home")}return}if("Signpost Town"===t){console.log("Signpost Town clicked. Finding the first town grid in the settlement.");const t=(await o.A.get(`${a.A}/api/get-settlement/${P}`)).data;if(!t||!t.grids)return void f(104);const s=t.grids.flat().find((e=>"town"===e.gridType&&e.gridId));if(!s)return void f(104);console.log("Found town grid:",s);try{const t=await(0,l.f0)(s.gridId),a={x:t.x,y:t.y,g:s.gridId,s:P,f:E,gtype:"town",gridCoord:s.gridCoord};if(f(102),!0===e.firsttimeuser){console.log("\ud83c\udf93 First-time user used Signpost Town, incrementing FTUE step");const t=await(0,c.incrementFTUEStep)(e.playerId,e,n);await new Promise((e=>setTimeout(e,500))),e={...e,ftuestep:t}}await(0,r.t3)(e,e.location,a,n,u,p,m,h,g,v,f,b,k)}catch(N){console.error("\u274c Error traveling to town:",N),N.message&&N.message.includes("Failed to remove player from previous grid")?f("Failed to leave current location. Please try again."):f("Error traveling to town")}return}console.log("Regular Signpost clicked. Calculating transit options dynamically.");const R=t.replace("Signpost ",""),$={N:[-1,0],S:[1,0],E:[0,1],W:[0,-1],NE:[-1,1],SE:[1,1],SW:[1,-1],NW:[-1,-1]},O=(await o.A.get(`${a.A}/api/get-settlement/${P}`)).data;if(!O||!O.grids)return console.error("Settlement data is invalid or missing grids."),void f(105);const z=O.grids.flat().find((e=>e.gridId===j));if(!z)return console.error("Current grid not found in settlement."),void f(105);if(!z.gridCoord)return console.error("No gridCoord found on current grid."),void f(105);f(103);const{frontierTier:D,frontierIndex:M,setRow:L,setCol:B,gRow:G,gCol:q}=function(e){const t=e.toString().padStart(8,"0");return{frontierTier:parseInt(t.slice(0,2),10),frontierIndex:parseInt(t.slice(2,4),10),setRow:parseInt(t.slice(4,5),10),setCol:parseInt(t.slice(5,6),10),gRow:parseInt(t.slice(6,7),10),gCol:parseInt(t.slice(7,8),10)}}(z.gridCoord),[F,V]=$[R]||[0,0];let _=G+F,U=q+V,H=L,K=B;if(_<0?(_=7,H-=1):_>7&&(_=0,H+=1),U<0?(U=7,K-=1):U>7&&(U=0,K+=1),H<0||H>7||K<0||K>7)return void f(106);const W=(await o.A.get(`${a.A}/api/get-settlement-by-coords/${H}/${K}`)).data;if(!W||!W.grids)return console.warn("Target settlement not found or invalid."),void f(105);const Y=W.grids[_][U];if(console.log("targetGrid = ",Y),null===Y||void 0===Y||!Y.gridId)return void f(18);let J;const Q=null===(w=e._id)||void 0===w?void 0:w.toString(),Z=null===(S=e.location)||void 0===S?void 0:S.g,X=null===(x=i.A.getPlayersInGrid(Z))||void 0===x?void 0:x[Q],ee=null!==(C=null===X||void 0===X||null===(I=X.position)||void 0===I?void 0:I.x)&&void 0!==C?C:0,te=null!==(A=null===X||void 0===X||null===(T=X.position)||void 0===T?void 0:T.y)&&void 0!==A?A:0;console.log("Current player position:",{x:ee,y:te}),console.log("Direction:",R),["E","W"].includes(R)?(J={x:"E"===R?0:63,y:te},console.log("Preserving row (Y) for E/W direction:",J)):["N","S"].includes(R)?(J={x:ee,y:"N"===R?63:0},console.log("Preserving column (X) for N/S direction:",J)):J=function(e){return s[e]||{x:0,y:0}}(R);const ne={x:J.x,y:J.y,g:Y.gridId,s:W._id,f:E,gtype:Y.gridType,gridCoord:Y.gridCoord};await(0,r.t3)(e,e.location,ne,n,u,p,m,h,g,v,f,b,k),console.log(`Player moved to grid ID: ${Y.gridId}`)}catch(N){console.error("Error handling transit:",N.message||N),f("Error during travel.")}}},730:(e,t,n)=>{var a=n(43),o=n(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,a,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,a){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,a)&&(n=null),a||null===o?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,a=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var $=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,M=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function G(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),r=a.stack.split("\n"),s=o.length-1,i=r.length-1;1<=s&&0<=i&&o[s]!==r[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==r[i]){if(1!==s||1!==i)do{if(s--,0>--i||o[s]!==r[i]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function q(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case I:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return F(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function _(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=U(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=_(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=_(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,_(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+_(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(a&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:_(n)}}function re(e,t){var n=_(t.value),a=_(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),o=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,o):e[n]=o}}Object.keys(me).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Ce=null;function Ie(e){if(e=ko(e)){if("function"!==typeof Se)throw Error(r(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ae(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function je(){}var Pe=!1;function Ee(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ce)&&(je(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var a=So(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var $e=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){$e=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){$e=!1}function ze(e,t,n,a,o,r,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Me=null,Le=!1,Be=null,Ge={onError:function(e){De=!0,Me=e}};function qe(e,t,n,a,o,r,s,i,l){De=!1,Me=null,ze.apply(Ge,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function _e(e){if(Fe(e)!==e)throw Error(r(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(a=o.return)){n=a;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return _e(o),e;if(s===a)return _e(o),t;s=s.sibling}throw Error(r(188))}if(n.return!==a.return)n=o,a=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,a=s;break}if(l===a){i=!0,a=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,a=o;break}if(l===a){i=!0,a=s,n=o;break}l=l.sibling}if(!i)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,We=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Je=o.unstable_requestPaint,Qe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,at=o.unstable_IdlePriority,ot=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~o;0!==i?a=ut(i):0!==(r&=s)&&(a=ut(r))}else 0!==(s=n&~o)?a=ut(s):0!==r&&(a=ut(r));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(r=t&-t)||16===o&&0!==(4194240&r)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)o=1<<(n=31-st(t)),a|=e[n],t&=~o;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,xt,Ct,It,At=!1,Tt=[],Nt=null,jt=null,Pt=null,Et=new Map,Rt=new Map,$t=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,a,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=ko(t))&&St(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Mt(e){var t=bo(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ko(n))&&St(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ke=a,n.target.dispatchEvent(a),ke=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Gt(){At=!1,null!==Nt&&Lt(Nt)&&(Nt=null),null!==jt&&Lt(jt)&&(jt=null),null!==Pt&&Lt(Pt)&&(Pt=null),Et.forEach(Bt),Rt.forEach(Bt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Gt)))}function Ft(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var a=Tt[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Nt&&qt(Nt,e),null!==jt&&qt(jt,e),null!==Pt&&qt(Pt,e),Et.forEach(t),Rt.forEach(t),n=0;n<$t.length;n++)(a=$t[n]).blockedOn===e&&(a.blockedOn=null);for(;0<$t.length&&null===(n=$t[0]).blockedOn;)Mt(n),null===n.blockedOn&&$t.shift()}var Vt=k.ReactCurrentBatchConfig,_t=!0;function Ut(e,t,n,a){var o=bt,r=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,a)}finally{bt=o,Vt.transition=r}}function Ht(e,t,n,a){var o=bt,r=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,a)}finally{bt=o,Vt.transition=r}}function Kt(e,t,n,a){if(_t){var o=Yt(e,t,n,a);if(null===o)_a(e,t,a,Wt,n),zt(e,a);else if(function(e,t,n,a,o){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,a,o),!0;case"dragenter":return jt=Dt(jt,e,t,n,a,o),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,a,o),!0;case"pointerover":var r=o.pointerId;return Et.set(r,Dt(Et.get(r)||null,e,t,n,a,o)),!0;case"gotpointercapture":return r=o.pointerId,Rt.set(r,Dt(Rt.get(r)||null,e,t,n,a,o)),!0}return!1}(o,e,t,n,a))a.stopPropagation();else if(zt(e,a),4&t&&-1<Ot.indexOf(e)){for(;null!==o;){var r=ko(o);if(null!==r&&wt(r),null===(r=Yt(e,t,n,a))&&_a(e,t,a,Wt,n),r===o)break;o=r}null!==o&&a.stopPropagation()}else _a(e,t,a,null,n)}}var Wt=null;function Yt(e,t,n,a){if(Wt=null,null!==(e=bo(e=we(a))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,a=n.length,o="value"in Qt?Qt.value:Qt.textContent,r=o.length;for(e=0;e<a&&n[e]===o[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===o[r-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function on(e){function t(t,n,a,o,r){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:an,this.isPropagationStopped=an,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=M({},cn,{view:0,detail:0}),pn=on(un),mn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(mn),fn=on(M({},mn,{dataTransfer:0})),gn=on(M({},un,{relatedTarget:0})),yn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),kn=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return Cn}var An=M({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(An),Nn=on(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(En),$n=[9,13,27,32],On=d&&"CompositionEvent"in window,zn=null;d&&"documentMode"in document&&(zn=document.documentMode);var Dn=d&&"TextEvent"in window&&!zn,Mn=d&&(!On||zn&&8<zn&&11>=zn),Ln=String.fromCharCode(32),Bn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Un(e,t,n,a){Ae(a),0<(t=Ha(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Wn(e){La(e,0)}function Yn(e){if(K(wo(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Zn;if(d){var Xn="oninput"in document;if(!Xn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Xn="function"===typeof ea.oninput}Zn=Xn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function ta(){Hn&&(Hn.detachEvent("onpropertychange",na),Kn=Hn=null)}function na(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Un(t,Kn,e,we(e)),Ee(Wn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Kn=n,(Hn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function oa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ra(e,t){if("click"===e)return Yn(t)}function sa(e,t){if("input"===e||"change"===e)return Yn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!u.call(t,o)||!ia(e[o],t[o]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,r=Math.min(a.start,o);a=void 0===a.end?r:Math.min(a.end,o),!e.extend&&r>a&&(o=a,a=r,r=o),o=da(n,r);var s=da(n,a);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),r>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,ga=null,ya=null,va=null,ba=!1;function ka(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==ga||ga!==W(a)||("selectionStart"in(a=ga)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&la(va,a)||(va=a,0<(a=Ha(ya,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sa={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},xa={},Ca={};function Ia(e){if(xa[e])return xa[e];if(!Sa[e])return e;var t,n=Sa[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ca)return xa[e]=n[t];return e}d&&(Ca=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);var Aa=Ia("animationend"),Ta=Ia("animationiteration"),Na=Ia("animationstart"),ja=Ia("transitionend"),Pa=new Map,Ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(e,t){Pa.set(e,t),l(t,[e])}for(var $a=0;$a<Ea.length;$a++){var Oa=Ea[$a];Ra(Oa.toLowerCase(),"on"+(Oa[0].toUpperCase()+Oa.slice(1)))}Ra(Aa,"onAnimationEnd"),Ra(Ta,"onAnimationIteration"),Ra(Na,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(ja,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function Ma(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,o,s,i,l,c){if(qe.apply(this,arguments),De){if(!De)throw Error(r(198));var d=Me;De=!1,Me=null,Le||(Le=!0,Be=d)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==r&&o.isPropagationStopped())break e;Ma(o,i,c),r=l}else for(s=0;s<a.length;s++){if(l=(i=a[s]).instance,c=i.currentTarget,i=i.listener,l!==r&&o.isPropagationStopped())break e;Ma(o,i,c),r=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Ba(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var a=e+"__bubble";n.has(a)||(Va(t,e,2,!1),n.add(a))}function Ga(e,t,n){var a=0;t&&(a|=4),Va(n,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Fa(e){if(!e[qa]){e[qa]=!0,s.forEach((function(t){"selectionchange"!==t&&(Da.has(t)||Ga(t,!1,e),Ga(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ga("selectionchange",!1,t))}}function Va(e,t,n,a){switch(Jt(t)){case 1:var o=Ut;break;case 4:o=Ht;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!$e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),a?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function _a(e,t,n,a,o){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var i=a.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==i;){if(null===(s=bo(i)))return;if(5===(l=s.tag)||6===l){a=r=s;continue e}i=i.parentNode}}a=a.return}Ee((function(){var a=r,o=we(n),s=[];e:{var i=Pa.get(e);if(void 0!==i){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Aa:case Ta:case Na:l=yn;break;case ja:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var m,h=a;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Re(h,p))&&d.push(Ua(h,f,m)))),u)break;h=h.return}0<d.length&&(i=new l(i,c,null,n,o),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[fo])&&(l||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(u=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=hn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Nn,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?i:wo(l),m=null==c?i:wo(c),(i=new d(f,h+"leave",l,n,o)).target=u,i.relatedTarget=m,f=null,bo(o)===a&&((d=new d(p,h+"enter",c,n,o)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,h=0,m=d=l;m;m=Ka(m))h++;for(m=0,f=p;f;f=Ka(f))m++;for(;0<h-m;)d=Ka(d),h--;for(;0<m-h;)p=Ka(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ka(d),p=Ka(p)}d=null}else d=null;null!==l&&Wa(s,i,l,d,!1),null!==c&&null!==u&&Wa(s,u,c,d,!0)}if("select"===(l=(i=a?wo(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Jn;else if(_n(i))if(Qn)g=sa;else{g=oa;var y=aa}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ra);switch(g&&(g=g(e,a))?Un(s,g,n,o):(y&&y(e,i,a),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=a?wo(a):window,e){case"focusin":(_n(y)||"true"===y.contentEditable)&&(ga=y,ya=a,va=null);break;case"focusout":va=ya=ga=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ka(s,n,o);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ka(s,n,o)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Gn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(v=en()):(Zt="value"in(Qt=o)?Qt.value:Qt.textContent,Fn=!0)),0<(y=Ha(a,b)).length&&(b=new kn(b,e,null,n,o),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=qn(n))&&(b.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!On&&Gn(e,t)?(e=en(),Xt=Zt=Qt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ha(a,"onBeforeInput")).length&&(o=new kn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:a}),o.data=v))}La(s,t)}))}function Ua(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ha(e,t){for(var n=t+"Capture",a=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Re(e,n))&&a.unshift(Ua(e,r,o)),null!=(r=Re(e,t))&&a.push(Ua(e,r,o))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wa(e,t,n,a,o){for(var r=t._reactName,s=[];null!==n&&n!==a;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===a)break;5===i.tag&&null!==c&&(i=c,o?null!=(l=Re(n,r))&&s.unshift(Ua(n,l,i)):o||null!=(l=Re(n,r))&&s.push(Ua(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ya=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Qa(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Ja,"")}function Za(e,t,n){if(t=Qa(t),Qa(e)!==t&&n)throw Error(r(425))}function Xa(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ao="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ro="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ro?function(e){return ro.resolve(null).then(e).catch(io)}:ao;function io(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===a)return e.removeChild(o),void Ft(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=o}while(n);Ft(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),mo="__reactFiber$"+po,ho="__reactProps$"+po,fo="__reactContainer$"+po,go="__reactEvents$"+po,yo="__reactListeners$"+po,vo="__reactHandles$"+po;function bo(e){var t=e[mo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fo]||n[mo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[mo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function ko(e){return!(e=e[mo]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function So(e){return e[ho]||null}var xo=[],Co=-1;function Io(e){return{current:e}}function Ao(e){0>Co||(e.current=xo[Co],xo[Co]=null,Co--)}function To(e,t){Co++,xo[Co]=e.current,e.current=t}var No={},jo=Io(No),Po=Io(!1),Eo=No;function Ro(e,t){var n=e.type.contextTypes;if(!n)return No;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function $o(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oo(){Ao(Po),Ao(jo)}function zo(e,t,n){if(jo.current!==No)throw Error(r(168));To(jo,t),To(Po,n)}function Do(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var o in a=a.getChildContext())if(!(o in t))throw Error(r(108,V(e)||"Unknown",o));return M({},n,a)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Eo=jo.current,To(jo,e),To(Po,Po.current),!0}function Lo(e,t,n){var a=e.stateNode;if(!a)throw Error(r(169));n?(e=Do(e,t,Eo),a.__reactInternalMemoizedMergedChildContext=e,Ao(Po),Ao(jo),To(jo,e)):Ao(Po),To(Po,n)}var Bo=null,Go=!1,qo=!1;function Fo(e){null===Bo?Bo=[e]:Bo.push(e)}function Vo(){if(!qo&&null!==Bo){qo=!0;var e=0,t=bt;try{var n=Bo;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Bo=null,Go=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),Ke(Xe,Vo),o}finally{bt=t,qo=!1}}return null}var _o=[],Uo=0,Ho=null,Ko=0,Wo=[],Yo=0,Jo=null,Qo=1,Zo="";function Xo(e,t){_o[Uo++]=Ko,_o[Uo++]=Ho,Ho=e,Ko=t}function er(e,t,n){Wo[Yo++]=Qo,Wo[Yo++]=Zo,Wo[Yo++]=Jo,Jo=e;var a=Qo;e=Zo;var o=32-st(a)-1;a&=~(1<<o),n+=1;var r=32-st(t)+o;if(30<r){var s=o-o%5;r=(a&(1<<s)-1).toString(32),a>>=s,o-=s,Qo=1<<32-st(t)+o|n<<o|a,Zo=r+e}else Qo=1<<r|n<<o|a,Zo=e}function tr(e){null!==e.return&&(Xo(e,1),er(e,1,0))}function nr(e){for(;e===Ho;)Ho=_o[--Uo],_o[Uo]=null,Ko=_o[--Uo],_o[Uo]=null;for(;e===Jo;)Jo=Wo[--Yo],Wo[Yo]=null,Zo=Wo[--Yo],Wo[Yo]=null,Qo=Wo[--Yo],Wo[Yo]=null}var ar=null,or=null,rr=!1,sr=null;function ir(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ar=e,or=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ar=e,or=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Qo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ar=e,or=null,!0);default:return!1}}function cr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function dr(e){if(rr){var t=or;if(t){var n=t;if(!lr(e,t)){if(cr(e))throw Error(r(418));t=co(n.nextSibling);var a=ar;t&&lr(e,t)?ir(a,n):(e.flags=-4097&e.flags|2,rr=!1,ar=e)}}else{if(cr(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,ar=e}}}function ur(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ar=e}function pr(e){if(e!==ar)return!1;if(!rr)return ur(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=or)){if(cr(e))throw mr(),Error(r(418));for(;t;)ir(e,t),t=co(t.nextSibling)}if(ur(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){or=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}or=null}}else or=ar?co(e.stateNode.nextSibling):null;return!0}function mr(){for(var e=or;e;)e=co(e.nextSibling)}function hr(){or=ar=null,rr=!1}function fr(e){null===sr?sr=[e]:sr.push(e)}var gr=k.ReactCurrentBatchConfig;function yr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var a=n.stateNode}if(!a)throw Error(r(147,e));var o=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function br(e){return(0,e._init)(e._payload)}function kr(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=$c(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Mc(n,e.mode,a)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===x?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===R&&br(r)===t.type)?((a=o(t,n.props)).ref=yr(e,t,n),a.return=e,a):((a=Oc(n.type,n.key,n.props,null,e.mode,a)).ref=yr(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,a)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,a,r){return null===t||7!==t.tag?((t=zc(n,e.mode,a,r)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=yr(e,null,t),n.return=e,n;case S:return(t=Lc(t,e.mode,n)).return=e,t;case R:return p(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=zc(t,e.mode,n,null)).return=e,t;vr(e,t)}return null}function m(e,t,n,a){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,a):null;case S:return n.key===o?d(e,t,n,a):null;case R:return m(e,t,(o=n._init)(n._payload),a)}if(te(n)||z(n))return null!==o?null:u(e,t,n,a,null);vr(e,n)}return null}function h(e,t,n,a,o){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,o);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?n:a.key)||null,a,o);case S:return d(t,e=e.get(null===a.key?n:a.key)||null,a,o);case R:return h(e,t,n,(0,a._init)(a._payload),o)}if(te(a)||z(a))return u(t,e=e.get(n)||null,a,o,null);vr(t,a)}return null}function f(o,r,i,l){for(var c=null,d=null,u=r,f=r=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var y=m(o,u,i[f],l);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(o,u),r=s(y,r,f),null===d?c=y:d.sibling=y,d=y,u=g}if(f===i.length)return n(o,u),rr&&Xo(o,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(o,i[f],l))&&(r=s(u,r,f),null===d?c=u:d.sibling=u,d=u);return rr&&Xo(o,f),c}for(u=a(o,u);f<i.length;f++)null!==(g=h(u,o,f,i[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),r=s(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(o,e)})),rr&&Xo(o,f),c}function g(o,i,l,c){var d=z(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,f=i,g=i=0,y=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var b=m(o,f,v.value,c);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(o,f),i=s(b,i,g),null===u?d=b:u.sibling=b,u=b,f=y}if(v.done)return n(o,f),rr&&Xo(o,g),d;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=p(o,v.value,c))&&(i=s(v,i,g),null===u?d=v:u.sibling=v,u=v);return rr&&Xo(o,g),d}for(f=a(o,f);!v.done;g++,v=l.next())null!==(v=h(f,o,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),i=s(v,i,g),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(o,e)})),rr&&Xo(o,g),d}return function e(a,r,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=r;null!==d;){if(d.key===c){if((c=s.type)===x){if(7===d.tag){n(a,d.sibling),(r=o(d,s.props.children)).return=a,a=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&br(c)===d.type){n(a,d.sibling),(r=o(d,s.props)).ref=yr(a,d,s),r.return=a,a=r;break e}n(a,d);break}t(a,d),d=d.sibling}s.type===x?((r=zc(s.props.children,a.mode,l,s.key)).return=a,a=r):((l=Oc(s.type,s.key,s.props,null,a.mode,l)).ref=yr(a,r,s),l.return=a,a=l)}return i(a);case S:e:{for(d=s.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(a,r.sibling),(r=o(r,s.children||[])).return=a,a=r;break e}n(a,r);break}t(a,r),r=r.sibling}(r=Lc(s,a.mode,l)).return=a,a=r}return i(a);case R:return e(a,r,(d=s._init)(s._payload),l)}if(te(s))return f(a,r,s,l);if(z(s))return g(a,r,s,l);vr(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(a,r.sibling),(r=o(r,s)).return=a,a=r):(n(a,r),(r=Mc(s,a.mode,l)).return=a,a=r),i(a)):n(a,r)}}var wr=kr(!0),Sr=kr(!1),xr=Io(null),Cr=null,Ir=null,Ar=null;function Tr(){Ar=Ir=Cr=null}function Nr(e){var t=xr.current;Ao(xr),e._currentValue=t}function jr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Cr=e,Ar=Ir=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Ar!==e)if(e={context:e,memoizedValue:t,next:null},null===Ir){if(null===Cr)throw Error(r(308));Ir=e,Cr.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Rr=null;function $r(e){null===Rr?Rr=[e]:Rr.push(e)}function Or(e,t,n,a){var o=t.interleaved;return null===o?(n.next=n,$r(t)):(n.next=o.next,o.next=n),t.interleaved=n,zr(e,a)}function zr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Dr=!1;function Mr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Nl)){var o=a.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),a.pending=t,zr(e,n)}return null===(o=a.interleaved)?(t.next=t,$r(a)):(t.next=o.next,o.next=t),a.interleaved=t,zr(e,n)}function qr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fr(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vr(e,t,n,a){var o=e.updateQueue;Dr=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=o.baseState;for(s=0,d=c=l=null,i=r;;){var p=i.lane,m=i.eventTime;if((a&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,f=i;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=M({},u,p);break e;case 2:Dr=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[i]:p.push(i))}else m={eventTime:m,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=p;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(p=i).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===r&&(o.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=u}}function _r(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],o=a.callback;if(null!==o){if(a.callback=null,a=n,"function"!==typeof o)throw Error(r(191,o));o.call(a)}}}var Ur={},Hr=Io(Ur),Kr=Io(Ur),Wr=Io(Ur);function Yr(e){if(e===Ur)throw Error(r(174));return e}function Jr(e,t){switch(To(Wr,t),To(Kr,e),To(Hr,Ur),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ao(Hr),To(Hr,t)}function Qr(){Ao(Hr),Ao(Kr),Ao(Wr)}function Zr(e){Yr(Wr.current);var t=Yr(Hr.current),n=le(t,e.type);t!==n&&(To(Kr,e),To(Hr,n))}function Xr(e){Kr.current===e&&(Ao(Hr),Ao(Kr))}var es=Io(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function as(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=k.ReactCurrentDispatcher,rs=k.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,ds=!1,us=!1,ps=0,ms=0;function hs(){throw Error(r(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function gs(e,t,n,a,o,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Xs:ei,e=n(a,o),us){s=0;do{if(us=!1,ps=0,25<=s)throw Error(r(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ti,e=n(a,o)}while(us)}if(os.current=Zs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,ds=!1,t)throw Error(r(300));return e}function ys(){var e=0!==ps;return ps=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function ks(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=ls,o=a.baseQueue,s=n.pending;if(null!==s){if(null!==o){var i=o.next;o.next=s.next,s.next=i}a.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,a=a.baseState;var l=i=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,i=a):c=c.next=p,is.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==s);null===c?i=a:c.next=l,ia(a,t.memoizedState)||(bi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,is.lanes|=s,Dl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{s=e(s,i.action),i=i.next}while(i!==o);ia(s,t.memoizedState)||(bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function xs(){}function Cs(e,t){var n=is,a=bs(),o=t(),s=!ia(a.memoizedState,o);if(s&&(a.memoizedState=o,bi=!0),a=a.queue,Ds(Ts.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Es(9,As.bind(null,n,a,o,t),void 0,null),null===jl)throw Error(r(349));0!==(30&ss)||Is(n,t,o)}return o}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,a){t.value=n,t.getSnapshot=a,Ns(t)&&js(e)}function Ts(e,t,n){return n((function(){Ns(t)&&js(e)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function js(e){var t=zr(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Ws.bind(null,is,e),[t.memoizedState,e]}function Es(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rs(){return bs().memoizedState}function $s(e,t,n,a){var o=vs();is.flags|=e,o.memoizedState=Es(1|t,n,void 0,void 0===a?null:a)}function Os(e,t,n,a){var o=bs();a=void 0===a?null:a;var r=void 0;if(null!==ls){var s=ls.memoizedState;if(r=s.destroy,null!==a&&fs(a,s.deps))return void(o.memoizedState=Es(t,n,r,a))}is.flags|=e,o.memoizedState=Es(1|t,n,r,a)}function zs(e,t){return $s(8390656,8,e,t)}function Ds(e,t){return Os(2048,8,e,t)}function Ms(e,t){return Os(4,2,e,t)}function Ls(e,t){return Os(4,4,e,t)}function Bs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Bs.bind(null,t,e),n)}function qs(){}function Fs(e,t){var n=bs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=bs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fs(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function _s(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ia(n,t)||(n=ft(),is.lanes|=n,Dl|=n,e.baseState=!0),t)}function Us(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=rs.transition;rs.transition={};try{e(!1),t()}finally{bt=n,rs.transition=a}}function Hs(){return bs().memoizedState}function Ks(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Js(t,n);else if(null!==(n=Or(e,t,n,a))){nc(n,e,a,ec()),Qs(n,t,a)}}function Ws(e,t,n){var a=tc(e),o={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Js(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=r(s,n);if(o.hasEagerState=!0,o.eagerState=i,ia(i,s)){var l=t.interleaved;return null===l?(o.next=o,$r(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Or(e,t,o,a))&&(nc(n,e,a,o=ec()),Qs(n,t,a))}}function Ys(e){var t=e.alternate;return e===is||null!==t&&t===is}function Js(e,t){us=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zs={readContext:Er,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Xs={readContext:Er,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Er,useEffect:zs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$s(4194308,4,Bs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){return $s(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=vs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ks.bind(null,is,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ps,useDebugValue:qs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Us.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=is,o=vs();if(rr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===jl)throw Error(r(349));0!==(30&ss)||Is(a,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,zs(Ts.bind(null,a,s,e),[e]),a.flags|=2048,Es(9,As.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=jl.identifierPrefix;if(rr){var n=Zo;t=":"+t+"R"+(n=(Qo&~(1<<32-st(Qo)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Er,useCallback:Fs,useContext:Er,useEffect:Ds,useImperativeHandle:Gs,useInsertionEffect:Ms,useLayoutEffect:Ls,useMemo:Vs,useReducer:ws,useRef:Rs,useState:function(){return ws(ks)},useDebugValue:qs,useDeferredValue:function(e){return _s(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(ks)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Cs,useId:Hs,unstable_isNewReconciler:!1},ti={readContext:Er,useCallback:Fs,useContext:Er,useEffect:Ds,useImperativeHandle:Gs,useInsertionEffect:Ms,useLayoutEffect:Ls,useMemo:Vs,useReducer:Ss,useRef:Rs,useState:function(){return Ss(ks)},useDebugValue:qs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:_s(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ks)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Cs,useId:Hs,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ai(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),o=tc(e),r=Br(a,o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Gr(e,r,o))&&(nc(t,e,o,a),qr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),o=tc(e),r=Br(a,o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Gr(e,r,o))&&(nc(t,e,o,a),qr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),o=Br(n,a);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Gr(e,o,a))&&(nc(t,e,a,n),qr(t,e,a))}};function ri(e,t,n,a,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(o,r))}function si(e,t,n){var a=!1,o=No,r=t.contextType;return"object"===typeof r&&null!==r?r=Er(r):(o=$o(t)?Eo:jo.current,r=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ro(e,o):No),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function ii(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function li(e,t,n,a){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Mr(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=Er(r):(r=$o(t)?Eo:jo.current,o.context=Ro(e,r)),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ai(e,t,r,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oi.enqueueReplaceState(o,o.state,null),Vr(e,n,o,a),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",a=t;do{n+=q(a),a=a.return}while(a);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Br(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){_l||(_l=!0,Ul=a),ui(0,t)},n}function hi(e,t,n){(n=Br(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var o=t.value;n.payload=function(){return a(o)},n.callback=function(){ui(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof a&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pi;var o=new Set;a.set(t,o)}else void 0===(o=a.get(t))&&(o=new Set,a.set(t,o));o.has(n)||(o.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,a,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Br(-1,1)).tag=2,Gr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vi=k.ReactCurrentOwner,bi=!1;function ki(e,t,n,a){t.child=null===e?Sr(t,null,n,a):wr(t,e.child,n,a)}function wi(e,t,n,a,o){n=n.render;var r=t.ref;return Pr(t,o),a=gs(e,t,n,a,r,o),n=ys(),null===e||bi?(rr&&n&&tr(t),t.flags|=1,ki(e,t,a,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_i(e,t,o))}function Si(e,t,n,a,o){if(null===e){var r=n.type;return"function"!==typeof r||Rc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,a,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,xi(e,t,r,a,o))}if(r=e.child,0===(e.lanes&o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:la)(s,a)&&e.ref===t.ref)return _i(e,t,o)}return t.flags|=1,(e=$c(r,a)).ref=t.ref,e.return=t,t.child=e}function xi(e,t,n,a,o){if(null!==e){var r=e.memoizedProps;if(la(r,a)&&e.ref===t.ref){if(bi=!1,t.pendingProps=a=r,0===(e.lanes&o))return t.lanes=e.lanes,_i(e,t,o);0!==(131072&e.flags)&&(bi=!0)}}return Ai(e,t,n,a,o)}function Ci(e,t,n){var a=t.pendingProps,o=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To($l,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To($l,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==r?r.baseLanes:n,To($l,Rl),Rl|=a}else null!==r?(a=r.baseLanes|n,t.memoizedState=null):a=n,To($l,Rl),Rl|=a;return ki(e,t,o,n),t.child}function Ii(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ai(e,t,n,a,o){var r=$o(n)?Eo:jo.current;return r=Ro(t,r),Pr(t,o),n=gs(e,t,n,a,r,o),a=ys(),null===e||bi?(rr&&a&&tr(t),t.flags|=1,ki(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_i(e,t,o))}function Ti(e,t,n,a,o){if($o(n)){var r=!0;Mo(t)}else r=!1;if(Pr(t,o),null===t.stateNode)Vi(e,t),si(t,n,a),li(t,n,a,o),a=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Er(c):c=Ro(t,c=$o(n)?Eo:jo.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==a||l!==c)&&ii(t,s,a,c),Dr=!1;var p=t.memoizedState;s.state=p,Vr(t,a,s,o),l=t.memoizedState,i!==a||p!==l||Po.current||Dr?("function"===typeof d&&(ai(t,n,d,a),l=t.memoizedState),(i=Dr||ri(t,n,i,a,p,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=c,a=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Lr(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Er(l):l=Ro(t,l=$o(n)?Eo:jo.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||p!==l)&&ii(t,s,a,l),Dr=!1,p=t.memoizedState,s.state=p,Vr(t,a,s,o);var h=t.memoizedState;i!==u||p!==h||Po.current||Dr?("function"===typeof m&&(ai(t,n,m,a),h=t.memoizedState),(c=Dr||ri(t,n,c,a,p,h,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),s.props=a,s.state=h,s.context=l,a=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Ni(e,t,n,a,r,o)}function Ni(e,t,n,a,o,r){Ii(e,t);var s=0!==(128&t.flags);if(!a&&!s)return o&&Lo(t,n,!1),_i(e,t,r);a=t.stateNode,vi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=wr(t,e.child,null,r),t.child=wr(t,null,i,r)):ki(e,t,i,r),t.memoizedState=a.state,o&&Lo(t,n,!0),t.child}function ji(e){var t=e.stateNode;t.pendingContext?zo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zo(0,t.context,!1),Jr(e,t.containerInfo)}function Pi(e,t,n,a,o){return hr(),fr(o),t.flags|=256,ki(e,t,n,a),t.child}var Ei,Ri,$i,Oi,zi={dehydrated:null,treeContext:null,retryLane:0};function Di(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,n){var a,o=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),To(es,1&s),null===e)return dr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Dc(l,o,0,null),e=zc(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Di(n),t.memoizedState=zi,e):Li(t,l));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,o,s,i){if(n)return 256&t.flags?(t.flags&=-257,Bi(e,t,i,a=di(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,o=t.mode,a=Dc({mode:"visible",children:a.children},o,0,null),(s=zc(s,o,i,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&wr(t,e.child,null,i),t.child.memoizedState=Di(i),t.memoizedState=zi,s);if(0===(1&t.mode))return Bi(e,t,i,null);if("$!"===o.data){if(a=o.nextSibling&&o.nextSibling.dataset)var l=a.dgst;return a=l,Bi(e,t,i,a=di(s=Error(r(419)),a,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(a=jl)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(a.suspendedLanes|i))?0:o)&&o!==s.retryLane&&(s.retryLane=o,zr(e,o),nc(a,e,o,-1))}return fc(),Bi(e,t,i,a=di(Error(r(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,or=co(o.nextSibling),ar=t,rr=!0,sr=null,null!==e&&(Wo[Yo++]=Qo,Wo[Yo++]=Zo,Wo[Yo++]=Jo,Qo=e.id,Zo=e.overflow,Jo=t),t=Li(t,a.children),t.flags|=4096,t)}(e,t,l,o,a,s,n);if(i){i=o.fallback,l=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=$c(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?i=$c(a,i):(i=zc(i,l,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=null===(l=e.child.memoizedState)?Di(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=zi,o}return e=(i=e.child).sibling,o=$c(i,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Li(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bi(e,t,n,a){return null!==a&&fr(a),wr(t,e.child,null,n),(e=Li(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),jr(e.return,t,n)}function qi(e,t,n,a,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=o)}function Fi(e,t,n){var a=t.pendingProps,o=a.revealOrder,r=a.tail;if(ki(e,t,a.children,n),0!==(2&(a=es.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gi(e,n,t);else if(19===e.tag)Gi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(To(es,a),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qi(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qi(t,!0,n,null,r);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=$c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ui(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Hi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,a|=14680064&o.subtreeFlags,a|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ki(e,t,n){var a=t.pendingProps;switch(nr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(t),null;case 1:case 17:return $o(t.type)&&Oo(),Hi(t),null;case 3:return a=t.stateNode,Qr(),Ao(Po),Ao(jo),as(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(pr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sr&&(sc(sr),sr=null))),Ri(e,t),Hi(t),null;case 5:Xr(t);var o=Yr(Wr.current);if(n=t.type,null!==e&&null!=t.stateNode)$i(e,t,n,a,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Hi(t),null}if(e=Yr(Hr.current),pr(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[mo]=t,a[ho]=s,e=0!==(1&t.mode),n){case"dialog":Ba("cancel",a),Ba("close",a);break;case"iframe":case"object":case"embed":Ba("load",a);break;case"video":case"audio":for(o=0;o<za.length;o++)Ba(za[o],a);break;case"source":Ba("error",a);break;case"img":case"image":case"link":Ba("error",a),Ba("load",a);break;case"details":Ba("toggle",a);break;case"input":J(a,s),Ba("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Ba("invalid",a);break;case"textarea":oe(a,s),Ba("invalid",a)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Za(a.textContent,c,e),o=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Za(a.textContent,c,e),o=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ba("scroll",a)}switch(n){case"input":H(a),X(a,s,!0);break;case"textarea":H(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Xa)}a=o,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[mo]=t,e[ho]=a,Ei(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,a),n){case"dialog":Ba("cancel",e),Ba("close",e),o=a;break;case"iframe":case"object":case"embed":Ba("load",e),o=a;break;case"video":case"audio":for(o=0;o<za.length;o++)Ba(za[o],e);o=a;break;case"source":Ba("error",e),o=a;break;case"img":case"image":case"link":Ba("error",e),Ba("load",e),o=a;break;case"details":Ba("toggle",e),o=a;break;case"input":J(e,a),o=Y(e,a),Ba("invalid",e);break;case"option":default:o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=M({},a,{value:void 0}),Ba("invalid",e);break;case"textarea":oe(e,a),o=ae(e,a),Ba("invalid",e)}for(s in ve(n,o),c=o)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ba("scroll",e):null!=d&&b(e,s,d,l))}switch(n){case"input":H(e),X(e,a,!1);break;case"textarea":H(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+_(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Xa)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hi(t),null;case 6:if(e&&null!=t.stateNode)Oi(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(n=Yr(Wr.current),Yr(Hr.current),pr(t)){if(a=t.stateNode,n=t.memoizedProps,a[mo]=t,(s=a.nodeValue!==n)&&null!==(e=ar))switch(e.tag){case 3:Za(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Za(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[mo]=t,t.stateNode=a}return Hi(t),null;case 13:if(Ao(es),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==or&&0!==(1&t.mode)&&0===(128&t.flags))mr(),hr(),t.flags|=98560,s=!1;else if(s=pr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[mo]=t}else hr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hi(t),s=!1}else null!==sr&&(sc(sr),sr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):fc())),null!==t.updateQueue&&(t.flags|=4),Hi(t),null);case 4:return Qr(),Ri(e,t),null===e&&Fa(t.stateNode.containerInfo),Hi(t),null;case 10:return Nr(t.type._context),Hi(t),null;case 19:if(Ao(es),null===(s=t.memoizedState))return Hi(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)Ui(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ui(s,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Fl&&(t.flags|=128,a=!0,Ui(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ts(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ui(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!rr)return Hi(t),null}else 2*Qe()-s.renderingStartTime>Fl&&1073741824!==n&&(t.flags|=128,a=!0,Ui(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=es.current,To(es,a?1&n|2:1&n),t):(Hi(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Hi(t),6&t.subtreeFlags&&(t.flags|=8192)):Hi(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Wi(e,t){switch(nr(t),t.tag){case 1:return $o(t.type)&&Oo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qr(),Ao(Po),Ao(jo),as(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xr(t),null;case 13:if(Ao(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ao(es),null;case 4:return Qr(),null;case 10:return Nr(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ei=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ri=function(){},$i=function(e,t,n,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,Yr(Hr.current);var r,s=null;switch(n){case"input":o=Y(e,o),a=Y(e,a),s=[];break;case"select":o=M({},o,{value:void 0}),a=M({},a,{value:void 0}),s=[];break;case"textarea":o=ae(e,o),a=ae(e,a),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof a.onClick&&(e.onclick=Xa)}for(d in ve(n,a),n=null,o)if(!a.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=o?o[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ba("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Oi=function(e,t,n,a){n!==a&&(t.flags|=4)};var Yi=!1,Ji=!1,Qi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function Xi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Cc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){Cc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var o=a=a.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&el(t,n,r)}o=o.next}while(o!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mo],delete t[ho],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xa));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(ot,n)}catch(i){}switch(n.tag){case 5:Ji||Xi(n,t);case 6:var a=dl,o=ul;dl=null,pl(e,t,n),ul=o,null!==(dl=a)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ft(e)):lo(dl,n.stateNode));break;case 4:a=dl,o=ul,dl=n.stateNode.containerInfo,ul=!0,pl(e,t,n),dl=a,ul=o;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){o=a=a.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&el(n,t,s),o=o.next}while(o!==a)}pl(e,t,n);break;case 1:if(!Ji&&(Xi(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){Cc(n,t,i)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ji=(a=Ji)||null!==n.memoizedState,pl(e,t,n),Ji=a):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qi),t.forEach((function(t){var a=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(r(160));ml(s,i,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Cc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(g){Cc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:fl(t,e),yl(e),512&a&&null!==n&&Xi(n,n.return);break;case 5:if(fl(t,e),yl(e),512&a&&null!==n&&Xi(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Cc(e,e.return,g)}}if(4&a&&null!=(o=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(o,s),be(l,i);var d=be(l,s);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?ge(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):b(o,u,p,d)}switch(l){case"input":Z(o,s);break;case"textarea":re(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(o,!!s.multiple,h,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[ho]=s}catch(g){Cc(e,e.return,g)}}break;case 6:if(fl(t,e),yl(e),4&a){if(null===e.stateNode)throw Error(r(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Cc(e,e.return,g)}}break;case 3:if(fl(t,e),yl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(ql=Qe())),4&a&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(d=Ji)||u,fl(t,e),Ji=d):fl(t,e),yl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(p=Zi=u;null!==Zi;){switch(h=(m=Zi).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Xi(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,n=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Cc(a,n,g)}}break;case 5:Xi(m,m.return);break;case 22:if(null!==m.memoizedState){wl(p);continue}}null!==h?(h.return=m,Zi=h):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(g){Cc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),yl(e),4&a&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var a=n;break e}n=n.return}throw Error(r(160))}switch(a.tag){case 5:var o=a.stateNode;32&a.flags&&(pe(o,""),a.flags&=-33),cl(e,il(e),o);break;case 3:case 4:var s=a.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(r(161))}}catch(i){Cc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zi=e,bl(e,t,n)}function bl(e,t,n){for(var a=0!==(1&e.mode);null!==Zi;){var o=Zi,r=o.child;if(22===o.tag&&a){var s=null!==o.memoizedState||Yi;if(!s){var i=o.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Yi;var c=Ji;if(Yi=s,(Ji=l)&&!c)for(Zi=o;null!==Zi;)l=(s=Zi).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,Zi=l):Sl(o);for(;null!==r;)Zi=r,bl(r,t,n),r=r.sibling;Zi=o,Yi=i,Ji=c}kl(e)}else 0!==(8772&o.subtreeFlags)&&null!==r?(r.return=o,Zi=r):kl(e)}}function kl(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Ji)if(null===n)a.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);a.componentDidUpdate(o,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&_r(t,s,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}_r(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ft(p)}}}break;default:throw Error(r(163))}Ji||512&t.flags&&ol(t)}catch(m){Cc(t,t.return,m)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function wl(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function Sl(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Cc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var o=t.return;try{a.componentDidMount()}catch(l){Cc(t,o,l)}}var r=t.return;try{ol(t)}catch(l){Cc(t,r,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var xl,Cl=Math.ceil,Il=k.ReactCurrentDispatcher,Al=k.ReactCurrentOwner,Tl=k.ReactCurrentBatchConfig,Nl=0,jl=null,Pl=null,El=0,Rl=0,$l=Io(0),Ol=0,zl=null,Dl=0,Ml=0,Ll=0,Bl=null,Gl=null,ql=0,Fl=1/0,Vl=null,_l=!1,Ul=null,Hl=null,Kl=!1,Wl=null,Yl=0,Jl=0,Ql=null,Zl=-1,Xl=0;function ec(){return 0!==(6&Nl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==El?El&-El:null!==gr.transition?(0===Xl&&(Xl=ft()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,a){if(50<Jl)throw Jl=0,Ql=null,Error(r(185));yt(e,n,a),0!==(2&Nl)&&e===jl||(e===jl&&(0===(2&Nl)&&(Ml|=n),4===Ol&&ic(e,El)),ac(e,a),1===n&&0===Nl&&0===(1&t.mode)&&(Fl=Qe()+500,Go&&Vo()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),i=1<<s,l=o[s];-1===l?0!==(i&n)&&0===(i&a)||(o[s]=mt(i,t)):l<=t&&(e.expiredLanes|=i),r&=~i}}(e,t);var a=pt(e,e===jl?El:0);if(0===a)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Go=!0,Fo(e)}(lc.bind(null,e)):Fo(lc.bind(null,e)),so((function(){0===(6&Nl)&&Vo()})),n=null;else{switch(kt(a)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=jc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,Xl=0,0!==(6&Nl))throw Error(r(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var a=pt(e,e===jl?El:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var o=Nl;Nl|=2;var s=hc();for(jl===e&&El===t||(Vl=null,Fl=Qe()+500,pc(e,t));;)try{vc();break}catch(l){mc(e,l)}Tr(),Il.current=s,Nl=o,null!==Pl?t=0:(jl=null,El=0,t=Ol)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(a=o,t=rc(e,o))),1===t)throw n=zl,pc(e,0),ic(e,a),ac(e,Qe()),n;if(6===t)ic(e,a);else{if(o=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var o=n[a],r=o.getSnapshot;o=o.value;try{if(!ia(r(),o))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,a))&&(0!==(s=ht(e))&&(a=s,t=rc(e,s))),1===t))throw n=zl,pc(e,0),ic(e,a),ac(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=a,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,Gl,Vl);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=ql+500-Qe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ao(wc.bind(null,e,Gl,Vl),t);break}wc(e,Gl,Vl);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,o=-1;0<a;){var i=31-st(a);s=1<<i,(i=t[i])>o&&(o=i),a&=~s}if(a=o,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Cl(a/1960))-a)){e.timeoutHandle=ao(wc.bind(null,e,Gl,Vl),a);break}wc(e,Gl,Vl);break;default:throw Error(r(329))}}}return ac(e,Qe()),e.callbackNode===n?oc.bind(null,e):null}function rc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Gl,Gl=n,null!==t&&sc(t)),e}function sc(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function ic(e,t){for(t&=~Ll,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&Nl))throw Error(r(327));Sc();var t=pt(e,0);if(0===(1&t))return ac(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=ht(e);0!==a&&(t=a,n=rc(e,a))}if(1===n)throw n=zl,pc(e,0),ic(e,t),ac(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Gl,Vl),ac(e,Qe()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Fl=Qe()+500,Go&&Vo())}}function dc(e){null!==Wl&&0===Wl.tag&&0===(6&Nl)&&Sc();var t=Nl;Nl|=1;var n=Tl.transition,a=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=a,Tl.transition=n,0===(6&(Nl=t))&&Vo()}}function uc(){Rl=$l.current,Ao($l)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var a=n;switch(nr(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Oo();break;case 3:Qr(),Ao(Po),Ao(jo),as();break;case 5:Xr(a);break;case 4:Qr();break;case 13:case 19:Ao(es);break;case 10:Nr(a.type._context);break;case 22:case 23:uc()}n=n.return}if(jl=e,Pl=e=$c(e.current,null),El=Rl=t,Ol=0,zl=null,Ll=Ml=Dl=0,Gl=Bl=null,null!==Rr){for(t=0;t<Rr.length;t++)if(null!==(a=(n=Rr[t]).interleaved)){n.interleaved=null;var o=a.next,r=n.pending;if(null!==r){var s=r.next;r.next=o,a.next=s}n.pending=a}Rr=null}return e}function mc(e,t){for(;;){var n=Pl;try{if(Tr(),os.current=Zs,ds){for(var a=is.memoizedState;null!==a;){var o=a.queue;null!==o&&(o.pending=null),a=a.next}ds=!1}if(ss=0,cs=ls=is=null,us=!1,ps=0,Al.current=null,null===n||null===n.return){Ol=1,zl=t,Pl=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=gi(i);if(null!==h){h.flags&=-257,yi(h,i,l,0,t),1&h.mode&&fi(s,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fi(s,d,t),fc();break e}c=Error(r(426))}else if(rr&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),fr(ci(c,l));break e}}s=c=ci(c,l),4!==Ol&&(Ol=2),null===Bl?Bl=[s]:Bl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fr(s,mi(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fr(s,hi(s,l,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(k){t=k,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function hc(){var e=Il.current;return Il.current=Zs,null===e?Zs:e}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Dl)&&0===(268435455&Ml)||ic(jl,El)}function gc(e,t){var n=Nl;Nl|=2;var a=hc();for(jl===e&&El===t||(Vl=null,pc(e,t));;)try{yc();break}catch(o){mc(e,o)}if(Tr(),Nl=n,Il.current=a,null!==Pl)throw Error(r(261));return jl=null,El=0,Ol}function yc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?kc(e):Pl=t,Al.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Wi(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var a=bt,o=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,a){do{Sc()}while(null!==Wl);if(0!==(6&Nl))throw Error(r(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),r=1<<o;t[o]=0,a[o]=-1,e[o]=-1,n&=~r}}(e,s),e===jl&&(Pl=jl=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,jc(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var i=bt;bt=1;var l=Nl;Nl|=4,Al.current=null,function(e,t){if(eo=_t,ma(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var o=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=i+o),p!==s||0!==a&&3!==p.nodeType||(c=i+a),3===p.nodeType&&(i+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===o&&(l=i),m===s&&++u===a&&(c=i),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},_t=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,y=f.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(r(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}f=tl,tl=!1}(e,n),gl(n,e),ha(to),_t=!!eo,to=eo=null,e.current=n,vl(n,e,o),Je(),Nl=l,bt=i,Tl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Wl=e,Yl=o),s=e.pendingLanes,0===s&&(Hl=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],a(o.value,{componentStack:o.stack,digest:o.digest});if(_l)throw _l=!1,e=Ul,Ul=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Vo()}(e,t,n,a)}finally{Tl.transition=o,bt=a}return null}function Sc(){if(null!==Wl){var e=kt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Wl)var a=!1;else{if(e=Wl,Wl=null,Yl=0,0!==(6&Nl))throw Error(r(331));var o=Nl;for(Nl|=4,Zi=e.current;null!==Zi;){var s=Zi,i=s.child;if(0!==(16&Zi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Zi=p;else for(;null!==Zi;){var m=(u=Zi).sibling,h=u.return;if(rl(u),u===d){Zi=null;break}if(null!==m){m.return=h,Zi=m;break}Zi=h}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(s=Zi).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Zi=v;break e}Zi=s.return}}var b=e.current;for(Zi=b;null!==Zi;){var k=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==k)k.return=i,Zi=k;else e:for(i=b;null!==Zi;){if(0!==(2048&(l=Zi).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(S){Cc(l,l.return,S)}if(l===i){Zi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zi=w;break e}Zi=l.return}}if(Nl=o,Vo(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(ot,e)}catch(S){}a=!0}return a}finally{bt=n,Tl.transition=t}}return!1}function xc(e,t,n){e=Gr(e,t=mi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ac(e,t))}function Cc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Hl||!Hl.has(a))){t=Gr(t,e=hi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Ic(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(El&n)===n&&(4===Ol||3===Ol&&(130023424&El)===El&&500>Qe()-ql?pc(e,0):Ll|=n),ac(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=zr(e,t))&&(yt(e,t,n),ac(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}null!==a&&a.delete(t),Ac(e,n)}function jc(e,t){return Ke(e,t)}function Pc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,a){return new Pc(e,t,n,a)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $c(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,a,o,s){var i=2;if(a=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case x:return zc(n.children,o,s,t);case C:i=8,o|=8;break;case I:return(e=Ec(12,n,t,2|o)).elementType=I,e.lanes=s,e;case j:return(e=Ec(13,n,t,o)).elementType=j,e.lanes=s,e;case P:return(e=Ec(19,n,t,o)).elementType=P,e.lanes=s,e;case $:return Dc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:i=10;break e;case T:i=9;break e;case N:i=11;break e;case E:i=14;break e;case R:i=16,a=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Ec(i,n,t,o)).elementType=e,t.type=a,t.lanes=s,t}function zc(e,t,n,a){return(e=Ec(7,e,a,t)).lanes=n,e}function Dc(e,t,n,a){return(e=Ec(22,e,a,t)).elementType=$,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,a,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gc(e,t,n,a,o,r,s,i,l){return e=new Bc(e,t,n,i,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Ec(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mr(r),e}function qc(e){if(!e)return No;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($o(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if($o(n))return Do(e,n,t)}return t}function Fc(e,t,n,a,o,r,s,i,l){return(e=Gc(n,a,!0,e,0,r,0,i,l)).context=qc(null),n=e.current,(r=Br(a=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Gr(n,r,o),e.current.lanes=o,yt(e,o,a),ac(e,a),e}function Vc(e,t,n,a){var o=t.current,r=ec(),s=tc(o);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Br(r,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Gr(o,t,s))&&(nc(e,o,s,r),qr(e,o,s)),s}function _c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:ji(t),hr();break;case 5:Zr(t);break;case 1:$o(t.type)&&Mo(t);break;case 4:Jr(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,o=t.memoizedProps.value;To(xr,a._currentValue),a._currentValue=o;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(To(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mi(e,t,n):(To(es,1&es.current),null!==(e=_i(e,t,n))?e.sibling:null);To(es,1&es.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Fi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(es,es.current),a)break;return null;case 22:case 23:return t.lanes=0,Ci(e,t,n)}return _i(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,rr&&0!==(1048576&t.flags)&&er(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vi(e,t),e=t.pendingProps;var o=Ro(t,jo.current);Pr(t,n),o=gs(null,t,a,e,o,n);var s=ys();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$o(a)?(s=!0,Mo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Mr(t),o.updater=oi,t.stateNode=o,o._reactInternals=t,li(t,a,e,n),t=Ni(null,t,a,!0,s,n)):(t.tag=0,rr&&s&&tr(t),ki(null,t,o,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===E)return 14}return 2}(a),e=ni(a,e),o){case 0:t=Ai(null,t,a,e,n);break e;case 1:t=Ti(null,t,a,e,n);break e;case 11:t=wi(null,t,a,e,n);break e;case 14:t=Si(null,t,a,ni(a.type,e),n);break e}throw Error(r(306,a,""))}return t;case 0:return a=t.type,o=t.pendingProps,Ai(e,t,a,o=t.elementType===a?o:ni(a,o),n);case 1:return a=t.type,o=t.pendingProps,Ti(e,t,a,o=t.elementType===a?o:ni(a,o),n);case 3:e:{if(ji(t),null===e)throw Error(r(387));a=t.pendingProps,o=(s=t.memoizedState).element,Lr(e,t),Vr(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pi(e,t,a,n,o=ci(Error(r(423)),t));break e}if(a!==o){t=Pi(e,t,a,n,o=ci(Error(r(424)),t));break e}for(or=co(t.stateNode.containerInfo.firstChild),ar=t,rr=!0,sr=null,n=Sr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),a===o){t=_i(e,t,n);break e}ki(e,t,a,n)}t=t.child}return t;case 5:return Zr(t),null===e&&dr(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,no(a,o)?i=null:null!==s&&no(a,s)&&(t.flags|=32),Ii(e,t),ki(e,t,i,n),t.child;case 6:return null===e&&dr(t),null;case 13:return Mi(e,t,n);case 4:return Jr(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=wr(t,null,a,n):ki(e,t,a,n),t.child;case 11:return a=t.type,o=t.pendingProps,wi(e,t,a,o=t.elementType===a?o:ni(a,o),n);case 7:return ki(e,t,t.pendingProps,n),t.child;case 8:case 12:return ki(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,To(xr,a._currentValue),a._currentValue=i,null!==s)if(ia(s.value,i)){if(s.children===o.children&&!Po.current){t=_i(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Br(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),jr(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(r(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),jr(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}ki(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps.children,Pr(t,n),a=a(o=Er(o)),t.flags|=1,ki(e,t,a,n),t.child;case 14:return o=ni(a=t.type,t.pendingProps),Si(e,t,a,o=ni(a.type,o),n);case 15:return xi(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:ni(a,o),Vi(e,t),t.tag=1,$o(a)?(e=!0,Mo(t)):e=!1,Pr(t,n),si(t,a,o),li(t,a,o,n),Ni(null,t,a,!0,e,n);case 19:return Fi(e,t,n);case 22:return Ci(e,t,n)}throw Error(r(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Xc(e,t,n,a,o){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof o){var i=o;o=function(){var e=_c(s);i.call(e)}}Vc(t,s,e,o)}else s=function(e,t,n,a,o){if(o){if("function"===typeof a){var r=a;a=function(){var e=_c(s);r.call(e)}}var s=Fc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[fo]=s.current,Fa(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof a){var i=a;a=function(){var e=_c(l);i.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fo]=l.current,Fa(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,l,n,a)})),l}(n,t,e,o,a);return _c(s)}Yc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Vc(e,t,null,null)},Yc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[fo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&0!==t&&t<$t[n].priority;n++);$t.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ac(t,Qe()),0===(6&Nl)&&(Fl=Qe()+500,Vo()))}break;case 13:dc((function(){var t=zr(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},St=function(e){if(13===e.tag){var t=zr(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=zr(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Ct=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=So(a);if(!o)throw Error(r(90));K(a),Z(a,o)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,je=dc;var ed={usingClientEntryPoint:!1,Events:[ko,wo,So,Ae,Te,cc]},td={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{ot=ad.inject(nd),rt=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(r(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(r(299));var n=!1,a="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Gc(e,1,!1,null,0,n,0,a,o),e[fo]=t.current,Fa(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(r(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(r(405));var a=null!=n&&n.hydratedSources||null,o=!1,s="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Fc(t,null,e,1,null!=n?n:null,o,0,s,i),e[fo]=t.current,Fa(e),a)for(e=0;e<a.length;e++)o=(o=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(r(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Qc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Xc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},819:(e,t,n)=>{n.d(t,{AQ:()=>u,El:()=>i,fE:()=>c,gU:()=>s,if:()=>l,tJ:()=>d});var a=n(431),o=n(213),r=n(488);const s=(e,t)=>{const n=[];for(let a=1;a<=4;a++){const o=e[`ingredient${a}`],r=e[`ingredient${a}qty`];if(o&&r){const e=t.find((e=>e.type===o)),a=(null===e||void 0===e?void 0:e.symbol)||"";n.push(`${a} ${o} x${r}`)}}return n};function i(e,t){console.log("\ud83e\uddea mergeTiles called"),console.log("\ud83d\udce5 Existing Tiles:",e.length,"rows"),console.log("\ud83d\udce5 Updated Tiles:",t);const n=e.map((e=>[...e]));let a=!1;return t.forEach((e=>{let{x:t,y:o,type:r}=e;if(n[o]&&"undefined"!==typeof n[o][t]){const e=n[o][t];e!==r?(console.log(`\ud83d\udd04 Tile at (${t},${o}) changed from "${e}" to "${r}"`),n[o][t]=r,a=!0):console.log(`\u2705 Tile at (${t},${o}) is already "${r}" \u2014 no change`)}else console.warn(`\u26a0\ufe0f Attempted to update invalid tile at (${t},${o})`)})),console.log("\u2705 mergeTiles returning new tile array"),console.log("\ud83d\udd01 Any tiles changed?",a),n}function l(e,t){const n=t.find((t=>t.type===e.type));return n?{...n,...e}:(console.warn(`\u26a0\ufe0f No matching resource template found for ${e.type}`),e)}function c(e,t){const n=a.A.getPlayersInGrid(e);if(!n||null===t||void 0===t||!t.playerId)return console.warn("\u26a0\ufe0f playersInGrid or playerId missing."),null;const o=n[t.playerId];if(!o)return console.warn("\u26a0\ufe0f Player not found in playersInGrid."),null;const{x:r,y:s}=o.position;if(null==r||null==s)return console.warn("\u26a0\ufe0f Invalid player position."),null;return{tileX:Math.floor(r),tileY:Math.floor(s)}}async function d(e,t,n){try{console.log(`Validating tile type at (${t}, ${n}) in grid ${e}`);const a=await o.A.get(`${r.A}/api/get-tile/${e}/${t}/${n}`);return console.log(`Tile type at (${t}, ${n}):`,a.data.tileType),a.data.tileType}catch(a){throw console.error(`Error fetching tile type at (${t}, ${n}) in grid ${e}:`,a),a}}function u(e,t){return"Oak Tree"!==e&&"Pine Tree"!==e&&t.some((t=>"farmplot"===t.category&&t.output===e))}},823:(e,t,n)=>{n.d(t,{A:()=>a});const a={tiles:[],resources:[],setTiles(e){this.tiles=e},setResources(e){this.resources=e},getTiles(){return this.tiles},getResources(){return this.resources}}},836:(e,t,n)=>{n.d(t,{Ay:()=>m,incrementFTUEStep:()=>u});var a=n(43),o=n(213),r=n(488),s=n(37);const i=JSON.parse('[{"step":1,"titleKey":701,"bodyKey":702,"image":"ftue-welcome.png","continue":true},{"step":2,"titleKey":705,"bodyKey":706,"image":"ftue-aspiration.png","continue":false},{"step":3,"titleKey":721,"bodyKey":722,"image":"ftue-todo.png","continue":false},{"step":4,"titleKey":723,"bodyKey":724,"image":"ftue-farming.png","continue":false},{"step":5,"titleKey":727,"bodyKey":728,"image":"ftue-shepherd.png","continue":false},{"step":6,"titleKey":729,"bodyKey":730,"image":"ftue-cow.png","continue":false},{"step":7,"titleKey":731,"bodyKey":732,"image":"ftue-tools.png","continue":false},{"step":8,"titleKey":733,"bodyKey":734,"image":"ftue-axe.png","continue":false},{"step":9,"titleKey":737,"bodyKey":738,"image":"ftue-exploring.png","continue":false}]');var l=n(667),c=n(876),d=n(579);const u=async(e,t,n)=>{try{const a=(null===t||void 0===t?void 0:t.ftuestep)||0,s=a+1;if(!i.some((e=>e.step===s)))return console.log("\ud83d\udcda No more FTUE steps available after step",a),a;return(await o.A.post(`${r.A}/api/update-profile`,{playerId:e,updates:{ftuestep:s}})).data.success?(n((e=>({...e,ftuestep:s}))),console.log("\u2705 FTUE step incremented to:",s),s):a}catch(a){return console.error("Error incrementing FTUE step:",a),(null===t||void 0===t?void 0:t.ftuestep)||0}},p=async(e,t,n,a)=>{try{const s=await o.A.get(`${r.A}/api/quests`),i=(s.data||[]).find((e=>e.index===a));if(!i)return console.error(`\u274c Quest template not found for index: ${a}`),t;const l={questId:i.title,startTime:Date.now(),symbol:i.symbol||"\u2753",progress:{goal1:0,goal2:0,goal3:0},completed:!1,rewardCollected:!1,goal1action:i.goal1action||null,goal1item:i.goal1item||null,goal1qty:i.goal1qty||null,goal2action:i.goal2action||null,goal2item:i.goal2item||null,goal2qty:i.goal2qty||null,goal3action:i.goal3action||null,goal3item:i.goal3item||null,goal3qty:i.goal3qty||null},c=(null===t||void 0===t?void 0:t.activeQuests)||[];if(c.some((e=>e.questId===i.title)))return console.log(`\ud83d\udcda Quest "${i.title}" already exists in active quests`),t;const d=[...c,l];if((await o.A.post(`${r.A}/api/update-profile`,{playerId:e,updates:{activeQuests:d}})).data.success){const e={...t,activeQuests:d};return n(e),console.log(`\u2705 Quest "${i.title}" (index: ${a}) added to active quests`),e}return t}catch(s){return console.error("Error adding accepted quest:",s),t}},m=e=>{let{currentPlayer:t,setCurrentPlayer:n,onClose:u,openPanel:m,setActiveQuestGiver:h,gridId:f,setActiveStation:g,masterResources:y,setResources:v,TILE_SIZE:b}=e;const k=(0,s.k)(),[w,S]=(0,a.useState)(null),[x,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(!0!==(null===t||void 0===t?void 0:t.firsttimeuser))return console.log("Player is not a first-time user, closing FTUE"),void u();if(0!==(null===t||void 0===t?void 0:t.ftuestep)){if(null!==t&&void 0!==t&&t.ftuestep){const e=i.find((e=>e.step===t.ftuestep));e?S(e):(console.log("No valid FTUE step found for step:",t.ftuestep),u())}}else{console.log("\ud83c\udf93 Player at FTUE step 0, showing step 1 content");const e=i.find((e=>1===e.step));e&&S(e)}}),[null===t||void 0===t?void 0:t.ftuestep,null===t||void 0===t?void 0:t.firsttimeuser,u]),(0,a.useEffect)((()=>{if(null!==w&&void 0!==w&&w.image){C(!1);const e=new Image;e.src=`/assets/${w.image}`,e.onload=()=>{C(!0)},e.onerror=()=>{console.error("Failed to load FTUE image:",w.image),C(!0)}}}),[w]);const I=async()=>{try{const e=(null===t||void 0===t?void 0:t.activeQuests)||[],a=e.some((e=>"Find the Wizard in the Valley"===e.questId));let s=e;if(a)console.log("\ud83c\udf93 Wizard quest already exists, skipping addition");else{console.log("\ud83c\udf93 Adding completed Wizard quest before completing tutorial");const e=await p(t.playerId,t,n,1);if(e.activeQuests&&e.activeQuests.length>0){const n=e.activeQuests.findIndex((e=>"Find the Wizard in the Valley"===e.questId));-1!==n&&(e.activeQuests[n].completed=!0,s=e.activeQuests,await o.A.post(`${r.A}/api/update-profile`,{playerId:t.playerId,updates:{activeQuests:s}}))}}(0,c.D)("To Do",{title:k[7001],message:k[7015]});(await o.A.post(`${r.A}/api/update-profile`,{playerId:t.playerId,updates:{firsttimeuser:!1,ftuestep:null}})).data.success&&(n((e=>{const t={...e,firsttimeuser:!1,activeQuests:s};return delete t.ftuestep,t})),u())}catch(e){console.error("Error completing tutorial:",e),u()}},A=async e=>{try{(await o.A.post(`${r.A}/api/update-profile`,{playerId:t.playerId,updates:{aspiration:e,ftuestep:3}})).data.success&&(n((t=>({...t,aspiration:e,ftuestep:3}))),u())}catch(a){console.error("Error setting aspiration:",a)}};return!w||2!==(null===t||void 0===t?void 0:t.ftuestep)&&!x?null:2===(null===t||void 0===t?void 0:t.ftuestep)?(0,d.jsx)("div",{className:"ftue-overlay",children:(0,d.jsxs)("div",{className:"ftue-modal",children:[(0,d.jsx)("div",{className:"ftue-header",children:(0,d.jsx)("h2",{children:k[w.titleKey]})}),(0,d.jsx)("div",{className:"ftue-text",children:(0,d.jsx)("p",{children:k[w.bodyKey]})}),(0,d.jsx)("div",{className:"ftue-aspiration-content",children:(0,d.jsxs)("div",{className:"ftue-aspiration-panels",children:[(0,d.jsxs)("div",{className:"ftue-aspiration-panel",onClick:()=>A(1),children:[(0,d.jsx)("h3",{children:k[750]}),(0,d.jsx)("p",{children:k[751]})]}),(0,d.jsxs)("div",{className:"ftue-aspiration-panel",onClick:()=>A(2),children:[(0,d.jsx)("h3",{children:k[752]}),(0,d.jsx)("p",{children:k[753]})]}),(0,d.jsxs)("div",{className:"ftue-aspiration-panel",onClick:()=>A(3),children:[(0,d.jsx)("h3",{children:k[754]}),(0,d.jsx)("p",{children:k[755]})]})]})})]})}):(0,d.jsx)("div",{className:"ftue-overlay",children:(0,d.jsxs)("div",{className:"ftue-modal",children:[(0,d.jsx)("div",{className:"ftue-header",children:(0,d.jsx)("h2",{children:k[w.titleKey]})}),(0,d.jsx)("div",{className:"ftue-text",children:(0,d.jsx)("p",{children:k[w.bodyKey]})}),(0,d.jsxs)("div",{className:"ftue-content",children:[(0,d.jsx)("div",{className:"ftue-image-container",children:(0,d.jsx)("img",{src:`/assets/${w.image}`,alt:k[w.titleKey],className:"ftue-image"})}),(0,d.jsx)("div",{className:"ftue-buttons",children:(0,d.jsx)("button",{className:"ftue-button ftue-button-primary",onClick:async()=>{try{const e=0===t.ftuestep?1:t.ftuestep,a=t.ftuestep,s=e+1,d=i.some((e=>e.step===s));if(3===e&&m&&h&&f){console.log("\ud83c\udf93 Step 3: Opening Kent panel to guide player"),(0,c.D)("To Do",{title:k[7001],message:k[7005]});const e=l.Ay.getNPCsInGrid(f);if(e){const t=Object.values(e).find((e=>"Kent"===e.type));t?(console.log("\ud83c\udf93 Found Kent, opening NPCPanel"),u(),h(t),m("NPCPanel")):(console.log("\u26a0\ufe0f Kent NPC not found in grid"),u())}}else if(4===e)console.log("\ud83c\udf93 Processing FTUE step 4 - Adding Grower quest"),(0,c.D)("To Do",{title:k[7001],message:k[7006]}),await p(t.playerId,t,n,7),u(),m&&(console.log("\ud83c\udf93 Step 4: Auto-opening Farming panel"),m("FarmingPanel"));else if(5===e){if(console.log("\ud83c\udf93 Processing FTUE step 5 - Adding Hire the Shepherd quest"),await p(t.playerId,t,n,9),u(),m&&g&&y){console.log("\ud83c\udf93 Step 5: Auto-opening FarmHouse panel");y.find((e=>"Farm House"===e.type))&&(g({type:"Farm House",position:{x:30,y:30},gridId:f}),m("FarmHouse"))}}else if(6===e&&m&&h&&f){console.log("\ud83c\udf93 Processing FTUE step 6 - cow purchased"),(0,c.D)("To Do",{title:k[7001],message:k[7007]}),await p(t.playerId,t,n,10);const e=l.Ay.getNPCsInGrid(f);if(e){const t=Object.values(e).find((e=>"The Shepherd"===e.type));t?(console.log("\ud83c\udf93 Found The Shepherd, opening NPCPanel"),u(),h(t),m("NPCPanel")):(console.log("\u26a0\ufe0f The Shepherd NPC not found in grid"),u())}}else if(7===e&&m)console.log("\ud83c\udf93 Processing FTUE step 7 - Adding shepherd quest"),(0,c.D)("To Do",{title:k[7001],message:k[7009]}),await p(t.playerId,t,n,8),u(),m("QuestPanel");else if(8===e)console.log("\ud83c\udf93 Processing FTUE step 8 - axe acquired"),u();else if(9===e)return console.log(`\ud83c\udf93 Adding Wizard quest after FTUE step ${e}`),await p(t.playerId,t,n,1),await I(),void u();if(d){const s=i.find((t=>t.step===e));if(null===s||void 0===s||!s.continue)return void u();(await o.A.post(`${r.A}/api/update-profile`,{playerId:t.playerId,updates:{ftuestep:a+1}})).data.success&&(n((e=>({...e,ftuestep:a+1}))),u())}else I()}catch(e){console.error("Error advancing FTUE step:",e)}},children:k[796]})})]})]})})}},853:(e,t,n)=>{e.exports=n(234)},876:(e,t,n)=>{n.d(t,{p:()=>u,D:()=>p});var a=n(43),o=n(391),r=n(37),s=n(579);let i=null,l=null,c={};function d(e){let{type:t,data:n,onDismiss:o,onClick:i}=e;const l=(0,r.k)();a.useEffect((()=>(console.log(`[Notification] Component mounted for type: ${t}`),()=>{console.log(`[Notification] Component unmounting for type: ${t}`)})),[]),a.useEffect((()=>{if(console.log(`[Notification] Type: ${t}, Setting up auto-dismiss logic`),"To Do"!==t&&"Message"!==t){console.log(`[Notification] Type ${t} will auto-dismiss in 5 seconds`);const e=setTimeout((()=>{console.log(`[Notification] Auto-dismissing ${t} notification`),o()}),5e3);return()=>{console.log(`[Notification] Clearing timer for ${t} notification`),clearTimeout(e)}}console.log(`[Notification] Type ${t} will NOT auto-dismiss`)}),[t]);const c="notification "+("To Do"===t||"Message"===t?"notification-persistent":"");return(0,s.jsxs)("div",{className:c,onClick:i,style:{cursor:i?"pointer":"default"},children:[(0,s.jsx)("button",{className:"notification-dismiss",onClick:e=>{e.stopPropagation(),o()},children:"\xd7"}),(0,s.jsx)("div",{className:"notification-content",children:(()=>{switch(t){case"Trophy":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"notification-icon-wrapper",children:[(0,s.jsx)("div",{className:"notification-icon",children:"\ud83c\udfc6"}),"Progress"===n.type&&n.progress&&(0,s.jsx)("div",{className:"notification-milestone",children:n.progress}),"Count"===n.type&&n.qty&&(0,s.jsxs)("div",{className:"notification-milestone",children:[n.qty,"x"]})]}),(0,s.jsxs)("div",{className:"notification-text",children:[(0,s.jsx)("div",{className:"notification-title",children:l[6003]}),(0,s.jsx)("div",{className:"notification-name",children:n.name})]})]});case"Phase Change":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"notification-icon-wrapper",children:(0,s.jsx)("div",{className:"notification-icon",children:"\ud83c\udf19"})}),(0,s.jsxs)("div",{className:"notification-text",children:[(0,s.jsx)("div",{className:"notification-title",children:"Phase Change"}),(0,s.jsx)("div",{className:"notification-name",children:n.message||"Day has turned to night"})]})]});case"Message":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"notification-icon-wrapper",children:(0,s.jsx)("div",{className:"notification-icon",children:"\ud83d\udce8"})}),(0,s.jsxs)("div",{className:"notification-text",children:[(0,s.jsx)("div",{className:"notification-title",children:n.title||"New Message"}),(0,s.jsx)("div",{className:"notification-name",children:n.message})]})]});case"To Do":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"notification-icon-wrapper",children:(0,s.jsx)("div",{className:"notification-icon",children:"\u2705"})}),(0,s.jsxs)("div",{className:"notification-text",children:[(0,s.jsx)("div",{className:"notification-title",children:n.title||l[204]}),(0,s.jsx)("div",{className:"notification-name",children:n.message})]})]});default:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"notification-icon-wrapper",children:(0,s.jsx)("div",{className:"notification-icon",children:"\u2139\ufe0f"})}),(0,s.jsxs)("div",{className:"notification-text",children:[(0,s.jsx)("div",{className:"notification-title",children:"Notification"}),(0,s.jsx)("div",{className:"notification-name",children:n.message||"Something happened!"})]})]})}})()})]})}function u(e,t){c[e]=t}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(`[showNotification] Called with type: ${e}`,t),l&&clearTimeout(l);let a=document.getElementById("notification-container");if(!a){a=document.createElement("div"),a.id="notification-container";(document.querySelector(".game-container")||document.querySelector(".App")||document.body).appendChild(a)}i||(i=o.createRoot(a));const r=n||(c[e]?()=>c[e](t):null),u=`${e}-${Date.now()}`;i.render((0,s.jsx)(d,{type:e,data:t,onDismiss:()=>{console.log(`[handleDismiss] Dismissing notification of type: ${e}`),i&&i.render(null)},onClick:r},u))}},894:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(43),o=n(950),r=n(255),s=n(37),i=n(579);let l=[],c=null;const d=()=>{const[e,t]=(0,a.useState)(0),n=(0,s.k)(),u=((0,a.useRef)(Math.floor(1e4*Math.random())),()=>t((e=>e+1)));(0,a.useEffect)((()=>{c=u,d.addFloatingText=function(e,t,a,o){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i="number"===typeof e?n[e]||`Missing string for code: ${e}`:e;if(!document.querySelector(".homestead"))return;if(isNaN(t)||isNaN(a))return void console.warn("Invalid coordinates in addFloatingText:",{x:t,y:a});const{centerX:d,centerY:u}=(0,r.il)(t,a,o),p=`${Date.now()}-${Math.floor(1e4*Math.random())}`,m=100;let h=d,f=u;const g=64*o;d<m?h=d+40:d>g-m&&(h=d-40),u<m?f=u+40:u>g-m&&(f=u-40),l.push({id:p,text:i,x:h,y:f,timestamp:Date.now(),color:s.color,size:s.size}),c&&c()}}),[n]);const p=document.querySelector(".homestead");return p?(0,o.createPortal)((0,i.jsx)("div",{className:"floating-text-container",children:l.map((e=>{let{id:t,text:n,x:a,y:o,color:r,size:s}=e;return(0,i.jsx)("div",{className:"floating-text",style:{position:"absolute",left:a,top:o-30,transform:"translate(-50%, -50%)",color:r||void 0,fontSize:s||void 0},onAnimationEnd:e=>{e.target.style.display="none",l=l.filter((e=>e.id!==t)),c&&c()},children:n},t)}))}),p):null};d.addFloatingText=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("FloatingTextManager not ready yet",...t)};const u=d},898:(e,t,n)=>{n.d(t,{d:()=>i,e:()=>s});var a=n(43),o=n(579);const r=(0,a.createContext)(),s=e=>{let{children:t}=e;const[n,s]=(0,a.useState)(null),i=()=>{s(null)};return(0,o.jsx)(r.Provider,{value:{activePanel:n,openPanel:e=>{s(e)},closePanel:i,closeAllPanels:i},children:t})},i=()=>(0,a.useContext)(r)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},957:(e,t,n)=>{n.d(t,{F:()=>r});n(488);var a=n(167),o=n(823);const r=async(e,t,n,r,s,i,l,c)=>{try{if(!t)return void console.error("GridId is missing. Cannot initialize grid.");console.log("Initializing grid for gridId:",t);const e=await(0,a.FD)(t,i,l),{tiles:d,resources:u}=e,p=[],m=u||[];for(const t of m){let e=t;if(c&&c.length>0){const n=c.find((e=>e.type===t.type));n&&(e={...n,...t})}if(p.push(e),e.range&&e.range>1){const t=e.anchorKey||`${e.type}-${e.x}-${e.y}`;for(let n=0;n<e.range;n++)for(let a=0;a<e.range;a++){if(0===n&&0===a)continue;const o=e.x+n,r={type:"shadow",x:o,y:e.y-a,parentAnchorKey:t,passable:e.passable};p.push(r)}}}n(d||[]),r(p),s(d||[]),o.A.setResources(p),console.log("Grid, tiles, and resources initialized for gridId:",t)}catch(d){console.error("Error initializing grid:",d)}}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>"static/js/"+e+".e009a26f.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="game-client:";n.l=(a,o,r,s)=>{if(e[a])e[a].push(o);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=a),e[a]=[o];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(m);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(n))),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise(((n,a)=>o=e[t]=[n,a]));a.push(o[2]=r);var s=n.p+n.u(t),i=new Error;n.l(s,(a=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,o[1](i)}}),"chunk-"+t,t)}};var t=(t,a)=>{var o,r,s=a[0],i=a[1],l=a[2],c=0;if(s.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)l(n)}for(t&&t(a);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.webpackChunkgame_client=self.webpackChunkgame_client||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(43),o=n(37),r=n(391),s=n(213),i=n(488),l=n(665);const c=async e=>{try{var t;return!(null===(t=(await s.A.get(`${i.A}/api/check-developer-status/${e}`)).data)||void 0===t||!t.isDeveloper)}catch(n){return console.warn("\u26a0\ufe0f Failed to check developer status:",n),!1}};function d(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=`badges_${e.username}`,r={...JSON.parse(localStorage.getItem(o))||{},[n]:a};localStorage.setItem(o,JSON.stringify(r)),t(r)}var u=n(579);const p=e=>{let{currentGridId:t,currentSettlementId:n,currentFrontierId:o,currentPlayer:r,onClose:s}=e;const[c,p]=(0,a.useState)([]),[m,h]=(0,a.useState)(""),f=(0,a.useRef)(null),g=(null===r||void 0===r?void 0:r._id)||"unknown";(0,a.useEffect)((()=>{var e;(console.log("\ud83d\udfe8 Chat component mounted with frontierId:",o),l.Ay&&l.Ay.connected&&o?(console.log("\ud83d\udce1 Joining frontier chat room from Chat.js"),l.Ay.emit("join-chat-rooms",{gridId:null,settlementId:null,frontierId:o})):console.warn("\u26a0\ufe0f Socket not connected or no frontierId when Chat mounted."),r)&&d(r,(()=>{}),"chat",null===(e=!1)||e)}),[o]),(0,a.useEffect)((()=>{if(l.Ay)return l.Ay.on("receive-chat-message",(e=>{"frontier"===e.scope&&(!e.username&&null!==r&&void 0!==r&&r.username&&(e.username=r.username),console.log("\ud83d\udce8 Received chat message via socket:",e),p((t=>[...t,e])))})),()=>{l.Ay.off("receive-chat-message")}}),[l.Ay]),(0,a.useEffect)((()=>{(async()=>{if(o)try{const e=await fetch(`${i.A}/api/chat/frontier/${o}`),t=await e.json();p(t)}catch(e){console.error("Failed to fetch chat history:",e)}})()}),[o]),(0,a.useEffect)((()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[c]);const y=e=>{e.preventDefault();const t=m.trim();t&&o&&(console.log("\ud83d\udce8 Sending chat message:",t),(0,l.pV)({playerId:g,username:(null===r||void 0===r?void 0:r.username)||"unknown",message:t,scope:"frontier",scopeId:o}),h(""))};return(0,u.jsxs)("div",{className:"chat-container",children:[(0,u.jsxs)("div",{className:"chat-panel-header",children:[(0,u.jsx)("h3",{children:"\ud83d\udcac Chat"}),(0,u.jsx)("button",{className:"chat-close-button",onClick:s,children:"\u2716"})]}),(0,u.jsxs)("div",{className:"chat-panel",children:[(0,u.jsxs)("div",{className:"chat-messages",children:[c.map(((e,t)=>(0,u.jsxs)("div",{className:"chat-message",children:[(0,u.jsx)("strong",{children:e.username||"???"}),": ",e.message||"[empty]"]},e.id||t))),(0,u.jsx)("div",{ref:f})]}),(0,u.jsxs)("div",{className:"chat-input",children:[(0,u.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>{console.log("\ud83d\udce8 Key pressed:",e.key),"Enter"===e.key&&(e.preventDefault(),y(e))},placeholder:"Message everyone..."}),(0,u.jsx)("button",{type:"button",onClick:y,children:"Send"})]})]})]})};var m=n(876),h=n(957),f=n(146);var g=n(823),y=n(605);const v=(0,a.createContext)(),b=(0,a.createContext)(),k=()=>(0,a.useContext)(v);function w(e){let{children:t}=e;const[n,o]=(0,a.useState)({});return(0,u.jsx)(v.Provider,{value:n,children:(0,u.jsx)(b.Provider,{value:o,children:t})})}const S=(0,a.createContext)(),x=(0,a.createContext)(),C=()=>(0,a.useContext)(S);function I(e){let{children:t}=e;const[n,o]=(0,a.useState)({});return(0,u.jsx)(S.Provider,{value:n,children:(0,u.jsx)(x.Provider,{value:o,children:t})})}var A=n(894),T=n(667),N=n(431),j=n(167);async function P(e,t,n,a,o){var r;if(null===e||void 0===e||null===(r=e.activeQuests)||void 0===r||!r.length)return;console.log("At trackQuestProgress; action = ",t);let l=!1;const c=e.activeQuests.map((e=>{if(e.completed||e.rewardCollected)return e;const o={...e.progress};let r=0,s=0;for(let i=1;i<=3;i++){const l=e[`goal${i}action`],c=e[`goal${i}item`],d=e[`goal${i}qty`];l&&c&&d&&(s++,l===t&&c===n&&(o[`goal${i}`]=Math.min((o[`goal${i}`]||0)+a,d)),o[`goal${i}`]>=d&&r++)}return r===s&&s>0&&(e.completed=!0),e.progress=o,l=!0,e}));if(l)try{console.log("Saving updated player quests; updatedQuests = ",c);const t=await s.A.post(`${i.A}/api/update-player-quests`,{playerId:e.playerId,activeQuests:c});"function"===typeof o&&o((e=>({...e,activeQuests:t.data.player.activeQuests||c})))}catch(d){console.error("Error updating quest progress:",d)}}var E=n(255);function R(e,t,n){const a=e.position,o=function(e){if(!e||void 0===e.x||void 0===e.y)return console.error("Invalid location object",e),null;return{x:e.x,y:e.y}}(t.position);if(console.log("Fetched positions: playerPos =",a,"; targetPos =",o),!o)return console.error("Invalid target position",{targetPos:o}),A.A.addFloatingText(505,0,0,n),!1;const r=(0,y.gd)(a,o),s=e.attackrange||1;return console.log("playerRange = ",s),console.log("playerPos = ",a),!(r>s)||(A.A.addFloatingText(501,o.x,o.y,n),console.log("target out of range: targetPos.x = ",o.x," targetPos.y= ",o.y),!1)}function $(e,t,n){const a=Math.floor(20*Math.random())+1,o=a+(e.attackbonus||0);return console.log(`Attack roll: ${a}, Attack bonus: ${e.attackbonus}`),console.log(`Total hit roll: ${o}, Target armor class: ${t.armorclass}`),o>=t.armorclass?(A.A.addFloatingText(502,t.position.x,t.position.y-1,n),!0):(A.A.addFloatingText(503,t.position.x,t.position.y,n),!1)}function O(e){const t=Math.floor(6*Math.random())+1,n=(e.damage||0)+t;return console.log(`Damage roll: ${t}, player damage: ${e.damage}, Damage dealt: ${n}`),n}function z(e,t,n){const a=[];let o=1;return t.forEach((t=>{var r;const s=null===n||void 0===n||null===(r=n[t.type])||void 0===r?void 0:r[e];s&&s>1&&(a.push(t.type),o*=s)})),{multiplier:o,skills:a,hasSkills:a.length>0}}function D(e,t){const n=(null===e||void 0===e?void 0:e.warehouseCapacity)||0,a=(null===e||void 0===e?void 0:e.backpackCapacity)||0,o="Gold"===(null===e||void 0===e?void 0:e.accountStatus),r=o?1e6:0,s=o?1e6:0;return((null===e||void 0===e?void 0:e.skills)||[]).reduce(((e,n)=>{const a=null===t||void 0===t?void 0:t.find((e=>e.type===n.type));if(a){const t=a.qtycollected||0;"warehouseCapacity"===a.output?e.warehouse+=t:"backpackCapacity"===a.output&&(e.backpack+=t)}return e}),{warehouse:n+r,backpack:a+s})}const M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return!1;const o=Array.isArray(t)?t:[],r=Array.isArray(n)?n:[];for(let s=1;s<=5;s++){const t=e[`ingredient${s}`],n=e[`ingredient${s}qty`]*a;if(t&&n>=0){const e=r.find((e=>e.type===t)),a=o.find((e=>e.type===t));if(((null===e||void 0===e?void 0:e.quantity)||0)+((null===a||void 0===a?void 0:a.quantity)||0)<n)return!1}}return!0};async function L(e){if(!e)return console.error("No playerId provided for fetching inventory"),[];try{var t;return(null===(t=(await s.A.get(`${i.A}/api/inventory/${e}`)).data)||void 0===t?void 0:t.inventory)||[]}catch(n){return console.error("Error fetching inventory:",n),[]}}async function B(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const r=(await s.A.get(`${i.A}/api/player/${e}`)).data;if(n)t((t=>{var n,a;const o={...r,inventory:t.inventory,backpack:t.backpack},s=null===(n=N.A.getPlayersInGrid(null===(a=o.location)||void 0===a?void 0:a.g))||void 0===n?void 0:n[e];return s&&(o.location={...o.location,x:s.position.x,y:s.position.y}),o}));else{var a,o;const n=null===(a=N.A.getPlayersInGrid(null===(o=r.location)||void 0===o?void 0:o.g))||void 0===a?void 0:a[e];n&&(r.location={...r.location,x:n.position.x,y:n.position.y}),t(r)}}catch(r){console.error("Error refreshing player:",r)}}async function G(e){var t;let{playerId:n,currentPlayer:a,resource:o,quantity:r,inventory:l,backpack:c,setInventory:d,setBackpack:u,setCurrentPlayer:p,updateStatus:m,masterResources:h}=e;const f="Money"===o,g="Gem"===o,y="homestead"===(null===a||void 0===a||null===(t=a.location)||void 0===t?void 0:t.gtype),v=!f&&!g&&!y,b=f||g||y?[...l]:[...c];if(v){var k;if(!(null===a||void 0===a||null===(k=a.skills)||void 0===k?void 0:k.some((e=>"Backpack"===e.type&&e.quantity>0))))return m&&m(19),!1}if(!f&&!g){const{warehouse:e,backpack:t}=D(a,h||[]),n=y?e:t;if(b.filter((e=>e&&"Money"!==e.type&&"Gem"!==e.type&&"number"===typeof e.quantity)).reduce(((e,t)=>e+t.quantity),0)+r>n)return m&&m(y?20:21),!1}const w=b.findIndex((e=>e.type===o));w>=0?b[w].quantity+=r:b.push({type:o,quantity:r});const S={playerId:n,delta:[{type:o,quantity:r,target:v?"backpack":"inventory"}]};try{return await s.A.post(`${i.A}/api/update-inventory-delta`,S),d(f||y?b:l),u(f||y?c:b),p((e=>({...e,inventory:f||y?b:l,backpack:f||y?c:b}))),await B(n,p),!0}catch(x){return console.error("\u274c Error gaining ingredient",x),!1}}async function q(e){let{playerId:t,recipe:n,inventory:a,backpack:o,setInventory:r,setBackpack:l,setCurrentPlayer:c,updateStatus:d}=e,u=[...a],p=[...o];if(!M(n,a,o,1))return d(4),!1;const m=[];for(let s=1;s<=5;s++){const e=null===n||void 0===n?void 0:n[`ingredient${s}`],t=null===n||void 0===n?void 0:n[`ingredient${s}qty`];if(e&&t){let n=t;const a=p.find((t=>t.type===e));if(a){const t=Math.min(n,a.quantity);a.quantity-=t,n-=t,m.push({type:e,quantity:-t,target:"backpack"}),a.quantity<=0&&p.splice(p.indexOf(a),1)}if(n>0){const t=u.find((t=>t.type===e));if(t){const a=Math.min(n,t.quantity);t.quantity-=a,m.push({type:e,quantity:-a,target:"inventory"}),t.quantity<=0&&u.splice(u.indexOf(t),1)}}}}try{await s.A.post(`${i.A}/api/update-inventory-delta`,{playerId:t,delta:m}),r(u),l(p),c((e=>({...e,inventory:u,backpack:p}))),await B(t,c);const e={success:!0,updatedInventory:u,updatedBackpack:p,valueOf:()=>!0};return e}catch(h){return console.error("\u274c Error spending ingredients:",h),!1}}var F=n(898);const V=e=>{let{onClose:t,children:n,descriptionKey:r,panelName:s,titleKey:i,title:l}=e;const c=(0,o.k)(),{activePanel:d,openPanel:p,closePanel:m}=(0,F.d)();return(0,a.useEffect)((()=>{d===s&&p(s)}),[d,s,p]),d!==s?null:(0,u.jsxs)("div",{className:"panel-container",children:[(0,u.jsxs)("div",{className:"panel-header",children:[(0,u.jsx)("h2",{className:"panel-title",children:l||c[i]||"Panel"}),(0,u.jsx)("button",{className:"panel-close-btn",onClick:()=>{m(),t()},children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24",children:[(0,u.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,u.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,u.jsx)("div",{className:"panel-content",children:n}),r&&(0,u.jsx)("div",{className:"panel-description",children:(0,u.jsx)("p",{children:c[r]})}),(0,u.jsx)("div",{className:"panel-buffer-space"})]})};var _=n(544);let U=null;const H=e=>(U||(U=(()=>{const e={};return Object.entries(_).forEach((t=>{let[n,a]=t;e[a]=n})),e})()),U[e]||null),K=(e,t)=>{if(!t)return console.warn("getLocalizedString: strings object is undefined, returning original value"),e;const n=H(e);return n&&t[n]?t[n]:e},W=e=>{let{onAction:t,children:n,disabled:o=!1,transactionKey:r,className:s="",style:i={},...l}=e;const[c,d]=(0,a.useState)(!1),[p]=(0,a.useState)((()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`));return(0,u.jsx)("button",{...l,onClick:async e=>{if(!c&&!o){e.preventDefault(),e.stopPropagation(),d(!0);try{await t(p,r)}catch(n){console.error("Transaction failed:",n)}finally{d(!1)}}},disabled:o||c,className:`${s} ${c?"processing":""}`,style:{...i,opacity:o||c?.6:1,cursor:o||c?"not-allowed":"pointer"},children:c?"\u23f3":n})},Y=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:g,npcId:y,TILE_SIZE:v,updateStatus:b,masterResources:k}=e;const[w,S]=(0,a.useState)(null),[x,C]=(0,a.useState)(null),[I,A]=(0,a.useState)(Date.now()),N=(0,o.k)();console.log("--------Inside Animal Panel:",{stationType:h,currentStationPosition:f}),(0,a.useEffect)((()=>{const e=k.find((e=>e.type===h));S(e)}),[h,k]),(0,a.useEffect)((()=>{const e=()=>{if(y&&g){const e=T.Ay.getNPCsInGrid(g),t=Object.values(e).find((e=>e.id===y));C(t)}};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[y,g]),(0,a.useEffect)((()=>{const e=setInterval((()=>{A(Date.now())}),1e3);return()=>clearInterval(e)}),[]);(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];r(e);const t=(await s.A.get(`${i.A}/api/inventory/${d.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(r(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[d]);return(0,u.jsx)(V,{onClose:t,descriptionKey:"1029",titleKey:"1129",panelName:"AnimalPanel",children:(0,u.jsxs)("div",{className:"standard-panel",children:[(0,u.jsxs)("h2",{children:[(null===w||void 0===w?void 0:w.symbol)||"\ud83d\uded6"," ",K(h,N)]}),x&&(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:K(x.type,N)})," ",(e=>{if(!e)return"Unknown status";switch(e.state){case"processing":return"is ready.";case"hungry":return"is hungry and looking for grass.";case"grazing":if(e.grazeEnd){const t=Math.max(0,e.grazeEnd-I);return`is grazing. ${Math.floor(t/6e4)}m ${Math.floor(t%6e4/1e3)}s`}return"is grazing.";case"roam":return"is roaming.";case"stall":return"is looking for an Animal Stall.";default:return`is in ${e.state} state.`}})(x)]}),"homestead"===d.location.gtype&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-success",onAction:async(e,a)=>{const o=[];for(let t=1;t<=3;t++){const e=w[`ingredient${t}`],n=w[`ingredient${t}qty`];e&&n&&o.push({type:e,quantity:n})}if(o.length)try{for(const{type:t,quantity:a}of o){if(!await G({playerId:d.playerId,currentPlayer:d,resource:t,quantity:a,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:b,masterResources:k}))return}p((e=>({...e,inventory:n,backpack:l})));try{y?(console.log(`\ud83d\udc04 Removing animal NPC ${y} (original position: ${f.x}, ${f.y})`),await T.Ay.removeNPC(g,y),console.log("\ud83e\uddf9 Animal NPC removed from NPCsInGrid.")):console.error("No NPC ID provided - cannot remove animal NPC")}catch(s){console.error("Error removing NPC:",s)}const e=o.filter((e=>"Money"===e.type)).reduce(((e,t)=>e+t.quantity),0);console.log(`Sold ${h} successfully for ${e} Money.`),b(`Sold ${K(h,N)} for ${e} ${K("Money",N)}.`),t()}catch(s){console.error("Error selling the stall:",s)}else console.error("No ingredients found for refund.")},transactionKey:`sell-refund-${h}-${f.x}-${f.y}-${g}`,children:N[425]})})]})]})})},J=a.memo(Y);async function Q(e,t,n,a,o,r,l,c,d,u,p,m,h){let f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:{};console.log(`\ud83d\udd12 [PROTECTED FARM ANIMAL] Starting protected collection for NPC ${e.id}`);const g=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,y=`farm-animal-collect-${e.id}-${m}`;try{var v;console.log(`\ud83d\udc2e Attempting to collect animal - ID: ${e.id}, State: ${e.state}, GrazeEnd: ${e.grazeEnd}, Current Time: ${Date.now()}`);const r=null===(v=T.Ay.getNPCsInGrid(m))||void 0===v?void 0:v[e.id];if(r&&"processing"!==r.state)return console.warn(`\u26a0\ufe0f NPC ${e.id} state changed to ${r.state} before collection attempt`),h(`\u274c Animal not ready - state: ${r.state}`),{type:"error",message:`Animal not in processing state (${r.state})`};const p=await s.A.post(`${i.A}/api/farm-animal/collect`,{playerId:l.playerId,gridId:m,npcId:e.id,npcPosition:{x:n,y:t},transactionId:g,transactionKey:y});if(p.data.success){const{collectedQuantity:r,collectedItem:s,skillsApplied:i,updatedNPC:g}=p.data;if(!await G({playerId:l.playerId,currentPlayer:l,resource:s,quantity:r,inventory:l.inventory,backpack:l.backpack,setInventory:a,setBackpack:o,setCurrentPlayer:c,updateStatus:h,masterResources:u}))return console.error("\u274c Failed to add animal product to inventory - warehouse may be full"),{type:"error",message:"Warehouse full"};if(g){await T.Ay.updateNPC(m,e.id,g);const a=T.Ay.getNPCsInGrid(m),o=Object.values(a||{}).filter((a=>{var o,r;return a.id!==e.id&&Math.floor(null===(o=a.position)||void 0===o?void 0:o.x)===n&&Math.floor(null===(r=a.position)||void 0===r?void 0:r.y)===t&&"graze"===a.action}));if(o.length>0){console.log(`\ud83d\udc2e Found ${o.length} other animals at same stall position after collection`),console.log("\ud83d\udc2e Other animals at position:",o.map((e=>({id:e.id,state:e.state,grazeEnd:e.grazeEnd,targetStall:e.targetStall}))));for(const e of o)"processing"===e.state?console.log(`\ud83d\udc2e Animal ${e.id} remains in processing state at same stall - ready for collection`):"stall"===e.state?console.log(`\ud83d\udc2e Animal ${e.id} is still moving to stall`):console.log(`\ud83d\udc2e\u26a0\ufe0f Animal ${e.id} in unexpected state '${e.state}' at stall position`)}}A.A.addFloatingText(`+${r} ${K(s,f)}`,n,t,d);0===i.length||i.join(", ");return await P(l,"Collect",s,r,c),console.log(`Farm animal collection completed: ${r} ${s}`),{type:"success",message:`Collected ${r} ${s}.`,collectedItem:s,collectedQuantity:r,skillsApplied:i}}}catch(C){var b,k;if(console.error("Error in protected farm animal collection:",C),429===(null===(b=C.response)||void 0===b?void 0:b.status))return h(471),{type:"error",message:"Collection already in progress"};if(400===(null===(k=C.response)||void 0===k?void 0:k.status)){var w,S,x;const s=(null===(w=C.response)||void 0===w||null===(S=w.data)||void 0===S?void 0:S.error)||"Animal not ready for collection",i=null===(x=C.response)||void 0===x?void 0:x.data;if(console.error("\u274c 400 Error details:",i),"Warehouse full"===s)return console.error(`\u274c Cannot collect: Warehouse is full (${i.currentUsage}/${i.capacity})`),h(20),{type:"error",message:"Warehouse is full"};if(console.error(`\u274c Animal state mismatch - Client state: ${e.state}, Server error: ${s}`),console.error(`\u274c Animal details - ID: ${e.id}, GrazeEnd: ${e.grazeEnd}, Current Time: ${Date.now()}`),s.includes("state:")){const i=s.match(/\(state:\s*(\w+)\)/);if(i){const s=i[1];console.error(`\u274c Server reports NPC ${e.id} in state '${s}' but client has '${e.state}'`),console.log(`\ud83d\udd04 Attempting to resync NPC ${e.id} state with server...`),await T.Ay.updateNPC(m,e.id,{state:s});const g=T.Ay.getNPCsInGrid(m),y=Object.values(g||{}).find((a=>{var o,r;return a.id!==e.id&&Math.floor(null===(o=a.position)||void 0===o?void 0:o.x)===n&&Math.floor(null===(r=a.position)||void 0===r?void 0:r.y)===t&&"graze"===a.action&&"processing"===a.state}));if(y)return console.log(`\ud83d\udc2e Found another processing animal at same position after sync. Trying to collect from NPC ${y.id}`),h("Trying another animal at this stall..."),await Q(y,t,n,a,o,r,l,c,d,u,p,m,h,f);h(`\u274c Animal not ready - server state: ${s}`)}}else h(`\u274c ${s}`);return{type:"error",message:s}}return h("\u274c Failed to collect from animal"),{type:"error",message:"Failed to collect from animal"}}}async function Z(e,t,n,a,o,r,l,c,d,u,p,m,h,f,y,v,b){let k=arguments.length>17&&void 0!==arguments[17]?arguments[17]:{};if(e)switch(console.log(`[\ud83d\udc2e\u2196\ufe0f handleNPCClick] NPC ${e.id} clicked with state=${e.state}`),e.action){case"quest":case"heal":case"worker":break;case"graze":if(console.log(`Handling grazing logic for NPC ${e.id}.`),"processing"!==e.state){console.log(`\ud83d\udc2e NPC ${e.id} clicked but not in processing state: ${e.state}`);const o=T.Ay.getNPCsInGrid(m),s=Object.values(o||{}).filter((e=>{var a,o;return Math.floor(null===(a=e.position)||void 0===a?void 0:a.x)===n&&Math.floor(null===(o=e.position)||void 0===o?void 0:o.y)===t&&"graze"===e.action}));s.length>1&&console.log(`\ud83d\udc2e Found ${s.length} animals at position (${n}, ${t}):`,s.map((e=>({id:e.id,state:e.state,grazeEnd:e.grazeEnd}))));const i=s.find((t=>t.id!==e.id&&"processing"===t.state));return i?(console.log(`\ud83d\udc2e Found another animal in processing state at same position. Switching to collect from NPC ${i.id} (state: ${i.state}) instead of ${e.id} (state: ${e.state})`),await Z(i,t,n,a,r,l,c,d,u,p,m,h,f,y,v,b,k)):(b({type:e.type,position:{x:n,y:t},gridId:m,npcId:e.id}),v("AnimalPanel"),{type:"info",message:"NPC is not ready for collection."})}return await Q(e,t,n,a,o,r,l,c,d,u,p,m,y,k);case"attack":case"spawn":!async function(e,t,n,a,o,r){var l,c;console.log(`Handling attack on NPC ${e.id}.`);const d=t.location.g,u=t._id.toString();console.log("playerId = ",u);const p=null===(l=N.A.getPlayersInGrid(d))||void 0===l?void 0:l[u];if(console.log("player = ",p),!p)return void console.error(`Player not found in playersInGrid for playerId: ${u}.`);const m=(null===(c=T.Ay.getNPCsInGrid(d))||void 0===c?void 0:c[e.id])||e;if(p.iscamping)return void A.A.addFloatingText(31,m.position.x,m.position.y,a);if(!R(p,m,a))return;if(!$(p,m,a))return;const h=O(p);if(A.A.addFloatingText(`- ${h} \u2764\ufe0f\u200d\ud83e\ude79 HP`,m.position.x,m.position.y,a),(0,E.MV)(m.position.x,m.position.y,a),m.hp-=h,await T.Ay.updateNPC(d,m.id,{hp:m.hp,position:m.position,state:m.state}),m.hp<=0){console.log(`NPC ${m.id} killed.`),A.A.addFloatingText(504,m.position.x,m.position.y-1,a);try{if(await T.Ay.removeNPC(d,m.id),console.log(`NPC ${m.id} successfully removed from grid.`),m.output){console.log(`Spawning resource: ${m.output} at NPC's death position.`);const e=r.find((e=>e.type===m.output)),t={...e,type:m.output,x:Math.floor(m.position.x),y:Math.floor(m.position.y),category:e.category||"doober",symbol:e.symbol||"\u2753",qtycollected:e.qtycollected||1},n=[...g.A.getResources(),t];g.A.setResources(n),o((e=>[...e,t])),await(0,j.mQ)(d,{type:m.output,x:Math.floor(m.position.x),y:Math.floor(m.position.y)},o,!0)}else console.warn(`NPC ${m.id} has no output resource defined.`)}catch(y){console.error("Error removing NPC or spawning resource:",y)}var f;if("Duke Angelo"===m.type)if(null===(f=t.activeQuests)||void 0===f?void 0:f.find((e=>"Blood for Juliet"===e.questId)))await P(t,"Kill",m.type,1,n);else try{const e=await s.A.post(`${i.A}/api/add-player-quest`,{playerId:t.playerId,questId:"Blood for Juliet",startTime:Date.now(),progress:{goal1:1},completed:!0});e.data.success&&(n(e.data.player),A.A.addFloatingText("Quest: Blood for Juliet completed!",m.position.x,m.position.y-2,a),console.log("Auto-accepted and completed Blood for Juliet quest"))}catch(y){console.error("Error auto-accepting Blood for Juliet quest:",y)}else await P(t,"Kill",m.type,1,n)}}(e,l,c,d,r,u);break;default:console.log(`Unhandled NPC action: ${e.action}`)}else console.warn("handleNPCClick was called with an undefined NPC.")}var X=n(106);const ee=(0,a.createContext)(),te=e=>{let{children:t}=e;const[n,o]=(0,a.useState)({}),r=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log(`\ud83c\udfad NPC ${e}: ${t?`setting overlay '${t}'`:"clearing overlay"} (clickable: ${n})`),o((a=>({...a,[e]:t?{overlay:t,clickable:n}:void 0})))};return(0,u.jsx)(ee.Provider,{value:{npcOverlays:n,setNPCOverlay:r,clearNPCOverlay:e=>{r(e,null)},getNPCOverlay:e=>n[e],setBusyOverlay:e=>r(e,"hourglass",!1),setQuestOverlay:e=>r(e,"exclamation",!0),setAttackOverlay:e=>r(e,"attack",!0)},children:t})},ne=()=>(0,a.useContext)(ee);const ae=new class{constructor(){this.cache=null,this.cacheTime=null,this.cacheExpiry=3e5,this.pendingRequest=null}async getQuests(){return this.pendingRequest?this.pendingRequest:this.cache&&this.cacheTime&&Date.now()-this.cacheTime<this.cacheExpiry?Promise.resolve(this.cache):(console.log("\ud83d\udd04 Fetching fresh quests from API"),this.pendingRequest=s.A.get(`${i.A}/api/quests`).then((e=>(this.cache=e.data,this.cacheTime=Date.now(),this.pendingRequest=null,this.cache))).catch((e=>{throw this.pendingRequest=null,e})),this.pendingRequest)}invalidate(){console.log("\ud83d\uddd1\ufe0f Invalidating quest cache"),this.cache=null,this.cacheTime=null}async getQuestsForNPC(e){return(await this.getQuests()).filter((t=>t.giver===e))}};const oe=new class{constructor(){this.activeConversations=new Map,this.relationshipOutcomes=new Map,this.listeners=new Set}addSpeech(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];console.log("\ud83d\udde8\ufe0f ConversationManager.addSpeech:",{speakerId:e,emoji:t,topic:n,isMatch:a}),this.activeConversations.set(e,{emoji:t,topic:n,timestamp:Date.now(),isMatch:a}),this.notifyListeners()}removeSpeech(e){console.log("\ud83d\udde8\ufe0f ConversationManager.removeSpeech:",e),this.activeConversations.delete(e),this.notifyListeners()}getSpeech(e){return this.activeConversations.get(e)}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach((e=>e()))}clear(){this.activeConversations.clear(),this.relationshipOutcomes.clear(),this.notifyListeners()}showOutcome(e,t){console.log("\ud83c\udfaf ConversationManager.showOutcome:",{speakerId:e,isPositive:t}),this.relationshipOutcomes.set(e,{type:t?"positive":"negative",timestamp:Date.now()}),this.notifyListeners(),setTimeout((()=>{this.relationshipOutcomes.delete(e),this.notifyListeners()}),2500)}getOutcome(e){return this.relationshipOutcomes.get(e)}};function re(e,t){const n=document.createElement("div");n.className="game-overlay",n.setAttribute("data-overlay-type",t);const a=ie(t);n.textContent=a.emoji,n.style.color=a.color,e.appendChild(n)}function se(e,t,n){const a=oe.getSpeech(t),o=e.querySelector(".conversation-speech-bubble");if(o){var r;const e=null===(r=o.querySelector(".speech-emoji"))||void 0===r?void 0:r.textContent;if(!a)return void o.remove();if(e===(a.topic||a.emoji))return;o.remove()}if(!a)return;const s=document.createElement("div");s.className=`conversation-speech-bubble ${n}${a.isMatch?" match":""}`,s.style.position="absolute",s.style.left="50%",s.style.bottom="100%",s.style.transform="translateX(-50%)",s.style.marginBottom="10px";const i=parseInt(window.getComputedStyle(e).width)/30*.5;s.style.fontSize=20*i+"px",s.style.width=80*i+"px",s.style.height=80*i+"px",s.style.padding=15*i+"px",s.style.borderWidth=3*i+"px";const l=document.createElement("div");l.className="speech-emoji",l.textContent=a.topic||a.emoji,l.style.fontSize=32*i*2+"px",s.appendChild(l),e.appendChild(s);s.getBoundingClientRect(),e.getBoundingClientRect()}const ie=e=>{switch(e){case"exclamation":return{emoji:"\u2757",color:"#FF6B35"};case"attack":return{emoji:"\u2694\ufe0f",color:"#DC143C"};case"completed":return{emoji:"\u2705",color:"#32CD32"};case"available":return{emoji:"\ud83d\udc4b",color:"#FFD700"};case"ready":return{emoji:"\u2705",color:"green"};case"inprogress":return{emoji:"\ud83d\udd51",color:"orange"};default:return e&&e.length<=3?{emoji:e,color:"#4B9BFF"}:{emoji:"",color:"#888"}}};function le(e,t){const n=oe.getOutcome(t),a=e.querySelector(".relationship-outcome");if(a){if(!n)return void a.remove();const e=a.getAttribute("data-outcome-type"),t=a.getAttribute("data-timestamp");if(e===n.type&&t===String(n.timestamp))return;a.remove()}if(!n)return;const o=document.createElement("div");o.className="relationship-outcome",o.setAttribute("data-outcome-type",n.type),o.setAttribute("data-timestamp",String(n.timestamp)),o.style.position="absolute",o.style.left="50%",o.style.bottom="100%",o.style.transform="translateX(-50%)",o.style.marginBottom="10px",o.style.pointerEvents="none",o.style.zIndex="1001";const r=parseInt(window.getComputedStyle(e).width)/30;"positive"===n.type?(o.textContent="\ud83d\udc4d",o.style.color="rgb(252, 249, 249)",o.style.fontSize=24*r+"px",o.style.fontWeight="bold",o.style.textShadow="2px 2px 4px rgba(0,0,0,0.3)"):(o.textContent="\u274c",o.style.fontSize=20*r+"px"),e.appendChild(o)}const ce=e=>{let{TILE_SIZE:t,openPanel:n,setActiveStation:o,setInventory:r,setBackpack:s,setResources:i,currentPlayer:l,setCurrentPlayer:c,onNPCClick:d,onPCClick:p,masterResources:m,masterSkills:h,setHoverTooltip:f,setModalContent:g,setIsModalOpen:v,updateStatus:b,strings:w}=e;const S=k(),x=C(),I=(0,a.useRef)(null),T=(0,a.useRef)(!1),{getNPCOverlay:j}=ne(),P=(0,a.useRef)(m);(0,a.useEffect)((()=>{P.current=m}),[m]);const z=(0,a.useRef)(null),D=(0,a.useRef)(null),M=(0,a.useRef)(0),L=(0,a.useRef)(new Map),B=(0,a.useRef)(new Map),G=(0,a.useRef)(null),q=(0,a.useRef)(new Map),[F,V]=(0,a.useState)(0);async function _(e){if("quest"!==e.action||!l)return null;try{let t=(await ae.getQuests()).filter((t=>t.giver===e.type)).filter((e=>{var t,n;const a=null===(t=l.activeQuests)||void 0===t?void 0:t.find((t=>t.questId===e.title));return a?a.completed&&!a.rewardCollected:!0===e.repeatable||"true"===e.repeatable||!(null!==(n=l.completedQuests)&&void 0!==n&&n.some((t=>t.questId===e.title)))}));!0===l.firsttimeuser&&(t=t.filter((e=>!!(null!=e.ftuestep&&void 0!==e.ftuestep&&""!==e.ftuestep&&0!==e.ftuestep)&&!(e.ftuestep>(l.ftuestep||0)))));return t.some((e=>{var t;const n=null===(t=l.activeQuests)||void 0===t?void 0:t.find((t=>t.questId===e.title));return n&&n.completed&&!n.rewardCollected}))?"completed":t.length>0?"available":null}catch(t){return console.error("Error checking quest NPC status:",t),null}}function U(e){if("trade"!==e.action)return null;try{const t=P.current.filter((t=>t.source===e.type));return t.length>0?t[0].symbol||"\ud83d\udce6":null}catch(t){return console.error("Error checking trade NPC status:",t),null}}function H(){var e,a;const u=null===l||void 0===l||null===(e=l.location)||void 0===e?void 0:e.g,p=Object.values((null===S||void 0===S||null===(a=S[u])||void 0===a?void 0:a.npcs)||{}),m=z.current;if(!m)return;const y=new Set;p.forEach((e=>{if(!e||!e.position||"undefined"===typeof e.position.x||"undefined"===typeof e.position.y)return void console.warn("NPC missing position data:",e);y.add(e.id);let a=L.current.get(e.id);const p=X.ZH[e.id],k=p?p.x*t:e.position.x*t,S=p?p.y*t:e.position.y*t;if(a){a.textContent!==e.symbol&&(a.textContent=e.symbol);const t=j(e.id),n=a.querySelector(".npc-overlay");if(t&&!n)re(a,t.overlay);else if(!t&&n)if("quest"===e.action){const t=q.current.get(e.id);if(t){n.getAttribute("data-overlay-type")!==t&&(n.remove(),re(a,t))}else _(e).then((t=>{t?(q.current.set(e.id,t),n&&n.remove(),re(a,t)):(n.remove(),q.current.delete(e.id))}))}else if("trade"===e.action){const t=U(e);if(t){n.getAttribute("data-overlay-type")!==t&&(n.remove(),re(a,t))}else n.remove()}else n.remove();else if(t&&n){n.getAttribute("data-overlay-type")!==t.overlay&&(n.remove(),re(a,t.overlay))}else if(t||"quest"!==e.action||n){if(!t&&"trade"===e.action&&!n){const t=U(e);t&&re(a,t)}}else{const t=q.current.get(e.id);t?re(a,t):_(e).then((t=>{if(t){q.current.set(e.id,t);const n=L.current.get(e.id);n&&!n.querySelector(".npc-overlay")&&re(n,t)}}))}}else{a=document.createElement("div"),a.className="npc",a.style.position="absolute",a.style.width=`${t}px`,a.style.height=`${t}px`,a.style.fontSize=.7*t+"px",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.zIndex=15,a.style.pointerEvents="auto",a.textContent=e.symbol,a.addEventListener("mousedown",(()=>{var a,p;const m=j(e.id);if(m&&!m.clickable)return;const y=(null===l||void 0===l?void 0:l.gridId)===(null===l||void 0===l||null===(a=l.location)||void 0===a?void 0:a.g);if("homestead"===(null===l||void 0===l||null===(p=l.location)||void 0===p?void 0:p.gtype)&&!y)return;f(null),T.current=!0;const k=Date.now();if("attack"===e.action||"spawn"===e.action){var S,C,I,A;const e=null===x||void 0===x||null===(S=x[u])||void 0===S||null===(C=S.pcs)||void 0===C?void 0:C[l._id],t=null!==(I=null!==(A=null===e||void 0===e?void 0:e.speed)&&void 0!==A?A:l.baseSpeed)&&void 0!==I?I:5;if(k<M.current)return;M.current=k+1e3*t}var N,E,R;"quest"===e.action||"heal"===e.action||"worker"===e.action||"trade"===e.action?d(e):Z(e,Math.round((null===(N=e.position)||void 0===N?void 0:N.y)||0),Math.round((null===(E=e.position)||void 0===E?void 0:E.x)||0),r,s,i,l,c,t,P.current,h,null===l||void 0===l||null===(R=l.location)||void 0===R?void 0:R.g,g,v,b,n,o,w)})),a.onmouseenter=n=>{T.current||(I.current=e.id,G.current=a,function(e,t,n,a,o,r){const s=e.target.getBoundingClientRect(),i=s.left+n/2,l=s.top,c=K(t.type,r);let d=`<p>${c}</p>`;switch(t.action){case"graze":switch(t.state){case"processing":d=`<p>${c}</p><p>is ready.</p>`;break;case"hungry":d=`<p>${c}</p><p>is hungry and</p><p>looking for grass.</p>`;break;case"grazing":{let e="";if(t.grazeEnd){const n=Math.max(0,t.grazeEnd-Date.now());e=`<p>${Math.floor(n%36e5/6e4)}m ${Math.floor(n%6e4/1e3)}s</p>`}d=`<p>${c}</p><p>is grazing.</p>${e}`;break}case"idle":d="<p>Zzzz...</p>";break;case"roam":d=`<p>${c}</p><p>is roaming.</p>`;break;case"stall":d=`<p>${c}</p><p>is looking for an Animal Stall.</p>`;break;default:d=`<p>${c}</p>`}break;case"quest":d=`<p>${c}</p><p>"Need some advice?"</p>`;break;case"attack":case"spawn":d=`<p>${c}</p><p>HP: ${t.hp}/${t.maxhp}</p>`;break;default:d=`<p>${t.type}</p>`}a.current=t.id,o({x:i,y:l,content:d})}(n,e,t,I,f,w))},a.onmouseleave=()=>{T.current=!1,a.classList.remove("cursor-wait","cursor-help","cursor-pointer"),a.classList.add("cursor-pointer"),G.current=null,function(e,t,n){t.current===e.id&&(n(null),t.current=null)}(e,I,f)},m.appendChild(a),L.current.set(e.id,a);const p=j(e.id);if(p)re(a,p.overlay);else if("quest"===e.action){const t=q.current.get(e.id);t?re(a,t):_(e).then((t=>{if(t){q.current.set(e.id,t);const n=L.current.get(e.id);n&&!n.querySelector(".npc-overlay")&&re(n,t)}}))}else if("trade"===e.action){const t=U(e);t&&re(a,t)}const y=Date.now();"attack"===e.action||"spawn"===e.action?y<M.current?a.style.cursor="wait":a.style.cursor="crosshair":"quest"===e.action||"heal"===e.action||"trade"===e.action?a.style.cursor="help":a.style.cursor="pointer"}a.style.left=`${k}px`,a.style.top=`${S}px`;const C=e.type;se(a,C,"npc"),le(a,C)})),L.current.forEach(((e,t)=>{y.has(t)||(e.remove(),L.current.delete(t))}))}function W(){var e,n;const a=null===l||void 0===l||null===(e=l.location)||void 0===e?void 0:e.g,o=Object.values((null===x||void 0===x||null===(n=x[a])||void 0===n?void 0:n.pcs)||{}),r=z.current;if(!r)return;const s=new Set;o.forEach((e=>{if(s.add(e.playerId),!e||!e.position||"number"!==typeof e.position.x||"number"!==typeof e.position.y)return;const n=X.ZH[e.playerId],a=n?n.x*t:e.position.x*t,o=n?n.y*t:e.position.y*t;let i=e.icon||"\ud83d\ude0a";e.iscamping?i="\u26fa\ufe0f":e.isinboat?i="\ud83d\udef6":e.hp<=0?i="\ud83d\udc80":e.hp<20&&(i="\ud83e\udd22");let c=B.current.get(e.playerId);c?c.textContent!==i&&(c.textContent=i):(c=document.createElement("div"),c.className="pc",c.style.position="absolute",c.style.width=`${t}px`,c.style.height=`${t}px`,c.style.fontSize=.7*t+"px",c.style.display="flex",c.style.alignItems="center",c.style.justifyContent="center",c.style.zIndex=16,c.style.pointerEvents="auto",c.textContent=i,c.addEventListener("mousedown",(()=>{f(null),T.current=!0,p(e),function(e,t,n,a){var o,r;if(!e)return void console.warn("handlePCClick was called with an undefined PC.");const s=String(e.playerId)!==String(t._id),i=e.hp>0&&!e.iscamping,l="homestead"===(null===t||void 0===t||null===(o=t.location)||void 0===o?void 0:o.gtype),c="town"===(null===t||void 0===t||null===(r=t.location)||void 0===r?void 0:r.gtype);s&&i&&!l&&!c&&async function(e,t,n,a){var o,r;const s=t._id.toString(),i=null===(o=N.A.getPlayersInGrid(n))||void 0===o?void 0:o[s];if(!i)return void console.error("Player not found in playersInGrid.");if(!R(i,e=(null===(r=N.A.getPlayersInGrid(n))||void 0===r?void 0:r[e.playerId])||e,a))return;if(!$(i,e,a))return;const l=O(i);A.A.addFloatingText(`- ${l} HP`,e.position.x,e.position.y,a),(0,E.MV)(e.position.x,e.position.y,a);const c=Math.max(0,e.hp-l);console.log("\ud83d\udce2 Calling updatePC after reducing HP; current HP:",c),await N.A.updatePC(n,e.playerId,{hp:c}),c<=0&&(console.log(`PC ${e.playerId} defeated.`),A.A.addFloatingText(504,e.position.x,e.position.y+1,a))}(e,t,n,a)}(e,l,l.location.g,t)})),c.onmouseenter=n=>{T.current||function(e,t,n,a){const o=e.target.getBoundingClientRect(),r=o.left+n/2,s=o.top,i=t.username||"Anonymous";let l=`<p>${i}</p><p>\u2764\ufe0f\u200d\ud83e\ude79 HP: ${t.hp}</p>`;t.iscamping&&(l+="<p>\ud83c\udfd5\ufe0f Camping</p>");t.isinboat&&(l+="<p>\ud83d\udef6 In a boat</p>");a({x:r,y:s,content:l})}(n,e,t,f)},c.onmouseleave=()=>{T.current=!1,function(e){e(null)}(f)},r.appendChild(c),B.current.set(e.playerId,c),e.hp>25?c.style.cursor="crosshair":c.style.cursor="pointer"),c.style.left=`${a}px`,c.style.top=`${o}px`;const d=e.playerId;se(c,d,"player"),le(c,d)})),B.current.forEach(((e,t)=>{s.has(t)||(e.remove(),B.current.delete(t))}))}function Y(){z.current&&(H(),W(),function(){var e,n,a,o,r,s,i,c,d;if(!1===(null===l||void 0===l||null===(e=l.settings)||void 0===e?void 0:e.rangeOn))return;const u=null===l||void 0===l||null===(n=l.location)||void 0===n?void 0:n.g;if(!u||!l)return;const p=z.current;if(!p)return;p.style.overflow="hidden",p.style.position="relative";let m=document.getElementById("player-range-circle");m||(m=document.createElement("div"),m.id="player-range-circle",m.style.position="absolute",m.style.backgroundColor="rgba(128, 128, 128, 0.2)",m.style.border="none",m.style.borderRadius="50%",m.style.pointerEvents="none",m.style.zIndex=10,p.appendChild(m));const h=null===x||void 0===x||null===(a=x[u])||void 0===a||null===(o=a.pcs)||void 0===o||null===(r=o[l._id])||void 0===r?void 0:r.position;if(!h)return;const f=h.x*t,g=h.y*t,v=(0,y.ZW)(l,P.current)*t;m.style.width=2*v+"px",m.style.height=2*v+"px",m.style.left=f-v+t/2+"px",m.style.top=g-v+t/2+"px";const b=null===x||void 0===x||null===(s=x[u])||void 0===s||null===(i=s.pcs)||void 0===i||null===(c=i[l._id])||void 0===c?void 0:c.attackrange;if(b&&b>0&&"homestead"!=(null===l||void 0===l||null===(d=l.location)||void 0===d?void 0:d.gtype)){let e=document.getElementById("player-attackrange-ring");e||(e=document.createElement("div"),e.id="player-attackrange-ring",e.style.position="absolute",e.style.border="2px dotted rgba(255, 0, 0, 0.4)",e.style.borderRadius="50%",e.style.pointerEvents="none",e.style.zIndex=11,p.appendChild(e));const n=b*t;e.style.width=2*n+"px",e.style.height=2*n+"px",e.style.left=f-n+t/2+"px",e.style.top=g-n+t/2+"px"}else{const e=document.getElementById("player-attackrange-ring");e&&e.remove()}}(),D.current=requestAnimationFrame(Y))}return(0,a.useEffect)((()=>{q.current.clear()}),[null===l||void 0===l?void 0:l.activeQuests,null===l||void 0===l?void 0:l.completedQuests]),(0,a.useEffect)((()=>oe.subscribe((()=>{console.log("\ud83d\udde8\ufe0f DynamicRenderer: Conversation changed, triggering update"),V((e=>e+1))}))),[]),(0,a.useEffect)((()=>(Y(),()=>{D.current&&cancelAnimationFrame(D.current),L.current.forEach((e=>{e.remove()})),L.current.clear(),B.current.forEach((e=>{e.remove()})),B.current.clear();const e=document.getElementById("player-range-circle");e&&e.remove();const t=document.getElementById("player-attackrange-ring");t&&t.remove()})),[S,x,l,t,r,s,i,d,p,P.current]),(0,u.jsx)("div",{ref:z,style:{position:"relative",width:64*t+"px",height:64*t+"px",overflow:"hidden"}})};function de(e,t){if(!e||"doober"===e.category||"source"===e.category)return"";const n=[],a=Date.now(),o=K(e.type,t);switch(e.category){case"farmplot":if(n.push(`<p>${o}</p>`),e.growEnd){const t=Math.max(0,e.growEnd-a),o=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),s=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);if(t>0){const e=[];o>0&&e.push(`${o}d`),r>0&&e.push(`${r}h`),s>0&&e.push(`${s}m`),(i>0||0===e.length)&&e.push(`${i}s`),n.push(`<p>\ud83c\udf31 ${e.join(" ")} remaining</p>`)}}break;case"crafting":if(n.push(`<p>${o}</p>`),e.craftEnd){const t=Math.max(0,e.craftEnd-a),o=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),s=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);if(t>0){const e=[];o>0&&e.push(`${o}d`),r>0&&e.push(`${r}h`),s>0&&e.push(`${s}m`),(i>0||0===e.length)&&e.push(`${i}s`),n.push(`<p>\u23f3 ${e.join(" ")} remaining</p>`)}}break;default:n.push(`<p>${o}</p>`)}return n.join("")}const ue=(0,a.memo)((e=>{let{grid:t,tileTypes:n,resources:o,handleTileClick:r,TILE_SIZE:s,setHoverTooltip:i,currentPlayer:l,strings:c,badgeState:d}=e;const[,p]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=setInterval((()=>{p((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]);const m=(0,a.useRef)({});if(!t||!Array.isArray(t)||!n)return console.error("Invalid grid or tileTypes:",t,n),null;if(!s||isNaN(s))return console.error("TILE_SIZE is invalid:",s),null;const h=Date.now(),f=o.reduce(((e,t)=>{if(("crafting"===t.category||"farmhouse"===t.category)&&t.craftEnd){const n=`${t.x}-${t.y}`;t.craftEnd<h?e.ready.push(n):e.inProgress.push(n)}return e}),{ready:[],inProgress:[]}),g=o.reduce(((e,t)=>{if("Trading Post"===t.type&&null!==l&&void 0!==l&&l.tradeStall){l.tradeStall.some((e=>e&&(e.sellTime&&new Date(e.sellTime)<h||null!==e.boughtBy&&void 0!==e.boughtBy)))&&e.ready.push(`${t.x}-${t.y}`)}return e}),{ready:[]});return t.map(((e,t)=>e.map(((e,a)=>{var l;const p=o.find((e=>{const n=e.range||1;return a>=e.x&&a<e.x+n&&t<=e.y&&t>e.y-n})),h=`tile-${(null===(l=n[t])||void 0===l?void 0:l[a])||"unknown"}`,y=`${a}-${t}`;let v=!1,b=!1,k=!1;if(!p||"crafting"!==p.category&&"farmhouse"!==p.category)if(p&&"Trading Post"===p.type){const e=`${p.x}-${p.y}`;k=g.ready.includes(e)}else v=f.ready.includes(y),b=f.inProgress.includes(y);else{const e=`${p.x}-${p.y}`;v=f.ready.includes(e),b=f.inProgress.includes(e)}return(0,u.jsxs)("div",{onClick:()=>r(t,a),onMouseEnter:e=>{if(p&&"doober"!==p.category&&"source"!==p.category){const t=e.currentTarget.getBoundingClientRect(),n=()=>{i({x:t.left+t.width/2,y:t.top,content:de(p,c)})};n(),m.current[y]=setInterval(n,1e3)}},onMouseLeave:()=>{m.current[y]&&(clearInterval(m.current[y]),delete m.current[y]),i(null)},className:h,style:{position:"absolute",top:t*s,left:a*s,width:s,height:s,fontSize:.7*s+"px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:p&&p.x===a&&p.y===t&&p.range>1?10:1,cursor:p?"pointer":"default",overflow:p&&p.x===a&&p.y===t&&p.range>1?"visible":"hidden"},children:[p&&p.x===a&&p.y===t&&(0,u.jsx)("div",{className:"resource-overlay",style:{fontSize:p.range>1?"wall"===p.action?1.1*s*p.range+"px":.8*s*p.range+"px":"wall"===p.action?1.1*s+"px":.7*s+"px",width:p.range>1?s*p.range+"px":"auto",height:p.range>1?s*p.range+"px":"auto",position:p.range>1?"absolute":"static",left:p.range>1?"0":"auto",top:p.range>1?`-${s*(p.range-1)}px`:"auto",display:"flex",alignItems:"center",justifyContent:"center",zIndex:p.range>1?10:2,pointerEvents:"none",overflow:"visible"},children:p.symbol||""}),v&&(!p||p.range<=1||p.x===a&&p.y===t)&&(0,u.jsx)("div",{className:"game-overlay",style:{color:ie("ready").color},children:ie("ready").emoji}),b&&(!p||p.range<=1||p.x===a&&p.y===t)&&(0,u.jsx)("div",{className:"game-overlay",style:{color:ie("inprogress").color},children:ie("inprogress").emoji}),k&&p&&"Trading Post"===p.type&&p.x===a&&p.y===t&&(0,u.jsx)("div",{className:"game-overlay",style:{color:ie("ready").color},children:ie("ready").emoji}),(null===d||void 0===d?void 0:d.mailbox)&&p&&"Mailbox"===p.type&&p.x===a&&p.y===t&&(0,u.jsx)("div",{className:"game-overlay",style:{color:ie("ready").color},children:ie("ready").emoji})]},`${t}-${a}-${(null===p||void 0===p?void 0:p.symbol)||""}`)}))))})),pe=new Map;function me(e,t){pe.delete(`${e}-${t}`)}var he=n(704);async function fe(e,t,n,a,o,r,l,c,d,u,p,m,h,g,y,v,b,k,w,S,x,C,I,A,T,N,j){var P,E,R;if(console.log(`Resource Clicked:  (${t}, ${n}):`,{resource:e,tileType:null===(P=h[t])||void 0===P?void 0:P[n]}),e&&e.category){var $,O;$=n,O=t,pe.set(`${$}-${O}`,Date.now());try{S&&0!==S.length||(S=await(0,f._M)()),x&&0!==x.length||(x=await(0,f.hC)());const h=g.skills;if(!Array.isArray(c)||!Array.isArray(d)){console.warn("Inventory or backpack is not initialized; fetching from server.");const{inventory:e,backpack:t}=await async function(e){if(!e)return console.error("No playerId provided for fetching inventory and backpack"),{inventory:[],backpack:[]};try{var t,n,a,o;const r=await s.A.get(`${i.A}/api/inventory/${e}`);return{inventory:(null===(t=r.data)||void 0===t?void 0:t.inventory)||[],backpack:(null===(n=r.data)||void 0===n?void 0:n.backpack)||[],warehouseCapacity:(null===(a=r.data)||void 0===a?void 0:a.warehouseCapacity)||0,backpackCapacity:(null===(o=r.data)||void 0===o?void 0:o.backpackCapacity)||0}}catch(r){return console.error("Error fetching inventory and backpack:",r),{inventory:[],backpack:[]}}}(g.playerId);r(e),l(t)}switch(e.category){case"doober":case"special":await ge(e,t,n,a,o,r,l,(null===g||void 0===g?void 0:g.inventory)||[],(null===g||void 0===g?void 0:g.backpack)||[],h,p,u,m,g,y,w,S,x,T,j);break;case"source":await ve(e,t,n,a,o,c,r,d,l,p,u,m,g,y,S,x,C,I,w,T);break;case"seed":console.log("Seed clicked; do nothing");break;case"deco":console.log("Deco clicked; placeholder for future functionality");break;case"travel":if(console.log("Travel sign clicked"),console.log("bulkOperationContext:",N),console.log("isAnyBulkOperationActive:",null===N||void 0===N||null===(E=N.isAnyBulkOperationActive)||void 0===E?void 0:E.call(N)),null!==N&&void 0!==N&&null!==(R=N.isAnyBulkOperationActive)&&void 0!==R&&R.call(N)){const e=N.getActiveBulkOperations();return console.log("\ud83d\udeab Travel blocked: Bulk operation in progress",e),void w(470)}try{await(0,he.handleTransitSignpost)(g,e.type,y,v,b,k,o,w,m,h,A,N)}catch(z){console.error("Error handling travel signpost:",z.message||z)}break;default:console.warn(`Unhandled resource category: ${e.category}`)}}catch(z){console.error("Error handling resource click:",z),me(n,t)}finally{me(n,t)}}else console.error(`Invalid resource at (${n}, ${t}):`,e)}async function ge(e,t,n,a,o,r,s){let i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],d=arguments.length>10?arguments[10]:void 0,u=arguments.length>12?arguments[12]:void 0,p=arguments.length>13?arguments[13]:void 0,m=arguments.length>14?arguments[14]:void 0,h=arguments.length>15?arguments[15]:void 0,f=arguments.length>16?arguments[16]:void 0,g=arguments.length>17?arguments[17]:void 0,y=arguments.length>18&&void 0!==arguments[18]?arguments[18]:{},v=arguments.length>19&&void 0!==arguments[19]?arguments[19]:null;console.log("handleDooberClick: Current Player:",p),console.log("handleDooberClick: Current backpack:",l);p.location.gtype;const b=e.qtycollected||1;if(!Array.isArray(i)||!Array.isArray(l))return void console.warn("Inventory or backpack missing; aborting doober click.");console.log("MasterSkills:",g);const k=c.filter((t=>{var n;const a=f.find((e=>e.type===t.type)),o="skill"===(null===a||void 0===a?void 0:a.category)||"upgrade"===(null===a||void 0===a?void 0:a.category),r=((null===g||void 0===g||null===(n=g[t.type])||void 0===n?void 0:n[e.type])||1)>1;return o&&r})).map((e=>e.type)),w=k.reduce(((t,n)=>{var a;return t*((null===g||void 0===g||null===(a=g[n])||void 0===a?void 0:a[e.type])||1)}),1),S=b*w;console.log("[DEBUG] qtyCollected after multiplier:",S),o((e=>e.filter((e=>!(e.x===n&&e.y===t)))));try{console.log("Calling gainIngredients with: ",e.type);if(!await G({playerId:p.playerId,currentPlayer:p,resource:e.type,quantity:S,inventory:i,backpack:l,setInventory:r,setBackpack:s,setCurrentPlayer:m,updateStatus:h,masterResources:f}))return console.warn("\u274c Failed to gain doober ingredient. Rolling back."),o((t=>[...t,e])),void(v&&"function"===typeof v&&v("InventoryPanel"));if((0,E.MV)(n,t,u),A.A.addFloatingText(`+${S} ${K(e.type,y)}`,n,t,u),1!=w){h(`${k.join(", ")} skill applied (${w}x collected).`)}const a=await(0,j.mQ)(d,{type:null,x:n,y:t},!0);if(null===a||void 0===a||!a.success)return void console.warn("\u26a0\ufe0f Grid update failed even though inventory succeeded.");await P(p,"Collect",e.type,S,m),await B(p.playerId,m),console.log("[DEBUG] Player state refreshed after inventory update.")}catch(x){console.error("Error during doober collection:",x),o((t=>[...t,e]))}finally{me(n,t)}}let ye=null;async function ve(e,t,n,a,o,r,s,i,l,c,d,p,m,h,f,g,y,v,b,k){if("convertTo"!==e.action)return;const w=f.find((t=>t.type===e.output));if(!w)return void console.warn(`\u26a0\ufe0f No matching resource found for output: ${e.output}`);const S=e.requires,x=f.some((e=>e.type===S&&("skill"===e.category||"upgrade"===e.category))),C=f.some((e=>e.type===S&&"doober"===e.category));if(x){var I;if(!(null===(I=m.skills)||void 0===I?void 0:I.some((e=>e.type===S))))return void d(`${S} Required`,n,t,p)}if(C){const t=await async function(e,t,n,a,o,r,s,i,l,c,d,p,m,h,f,g){return console.log("handleUseKey: resource:",e),!t||!ye&&(r.inventory.find((e=>e.type===t))?new Promise((e=>{var n,a,o;ye=e;const p=()=>{f(!1),ye&&(ye(!1),ye=null)},y=((null===(n=r.inventory.find((e=>e.type===t)))||void 0===n?void 0:n.quantity)||0)+((null===(a=r.backpack)||void 0===a||null===(o=a.find((e=>e.type===t)))||void 0===o?void 0:o.quantity)||0);h({title:`${m[5045]} ${t}?`,message:`${m[5046]} ${t}?`,message2:`${m[5047]} ${y}.`,size:"small",onClose:p,children:(0,u.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",marginTop:"10px"},children:[(0,u.jsx)("button",{onClick:async()=>{await q({playerId:r.playerId,recipe:{item:t,quantity:1},inventory:i,backpack:c,setInventory:l,setBackpack:d,setCurrentPlayer:s,updateStatus:g})?(g(`${m[36]}${t}`),f(!1),ye&&(ye(!0),ye=null)):console.warn("\u274c Failed to spend key item.")},children:"Yes"}),(0,u.jsx)("button",{onClick:p,children:"No"})]})}),f(!0)})):(g(`${m[35]}${t}`),!1))}(e,S,0,0,0,m,h,r,s,i,l,0,k,y,v,b);if(!t)return}const A=n,T=t,N={...w,x:A,y:T,symbol:w.symbol,qtycollected:w.qtycollected||1,category:w.category||"doober",growEnd:w.growEnd||null};console.log("Enriched newResource for local state: ",N),o((e=>[...e.filter((e=>!(e.x===n&&e.y===t))),N]));try{const e=await(0,j.mQ)(c,{type:w.type,x:n,y:t},!0);if(null===e||void 0===e||!e.success)throw new Error("Server failed to confirm the source conversion.");(0,E.TL)(n,t,p,S),console.log("\u2705 Source conversion completed successfully on the server.")}catch(P){console.error("\u274c Error during source conversion:",P),console.warn("Server update failed. The client may become out of sync.")}finally{await B(m.playerId,h),me(A,T)}}const be=(0,a.createContext)(),ke=e=>{let{children:t}=e;const[n,o]=(0,a.useState)(!1);return(0,u.jsx)(be.Provider,{value:{uiLocked:n,setUILocked:o},children:t})};let we=null;const Se=new class{constructor(){this.farmState=[],console.log("FarmState instance created. Initial state:",this.farmState)}initializeFarmState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("\ud83e\uddea initializeFarmState input:",e.filter((e=>"farmplot"===e.category))),this.farmState=e.filter((e=>"farmplot"===e.category&&e.growEnd)),console.log("\ud83c\udf31 Farm state initialized with growEnd values:",this.farmState.map((e=>({type:e.type,x:e.x,y:e.y,growEnd:e.growEnd,secondsRemaining:(new Date(e.growEnd)-Date.now())/1e3}))))}addSeed(e){e.output||console.warn("\u26a0\ufe0f Trying to add a seed without an output! This will break later.",e),this.farmState.push(e),console.log("addSeed called. Updated farmState:",this.farmState)}startSeedTimer(e){let{gridId:t,setResources:n,masterResources:a}=e;we&&clearInterval(we);const o=t;console.log("\ud83e\uddea FarmState starting timer with seeds:"),this.farmState.forEach((e=>{const t=Date.now(),n=Math.floor((new Date(e.growEnd)-t)/1e3);console.log(`\ud83c\udf31 ${e.type} \u2192 growEnd=${e.growEnd}, now=${t}, secondsRemaining=${n}`)})),we=setInterval((async()=>{const e=Date.now(),t=this.farmState.filter((t=>t.growEnd<=e));if(t.length>0){console.log("Using provided masterResources");const e=t.map((async e=>{console.log("Processing seed:",e);const t=a.find((t=>t.type===e.output));if(console.log("Target output (crop) found for seed:",t),!t)return console.warn(`No target resource found for seed output: ${e.output}`),null;try{console.log(`Updating grid resource for seed at (${e.x}, ${e.y}).`);const n=await(0,j.mQ)(o,{type:t.type,x:e.x,y:e.y},!0);if(console.log("updateGridResource response:",n),null!==n&&void 0!==n&&n.success){console.log(`Seed at (${e.x}, ${e.y}) converted to doober.`);const n={...t,x:e.x,y:e.y};return{seed:e,enriched:n}}return console.warn(`Failed to update grid resource for seed at (${e.x}, ${e.y}).`),null}catch(n){return console.error(`Error updating grid resource for seed at (${e.x}, ${e.y}):`,n),null}})),r=(await Promise.all(e)).filter((e=>null!==e));if(r.length>0){n((e=>{const t=r.map((e=>{let{seed:t}=e;return`${t.x},${t.y}`}));return[...e.filter((e=>!t.includes(`${e.x},${e.y}`))),...r.map((e=>{let{enriched:t}=e;return t}))]}));const e=r.map((e=>{let{seed:t}=e;return t}));this.farmState=this.farmState.filter((t=>!e.includes(t))),console.log("Updated farmState after removing processed seeds:",this.farmState)}}}),1e3)}stopSeedTimer(){we&&clearInterval(we),we=null}};var xe=n(836);const Ce=new class{constructor(){this.controlledGrids=new Map,this.setupSocketListeners(),this.retryTimeout=null}setupSocketListeners(){l.Ay.on("npc-controller-assigned",(e=>{let{gridId:t}=e;console.log(`\ud83c\udfae Assigned as NPC controller for grid ${t}`),this.setAsController(t)})),l.Ay.on("npc-controller-revoked",(e=>{let{gridId:t}=e;console.log(`\ud83c\udfae Revoked as NPC controller for grid ${t}`),this.removeController(t)})),l.Ay.on("npc-controller-update",(e=>{let{controllerUsername:t,gridId:n}=e;console.log(`\ud83c\udfae Controller update received for ${n}: ${t}`);const a=JSON.parse(localStorage.getItem("player"));t&&(null===a||void 0===a?void 0:a.username)===t?this.setAsController(n):this.removeController(n)})),l.Ay.on("connect",(()=>{console.log("\ud83d\udd0c NPCController socket connected")})),l.Ay.on("disconnect",(()=>{console.log("\ud83d\udd0c NPCController socket disconnected")})),l.Ay.on("join-grid-controller-response",(e=>{let{success:t,gridId:n}=e;console.log(`\ud83d\udce1 Received controller join response: success=${t}, gridId=${n}`)}))}joinGrid(e){if(!l.Ay.connected)return console.log("\u23f3 Socket not ready, retrying controller join in 1s..."),clearTimeout(this.retryTimeout),void(this.retryTimeout=setTimeout((()=>this.joinGrid(e)),1e3));console.log(`\ud83c\udfae Requesting controller status for grid ${e}`),l.Ay.emit("join-grid-controller",{gridId:e,timestamp:Date.now()})}leaveGrid(e){console.log(`\ud83c\udfae Leaving grid ${e}`),l.Ay.emit("leave-grid-controller",{gridId:e}),this.removeController(e)}setAsController(e){console.log(`\ud83c\udfae Setting controller status for grid ${e}`),this.controlledGrids.set(e,{isController:!0}),console.log("\ud83d\udd0d Controller Map after set:",Array.from(this.controlledGrids.entries()));const t=T.Ay.getNPCsInGrid(e);null!==t&&void 0!==t&&t.npcs&&Object.values(t.npcs).forEach((e=>{"function"===typeof e.update&&e.update(Date.now(),t)}))}removeController(e){this.controlledGrids.delete(e),console.log(`\ud83c\udfae Removed controller for grid ${e}`),console.log("\ud83d\udd0d Controller Map after remove:",Array.from(this.controlledGrids.entries()))}isControllingGrid(e){const t=this.controlledGrids.get(e);return!0===(null===t||void 0===t?void 0:t.isController)}},Ie=(0,a.createContext)(),Ae=e=>{let{children:t}=e;const n=(0,o.k)(),[r,s]=(0,a.useState)([]),[i,l]=(0,a.useState)(0);a.useEffect((()=>{const e=Math.floor(1e4*Math.random());return console.log(`\ud83e\udde9 StatusBarProvider mounted. ID: ${e}`),()=>console.warn(`\ud83e\udde8 StatusBarProvider unmounted. ID: ${e}`)}),[]);return(0,u.jsx)(Ie.Provider,{value:{messages:r,updateStatus:e=>{let t="";if("number"===typeof e){const a=n[e];if(!a)return void console.warn(`No string found for index ${e}. Falling back to default.`);t=a}else{if("string"!==typeof e)return void console.warn("Invalid status message input. Falling back to default.");t=e}s((e=>[t,...e].slice(0,5))),l((e=>e+1))},updateTrigger:i},children:t})},Te=()=>{const{messages:e,updateTrigger:t}=a.useContext(Ie),[n,o]=a.useState(!1);return a.useEffect((()=>{if(t>0){o(!0);const e=setTimeout((()=>{o(!1)}),500);return()=>clearTimeout(e)}}),[t]),(0,u.jsx)("div",{className:"status-bar",children:(0,u.jsx)("div",{className:"status-bar-messages "+(n?"slide-all":""),children:e.map(((n,o)=>(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)("span",{className:"status-message",children:n}),o<e.length-1&&(0,u.jsx)("span",{className:"status-separator",children:" \u2b25 "})]},`${n}-${o}-${t}`)))})})},Ne=JSON.parse('{"homesteadOccupied":[["","","","","","","",""],["Homestead owned by:","","","","","","",""],["\ud83d\udc64","username","","","","","",""],["\ud83c\udfdb\ufe0f","role","","","","","",""],["\ud83d\udcb0","netWorth","","","","","",""],["","","","","","","",""],["\ud83d\udce5 Trade:","","","","","","",""],["","","","","","","",""],["","","","","","","",""]],"homesteadEmpty":[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]],"town":[["","","","","","","",""],["Town","","","","","","",""],["\ud83c\udfea","","\u2694\ufe0f","\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf73","","","\ud83e\udddd","\ud83d\udc69\u200d\ud83e\uddb0"],["\u26fa\ufe0f","","\ud83c\udfdb\ufe0f","","\ud83c\udfaa","\ud83e\uddd5","",""],["\ud83d\ude82","","\ud83c\udfe6","","\ud83d\udd2c","","",""],["\ud83d\udc68\ud83c\udffb\u200d\ud83c\udfed","","","","","","\ud83d\udc78",""],["","\ud83e\udd77","","","","","",""],["","","","","","","",""]],"reserved":[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]],"valley0":[["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"]],"valley1":[["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"]],"valley2":[["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"]],"valley3":[["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"]]}'),je=(0,a.createContext)(),Pe=e=>{let{children:t}=e;const[n,o]=(0,a.useState)({});return(0,u.jsx)(je.Provider,{value:{activeBulkOperations:n,startBulkOperation:(e,t)=>{o((n=>({...n,[t]:{type:e,startTime:Date.now(),active:!0}})))},endBulkOperation:e=>{o((t=>{const n={...t};return delete n[e],n}))},isAnyBulkOperationActive:()=>Object.keys(n).length>0,getActiveBulkOperations:()=>Object.entries(n).map((e=>{let[t,n]=e;return{id:t,...n}}))},children:t})},Ee=()=>{const e=(0,a.useContext)(je);if(!e)throw new Error("useBulkOperation must be used within a BulkOperationProvider");return e},Re=e=>{switch(e){case"homestead":case"homesteadSet":case"homesteadSetN":case"homesteadSetNE":case"homesteadSetE":case"homesteadSetSE":case"homesteadSetS":case"homesteadSetSW":case"homesteadSetW":case"homesteadSetNW":return"var(--homestead-color)";case"valley0":case"valley1":case"valley2":case"valley3":case"valley0Set":case"valley1Set":case"valley2Set":case"valley3Set":return"var(--valley-color)";case"reserved":return"var(--reserved-color)";case"town":return"var(--town-color)";default:return"var(--unknown-color)"}};const $e=e=>{var t;let{currentPlayer:n,isDeveloper:o,setZoomLevel:r,isRelocating:l,setIsRelocating:c,setCurrentPlayer:d,setGridId:p,setGrid:m,setResources:h,setTileTypes:f,TILE_SIZE:g,masterResources:v,closeAllPanels:b,visibleSettlementId:k,setVisibleSettlementId:w}=e;const[S,x]=(0,a.useState)([]),[C,I]=(0,a.useState)(new Map),[A,T]=(0,a.useState)(null),[P,E]=(0,a.useState)({}),[R,$]=(0,a.useState)({}),{updateStatus:O}=(0,a.useContext)(Ie),z=Ee();if(C){S.flat().map((e=>e.ownerId)).filter(Boolean).filter((e=>!C.get(e)))}(0,a.useEffect)((()=>{(async()=>{try{console.log("\ud83d\udce6 Fetching settlement bundle for ID:",k);const n=await s.A.post(`${i.A}/api/get-settlement-bundle`,{settlementId:k});console.log("\u2705 Settlement bundle response:",n.data);const{gridStates:a,players:o,settlement:r}=n.data,l={};if(Array.isArray(o))for(const e of o)l[e._id]=e;E(a||{}),I(new Map(Object.entries(l||{}))),x((null===r||void 0===r?void 0:r.grids)||[]),console.log("\ud83d\udcd0 Settlement grid set:",null===r||void 0===r?void 0:r.grids);const c=((null===r||void 0===r?void 0:r.grids)||[]).flat().map((e=>e.gridId)).filter(Boolean),d=await s.A.post(`${i.A}/api/get-multiple-grid-states`,{gridIds:c}),u={};for(const s in d.data){var e,t;const n=(null===(e=d.data[s])||void 0===e||null===(t=e.playersInGrid)||void 0===t?void 0:t.pcs)||{};u[s]=n}$(u)}catch(n){console.error("Error fetching settlement bundle:",n),T("Failed to fetch settlement data")}})()}),[k]),(0,a.useEffect)((()=>{l&&O(125)}),[l]),(0,a.useEffect)((()=>{var e;S.length>0&&null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.g&&setTimeout((()=>{!function(e,t){var n;if(null===e||void 0===e||null===(n=e.location)||void 0===n||!n.g||!t||0===t.length)return void console.warn("Cannot center camera: missing player location or settlement grid");const a=e.location.g;let o=-1,r=-1;for(let i=0;i<t.length;i++){for(let e=0;e<t[i].length;e++){var s;if((null===(s=t[i][e])||void 0===s?void 0:s.gridId)===a){o=i,r=e;break}}if(-1!==o)break}-1!==o&&-1!==r?requestAnimationFrame((()=>{const e=document.querySelectorAll(".settlement-tile")[8*o+r];e?(e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout((()=>{const t=e.getBoundingClientRect();if(!(t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth)){const e=t.left+t.width/2,n=t.top+t.height/2,a=window.innerWidth/2,o=window.innerHeight/2,r=window.scrollX+(e-a),s=window.scrollY+(n-o);window.scrollTo({left:Math.max(0,r),top:Math.max(0,s),behavior:"smooth"})}}),500)):console.warn("Player tile element not found")})):console.warn(`Player's grid ${a} not found in settlement`)}(n,S)}),300)}),[S,null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.g]);const D=async(e,t)=>{if(console.log("Clicked tile:",e),e.settlementId&&e.settlementId!==k)return console.log("Switching visible settlement to:",e.settlementId),void w(e.settlementId);if(l)return"homestead"!==e.gridType?void O(123):1!=e.available?void O(124):void(!0===e.available&&((async(e,t,n,a,o)=>{console.log("At processRelocation; fromGridId =",n,"; targetGridCoord =",a),console.log("settlementGrid =",o);try{const o=await s.A.post(`${i.A}/api/relocate-homestead`,{fromGridId:n,targetGridCoord:a});try{console.log("\ud83d\udd04 Fetching updated player data...");const n=await s.A.get(`${i.A}/api/player/${e.playerId}`);console.log("\ud83d\udcca Updated player object:",n.data),n.data&&(t(n.data),localStorage.setItem("player",JSON.stringify(n.data)),console.log("\u2705 setCurrentPlayer + localStorage update complete"))}catch(A){console.error("\u274c Failed to refresh player data after relocation:",A)}return console.log("\u2705 Relocation successful:",o.data),o.data}catch(A){var r,l;return console.error("\u274c Relocation failed:",(null===(r=A.response)||void 0===r?void 0:r.data)||A.message),{success:!1,error:(null===(l=A.response)||void 0===l?void 0:l.data)||A.message}}})(n,d,n.gridId,e.gridCoord,S),c(!1),r("close"),O(121)));if(e.gridId===n.location.g){var a;if(r("far"),["valley0","valley1","valley2","valley3"].includes(e.gridType))O(16);else if("town"===e.gridType)O(111);else{const{username:e,gridType:t}=await(0,y.qJ)(n.location.g);await(0,j.qh)(t,e,O,n,n.location.g)}let o=null,s=null;return o=N.A.getPlayersInGrid(e.gridId),s=null===(a=o)||void 0===a?void 0:a[n.playerId],void(0,X.V5)(s.position,t)}if(e.gridId&&e.gridId!==n.location.g){var u;if(!(null===(u=n.skills)||void 0===u?void 0:u.some((e=>"Horse"===e.type&&e.quantity>0))))return console.log("\ud83d\udc34 Player lacks Horse skill for teleportation"),void O(15)}if(!["valley0","valley1","valley2","valley3"].includes(e.gridType)||o)try{let a=0,o=0;if("town"===e.gridType){console.log("\ud83c\udfd8\ufe0f Clicking on town grid, fetching Train location...");const t=await(0,y.f0)(e.gridId);a=t.x,o=t.y}else if("homestead"===e.gridType){console.log("\ud83c\udfe0 Clicking on homestead grid, fetching Signpost Town location...");const t=await(0,y.FV)(e.gridId);a=t.x,o=t.y}const s={x:a,y:o,g:e.gridId,s:n.location.s,f:n.location.f,gtype:e.gridType||"unknown"};console.log("Built toLocation object:",s),console.log("About to call changePlayerLocation from SettlementView;  current player = ",n,"toLocatoin = ",s),await(0,j.t3)(n,n.location,s,d,p,m,f,h,t,b,O,z),r("far")}catch(A){console.error("Error changing player location:",A),O(10)}else O(9)},M=e=>{let t=e.gridType;"homestead"===t&&(t=e.available?"homesteadEmpty":"homesteadOccupied");const a=Ne[t]||Array(8).fill(Array(8).fill("")),o=e.gridId===n.location.g;let r=null;if(e.ownerId&&C){const t="object"===typeof e.ownerId?e.ownerId._id:e.ownerId;r=C.get(t)}e.ownerId;const s=(e=>{if(!e.gridId)return"";const t=R[e.gridId];return t&&0!==Object.keys(t).length?Object.values(t).map((e=>`${e.username||"Unknown"}: ${e.hp||0} HP`)).join("\n"):""})(e);let i=0,l=0;const c=["valley0","valley1","valley2","valley3"].includes(t);let d=null,p=null;var m,h;o&&c&&e.gridId&&(d=N.A.getPlayersInGrid(e.gridId),p=null===(m=d)||void 0===m?void 0:m[n.playerId],null!==(h=p)&&void 0!==h&&h.position&&(i=Math.floor(p.position.x/8),l=Math.floor(p.position.y/8)));return(0,u.jsx)("div",{className:"mini-grid",children:a.map(((e,a)=>e.map(((e,d)=>{let p=e;if((o&&c&&a===l&&d===i||o&&!c&&0===a&&0===d)&&(p=n.icon),"homesteadOccupied"===t)if(7===a&&d<6){if(r&&Array.isArray(r.tradeStall)){const e=r.tradeStall[d];if(null!==e&&void 0!==e&&e.resource){const t=v.find((t=>t.type===e.resource));null!==t&&void 0!==t&&t.symbol&&(p=t.symbol)}}}else if("username"===e){var m;p=(null===(m=r)||void 0===m?void 0:m.username)||""}else if("role"===e){var h;p=(null===(h=r)||void 0===h?void 0:h.role)||"Citizen"}else if("netWorth"===e){var f,g;p=`${(null===(f=r)||void 0===f||null===(g=f.netWorth)||void 0===g?void 0:g.toLocaleString())||"0"} (net worth)`}return(0,u.jsxs)("div",{className:"mini-cell",children:[(0,u.jsx)("span",{children:p}),s&&(0,u.jsxs)("div",{className:"tooltip",children:[(0,u.jsx)("p",{children:"Who's Here:"}),s]})]},`${a}-${d}`)}))))})};return A?(0,u.jsxs)("div",{children:["Error: ",A]}):S.length?(0,u.jsx)("div",{className:"settlement-grid",children:S.map(((e,t)=>e.map(((e,n)=>(0,u.jsx)("div",{className:"settlement-tile",style:{backgroundColor:Re(e.gridType)},onClick:()=>D(e,g),children:M(e)},`${t}-${n}`)))))}):(0,u.jsx)("div",{children:"Loading Settlement Grid..."})},Oe=JSON.parse('{"homesteadSet":[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]],"valley0Set":[["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"]],"valley1Set":[["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"],["\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33","\ud83c\udf33"]],"valley2Set":[["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"]],"valley3Set":[["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"],["\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32","\ud83c\udf32"]]}'),ze=e=>{let{currentPlayer:t,isDeveloper:n,setZoomLevel:o,isRelocating:r,setIsRelocating:l,setCurrentPlayer:c,setGridId:d,setGrid:p,setResources:m,setTileTypes:h,TILE_SIZE:f,closeAllPanels:g,visibleSettlementId:v,setVisibleSettlementId:b,masterResources:k}=e;const[w,S]=(0,a.useState)([]),[x,C]=(0,a.useState)({}),[I,A]=(0,a.useState)(null),{updateStatus:T}=(0,a.useContext)(Ie),N=Ee();(0,a.useEffect)((()=>{(async()=>{try{const e=await s.A.get(`${i.A}/api/frontier-bundle/${t.location.f}?playerSettlementId=${t.location.s}`),{frontierGrid:n,settlementGrids:a={}}=e.data;S(n);C(a)}catch(e){console.error("Error fetching frontier bundle:",e),A("Failed to fetch grid data")}})()}),[t.location.f]),(0,a.useEffect)((()=>{r&&T(125)}),[r]);const P=e=>{var n;const a=Oe[e.settlementType]||Array(8).fill(Array(8).fill("")),o=((null===(n=x[e.settlementId])||void 0===n?void 0:n.grid)||[]).flat();return(0,u.jsx)("div",{className:"mini-grid",children:a.map(((e,n)=>e.map(((e,a)=>{const r=o[8*n+a];let s=e;return null!==r&&void 0!==r&&r.gridId&&r.gridId===t.location.g?s=t.icon:"homestead"!==(null===r||void 0===r?void 0:r.gridType)||r.available?"town"===(null===r||void 0===r?void 0:r.gridType)&&(s="\ud83d\ude82"):s="\ud83c\udfe0",(0,u.jsx)("div",{className:"mini-cell",children:(0,u.jsx)("span",{children:s})},`${n}-${a}`)}))))})};return I?(0,u.jsxs)("div",{children:["Error: ",I]}):w.length?(0,u.jsx)("div",{className:"frontier-grid",children:w.map(((e,n)=>e.map(((e,a)=>(0,u.jsx)("div",{className:"frontier-tile",style:{backgroundColor:Re(e.settlementType)},onClick:()=>(async e=>{if(console.log("\ud83c\udfaf Tile clicked:",e),console.log("\ud83d\udc64 Current player state:",{id:null===t||void 0===t?void 0:t._id,playerId:null===t||void 0===t?void 0:t.playerId,location:null===t||void 0===t?void 0:t.location,gridId:null===t||void 0===t?void 0:t.gridId}),r)return e.settlementType.startsWith("homesteadSet")?(e.settlementId&&b(e.settlementId),void o("settlement")):void T(122);try{if(!e.settlementId)return console.warn("\u274c Missing settlementId in clicked tile"),void T("Invalid destination");if(e.settlementId===t.location.s)return console.log("\ud83c\udfe0 Player clicked current settlement - zooming in"),o("settlement"),void T(12);if(e.settlementType.startsWith("homesteadSet")){try{const n=((await s.A.get(`${i.A}/api/get-settlement-grid/${e.settlementId}`)).data.grid||[]).flat().find((e=>"homestead"===e.gridType&&e.gridId===t.gridId));if(n){console.log("Traveling to owned homestead:",n);const a=await(0,y.FV)(n.gridId),r={x:a.x,y:a.y,g:n.gridId,s:e.settlementId,f:t.location.f,gtype:n.gridType,gridCoord:n.gridCoord};return await(0,j.t3)(t,t.location,r,c,d,p,h,m,f,g,T,N,k),void o("far")}}catch(I){return console.error("Error checking for owned homestead:",I),void T(8)}return void T(17)}if(["valley0Set","valley1Set","valley2Set","valley3Set"].includes(e.settlementType))return void T(9)}catch(I){var n,a;console.error("\u274c Transit error details:",{message:I.message,response:null===(n=I.response)||void 0===n?void 0:n.data,status:null===(a=I.response)||void 0===a?void 0:a.status,tile:e}),T(99)}})(e),children:P(e)},`${n}-${a}`)))))}):(0,u.jsx)("div",{children:"Loading Frontier Grid..."})};const De=function(e){let{isOpen:t=!0,onClose:n,title:a,children:o,custom:r,message:s,message2:i,size:l="standard",className:c}=e;return t?(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:`modal-container ${"small"===l?"modal-small":""} ${c||""}`,children:[(0,u.jsx)("button",{className:"modal-close-btn",onClick:n,children:"\xd7"}),a&&(0,u.jsx)("h2",{className:"modal-title",children:a}),(0,u.jsxs)("div",{className:"modal-content",children:[s&&(0,u.jsx)("p",{className:"modal-message",children:s}),i&&(0,u.jsx)("p",{className:"modal-message",children:i}),o,r]})]})}):null},Me=JSON.parse('[{"code":"en","label":"English","flag":"\ud83c\uddfa\ud83c\uddf8"},{"code":"es","label":"Espa\xf1ol","flag":"\ud83c\uddea\ud83c\uddf8"},{"code":"fr","label":"Fran\xe7ais","flag":"\ud83c\uddeb\ud83c\uddf7"},{"code":"de","label":"Deutsch","flag":"\ud83c\udde9\ud83c\uddea"},{"code":"it","label":"Italiano","flag":"\ud83c\uddee\ud83c\uddf9"},{"code":"pt","label":"Portugu\xeas","flag":"\ud83c\uddf5\ud83c\uddf9"},{"code":"ru","label":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439","flag":"\ud83c\uddf7\ud83c\uddfa"},{"code":"no","label":"Norsk","flag":"\ud83c\uddf3\ud83c\uddf4"},{"code":"sv","label":"Svenska","flag":"\ud83c\uddf8\ud83c\uddea"},{"code":"fi","label":"Suomi","flag":"\ud83c\uddeb\ud83c\uddee"}]');function Le(e){let{currentPlayer:t,setCurrentPlayer:n,updateStatus:r,onClose:l,onSave:c}=e;const d=(0,o.k)(),[p,m]=(0,a.useState)(t.language||"");return(0,u.jsx)(De,{onClose:l,className:"modal-LanguagePicker",size:"standard",children:(0,u.jsxs)("div",{className:"language-modal",children:[(0,u.jsx)("h2",{children:d[130]}),(0,u.jsx)("ul",{className:"language-list",children:Me.map((e=>{let{code:t,label:n,flag:a}=e;return(0,u.jsxs)("li",{className:"language-item "+(p===t?"selected":""),onClick:()=>{m(t)},children:[(0,u.jsx)("span",{className:"flag",children:a})," ",n]},t)}))}),(0,u.jsx)("div",{className:"modal-buttons",children:(0,u.jsx)("button",{className:"shared-button",onClick:async()=>{try{const e={...t,language:p};localStorage.setItem("player",JSON.stringify(e)),n(e),await s.A.post(`${i.A}/api/update-profile`,{playerId:t._id,updates:{language:p}}),r&&r("Language updated!"),c&&c(),window.location.reload()}catch(e){console.error("Error saving language:",e),r&&r("Failed to update language")}},children:d[131]})})]})})}const Be=JSON.parse('{"t":[{"label":"Grinning Face","value":"\ud83d\ude00"},{"label":"Crying Face","value":"\ud83d\ude2d"},{"label":"Heart Eyes","value":"\ud83d\ude0d"},{"label":"Face with Hand Over Mouth","value":"\ud83e\udd2d"},{"label":"Nerd Face","value":"\ud83e\udd13"}],"V":[{"label":"Clown Face","value":"\ud83e\udd21"},{"label":"Alien","value":"\ud83d\udc7d"},{"label":"Robot","value":"\ud83e\udd16"},{"label":"Poop","value":"\ud83d\udca9"},{"label":"Space Invader","value":"\ud83d\udc7e"},{"label":"Innocent Face","value":"\ud83d\ude07"},{"label":"Screaming Face","value":"\ud83d\ude31"},{"label":"Octopus Face","value":"\ud83d\udc19"},{"label":"Sunglasses Face","value":"\ud83d\ude0e"},{"label":"Monkey Face","value":"\ud83d\udc35"},{"label":"Panda Face","value":"\ud83d\udc3c"},{"label":"Cat Face","value":"\ud83d\udc31"}]}');var Ge,qe="basil",Fe="https://js.stripe.com",Ve="".concat(Fe,"/").concat(qe,"/stripe.js"),_e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ue=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,He="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Ke=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Ve).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},We=null,Ye=null,Je=null,Qe=function(e){return null!==We?We:(We=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(He),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(Fe,'"]')),n=0;n<t.length;n++){var a=t[n];if(e=a.src,_e.test(e)||Ue.test(e))return a}return null}();if(a&&e)console.warn(He);else if(a){if(a&&null!==Je&&null!==Ye){var o;a.removeEventListener("load",Je),a.removeEventListener("error",Ye),null===(o=a.parentNode)||void 0===o||o.removeChild(a),a=Ke(e)}}else a=Ke(e);Je=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),Ye=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),a.addEventListener("load",Je),a.addEventListener("error",Ye)}catch(r){return void n(r)}else t(null)}))).catch((function(e){return We=null,Promise.reject(e)}))},Ze=!1,Xe=function(){return Ge||(Ge=Qe(null).catch((function(e){return Ge=null,Promise.reject(e)})))};Promise.resolve().then((function(){return Xe()})).catch((function(e){Ze||console.warn(e)}));var et=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ze=!0;var a=Date.now();return Xe().then((function(e){return function(e,t,n){if(null===e)return null;var a=t[0].match(/^pk_test/),o=function(e){return 3===e?"v3":e}(e.version),r=qe;a&&o!==r&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(r,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:t})}(s,n),s}(e,t,a)}))};const tt=async(e,t,n)=>{try{var a;const o=await s.A.post(`${i.A}/api/create-checkout-session`,{playerId:t.playerId,offerId:e});if(null!==(a=o.data)&&void 0!==a&&a.id){const e=await et("pk_live_51ReZDs2Ldypb8mDE69ZKUaxZ5aUTW9PCLZUg8JPNmQmefLd4c8jy44ryZ19UZhsMVqOi7DU3RJ9qGdN5a5K2aOP2000ulybBFt");await e.redirectToCheckout({sessionId:o.data.id})}else n("\u274c Failed to initiate checkout.")}catch(o){console.error("\u274c Error initiating checkout:",o),n("\u274c Error initiating checkout.")}};const nt=function(e){let{onClose:t,currentPlayer:n,setCurrentPlayer:r,resources:l,openMailbox:c,setModalContent:p,setIsModalOpen:m}=e;const h=(0,o.k)(),[f,g]=(0,a.useState)([]),{updateStatus:y}=(0,a.useContext)(Ie);(0,a.useEffect)((()=>{const e=new URLSearchParams(window.location.search),t=e.get("purchase");console.log("\ud83d\udd0d URL query params:",{purchaseSuccess:t,playerId:e.get("playerId"),offerId:e.get("offerId")});const a=e.get("playerId"),o=e.get("offerId");if("success"===t&&a&&o){s.A.post(`${i.A}/api/purchase-store-offer`,{playerId:a,offerId:o}).then((()=>{console.log("\ud83d\udcec Called /api/purchase-store-offer successfully for:",{playerId:a,offerId:o}),console.log("\u2705 Store reward successfully delivered."),y("\ud83c\udf89 Purchase successful! Check your Inbox."),d(n,(()=>{}),"store",!1),s.A.get(`${i.A}/api/player/${a}`).then((e=>{r(e.data)})).catch((e=>{console.error("\u274c Failed to refresh player data:",e)}))})).catch((e=>{console.error("\ud83d\uded1 Error calling /api/purchase-store-offer with:",{playerId:a,offerId:o}),console.error("\u274c Failed to deliver store reward:",e),y("\u26a0\ufe0f Purchase may not have been delivered. Please contact support.")}));const e=new URL(window.location.href);e.search="",window.history.replaceState({},document.title,e.toString())}}),[]),(0,a.useEffect)((()=>{v()}),[]);const v=async()=>{try{const e=await s.A.get(`${i.A}/api/store-offers`);g(e.data||[])}catch(e){console.error("\u274c Failed to load store offers:",e)}};return(0,u.jsxs)(De,{onClose:e=>{null!==e&&void 0!==e&&e.openMailbox&&"function"===typeof c&&c(),t()},title:h[1701],children:[(0,u.jsx)("h3",{children:h[1702]}),(0,u.jsx)("h4",{children:h[1703]}),(0,u.jsx)("h4",{children:h[1704]}),(0,u.jsx)("div",{className:"store-offers",children:(()=>{const e=f.filter((e=>!(e=>{if(!e.shelflifeDays||null===n||void 0===n||!n.created)return!1;const t=new Date(n.created),a=new Date;return Math.floor((a-t)/864e5)>e.shelflifeDays})(e))),t=new Set;return e.map((a=>{if(t.has(a.id))return null;if(3===a.id||4===a.id){const a=e.find((e=>3===e.id)),o=e.find((e=>4===e.id));return a&&t.add(3),o&&t.add(4),(0,u.jsxs)("div",{className:"store-offer-row",children:[a&&(0,u.jsxs)("div",{className:"store-offer-card store-offer-card-half",children:[(0,u.jsxs)("div",{className:"store-offer-left",children:[(0,u.jsx)("h3",{children:a.title}),(0,u.jsx)("p",{children:a.body}),(0,u.jsx)("p",{className:"store-reward-line",children:a.rewards.map((e=>{var t;return`${(null===(t=l.find((t=>t.type===e.item)))||void 0===t?void 0:t.symbol)||""} ${e.qty} ${e.item}`})).join(", ")})]}),(0,u.jsxs)("div",{className:"store-offer-right",children:[(0,u.jsxs)("div",{className:"store-price",children:["USD $",a.price.toFixed(2)]}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(a.id,n,y),children:"Buy"})})]})]}),o&&(0,u.jsxs)("div",{className:"store-offer-card store-offer-card-half",children:[(0,u.jsxs)("div",{className:"store-offer-left",children:[(0,u.jsx)("h3",{children:o.title}),(0,u.jsx)("p",{children:o.body}),(0,u.jsx)("p",{className:"store-reward-line",children:o.rewards.map((e=>{var t;return`${(null===(t=l.find((t=>t.type===e.item)))||void 0===t?void 0:t.symbol)||""} ${e.qty} ${e.item}`})).join(", ")})]}),(0,u.jsxs)("div",{className:"store-offer-right",children:[(0,u.jsxs)("div",{className:"store-price",children:["USD $",o.price.toFixed(2)]}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(o.id,n,y),children:"Buy"})})]})]})]},"group-3-4")}if(6===a.id||7===a.id||8===a.id){const a=e.find((e=>6===e.id)),o=e.find((e=>7===e.id)),r=e.find((e=>8===e.id));return a&&t.add(6),o&&t.add(7),r&&t.add(8),(0,u.jsxs)("div",{className:"store-offer-row",children:[a&&(0,u.jsxs)("div",{className:"store-offer-card store-offer-card-third store-offer-card-gem",children:[(0,u.jsxs)("div",{className:"store-offer-left",children:[(0,u.jsx)("h3",{children:a.title}),(0,u.jsx)("p",{children:a.body}),(0,u.jsx)("p",{className:"store-reward-line",children:a.rewards.map((e=>{var t;return`${(null===(t=l.find((t=>t.type===e.item)))||void 0===t?void 0:t.symbol)||""} ${e.qty} ${e.item}`})).join(", ")})]}),(0,u.jsxs)("div",{className:"store-offer-right",children:[(0,u.jsxs)("div",{className:"store-price",children:["USD $",a.price.toFixed(2)]}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(a.id,n,y),children:"Buy"})})]})]}),o&&(0,u.jsxs)("div",{className:"store-offer-card store-offer-card-third store-offer-card-gem",children:[(0,u.jsxs)("div",{className:"store-offer-left",children:[(0,u.jsx)("h3",{children:o.title}),(0,u.jsx)("p",{children:o.body}),(0,u.jsx)("p",{className:"store-reward-line",children:o.rewards.map((e=>{var t;return`${(null===(t=l.find((t=>t.type===e.item)))||void 0===t?void 0:t.symbol)||""} ${e.qty} ${e.item}`})).join(", ")})]}),(0,u.jsxs)("div",{className:"store-offer-right",children:[(0,u.jsxs)("div",{className:"store-price",children:["USD $",o.price.toFixed(2)]}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(o.id,n,y),children:"Buy"})})]})]}),r&&(0,u.jsxs)("div",{className:"store-offer-card store-offer-card-third store-offer-card-gem",children:[(0,u.jsxs)("div",{className:"store-offer-left",children:[(0,u.jsx)("h3",{children:r.title}),(0,u.jsx)("p",{children:r.body}),(0,u.jsx)("p",{className:"store-reward-line",children:r.rewards.map((e=>{var t;return`${(null===(t=l.find((t=>t.type===e.item)))||void 0===t?void 0:t.symbol)||""} ${e.qty} ${e.item}`})).join(", ")})]}),(0,u.jsxs)("div",{className:"store-offer-right",children:[(0,u.jsxs)("div",{className:"store-price",children:["USD $",r.price.toFixed(2)]}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(r.id,n,y),children:"Buy"})})]})]})]},"group-6-7-8")}return t.add(a.id),(0,u.jsxs)("div",{className:"store-offer-card"+("1"===String(a.id)?" store-offer-card-gold":""),children:[(0,u.jsxs)("div",{className:"store-offer-left",children:[(0,u.jsx)("h3",{children:a.title}),(0,u.jsx)("p",{children:a.body}),(0,u.jsx)("p",{className:"store-reward-line",children:a.rewards.map((e=>{var t;return`${(null===(t=l.find((t=>t.type===e.item)))||void 0===t?void 0:t.symbol)||""} ${e.qty} ${e.item}`})).join(", ")})]}),(0,u.jsxs)("div",{className:"store-offer-right",children:[(0,u.jsxs)("div",{className:"store-price",children:["USD $",a.price.toFixed(2)]}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(a.id,n,y),children:"Buy"})})]})]},a.id)}))})()})]})};function at(e){let{currentPlayer:t,setCurrentPlayer:n,updateStatus:r,currentIcon:l,playerId:c,onClose:d,onSave:p,setModalContent:m,setModalIsOpen:h}=e;const[f,g]=(0,a.useState)(l),y=((0,o.k)(),"Gold"===t.accountStatus),v=Be.t||[],b=Be.V||[];return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"icon-modal",children:[(0,u.jsx)("button",{className:"modal-close-btn",onClick:d,children:"\xd7"}),(0,u.jsx)("h2",{children:"Choose Your Avatar"}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"icon-grid",children:v.map((e=>(0,u.jsx)("button",{className:"icon-button "+(f===e.value?"selected":""),onClick:()=>g(e.value),disabled:!1,children:e.value},e.value)))}),(0,u.jsx)("h3",{children:"Premium Avatars"}),!y&&(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>tt(1,t,r),children:"Unlock Premium Avatars"})}),(0,u.jsx)("div",{className:"icon-grid",children:b.map((e=>{const t=!y;return(0,u.jsx)("button",{className:`icon-button ${f===e.value?"selected":""} ${t?"locked":""}`,disabled:t,onClick:()=>{t||g(e.value)},children:e.value},e.value)}))}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{try{await(async(e,t,n,a,o)=>{var r;if(!(e=>"string"===typeof e&&/\p{Emoji}/u.test(e))(a))return console.error("\u274c Attempted to set non-emoji icon:",a),void(null===o||void 0===o||o("Please select a valid emoji."));const l={icon:a},c=await s.A.post(`${i.A}/api/update-profile`,{playerId:n,updates:l});if(!c.data.success)throw new Error("Failed to update icon");const d=null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.g;if(d){var u;const t=null===(u=N.A.getPlayersInGrid(d))||void 0===u?void 0:u[e.playerId];if(t){const n={...t,icon:a};N.A.updatePC(d,e.playerId,n),console.log(`\u2705 Updated icon in playersInGrid: ${e.playerId} \u2192 ${a}`)}}else console.warn("\u26a0\ufe0f No valid gridId found, skipping NPCsInGrid update.");const p={...e,icon:a};return localStorage.setItem("player",JSON.stringify(p)),t(p),console.log("\u2705 Updated localStorage and state for currentPlayer:",a),c.data.player})(t,n,c,f),p(f)}catch(e){alert("Failed to update icon.")}},children:"Save"})})]})})}const ot=(0,a.createContext)(),rt=()=>(0,a.useContext)(ot),st=e=>{let{children:t,custom:n}=e;const[o,r]=(0,a.useState)(null);return(0,u.jsxs)(ot.Provider,{value:{activeModal:o,setActiveModal:r,openModal:e=>{console.log(`Opening modal: ${e}`),r(e)},closeModal:()=>{r(null)}},children:[t,n]})},it=e=>{var t;let{onClose:n,currentPlayer:r,setCurrentPlayer:l,handleLogout:c,isRelocating:d,setIsRelocating:p,zoomLevel:m,setZoomLevel:h}=e;const f=(0,o.k)(),{openPanel:g}=(0,F.d)(),[y,v]=(0,a.useState)(!1),b=(0,a.useRef)(!1),[k,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{if(!b.current&&null!==r&&void 0!==r&&r.username){var e,t;const n=await s.A.get(`${i.A}/api/check-developer-status/${r.username}`);null!==(e=n.data)&&void 0!==e&&e.isDeveloper&&v(!0),b.current=!0,console.log("\ud83d\udd0d Developer check complete. isDeveloper:",null===(t=n.data)||void 0===t?void 0:t.isDeveloper)}}catch(n){console.warn("\u26a0\ufe0f Failed to check developer status:",n)}})()}),[r]);const[S,x]=(0,a.useState)({username:"",icon:"",password:"",accountStatus:"Free",role:"Citizen"}),{updateStatus:C}=(0,a.useContext)(Ie),[I,A]=(0,a.useState)(!1),[T,j]=(0,a.useState)(""),[P,E]=(0,a.useState)({isStateMachineEnabled:!1,isTeleportEnabled:!1,toggleVFX:!0});(0,a.useEffect)((()=>{if(r){var e,t,n,a;const{settings:o}=r;E({isStateMachineEnabled:null!==(e=null===o||void 0===o?void 0:o.isStateMachineEnabled)&&void 0!==e&&e,isTeleportEnabled:null!==(t=null===o||void 0===o?void 0:o.isTeleportEnabled)&&void 0!==t&&t,toggleVFX:null===(n=null===o||void 0===o?void 0:o.toggleVFX)||void 0===n||n,rangeOn:null===(a=null===o||void 0===o?void 0:o.rangeOn)||void 0===a||a}),x({username:r.username||"",icon:r.icon||"",password:"",accountStatus:r.accountStatus||"Free",role:r.role||"Citizen"}),j(""),console.log("Profile: curentPlayer = ",r)}}),[r]);const R=e=>{const{name:t,value:n}=e.target;x((e=>({...e,[t]:n})))},$=e=>{E((t=>{const n={...t,[e]:!t[e]};return async function(e,t,n){try{const a={...t,settings:{...e}};localStorage.setItem("player",JSON.stringify(a)),n(a),console.log("Updating settings on server:",e);const o=await s.A.post(`${i.A}/api/update-settings`,{playerId:t.playerId,settings:e});o.data.success?console.log("Settings updated successfully on server."):console.error("Server update failed:",o.data.error)}catch(a){console.error("Error updating player settings:",a)}}(n,r,l),n}))},{setActiveModal:O}=rt();return(0,u.jsx)(V,{onClose:()=>{p(!1),"settlement"!==m&&"frontier"!==m||(h("close"),C(0)),n()},descriptionKey:"1019",titleKey:"1119",panelName:"ProfilePanel",children:(0,u.jsxs)("div",{className:"standard-panel",children:[(0,u.jsxs)("h2",{children:[f[4051]," ",r.username," ",r.icon]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>w(!0),children:f[4065]})}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:f[4052]}),(0,u.jsx)("input",{name:"username",type:"text",value:S.username,onChange:R,placeholder:"Enter your username"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:f[4053]}),(0,u.jsx)("input",{name:"password",type:"password",value:S.password,onChange:R,placeholder:"Enter new password (optional)"})]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{A(!0),j("");try{if(!S.username.trim())throw new Error("Username cannot be empty.");const a={username:S.username.trim(),icon:S.icon.trim(),...S.password&&{password:S.password},accountStatus:S.accountStatus,role:S.role,settings:{...P}};console.log("Saving updates:",a);const o=await s.A.post(`${i.A}/api/update-profile`,{playerId:r.playerId,updates:a});if(o.data.success){var e;console.log("Profile and settings successfully updated:",o.data.player);const a={...r,settings:{...P},username:S.username.trim(),icon:S.icon.trim(),accountStatus:S.accountStatus,role:S.role};l(a),localStorage.setItem("player",JSON.stringify(a)),console.log("Updated localStorage after save:",a.settings),S.role&&"Citizen"!==S.role&&(console.log(`\ud83c\udfdb\ufe0f Assigning player to role "${S.role}" in the settlement...`),await s.A.post(`${i.A}/api/update-settlement-role`,{settlementId:r.location.s,playerId:r._id,roleName:S.role}));const c=null===r||void 0===r||null===(e=r.location)||void 0===e?void 0:e.g;if(c){var t;const e=null===(t=N.A.getPlayersInGrid(c))||void 0===t?void 0:t[r.playerId];if(e){const t={...e,username:S.username.trim()};N.A.updatePC(c,r.playerId,t),console.log(`\u2705 Updated username in playersInGrid: ${r.playerId} \u2192 ${S.username.trim()}`)}}else console.warn("\u26a0\ufe0f No valid gridId found, skipping NPCsInGrid update.");n()}else{const e=o.data.error||"Failed to update profile.";console.error(e),j(e)}}catch(c){var a,o;console.error("Error during save operation:",c),"TAKEN"===(null===(a=c.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.error)&&(console.log("\u274c Username is already taken."),C(50)),j(c.message||"An unexpected error occurred while saving.")}finally{A(!1)}},disabled:I,children:I?"Saving...":f[10128]})}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("h3",{children:f[4054]}),y&&(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:f[4055]}),(0,u.jsxs)("select",{name:"accountStatus",value:S.accountStatus,onChange:R,children:[(0,u.jsx)("option",{value:"Free",children:"Free"}),(0,u.jsx)("option",{value:"Bronze",children:"Bronze"}),(0,u.jsx)("option",{value:"Silver",children:"Silver"}),(0,u.jsx)("option",{value:"Gold",children:"Gold"})]})]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-gold",onClick:()=>{g("GoldBenefitsPanel")},children:"Gold"===S.accountStatus?f[10130]:f[10131]})}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-danger",onClick:c,children:f[4056]})}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{(await s.A.post(`${i.A}/api/delete-player`,{playerId:r.playerId})).data.success?(alert("Account deleted successfully."),localStorage.removeItem("player"),window.location.reload()):alert("Failed to delete account.")}catch(e){console.error("Error deleting account:",e),alert("An error occurred while trying to delete your account.")}},children:f[4057]})}),(0,u.jsxs)("p",{children:[f[4058]," ",(null===r||void 0===r?void 0:r.playerId)||"N/A"]}),(0,u.jsx)("br",{}),(0,u.jsx)("h3",{children:f[4059]}),(0,u.jsxs)("p",{children:[f[4060]," ",(0,u.jsx)("strong",{children:r.relocations})]}),(0,u.jsxs)("div",{className:"panel-buttons",children:[(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{d?(p(!1),h("close"),C(0)):(p(!0),h("frontier"))},disabled:!r.relocations,children:d?f[10132]:f[10133]}),(0,u.jsx)("p",{children:f[4061]})]}),(0,u.jsx)("h3",{children:f[4062]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsxs)("button",{className:"btn-success",onClick:()=>{O("LanguagePicker")},children:["\ud83c\udf0e ",(null===(t=Me.find((e=>e.code===r.language)))||void 0===t?void 0:t.label)||"Language"]})}),(0,u.jsxs)("div",{className:"panel-buttons",children:[(0,u.jsxs)("button",{className:P.rangeOn?"btn-success":"btn-neutral",onClick:()=>$("rangeOn"),children:[f[4064],P.rangeOn?"is ON":"is OFF"]}),y&&(0,u.jsxs)("button",{className:P.isTeleportEnabled?"btn-success":"btn-neutral",onClick:()=>$("isTeleportEnabled"),children:["Teleport: ",P.isTeleportEnabled?"is ON":"is OFF"]}),(0,u.jsxs)("button",{className:P.toggleVFX?"btn-success":"btn-neutral",onClick:()=>$("toggleVFX"),children:["VFX: ",P.toggleVFX?"is ON":"is OFF"]})]}),k&&(0,u.jsx)(at,{currentPlayer:r,setCurrentPlayer:l,updateStatus:C,currentIcon:S.icon,playerId:r.playerId,onClose:()=>w(!1),onSave:e=>{x((t=>({...t,icon:e}))),w(!1)}})]})})},lt=e=>{let{setCurrentPlayer:t,zoomLevel:n,setZoomLevel:r,setIsLoggedIn:l,closeModal:c}=e;const d=(0,o.k)(),[p,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[g,y]=(0,a.useState)("en"),[v,b]=(0,a.useState)(""),[k,w]=(0,a.useState)(!1);return(0,u.jsxs)("div",{id:"create-account-form",children:[(0,u.jsx)("h2",{children:d[4002]}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!k){w(!0);try{const e="Valley View 1",n=await s.A.get(`${i.A}/api/frontiers-by-name`,{params:{name:e}});if(!n.data||0===n.data.length)throw new Error("Frontier not found");const a=n.data[0];let r=null,l=null,d=null;for(const t of a.settlements||[]){for(const e of t){if(!0!==e.available)continue;const t=await s.A.get(`${i.A}/api/get-settlement/${e.settlementId}`),n=t.data.grids.flat().find((e=>!0===e.available));if(n){r=e.settlementId,l=n.gridCoord,d=n.gridType;break}}if(l)break}if(!r||!l)throw new Error("No available sub-grids in the Frontier.");const u={username:p,password:h,language:g,location:{x:33,y:33,gridCoord:l,settlementId:r,frontierId:a._id,gtype:d}};console.log("Calling /api/register-new-player with payload:",u);const m=await s.A.post(`${i.A}/api/register-new-player`,u);if(!m.data.success||!m.data.player)throw new Error("Player registration failed");const f=m.data.player,y=f.location,v=null===y||void 0===y?void 0:y.g;console.log("\u2705 Player registered:",f),t(f),localStorage.removeItem("player"),localStorage.setItem("player",JSON.stringify(f));const b=Date.now(),k={playerId:f._id,type:"pc",username:f.username,position:{x:33,y:33},icon:f.icon||"\ud83d\ude00",hp:f.baseHp||25,maxhp:f.baseMaxhp||25,attackbonus:f.baseAttackbonus||1,armorclass:f.baseArmorclass||1,damage:f.baseDamage||1,attackrange:f.baseAttackrange||1,speed:f.baseSpeed||1,iscamping:!1,isinboat:!1,lastUpdated:b},w={gridId:v,playerId:f._id,pc:k,lastUpdated:b};await s.A.post(`${i.A}/api/save-single-pc`,w);try{await s.A.post(`${i.A}/api/send-mailbox-message`,{playerId:f._id,messageId:1})}catch(o){console.error("\u274c Failed to send welcome message:",o)}c&&c(),localStorage.setItem("initialZoomLevel","close"),window.location.reload()}catch(r){var n,a;console.error("Error during account creation:",r),b((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Account creation failed. Please try again."),w(!1)}}},children:[(0,u.jsx)("input",{type:"text",placeholder:"Username",value:p,onChange:e=>m(e.target.value)}),(0,u.jsx)("input",{type:"password",placeholder:"Password",value:h,onChange:e=>f(e.target.value)}),(0,u.jsxs)("select",{value:g,onChange:e=>y(e.target.value),children:[(0,u.jsx)("option",{value:"",children:d[4067]}),Me.map((e=>{let{code:t,label:n}=e;return(0,u.jsx)("option",{value:t,children:n},t)}))]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",type:"submit",disabled:k,children:d[4002]})})]}),(0,u.jsxs)("div",{className:"panel-buttons",children:[(0,u.jsx)("button",{className:"btn-neutral",type:"button",onClick:()=>l(!1),children:d[4066]}),v&&(0,u.jsx)("p",{style:{color:"red"},children:v})]}),(0,u.jsxs)("p",{children:[" ",(0,u.jsx)("strong",{children:d[4004]})]})]})},ct=e=>{let{onClose:t,setCurrentPlayer:n,zoomLevel:r,setZoomLevel:l,onLoginSuccess:c}=e;const d=(0,o.k)(),[p,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(!1);return(0,u.jsx)(V,{onClose:t,descriptionKey:"1021",titleKey:"1121",panelName:"LoginPanel",children:v?(0,u.jsx)(lt,{setCurrentPlayer:n,zoomLevel:r,setZoomLevel:l,setIsLoggedIn:()=>{b(!1),t()}}):(0,u.jsxs)("div",{className:"standard-panel",children:[(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("Login attempt:",{username:p,password:h});const e=await s.A.post(`${i.A}/api/login`,{username:p,password:h});if(e.data.success){const a=e.data.player;console.log("Login successful:",a),n(a),localStorage.setItem("player",JSON.stringify(a)),t(),c&&c(a)}else y(e.data.error||"Invalid username or password")}catch(a){console.error("Error during login:",a),y("Login failed. Please try again.")}},className:"panel-form",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("div",{className:"panel-buttons",children:[(0,u.jsx)("h3",{children:d[4001]}),(0,u.jsx)("button",{type:"button",className:"btn-success",onClick:()=>b(!0),children:d[4002]})]}),(0,u.jsx)("h4",{children:d[4004]}),(0,u.jsx)("h4",{children:d[4005]}),(0,u.jsx)("h3",{children:d[5033]}),(0,u.jsx)("h3",{children:d[4010]}),(0,u.jsx)("label",{htmlFor:"username",children:"Username"}),(0,u.jsx)("input",{id:"username",type:"text",value:p,onChange:e=>m(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"password",children:d[4006]}),(0,u.jsx)("input",{id:"password",type:"password",value:h,onChange:e=>f(e.target.value),required:!0})]}),g&&(0,u.jsx)("p",{className:"error-message",children:g}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{type:"submit",className:"btn-neutral",children:d[4007]})})]}),(0,u.jsx)("div",{className:"panel-buffer-space"}),(0,u.jsx)("div",{className:"panel-buffer-space"}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>window.location.href="mailto:valleyviewgamedev@gmail.com",children:d[97]})})]})})},dt=e=>{let{gridId:t,gridCoord:n,gridType:a,NPCsInGrid:o,playersInGrid:r}=e;const s=e=>{try{return JSON.stringify(e,null,2)}catch{return"[Unserializable]"}},i=(null===o||void 0===o?void 0:o[t])||"Not loaded",l=(null===r||void 0===r?void 0:r[t])||"Not loaded";return(0,u.jsxs)("div",{className:"grid-debug-panel",children:[(0,u.jsx)("h4",{style:{color:"white"},children:"Debug:"}),(0,u.jsx)("br",{}),(0,u.jsx)("h5",{children:"gridId:"}),(0,u.jsx)("pre",{children:s(t)}),(0,u.jsxs)("h5",{children:["gridCoord: ",s(n)]}),(0,u.jsxs)("h5",{children:["gridType: ",s(a)]}),(0,u.jsx)("br",{}),(0,u.jsx)("h5",{children:"\ud83d\udc2e NPCsInGrid?[gridId]"}),(0,u.jsx)("pre",{children:s(i)}),(0,u.jsx)("h5",{children:"\ud83d\udc65 PlayersInGrid?[gridId]"}),(0,u.jsx)("pre",{children:s(l)})]})};const ut=e=>{var t,n;let{onClose:o,currentPlayer:r,setCurrentPlayer:l,setInventory:c,setResources:d,currentGridId:p,updateStatus:m,TILE_SIZE:h,setGrid:f,setGridId:g,setTileTypes:y,closeAllPanels:v}=e;const[b,k]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),[x,C]=(0,a.useState)([]),[I,A]=(0,a.useState)(w),[P,E]=(0,a.useState)(!1),[R,$]=(0,a.useState)(""),[O,z]=(0,a.useState)(""),[D,M]=(0,a.useState)(""),[G,q]=(0,a.useState)("");(0,a.useEffect)((()=>{if(!p)return;(async()=>{try{console.log("Fetching timers for gridId:",p);const e=((await(0,j.FD)(p,m,r)).resources||[]).filter((e=>e.growEnd||e.craftEnd));console.log("\u23f3 Active Timers:",e),k(e)}catch(e){console.error("Error fetching timers:",e)}})()}),[p]),(0,a.useEffect)((()=>{const e=setInterval((()=>{k((e=>e.map((e=>{const t=e.growEnd?Math.max(0,Math.floor((e.growEnd-Date.now())/1e3)):null,n=e.craftEnd?Math.max(0,Math.floor((e.craftEnd-Date.now())/1e3)):null;return{...e,remainingTime:null!==t?t:n}}))))}),1e3);return()=>clearInterval(e)}),[]),(0,a.useEffect)((()=>{if(!p)return;(()=>{const e=T.Ay.getNPCsInGrid(p),t=N.A.getPlayersInGrid(p);e?S(Object.values(e.npcs||{})):(console.warn(`No NPCsInGrid found for gridId: ${p}`),S([])),t?C(Object.values(t)):(console.warn(`No playersInGrid found for gridId: ${p}`),C([]))})()}),[p,P]),(0,a.useEffect)((()=>{A(w)}),[w]);const F=async e=>{try{await async function(e){let{valleyType:t,currentPlayer:n}=e;try{var a;const e=null===n||void 0===n||null===(a=n.location)||void 0===a?void 0:a.f;if(!e)return console.error("No frontier ID found for the current player."),void alert("No frontier ID found for the current player.");console.log(`Fetching frontier data for ID: ${e}`);const r=(await s.A.get(`${i.A}/api/get-frontier/${e}`)).data;if(!r||!r.settlements)return console.error("Frontier data is incomplete or missing settlements."),void alert("Frontier data is incomplete or missing settlements.");console.log(`Searching settlements for valley${t} grids.`);const l=[];for(const n of r.settlements)for(const e of n)if(null!==e&&void 0!==e&&e.settlementId)try{console.log("Fetching settlement data for settlement ID:",e.settlementId);const n=(await s.A.get(`${i.A}/api/get-settlement/${e.settlementId}`)).data;if(null===n||void 0===n||!n.grids){console.warn(`Settlement ${e.settlementId} has no grids. Skipping.`);continue}n.grids.flat().forEach((n=>{n.gridType!==`valley${t}`||n.gridId||l.push({...n,settlementId:e.settlementId})}))}catch(o){console.error(`Failed to fetch data for settlement ${e.settlementId}:`,o)}else console.warn("Settlement is invalid or missing settlementId. Skipping.");if(0===l.length)return console.log(`No valley${t} grids found in this frontier.`),void alert(`No valley${t} grids found in this frontier.`);console.log(`Found ${l.length} valley${t} grids. Starting generation process.`);for(const n of l)try{console.log(`Creating valley${t} grid with gridCoord: ${n.gridCoord}, Settlement ID: ${n.settlementId}`),await s.A.post(`${i.A}/api/create-grid`,{gridCoord:n.gridCoord,gridType:n.gridType,settlementId:n.settlementId,frontierId:e}),console.log(`Successfully created valley${t} grid for gridCoord: ${n.gridCoord}`)}catch(o){console.error(`Error creating valley${t} grid with gridCoord ${n.gridCoord}:`,o)}alert(`Valley${t} grids processed successfully!`)}catch(o){console.error(`Error processing valley${t} grids:`,o),alert(`Failed to process valley${t} grids. Check the console for details.`)}}({valleyType:e,currentPlayer:r})}catch(t){console.error(`Error generating valley${e} grids:`,t),alert(`Failed to generate valley${e} grids. Check the console for details.`)}};return(0,u.jsxs)(V,{onClose:o,titleKey:"1120",panelName:"DebugPanel",children:[(0,u.jsxs)("div",{className:"debug-buttons",children:[(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{try{const e=await s.A.post(`${i.A}/api/create-frontier`);console.log("Create New Frontier response:",e.data),alert("New Frontier created successfully!")}catch(e){console.error("Error creating new Frontier:",e),alert("Failed to create new Frontier. Check console for details.")}},children:" Create New Frontier "}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{if(p){console.log("handleResetGrid: gridId:",p);try{var e;const t=null===r||void 0===r||null===(e=r.location)||void 0===e?void 0:e.s;if(!t)return console.error("Settlement ID not found for the current player."),void alert("Settlement ID not found for the current player.");const n=(await s.A.get(`${i.A}/api/get-settlement/${t}`)).data;if(!n||!n.frontierId)return console.error("Settlement data is incomplete or missing frontierId."),void alert("Settlement data is incomplete or missing frontierId.");const a=n.frontierId;console.log("Settlement and frontierId resolved:",{settlementId:t,frontierId:a});const o=(await s.A.get(`${i.A}/api/load-grid/${p}`)).data;if(!o||!o.gridType)return console.error("Grid data is incomplete or missing gridType."),void alert("Grid data is incomplete or missing gridType.");const l=o.gridType;let c=null;for(const e of n.grids){for(const t of e)if(t.gridId&&String(t.gridId)===String(p)){c=t.gridCoord;break}if(null!==c)break}if(null===c)return console.error("Could not resolve gridCoord from settlement."),void alert("Could not resolve gridCoord from settlement.");console.log("Extracted gridData: gridType=",l,"; gridCoord=",c);const d=await s.A.post(`${i.A}/api/reset-grid`,{gridCoord:c,gridId:p,gridType:l,settlementId:t,frontierId:a});console.log(`Grid ${p} of type ${l} reset successfully:`,d.data),m(903),window.location.reload()}catch(t){console.error(`Error resetting grid "${p}":`,t),alert(`Failed to reset grid "${p}". Check the console for details.`)}}else console.error("currentGridId is not defined.")},children:" Reset This Grid "}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{var e;if(!p)return console.error("\u274c No grid ID available."),void m("\u274c No grid ID available.");if("homestead"!==(null===r||void 0===r||null===(e=r.location)||void 0===e?void 0:e.gtype))return void alert("\u26a0\ufe0f This command only works on homestead grids.");if(window.confirm(`\u26a0\ufe0f Are you absolutely sure you want to remove this homestead grid?\n\nGrid ID: ${p}\n\nThis will:\n1. Delete this grid from the database\n2. Mark this location as available in the settlement\n\nThis action CANNOT be undone!`))try{console.log("\ud83c\udfda\ufe0f Removing homestead grid:",p);const e=await s.A.post(`${i.A}/api/remove-homestead`,{gridId:p});e.data.success?(console.log("\u2705 Homestead removed successfully"),m("\u2705 Homestead removed. Players relocated. Reloading..."),setTimeout((()=>{window.location.reload()}),1500)):(console.error("\u274c Failed to remove homestead:",e.data),m("\u274c Failed to remove homestead."))}catch(t){console.error("\u274c Error removing homestead:",t),m("\u274c Error removing homestead."),alert("Failed to remove homestead. Check console for details.")}},children:" Remove Homestead "}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{try{await async function(e){let{currentPlayer:t}=e;try{const e=t.location.s;if(!e)return console.error("No settlement ID found for the current player."),void alert("No settlement ID found for the current player.");const a=(await s.A.get(`${i.A}/api/get-settlement/${e}`)).data;if(!a||!a.grids||0===a.grids.length)return console.error("Settlement data is incomplete or missing grids."),void alert("Settlement data is incomplete or missing grids.");const o=[];if(a.grids.forEach((e=>{e.forEach((e=>{"town"!==e.gridType||e.gridId||o.push(e.gridCoord)}))})),0===o.length)return console.log("No uninitialized town grids found in this settlement."),void alert("No uninitialized town grids found in this settlement.");console.log(`Found ${o.length} uninitialized town grids. Processing grids...`);for(const t of o)try{console.log(`Creating Town grid with gridCoord: ${t}`);const n=await s.A.post(`${i.A}/api/create-grid`,{gridCoord:t,gridType:"town",settlementId:e,frontierId:a.frontierId});console.log(`Processed town grid for gridCoord: ${t}`,n.data)}catch(n){console.error(`Failed to process grid for gridCoord: ${t}`,n)}alert("Town grids created successfully!")}catch(a){console.error("Error processing town grids:",a),alert("Failed to create town grids. Check the console for details.")}}({currentPlayer:r})}catch(e){console.error("Error generating town:",e),alert("Failed to generate town. Check console for details.")}},children:" Generate Town "}),(0,u.jsx)("button",{className:"btn-danger",onClick:()=>F(0),children:" Generate Valley 0 "}),(0,u.jsx)("button",{className:"btn-danger",onClick:()=>F(1),children:" Generate Valley 1 "}),(0,u.jsx)("button",{className:"btn-danger",onClick:()=>F(2),children:" Generate Valley 2 "}),(0,u.jsx)("button",{className:"btn-danger",onClick:()=>F(3),children:" Generate Valley 3 "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No player ID found. Cannot clear inventory.");const t=r.inventory.filter((e=>"Money"===e.type||"Gem"===e.type));console.log("Filtered inventory to retain only Money and Gems:",t),await s.A.post(`${i.A}/api/update-inventory`,{playerId:e,inventory:t,backpack:r.backpack||[]}),console.log("Inventory updated successfully on the server."),await B(e,l);const n=await L(e);console.log("Fetched inventory after clearing:",n),c(n),l((e=>({...e,inventory:n}))),m(900),console.log("Inventory cleared successfully except for Money.")}catch(e){console.error("Error clearing inventory:",e)}},children:" Clear Inventory "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No player ID found. Cannot clear skills and powers.");const t=[];console.log("Clearing all skills."),await s.A.post(`${i.A}/api/update-skills`,{playerId:e,skills:t}),console.log("Skills cleared successfully on the server.");const n=[];console.log("Clearing all powers."),await s.A.post(`${i.A}/api/update-powers`,{playerId:e,powers:n}),console.log("Powers cleared successfully on the server."),await B(e,l),l((e=>({...e,skills:t,powers:n}))),m(905),console.log("Skills and powers cleared successfully.")}catch(e){console.error("Error clearing skills and powers:",e)}},children:" Clear Skills & Powers "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No player ID found. Cannot reset combat stats.");const t={maxhp:r.baseMaxhp,attackbonus:r.baseAttackbonus,armorclass:r.baseArmorclass,damage:r.baseDamage,attackrange:r.baseAttackrange,speed:r.baseSpeed};await N.A.updatePC(p,e,t),console.log("Combat stats reset successfully using updatePC."),m(906)}catch(e){console.error("Error resetting combat stats:",e)}},children:" Reset Combat Stats "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No player logged in. Cannot clear quest history.");await s.A.post(`${i.A}/api/clear-quest-history`,{playerId:e});const t={...r,activeQuests:[],completedQuests:[]};l(t),console.log("Quest history cleared successfully."),m(901)}catch(e){console.error("Error clearing quest history:",e)}},children:" Clear Quest History "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async e=>{if("cleargrid"===e)T.Ay.clearGridState(p)?(m("Grid state cleared successfully"),localStorage.removeItem(`NPCsInGrid_${p}`)):m("Failed to clear grid state");else console.warn(`Unknown debug command: ${e}`)},children:" Clear Grid State "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.username;if(!e)return void console.error("No user logged in. Cannot clear Trade Stall.");await s.A.post(`${i.A}/api/update-player-trade-stall`,{username:e,tradeStall:[]}),console.log("Trade Stall cleared successfully.")}catch(e){console.error("Error clearing Trade Stall:",e)}},children:" Clear Trade Stall "}),(0,u.jsx)("button",{className:"btn-neutral",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No player ID found. Cannot clear trophies.");const t=[];console.log("Clearing all trophies."),await s.A.post(`${i.A}/api/update-profile`,{playerId:e,updates:{trophies:t}}),console.log("Trophies cleared successfully on the server."),await B(e,l),l((e=>({...e,trophies:t}))),m("Trophies cleared successfully."),console.log("Trophies cleared successfully.")}catch(e){console.error("Error clearing trophies:",e)}},children:" Clear Trophies "}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{const e=null===r||void 0===r?void 0:r.playerId;if(e)try{const t=await s.A.post(`${i.A}/api/update-profile`,{playerId:e,updates:{firsttimeuser:!0,ftuestep:1}});if(t.data.success){const e={...r,firsttimeuser:!0,ftuestep:1};localStorage.setItem("player",JSON.stringify(e)),console.log("\u2705 FTUE reset successfully."),m("\u2705 FTUE reset. Refreshing page..."),setTimeout((()=>{window.location.reload()}),1e3)}else console.error("\u274c Failed to reset FTUE:",t.data.error),m("\u274c Failed to reset FTUE.")}catch(t){console.error("\u274c Error resetting FTUE:",t),m("\u274c Error resetting FTUE.")}else console.error("\u274c No player ID available.")},children:" Reset FTUE "}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{const e=null===r||void 0===r?void 0:r.playerId;if(e)try{await s.A.post(`${i.A}/api/send-mailbox-message`,{playerId:e,messageId:1}),console.log("\ud83d\udcec Welcome message added to mailbox."),m("\u2705 Welcome message delivered."),await B(e,l)}catch(t){console.error("\u274c Failed to send welcome message:",t),m("\u274c Failed to deliver welcome message.")}else console.error("\u274c No player ID available.")},children:" Resend Welcome Message "}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{const e=null===r||void 0===r?void 0:r.playerId;if(e)try{await s.A.post(`${i.A}/api/send-mailbox-message`,{playerId:e,messageId:101}),console.log("\ud83d\udcec Welcome message added to mailbox."),m("\u2705 Welcome message delivered."),await B(e,l)}catch(t){console.error("\u274c Failed to send welcome message:",t),m("\u274c Failed to deliver welcome message.")}else console.error("\u274c No player ID available.")},children:" Resend Reward Message "}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No user logged in. Cannot add money.");await s.A.post(`${i.A}/api/update-inventory-delta`,{playerId:e,delta:{type:"Money",quantity:1e4,target:"inventory"}});const t=await L(e);c(t),l((e=>({...e,inventory:t}))),await B(e,l,!0),console.log("\u2705 Added 10,000 Money successfully using delta update.")}catch(e){console.error("\u274c Error adding money:",e)}},children:" Add Money "}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No user logged in. Cannot perform Get Rich.");const t=[{type:"Money",quantity:1e5},{type:"Potion A",quantity:50},{type:"Potion B",quantity:50},{type:"Potion C",quantity:50},{type:"Gem",quantity:200},{type:"Book",quantity:100},{type:"Wood",quantity:1e3},{type:"Clay",quantity:1e3},{type:"Stone",quantity:1e3},{type:"Wheat",quantity:1e3},{type:"Corn",quantity:1e3},{type:"Carrot",quantity:1e3},{type:"Cloth",quantity:500},{type:"Lumber",quantity:500},{type:"Thread",quantity:500},{type:"Metal",quantity:500},{type:"Aged Wine",quantity:500},{type:"Sweater",quantity:500},{type:"Cheese",quantity:500},{type:"Sugarcane",quantity:500},{type:"Strawberry",quantity:500},{type:"Diamond Ring",quantity:500},{type:"Feverfew",quantity:100},{type:"Golden Key",quantity:100},{type:"Skeleton Key",quantity:100},{type:"Furniture",quantity:100},{type:"Port",quantity:100},{type:"Wool",quantity:500},{type:"Pottery",quantity:100},{type:"Portrait",quantity:10},{type:"Trident",quantity:10}];await s.A.post(`${i.A}/api/update-inventory-delta`,{playerId:e,delta:t.map((e=>({...e,target:"inventory"})))});const n=await L(e);c(n),l((e=>({...e,inventory:n}))),await B(e,l,!0),console.log("\ud83d\udcb0 Get Rich: Inventory updated successfully via delta.")}catch(e){console.error("\u274c Error performing Get Rich:",e)}},children:" Get Rich "}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{try{const e=null===r||void 0===r?void 0:r.playerId;if(!e)return void console.error("No user logged in. Cannot add skills.");const t=(await s.A.get(`${i.A}/api/resources`)).data;if(!Array.isArray(t))return void console.error("Master resources are not an array:",t);const n=t.filter((e=>"skill"===e.category));if(0===n.length)return console.warn("No skill resources found."),void alert("No skill resources available to add.");const a=await s.A.get(`${i.A}/api/skills/${e}`),o=[...a.data.skills||[]];n.forEach((e=>{const t=o.find((t=>t.type===e.type));t?t.quantity+=1:o.push({type:e.type,quantity:1})})),await s.A.post(`${i.A}/api/update-skills`,{playerId:e,skills:o});const c={...r,skills:o};l(c),localStorage.setItem("player",JSON.stringify(c)),m(904),console.log("Get Skills: Added skills successfully.")}catch(e){console.error("Error adding skills:",e),alert("Failed to add skills. Check console for details.")}},children:" Get Skills "}),(0,u.jsx)("h3",{children:"Create Single Valley Grid"}),(0,u.jsx)("input",{type:"text",placeholder:"Enter GridCoord",value:R,onChange:e=>$(e.target.value)}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{var e,t,n;const a=null===r||void 0===r||null===(e=r.location)||void 0===e?void 0:e.s,o=null===r||void 0===r||null===(t=r.location)||void 0===t?void 0:t.f;null===r||void 0===r||null===(n=r.location)||void 0===n||n.gtype;if(R&&a&&o)try{await async function(e){let{gridCoord:t}=e;try{console.log("\ud83d\udd0d Fetching all settlements to determine gridType for gridCoord:",t);const e=(await s.A.get(`${i.A}/api/settlements`)).data;if(!e||0===e.length)throw new Error("No settlements returned from the server");let n=null,a=null,o=null;for(const s of e)if(s.grids){for(const e of s.grids){for(const r of e)if(console.log(`\ud83d\udd0d Checking gridCoord ${r.gridCoord} (type: ${typeof r.gridCoord}) against input ${t}`),String(r.gridCoord)===String(t)){n=r,a=s._id,o=s.frontierId;break}if(n)break}if(n)break}if(!n)return console.warn(`\u2757 GridCoord ${t} not found in any settlement.`),void alert("GridCoord not found in any settlement data.");const r={gridCoord:t,gridType:n.gridType,settlementId:a,frontierId:o};console.log("\ud83d\udce4 Sending grid creation request with:",r);const l=await s.A.post(`${i.A}/api/create-grid`,r);console.log(`\u2705 Grid created: ${t}`,l.data),alert(`Grid ${t} created successfully!`)}catch(n){console.error(`\u274c Failed to create grid ${t}:`,n),alert(`Failed to create grid ${t}. See console for details.`)}}({gridCoord:R})}catch(l){console.error("Error creating single valley grid:",l),alert("Failed to create valley grid. See console for details.")}else alert("Missing gridCoord, settlementId, or frontierId.")},children:"Create Grid"}),(0,u.jsx)("h3",{children:"Teleport to Another Grid"}),(0,u.jsx)("input",{type:"text",placeholder:"Enter Username",value:O,onChange:e=>z(e.target.value)}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{try{const e=parseInt(O,10);if(isNaN(e))return void alert("Invalid gridCoord (not a number).");await(async e=>{if(!e||"number"!==typeof e||isNaN(e))return console.error("\u274c Invalid gridCoord passed to handleTeleport:",e),void m("\u274c Invalid grid selected for teleport.");const t=String(e).padStart(7,"0"),n=parseInt(t[3],10),a=parseInt(t[4],10);console.log(`\ud83d\udd22 Parsed gridCoord ${e} \u2192 row=${n}, col=${a}`);try{const t=(await s.A.get(`${i.A}/api/get-settlement-by-coords/${n}/${a}`)).data;if(!t||!t.grids||0===t.grids.length)return console.warn("No settlement or empty grids array found."),void m("\u274c Settlement data not found.");let o=null;for(const n of t.grids){for(const t of n)if(t.gridCoord===e){o=t;break}if(o)break}if(!o)return console.warn(`GridCoord ${e} not found in settlement.`),void m("\u274c Grid not found in settlement.");const c=r.location,u={x:0,y:0,g:o.gridId,s:t._id,f:r.location.f,gtype:o.gridType,gridCoord:e};(0,j.t3)(r,c,u,l,g,f,y,d,h,m,v)}catch(o){console.error("Error during teleport:",o),m("\u274c Teleport failed due to error.")}})(e)}catch(e){console.error("Error teleporting:",e),alert("Failed to teleport.")}},children:"Teleport"}),(0,u.jsx)("h3",{children:"Delete User Account"}),(0,u.jsx)("input",{type:"text",placeholder:"Enter Username",value:D,onChange:e=>M(e.target.value)}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{if(window.confirm(`\u26a0\ufe0f Are you absolutely sure you want to permanently delete the account for "${D}"? This cannot be undone.`))try{await(async e=>{var t;if("object"===typeof e&&null!==(t=e)&&void 0!==t&&t.username&&(e=e.username),e)try{const t=(await s.A.get(`${i.A}/api/get-player-by-username/${e}`)).data;if(!t||!t._id)return void alert(`Player not found for username: ${e}`);if(!window.confirm(`Are you sure you want to delete the account for "${e}"? This cannot be undone.`))return;const n=await s.A.post(`${i.A}/api/delete-player`,{playerId:t._id});n.data.success?(alert(`\u2705 Account for "${e}" deleted successfully.`),console.log(`\u2705 Account deleted for username: ${e}`)):(alert("\u274c Failed to delete account. See console for details."),console.error("Delete failed:",n.data))}catch(n){console.error("\u274c Error deleting account:",n),alert("An error occurred while trying to delete the account.")}else alert("Please enter a username.")})({username:D})}catch(e){console.error("Error deleting user account:",e),alert("Failed to delete user account. See console for details.")}},children:"Delete"}),(0,u.jsx)("h3",{children:"Send Message to All Users"}),(0,u.jsx)("input",{type:"text",placeholder:"Enter Message ID",value:G,onChange:e=>q(e.target.value)}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{if(G)try{await(async e=>{try{await s.A.post(`${i.A}/api/send-mailbox-message-all`,{messageId:e}),console.log(`\ud83d\udcec Message ${e} added to mailbox for all users.`),m(`\u2705 Message ${e} delivered to all users.`),null!==r&&void 0!==r&&r.playerId&&await B(r.playerId,l)}catch(t){console.error(`\u274c Failed to send message ${e}:`,t),m(`\u274c Failed to deliver message ${e}.`)}})(Number(G))}catch(e){console.error("Error sending message to all users:",e),alert("Failed to send message. See console for details.")}else alert("Please enter a message ID.")},children:"Send Message"})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("h3",{children:["FTUE Step: ",(null===r||void 0===r?void 0:r.ftuestep)||"Not set"]}),(0,u.jsxs)("div",{className:"debug-timers",children:[(0,u.jsx)("h3",{children:"\u23f3 Active Timers:"}),b.length>0?(0,u.jsx)("ul",{children:b.map(((e,t)=>(0,u.jsxs)("li",{children:[e.type," at (",e.x,", ",e.y,") -",e.growEnd?` \ud83c\udf31 Farming Timer Ends in ${e.remainingTime}s`:"",e.craftedItem?` \ud83d\udee0\ufe0f ${e.craftedItem}: `:"",e.craftEnd?` Ends in ${e.remainingTime}s`:""]},t)))}):(0,u.jsx)("p",{children:"No active timers."})]}),(0,u.jsx)(dt,{gridId:p,gridCoord:null===r||void 0===r||null===(t=r.location)||void 0===t?void 0:t.gridCoord,gridType:null===r||void 0===r||null===(n=r.location)||void 0===n?void 0:n.gtype,NPCsInGrid:{[p]:T.Ay.getNPCsInGrid(p)},playersInGrid:{[p]:N.A.getPlayersInGrid(p)}})]})};const pt=function(e){var t;let{onClose:n,masterResources:r,currentPlayer:l,setCurrentPlayer:c,setInventory:d,setBackpack:p,updateStatus:m,openPanel:h,setActiveStation:f,setModalContent:g,setIsModalOpen:y}=e;const v=(0,o.k)(),b=(null===l||void 0===l?void 0:l.inventory)||[],k=(null===l||void 0===l?void 0:l.backpack)||[],[w,S]=(null===l||void 0===l||l.warehouseCapacity,null===l||void 0===l||l.backpackCapacity,(0,a.useState)(!1)),[x,C]=(0,a.useState)(!1),[I,A]=(0,a.useState)({}),[T,N]=(0,a.useState)({}),j=null===l||void 0===l||null===(t=l.skills)||void 0===t?void 0:t.some((e=>"Backpack"===e.type)),P=D(l,r),E=e=>e.filter((e=>"Money"!==e.type&&"Gem"!==e.type)).reduce(((e,t)=>e+t.quantity),0),R=(e,t,n,a,o)=>{const r=Math.min(Math.max(0,a),o);t((e=>({...e,[n]:r})))},$=async()=>{const e=l.location.g===l.gridId;try{if(e){const e=k.filter((e=>"Tent"!==e.type&&"Boat"!==e.type)),t=e.reduce(((e,t)=>e+t.quantity),0),n=E(b);if(t>P.warehouse-n)return void m(20);const a=[...b];e.forEach((e=>{const t=a.findIndex((t=>t.type===e.type));-1!==t?a[t].quantity+=e.quantity:a.push(e)}));const o=k.filter((e=>"Tent"===e.type||"Boat"===e.type));await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,inventory:a,backpack:o}),c({...l,inventory:a,backpack:o}),d(a),p(o),m("Moved all items to warehouse")}else{const e=k.filter((e=>"Tent"===e.type||"Boat"===e.type));await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,backpack:e}),c({...l,backpack:e}),p(e),m("\u274c Discarded all items except Tent and Boat")}}catch(t){console.error("Error updating inventory:",t)}};return(0,u.jsxs)(V,{onClose:n,descriptionKey:"1001",titleKey:"1101",panelName:"InventoryPanel",children:["Gold"!==l.accountStatus&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"gold-pass-info",children:v[199]}),(0,u.jsx)("div",{className:"standard-buttons",style:{display:"flex",justifyContent:"center",width:"100%",marginBottom:"20px"},children:(0,u.jsx)("button",{className:"btn-gold",style:{width:"100%"},onClick:()=>tt(1,l,m),children:v[9061]})})]}),(0,u.jsx)("h3",{children:v[182]}),j?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"capacity-display",children:[v[183]," ",E(k),"/",P.backpack]}),k.length>0&&(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>S(!0),children:v[78]})}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"inventory-table",children:k.filter((e=>"Money"!==e.type&&"Gem"!==e.type)).length>0?k.filter((e=>"Money"!==e.type&&"Gem"!==e.type)).map(((e,t)=>(0,u.jsxs)("div",{className:"inventory-row",children:[(0,u.jsx)("div",{className:"inventory-cell name-cell",children:K(e.type,v)}),(0,u.jsx)("div",{className:"inventory-cell quantity-cell",children:e.quantity.toLocaleString()})]},t))):(0,u.jsx)("p",{children:v[77]})})]}):(0,u.jsx)("div",{className:"capacity-display",children:v[75]}),(0,u.jsx)("hr",{className:"inventory-divider"}),(0,u.jsx)("h3",{children:v[181]}),(0,u.jsxs)("div",{className:"capacity-display",children:[v[183]," ",E(b),"/",P.warehouse]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>{f({type:"Warehouse"}),n(),setTimeout((()=>{h("SkillsAndUpgradesPanel")}),0)},children:v[194]})}),b.length>0&&(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>C(!0),children:v[184]})}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"inventory-table",children:b.filter((e=>"Money"!==e.type&&"Gem"!==e.type)).length>0?b.filter((e=>"Money"!==e.type&&"Gem"!==e.type)).map(((e,t)=>(0,u.jsxs)("div",{className:"inventory-row",children:[(0,u.jsx)("div",{className:"inventory-cell name-cell",children:K(e.type,v)}),(0,u.jsx)("div",{className:"inventory-cell quantity-cell",children:e.quantity.toLocaleString()})]},t))):(0,u.jsx)("p",{children:v[76]})}),w&&(()=>{const e=l.location.g===l.gridId,t=k.filter((e=>"Tent"!==e.type&&"Boat"!==e.type)),n=0===k.length||0===t.length;return(0,u.jsxs)("div",{className:"inventory-modal",children:[(0,u.jsx)("button",{className:"close-button",onClick:()=>S(!1),children:"\u2716"}),(0,u.jsx)("h2",{children:e?v[187]:v[193]}),(0,u.jsxs)("div",{className:"inventory-modal-scroll",children:[(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:v[191]}),(0,u.jsx)("th",{children:v[185]}),(0,u.jsx)("th",{children:v[186]}),(0,u.jsx)("th",{children:v[192]})]})}),(0,u.jsx)("tbody",{children:k.map((t=>{const n=e&&"Tent"===t.type,a=e&&"Boat"===t.type,o=!e&&("Tent"===t.type||"Boat"===t.type);return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:K(t.type,v)}),(0,u.jsx)("td",{children:t.quantity.toLocaleString()}),(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"amount-input",children:[(0,u.jsx)("button",{onClick:()=>R(0,A,t.type,(I[t.type]||0)-1,t.quantity),disabled:(I[t.type]||0)<=0,children:"-"}),(0,u.jsx)("input",{type:"number",value:I[t.type]||0,onChange:e=>R(0,A,t.type,parseInt(e.target.value,10)||0,t.quantity)}),(0,u.jsx)("button",{onClick:()=>R(0,A,t.type,(I[t.type]||0)+1,t.quantity),disabled:(I[t.type]||0)>=t.quantity,children:"+"}),(0,u.jsx)("button",{onClick:()=>R(0,A,t.type,t.quantity,t.quantity),style:{marginLeft:"4px"},children:v[165]})]})}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"add-button",onClick:()=>(async e=>{const t=l.location.g===l.gridId,n=I[e.type]||0;if(!(n<=0))try{if(t){const t=E(b),a=P.warehouse-t;if(n>a)return void m(20);const o=[...b],r=o.findIndex((t=>t.type===e.type));-1!==r?o[r].quantity+=n:o.push({...e,quantity:n});const u=k.map((t=>{if(t.type===e.type){const e=t.quantity-n;return e>0?{...t,quantity:e}:null}return t})).filter(Boolean);await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,inventory:o,backpack:u}),c({...l,inventory:o,backpack:u}),d(o),p(u),m(`Moved ${n}x ${K(e.type,v)} to warehouse`)}else{const t=k.map((t=>{if(t.type===e.type){const e=t.quantity-n;return e>0?{...t,quantity:e}:null}return t})).filter(Boolean);await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,backpack:t}),c({...l,backpack:t}),p(t),m(`\u274c Discarded ${n}x ${K(e.type,v)}`)}}catch(a){console.error("Error updating inventory:",a)}})(t),disabled:n||a||o||!(I[t.type]>0&&I[t.type]<=t.quantity),children:e?v[187]:v[188]})})]},t.type)}))})]}),(0,u.jsx)("button",{className:"sell-button",onClick:$,disabled:n,children:e?v[189]:v[190]})]})]})})(),x&&(0,u.jsxs)("div",{className:"inventory-modal",children:[(0,u.jsx)("button",{className:"close-button",onClick:()=>C(!1),children:"\u2716"}),(0,u.jsx)("h2",{children:v[193]}),(0,u.jsxs)("div",{className:"inventory-modal-scroll",children:[(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:v[191]}),(0,u.jsx)("th",{children:v[185]}),(0,u.jsx)("th",{children:v[186]}),(0,u.jsx)("th",{children:v[192]})]})}),(0,u.jsx)("tbody",{children:b.filter((e=>"Money"!==e.type&&"Gem"!==e.type)).map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:K(e.type,v)}),(0,u.jsx)("td",{children:e.quantity.toLocaleString()}),(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"amount-input",children:[(0,u.jsx)("button",{onClick:()=>R(0,N,e.type,(T[e.type]||0)-1,e.quantity),disabled:(T[e.type]||0)<=0,children:"-"}),(0,u.jsx)("input",{type:"number",value:T[e.type]||0,onChange:t=>R(0,N,e.type,parseInt(t.target.value,10)||0,e.quantity)}),(0,u.jsx)("button",{onClick:()=>R(0,N,e.type,(T[e.type]||0)+1,e.quantity),disabled:(T[e.type]||0)>=e.quantity,children:"+"}),(0,u.jsx)("button",{onClick:()=>R(0,N,e.type,e.quantity,e.quantity),style:{marginLeft:"4px"},children:v[165]})]})}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"add-button",onClick:()=>(async e=>{try{const t=T[e.type]||0;if(t<=0)return;const n=b.map((n=>{if(n.type===e.type){const e=n.quantity-t;return e>0?{...n,quantity:e}:null}return n})).filter(Boolean);await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,inventory:n}),c({...l,inventory:n}),d(n),m(`\u274c Discarded ${t}x ${K(e.type,v)}`)}catch(t){console.error("Error updating inventory:",t)}})(e),disabled:!(T[e.type]>0&&T[e.type]<=e.quantity),children:v[188]})})]},e.type)))})]}),(0,u.jsx)("button",{className:"sell-button",onClick:()=>{g({title:"Are you sure?",message:"This will permanently discard ALL items in your warehouse!",message2:"This action cannot be undone.",custom:(0,u.jsxs)("div",{className:"standard-buttons",style:{marginTop:"20px"},children:[(0,u.jsx)("button",{className:"btn-danger",onClick:()=>{(async()=>{try{await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,inventory:[]}),c({...l,inventory:[]}),d([]),m("\u274c Discarded all warehouse items"),C(!1)}catch(e){console.error("Error updating inventory:",e)}})(),y(!1)},children:"Yes, Discard All"}),(0,u.jsx)("button",{className:"btn-success",onClick:()=>y(!1),style:{marginLeft:"10px"},children:"Cancel"})]})}),y(!0)},children:v[190]})]})]})]})};const mt=function(e){let{onClose:t,masterResources:n,masterTrophies:r,currentPlayer:l,setCurrentPlayer:c,updateStatus:d,openPanel:p,setActiveStation:m,inventory:h,setInventory:f,backpack:g,setBackpack:y}=e;const v=(0,o.k)(),[b,k]=(0,a.useState)([]),[w,S]=(0,a.useState)(!0),[x,C]=(0,a.useState)(null);return(0,a.useEffect)((()=>{null!==l&&void 0!==l&&l.playerId&&(async()=>{try{S(!0);const e=await s.A.get(`${i.A}/api/player/${l.playerId}/trophies`);e.data.success&&k(e.data.trophies||[])}catch(e){console.error("Error fetching trophies:",e),d("Failed to load trophies")}finally{S(!1)}})()}),[null===l||void 0===l?void 0:l.playerId]),(0,u.jsx)(V,{onClose:t,descriptionKey:"1035",titleKey:"1135",panelName:"TrophyPanel",children:(0,u.jsx)("div",{className:"trophy-container",children:w?(0,u.jsx)("div",{className:"loading",children:"Loading trophies..."}):(0,u.jsx)("div",{className:"trophy-grid",children:null===r||void 0===r?void 0:r.sort(((e,t)=>{const n=b.find((t=>t.name===e.name)),a=b.find((e=>e.name===t.name)),o=!!n,r=!!a,s=o&&!1===(null===n||void 0===n?void 0:n.collected),i=r&&!1===(null===a||void 0===a?void 0:a.collected);return s&&i?0:s&&!i?-1:!s&&i?1:o&&r?0:o&&!r?-1:!o&&r?1:0})).map(((e,t)=>{const n=b.find((t=>t.name===e.name)),a=!!n,o="Progress"===e.type?((e,t)=>{if(!e.progress||0===e.progress.length)return null;const n=(null===t||void 0===t?void 0:t.progress)||0,a=e.progress;let o=null,r=0,s=a[0];for(let c=0;c<a.length;c++){if(!(n>=a[c])){s=a[c];break}o=a[c],r=a[c],s=c+1<a.length?a[c+1]:a[c]}const i=s-r,l=i>0?(n-r)/i*100:100;return{current:n,lastAchievedMilestone:o,lastMilestone:r,nextMilestone:s,percentage:Math.min(100,Math.max(0,l)),displayText:`${n} / ${s}`,hasAchievedAll:n>=a[a.length-1]}})(e,n):null,r=a&&!1===(null===n||void 0===n?void 0:n.collected),p=x===e.name;return(0,u.jsxs)("div",{className:`trophy-card ${a?"":"unearned"} trophy-${(e.type||"Event").toLowerCase()}`,"data-tooltip":e.tooltip||"",children:[(0,u.jsxs)("div",{className:"trophy-icon-wrapper",children:[(0,u.jsx)("div",{className:"trophy-icon",children:"\ud83c\udfc6"}),a&&"Progress"===e.type&&(null===o||void 0===o?void 0:o.lastAchievedMilestone)&&(0,u.jsx)("div",{className:"progress-number",children:o.lastAchievedMilestone})]}),(0,u.jsxs)("div",{className:"trophy-content",children:[(0,u.jsx)("div",{className:"trophy-name",children:K(e.name,v)}),"Progress"===e.type&&o&&(0,u.jsxs)("div",{className:"trophy-progress",children:[(0,u.jsx)("div",{className:"progress-text",children:o.displayText}),(0,u.jsx)("div",{className:"progress-bar",children:(0,u.jsx)("div",{className:"progress-fill",style:{width:`${Math.min(100,Math.max(0,o.percentage))}%`}})})]}),"Count"===e.type&&a&&(null===n||void 0===n?void 0:n.qty)>0&&(0,u.jsx)("div",{className:"trophy-count",children:(0,u.jsxs)("div",{className:"count-text",children:[n.qty,"x"]})})]}),r&&(0,u.jsx)("div",{className:"trophy-reward-gem",onClick:()=>(async e=>{try{C(e);const t=await s.A.post(`${i.A}/api/collect-trophy-reward`,{playerId:l.playerId,trophyName:e});if(t.data.success){const{gemReward:n,inventory:a}=t.data;a&&(f(a),c((e=>({...e,inventory:a})))),k((t=>t.map((t=>t.name===e?{...t,collected:!0}:t)))),A.A.addFloatingText(`+${n} \ud83d\udc8e`,window.innerWidth/2,window.innerHeight/2,64),d(`\ud83d\udc8e Earned ${n} Gem${n>1?"s":""} from your trophy`)}else d(t.data.message||"Failed to collect reward")}catch(t){console.error("Error collecting trophy reward:",t),d("Failed to collect trophy reward")}finally{C(null)}})(e.name),style:{opacity:p?.5:1,cursor:p?"wait":"pointer"},children:"\ud83d\udc8e"})]},t)}))})})})},ht=(0,a.memo)((e=>{let{onClose:t}=e;const n=(0,o.k)();return(0,u.jsx)(V,{onClose:t,descriptionKey:"1018",titleKey:"1118",panelName:"HowToPanel",children:(0,u.jsxs)("div",{className:"panel-content",children:[(0,u.jsx)("p",{children:n[9e3]}),(0,u.jsx)("h2",{children:n[9001]}),(0,u.jsx)("p",{children:n[9002]}),(0,u.jsx)("p",{children:n[9003]}),(0,u.jsx)("h3",{children:n[9004]}),(0,u.jsx)("p",{children:n[9005]}),(0,u.jsx)("p",{children:n[9006]}),(0,u.jsx)("p",{children:n[9007]}),(0,u.jsx)("h3",{children:n[9008]}),(0,u.jsx)("p",{children:n[9009]}),(0,u.jsx)("p",{children:n[9010]}),(0,u.jsx)("p",{children:n[9011]}),(0,u.jsx)("h3",{children:n[9012]}),(0,u.jsx)("p",{children:n[9013]}),(0,u.jsx)("p",{children:n[9014]})]})})})),ft=(0,a.memo)((e=>{let{onClose:t}=e;const n=(0,o.k)();return(0,u.jsx)(V,{onClose:t,descriptionKey:"1026",titleKey:"1126",panelName:"HowToMoneyPanel",children:(0,u.jsxs)("div",{className:"panel-content",children:[(0,u.jsx)("h2",{children:n[9020]}),(0,u.jsx)("p",{children:n[9021]}),(0,u.jsx)("p",{children:n[9022]}),(0,u.jsx)("p",{children:n[9023]}),(0,u.jsx)("p",{children:n[9024]}),(0,u.jsx)("h2",{children:n[9025]}),(0,u.jsx)("p",{children:n[9026]}),(0,u.jsx)("p",{children:n[9027]})]})})})),gt=(0,a.memo)((e=>{let{currentPlayer:t,updateStatus:n,onClose:r}=e;const l=(0,o.k)(),[c,d]=(0,a.useState)({});return(0,a.useEffect)((()=>{(async()=>{try{const e=(await s.A.get(`${i.A}/api/store-offers`)).data||[],t={};e.forEach((e=>{t[e.id]=e})),d(t)}catch(e){console.error("\u274c Failed to load store offers:",e)}})()}),[]),(0,u.jsx)(V,{onClose:r,descriptionKey:"1034",titleKey:"1134",panelName:"HowToGemsPanel",children:(0,u.jsxs)("div",{className:"panel-content",children:[(0,u.jsx)("h2",{children:l[9030]}),(0,u.jsx)("p",{children:l[9031]}),(0,u.jsx)("p",{children:l[9032]}),(0,u.jsxs)("div",{className:"standard-buttons",style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",gap:"10px"},children:[(0,u.jsx)("p",{style:{marginBottom:"0px",fontWeight:"bold"},children:l[9040]}),(0,u.jsxs)("button",{className:"btn-gold",style:{width:"100%"},onClick:()=>tt(6,t,n),children:[l[9041],c[6]?` $${c[6].price.toFixed(2)}`:""]}),(0,u.jsx)("p",{style:{marginBottom:"0px",marginTop:"6px",fontWeight:"bold"},children:l[9042]}),(0,u.jsxs)("button",{className:"btn-gold",style:{width:"100%"},onClick:()=>tt(7,t,n),children:[l[9043],c[7]?` $${c[7].price.toFixed(2)}`:""]}),(0,u.jsx)("p",{style:{marginBottom:"0px",marginTop:"6px",fontWeight:"bold"},children:l[9044]}),(0,u.jsxs)("button",{className:"btn-gold",style:{width:"100%"},onClick:()=>tt(8,t,n),children:[l[9045],c[8]?` $${c[8].price.toFixed(2)}`:""]})]}),(0,u.jsx)("p",{children:l[9033]})]})})}));var yt=n(950);const vt=e=>{let{quest:t,state:n,onClick:r}=e;const s=(0,o.k)(),{symbol:i,title:l,completed:c,goals:d=[],textbody:p,reward:m,rewardqty:h}=t,[f,g]=(0,a.useState)(!1),y=(0,a.useRef)(null);return(0,u.jsxs)("div",{className:`quest-item ${n}`,onClick:r,style:{position:"relative"},onMouseEnter:()=>{clearTimeout(y.current),g(!0)},onMouseLeave:()=>{y.current=setTimeout((()=>{g(!1)}),100)},children:[(0,u.jsxs)("div",{className:"quest-header",children:[(0,u.jsx)("h2",{children:i}),"reward"===n&&(0,u.jsx)("span",{className:"quest-checkmark",children:"\u2705"})]}),(0,u.jsx)("h3",{children:l}),(0,u.jsx)("h4",{children:c?s[206]:s[207]}),d.map(((e,t)=>e.action&&e.item&&e.qty?(0,u.jsxs)("p",{children:[e.action," ",e.item," x",e.qty,": ",e.progress," of ",e.qty]},t):null)),m&&h&&(0,u.jsxs)("p",{children:["Reward: ",h," ",m]}),f&&p&&(0,u.jsx)("div",{style:{marginTop:"8px"},children:(0,u.jsx)("div",{className:"quest-info-expanded",children:p})})]})},bt=e=>{let{quest:t,state:n,onClick:r}=e;const s=(0,o.k)(),{symbol:i,title:l,textbody:c,reward:d,rewardqty:p,goals:m=[]}=t,h="reward"===n?s[208]:s[209],[f,g]=(0,a.useState)(!1);return(0,u.jsxs)("div",{className:`quest-item ${n}`,onClick:r,style:{position:"relative"},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,u.jsxs)("div",{className:"quest-header",children:[(0,u.jsx)("h2",{children:i}),"reward"===n&&(0,u.jsx)("span",{className:"quest-checkmark",children:"\u2705"})]}),(0,u.jsx)("h3",{children:l}),(0,u.jsx)("div",{className:"quest-goals",children:m.map(((e,t)=>e.action&&e.item&&e.qty?(0,u.jsxs)("p",{children:[e.action," ",e.item," x",e.qty]},t):null))}),(0,u.jsxs)("p",{children:["Reward: ",p," ",d]}),(0,u.jsx)("button",{className:"quest-giver-button",children:h}),f&&c&&(0,u.jsx)("div",{style:{marginTop:"8px"},children:(0,u.jsx)("div",{className:"quest-info-expanded",children:c})})]})};const kt=function(e){let{onClose:t,currentPlayer:n}=e;const r=(0,o.k)(),[l,c]=(0,a.useState)([]),[d,p]=(0,a.useState)([]);return(0,a.useEffect)((()=>{null!==n&&void 0!==n&&n.activeQuests&&c(n.activeQuests)}),[n]),(0,a.useEffect)((()=>{(async()=>{try{const e=await s.A.get(`${i.A}/api/quests`);p(e.data||[])}catch(e){console.error("Error fetching quest templates:",e)}})()}),[]),(0,u.jsx)(V,{onClose:t,descriptionKey:"1006",titleKey:"1106",panelName:"QuestPanel",children:l&&0!==l.length?(0,u.jsx)("div",{className:"standard-panel",children:l.map(((e,t)=>{var n,a,o;const r=d.find((t=>t.title===e.questId)),s=[{action:e.goal1action,item:e.goal1item,qty:e.goal1qty,progress:(null===(n=e.progress)||void 0===n?void 0:n.goal1)||0},{action:e.goal2action,item:e.goal2item,qty:e.goal2qty,progress:(null===(a=e.progress)||void 0===a?void 0:a.goal2)||0},{action:e.goal3action,item:e.goal3item,qty:e.goal3qty,progress:(null===(o=e.progress)||void 0===o?void 0:o.goal3)||0}].filter((e=>e.action&&e.item&&e.qty));return(0,u.jsx)(vt,{className:"resource-button "+(e.completed?"reward":"in-progress"),quest:{symbol:e.symbol,title:e.questId,completed:e.completed,goals:s,textbody:(null===r||void 0===r?void 0:r.textbody)||"",reward:(null===r||void 0===r?void 0:r.reward)||"",rewardqty:(null===r||void 0===r?void 0:r.rewardqty)||1},state:e.completed?"reward":"in-progress",onClick:null},t)}))}):(0,u.jsx)("p",{children:r[203]})})},wt=e=>{var t,n;let{resource:a,inventory:o,backpack:r,masterResources:s,currentPlayer:i,strings:l}=e;const c=o||[],d=r||[],p=s||[],m=((null===(t=c.find((e=>"Gem"===e.type)))||void 0===t?void 0:t.quantity)||0)+((null===(n=d.find((e=>"Gem"===e.type)))||void 0===n?void 0:n.quantity)||0),h=(null===i||void 0===i?void 0:i.skills)||[];let f=0,g=0;const y=[];for(let u=1;u<=4;u++){const e=a[`ingredient${u}`],t=a[`ingredient${u}qty`];if(e&&t){var v,b;const n=p.find((t=>t.type===e)),a=(null===n||void 0===n?void 0:n.moneyvalue)||0;f+=a*t;const o=((null===(v=c.find((t=>t.type===e)))||void 0===v?void 0:v.quantity)||0)+((null===(b=d.find((t=>t.type===e)))||void 0===b?void 0:b.quantity)||0),r=Math.min(o,t);g+=a*Math.min(o,t),r>0&&y.push({symbol:(null===n||void 0===n?void 0:n.symbol)||"",name:K(e,l),amount:r})}}if(a.requires){const e=p.find((e=>e.type===a.requires)),t=(null===e||void 0===e?void 0:e.moneyvalue)||0;f+=t;h.some((e=>e.type===a.requires))&&(g+=t,y.push({symbol:(null===e||void 0===e?void 0:e.symbol)||"",name:K(a.requires,l),amount:"\u2713",isSkill:!0}))}const k=f>0?g/f:0,w=Math.ceil(a.gemcost*(1-k)),S=m>=w;return{render:()=>(0,u.jsxs)("div",{className:"gem-purchase-tooltip",children:[(0,u.jsxs)("div",{className:"spending-summary",children:[(0,u.jsx)("div",{className:"spending-label",children:"Will use:"}),y.map(((e,t)=>(0,u.jsxs)("div",{className:"spending-line",children:[e.symbol," ",e.amount," ",e.isSkill?"(Skill)":""]},t))),(0,u.jsxs)("div",{className:"spending-line gem-line",children:["\ud83d\udc8e ",w,"  (You have: \ud83d\udc8e ",m,")"]})]}),!S&&(0,u.jsx)("div",{className:"tooltip-footer",children:"Click for more \ud83d\udc8e"})]}),getModifiedRecipe:()=>{const e={...a};for(let o=1;o<=4;o++){const r=a[`ingredient${o}`],s=a[`ingredient${o}qty`];if(r&&s){var t,n;const a=((null===(t=c.find((e=>e.type===r)))||void 0===t?void 0:t.quantity)||0)+((null===(n=d.find((e=>e.type===r)))||void 0===n?void 0:n.quantity)||0);e[`ingredient${o}qty`]=Math.min(a,s)}}return e.ingredient5="Gem",e.ingredient5qty=w,e},hasEnoughGems:S,gemCost:w}},St=e=>{let{symbol:t,name:n,details:r,info:s,disabled:i,className:l,onClick:c,hideInfo:d=!1,children:p,transactionKey:m,onTransactionAction:h,isTransactionMode:f=!1,gemCost:g=null,onGemPurchase:y=null,hideGem:v=!1,resource:b=null,inventory:k=null,backpack:w=null,masterResources:S=null,currentPlayer:x=null}=e;const C=(0,o.k)(),{openPanel:I}=(0,F.d)(),[A,T]=(0,a.useState)(!1),[N,j]=(0,a.useState)({top:0,left:0}),[P,E]=(0,a.useState)(!1),[R]=(0,a.useState)((()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`)),[$,O]=(0,a.useState)(!1),[z,D]=(0,a.useState)({top:0,left:0}),M=(0,a.useRef)(null),L=!!(b&&k&&w&&S&&x&&g&&y),B=(0,a.useMemo)((()=>{if(!L)return null;try{return wt({resource:b,inventory:k,backpack:w,masterResources:S,currentPlayer:x,strings:C})}catch(e){return console.error("Error creating gem calculation:",e),null}}),[L,b,k,w,S,x,C]);(0,a.useEffect)((()=>{f&&m&&console.log(`\ud83d\udcf1 [RESOURCE_BUTTON] Processing state changed: ${P} for ${m}`)}),[P,m,f]);const G=e=>{j({top:e.clientY+window.scrollY+10,left:e.clientX+window.scrollX+15})},q=e=>{D({top:e.clientY+window.scrollY+10,left:e.clientX+window.scrollX+15})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"resource-button-wrapper",children:[(0,u.jsxs)("button",{ref:M,className:`resource-button ${i||P?"disabled":""} ${l||""} ${P?"processing":""}`,onClick:async e=>{if(!i&&!P)if(f&&h&&m){e.preventDefault(),e.stopPropagation(),console.log(`\ud83d\udd12 [RESOURCE_BUTTON] Setting processing state for ${m}`),E(!0);try{await h(R,m),console.log(`\u2705 [RESOURCE_BUTTON] Transaction completed for ${m}`)}catch(t){console.error("Transaction failed:",t)}finally{console.log(`\ud83d\udd13 [RESOURCE_BUTTON] Clearing processing state for ${m}`),E(!1)}}else c&&c(e)},disabled:i||P,style:{opacity:i||P?.6:1,cursor:i||P?"not-allowed":"pointer"},children:[(0,u.jsxs)("span",{className:"resource-title",children:[P?"\u23f3":t," ",P?"Processing...":n]}),(0,u.jsx)("span",{className:"resource-details",dangerouslySetInnerHTML:{__html:P?"Processing...":r}}),p,!d&&s&&(0,u.jsx)("span",{className:"info-button",onMouseEnter:e=>{T(!0),G(e)},onMouseMove:G,onMouseLeave:()=>T(!1),children:"\u2139\ufe0f"})]}),!v&&L&&B&&!P&&(0,u.jsx)("span",{className:"gem-button",onClick:e=>{if(e.preventDefault(),e.stopPropagation(),y&&B)if(B.hasEnoughGems){const e=B.getModifiedRecipe();y(e)}else I("HowToGemsPanel")},onMouseEnter:e=>{O(!0),q(e)},onMouseMove:q,onMouseLeave:()=>O(!1),children:"\ud83d\udc8e"})]}),A&&s&&yt.createPortal((0,u.jsx)("div",{className:"info-toaster",style:{top:N.top,left:N.left,position:"absolute"},children:"string"===typeof s?(0,u.jsx)("p",{dangerouslySetInnerHTML:{__html:s}}):(0,u.jsx)(u.Fragment,{children:s})}),document.body),$&&B&&yt.createPortal((0,u.jsx)("div",{style:{top:z.top,left:z.left,position:"absolute",zIndex:99999},children:B.render()}),document.body)]})};var xt=n(819);const Ct=JSON.parse('[{"type":"Kent","symbol":"\ud83d\udc68\ud83c\udffd","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Wheat","interest2":"Wheat","interest3":"Wheat"},{"type":"The Shepherd","symbol":"\ud83d\udc75\ud83c\udffb","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Cow","interest2":"Sheep","interest3":"Cow"},{"type":"Portia","symbol":"\ud83d\udc69\ud83c\udffb\u200d\u2696\ufe0f","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"School","interest2":"Hospital","interest3":"Library","Cassio":"love","Iago":"rival"},{"type":"Hotspur","symbol":"\ud83d\udc82","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Zombie","interest2":"Ghost","interest3":"Spider","Cassio":"rival"},{"type":"Cassio","symbol":"\ud83e\udddd","interest1":"Duke Angelo","interest2":"Juliet","Hotspur":"rival","Iago":"rival","Juliet":"friend"},{"type":"Mistress Quickly","symbol":"\ud83e\uddd1\ud83c\udffc\u200d\ud83c\udf73","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Apple Pie","interest2":"Strawberry Pie","interest3":"Lemon","Hotspur":"love"},{"type":"Feste","symbol":"\ud83d\udc68\ud83c\udffd\u200d\ud83c\udfa8","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Portrait","interest2":"Ink","Caliban":"friend"},{"type":"Helena","symbol":"\ud83e\uddd1\u200d\ud83c\udfa4","interest1":"Rosesmary","Gertrude":"love"},{"type":"Titania","symbol":"\ud83e\udddd\u200d\u2640\ufe0f","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Dragon","Prospero":"friend"},{"type":"Vampire","symbol":"\ud83e\udddb\ud83c\udffb\u200d\u2642\ufe0f"},{"type":"Prospero","symbol":"\ud83e\uddd9\ud83c\udffb","Titania":"friend","Leontes":"friend"},{"type":"Falstaff","symbol":"\ud83d\udc68\ud83c\udffb\u200d\ud83c\udfed","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Port","interest2":"Grapes","interest3":"Mistress Quickly","Mistress Quickly":"love"},{"type":"Apothecary","symbol":"\ud83e\uddd5","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Potion A"},{"type":"Iago","symbol":"\ud83e\udd77","buff4love":3,"buff4marriage":10,"buff4friend":2,"interest1":"Gem","Portia":"rival","Cassio":"rival"},{"type":"Gertrude","symbol":"\ud83d\udc78","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Queen\'s Cake","Helena":"love"},{"type":"Leontes","symbol":"\ud83e\udec5","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"King\'s Crown","Prospero":"friend","Iago":"rival","Gertrude":"love"},{"type":"Caliban","symbol":"\ud83e\uddcc","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Bones","Feste":"friend","Titania":"love","Prospero":"rival"},{"type":"Juliet","symbol":"\ud83d\udc69\u200d\ud83e\uddb0","buff4love":3,"buff4marriage":5,"buff4friend":2,"interest1":"Tulip","Cassio":"friend"}]'),It=async(e,t,n)=>{try{var a;const o=e._id||e.playerId;if(null===(a=e.relationships)||void 0===a?void 0:a.find((e=>e.name===t))){const e=await s.A.post(`${i.A}/api/update-relationship`,{playerId:o,targetName:t,delta:n});return{success:e.data.success,player:e.data.player,relationships:e.data.relationships,relationship:e.data.relationship}}{const e=await s.A.post(`${i.A}/api/add-relationship`,{playerId:o,targetName:t,initialScore:n});return{success:e.data.success,player:e.data.player,relationships:e.data.relationships}}}catch(o){return console.error("Error updating relationship:",o),{success:!1,error:o.message}}},At=async(e,t,n,a)=>{try{const r=e._id||e.playerId,l=await s.A.post(`${i.A}/api/add-or-update-relationship-status`,{playerId:r,name:t,status:n,value:a});if(l.data.success&&"met"===n&&!0===a){const e=Ct.filter((e=>e.type)).map((e=>e.type)),t=l.data.player.relationships.filter((e=>!0===e.met));if(e.every((e=>t.some((t=>t.name===e)))))try{const e=await s.A.post(`${i.A}/api/earn-trophy`,{playerId:r,trophyName:"Meet the Cast"});e.data.success&&e.data.isNewMilestone&&console.log("\ud83c\udfc6 Player earned Meet the Cast trophy!")}catch(o){console.error("Error awarding Meet the Cast trophy:",o)}}return{success:l.data.success,player:l.data.player,relationship:l.data.relationship}}catch(r){return console.error("Error updating relationship status:",r),{success:!1,error:r.message}}},Tt=(e,t)=>null!==e&&void 0!==e&&e.relationships?e.relationships.find((e=>e.name===t))||{name:t,relscore:0}:null,Nt=(e,t)=>{var n;const a=Ct.find((t=>t.type===e));if(!a||!a.buff4friend&&!a.buff4love&&!a.buff4marriage)return{multiplier:1,bonusMessage:""};const o=null===(n=t.relationships)||void 0===n?void 0:n.find((t=>t.name===e));return o?!0===o.married&&a.buff4marriage?{multiplier:a.buff4marriage,bonusMessage:` ${a.buff4marriage}x for being married.`}:!0===o.love&&a.buff4love?{multiplier:a.buff4love,bonusMessage:` ${a.buff4love}x for being in love.`}:!0===o.friend&&a.buff4friend?{multiplier:a.buff4friend,bonusMessage:` ${a.buff4friend}x for being friends.`}:{multiplier:1,bonusMessage:""}:{multiplier:1,bonusMessage:""}};let jt={matchingInterests:0,matchingRandom:0,totalRounds:0};const Pt=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\ud83d\ude0a",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\ud83e\udd14",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;console.log("\ud83d\udde8\ufe0f playConversation started:",{playerPosition:e,npcPosition:t,playerEmoji:n,npcEmoji:a,playerId:s,npcId:i,interaction:l}),jt={matchingInterests:0,matchingRandom:0,totalRounds:0};const u=(null===l||void 0===l?void 0:l.rounds)||Math.floor(3*Math.random())+1,p=()=>{const e=document.querySelector(".homestead");if(e){const t=e.querySelector(".grid");if(t){const e=t.querySelector(".tile");if(e)return e.offsetWidth}}return o},m={playerIcon:(null===c||void 0===c?void 0:c.icon)||n,npcIcon:a,currentPlayer:c,interaction:l,masterResources:d,npcId:i};if(null!==c&&void 0!==c&&c.relationships&&i){const e=c.relationships.find((e=>e.name===i));e&&(m.relscore=e.relscore)}for(let h=0;h<u;h++){const o=h+1;jt.totalRounds=o;const r=s||`player_${Math.floor(e.x)}_${Math.floor(e.y)}`,c=null===l||void 0===l?void 0:l[`playertopic${o}`],d=c?Et(c,m,!0):"\ud83d\udcad";await Rt("player",r,n,d),await Ot("player",e,p()),await zt(1500),await $t(r),await zt(500);const u=i||`npc_${Math.floor(t.x)}_${Math.floor(t.y)}`,f=null===l||void 0===l?void 0:l[`npctopic${o}`],g=f?Et(f,m,!1):"\ud83d\udcad";let y=!1;"interest"===c&&"interest"===f&&d===g&&(jt.matchingInterests++,y=!0,console.log("\ud83c\udfaf Matching interests!",d,g,"Total matches:",jt.matchingInterests)),"random"===c&&"random"===f&&d===g&&(jt.matchingRandom++,y=!0,console.log("\ud83c\udfaf Matching random topics!",d,g,"Total matches:",jt.matchingRandom)),await Rt("npc",u,a,g,y),await Ot("npc",t,p()),await zt(1500),await $t(u),await zt(500)}r&&r(jt)},Et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"\u2753";if(e.startsWith("emoji_")){return{emoji_heart:"\u2764\ufe0f",emoji_pinkheart:"\ud83d\udc96",emoji_friend:"\ud83d\udc6b",emoji_diamond:"\ud83d\udc8d",emoji_forgive:"\ud83d\ude4f",emoji_questionmark:"\u2753",emoji_annoyed:"\ud83d\ude20",emoji_laughing:"\ud83d\ude02",emoji_blush:"\ud83d\ude0a",emoji_hug:"\ud83e\udd17",emoji_wink:"\ud83d\ude09",emoji_kiss:"\ud83d\ude18",emoji_angry:"\ud83d\ude21",emoji_sad:"\ud83d\ude22",emoji_happy:"\ud83d\ude0a",emoji_thinking:"\ud83e\udd14",emoji_wow:"\ud83d\ude2e",emoji_love:"\ud83e\udd70",emoji_cool:"\ud83d\ude0e",emoji_party:"\ud83e\udd73",emoji_sleepy:"\ud83d\ude34",emoji_hungry:"\ud83d\ude0b",emoji_brokenheart:"\ud83d\udc94"}[e]||"\u2753"}switch(e){case"player":return t.playerIcon||"\ud83d\ude0a";case"npc":return t.npcIcon||"\ud83e\udd14";case"interest":if(n&&t.currentPlayer&&t.masterResources){const e=[...t.currentPlayer.inventory||[],...t.currentPlayer.backpack||[]].filter((e=>"Money"!==e.type&&"Gem"!==e.type)).sort(((e,t)=>t.quantity-e.quantity)).slice(0,5).map((e=>{const n=t.masterResources.find((t=>t.type===e.type));return(null===n||void 0===n?void 0:n.symbol)||e.type})).filter((e=>e));if(e.length>0)return e[Math.floor(Math.random()*e.length)]}if(!n&&t.npcId&&t.masterResources){const e=Ct.find((e=>e.type===t.npcId));if(e){const n=[];let a=1;for(;e[`interest${a}`];){const o=e[`interest${a}`],r=t.masterResources.find((e=>e.type===o));r&&r.symbol&&n.push(r.symbol),a++}if(n.length>0)return n[Math.floor(Math.random()*n.length)]}}const a=["\ud83c\udfa8","\ud83d\udcda","\ud83d\udef6","\ud83d\udd2c","\ud83e\ude89","\u26fa","\ud83d\udcb0"];return a[Math.floor(Math.random()*a.length)];case"relationship":return"\ud83d\udc6b";case"random":if(t.relscore>80){const e=["\ud83e\udddd\u200d\u2640\ufe0f","\ud83d\udc32","\ud83e\uddcc","\ud83d\udc8d","\ud83d\udc7b","\ud83d\udd31","\ud83c\udfaa","\ud83e\udd84","\ud83d\udd11","\ud83d\uddbc\ufe0f"];return e[Math.floor(Math.random()*e.length)]}{const e=["\ud83d\ude82","\ud83d\ude9c","\ud83d\udc69\u200d\ud83c\udf3e","\ud83d\udc3a","\ud83d\udc3b"];return e[Math.floor(Math.random()*e.length)]}case"quest":return"\u2705";case"trade":return"\ud83d\udcb0";case"skill":return"\ud83d\udcaa";case"location":return"\ud83d\uddfa\ufe0f";case"weather":const o=["\u2600\ufe0f","\ud83c\udf28\ufe0f","\ud83c\udf26\ufe0f","\ud83c\udf29\ufe0f"];return o[Math.floor(Math.random()*o.length)];case"time":return"\ud83d\udd50";default:return e}},Rt=async function(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];console.log("\ud83d\udde8\ufe0f showSpeech called:",{speakerType:e,speakerId:t,emoji:n,topic:a,isMatch:o}),oe.addSpeech(t,n,a||n,o)},$t=async e=>{oe.removeSpeech(e)},Ot=async(e,t,n)=>{let a;if("player"===e){const e=document.querySelectorAll(".pc");a=Array.from(e).find((e=>{const a=e.style.transform;if(a){const e=a.match(/translate\((-?\d+(?:\.\d+)?)px,\s*(-?\d+(?:\.\d+)?)px\)/);if(e){const a=parseFloat(e[1]),o=parseFloat(e[2]),r=t.x*n,s=t.y*n;return Math.abs(a-r)<n/2&&Math.abs(o-s)<n/2}}return!1}))}else{const e=document.querySelectorAll(".npc");a=Array.from(e).find((e=>{const a=e.style.transform;if(a){const e=a.match(/translate\((-?\d+(?:\.\d+)?)px,\s*(-?\d+(?:\.\d+)?)px\)/);if(e){const a=parseFloat(e[1]),o=parseFloat(e[2]),r=t.x*n,s=t.y*n;return Math.abs(a-r)<n/2&&Math.abs(o-s)<n/2}}return!1}))}a&&(a.classList.add("speaking-animation"),setTimeout((()=>{a.classList.remove("speaking-animation")}),1500))},zt=e=>new Promise((t=>setTimeout(t,e))),Dt=e=>{let{currentPlayer:t,setCurrentPlayer:n,targetName:r,targetType:s="npc",targetEmoji:i=null,onRelationshipChange:l,showActions:c=!0,compact:d=!1,masterInteractions:p=[],updateStatus:m,checkDistance:h=null,onInteractionClick:f=null,playerPosition:g=null,targetPosition:y=null,TILE_SIZE:v=30,masterResources:b=[]}=e;const[k,w]=(0,a.useState)(null),[S,x]=(0,a.useState)(!1),[C,I]=(0,a.useState)(!1),A=(0,o.k)();(0,a.useEffect)((()=>{T()}),[null===t||void 0===t?void 0:t.playerId,r]);const T=async()=>{var e;if(!t||!r)return;const a=null===(e=t.relationships)||void 0===e?void 0:e.find((e=>e.name===r));if(a)w(a);else if(!S){x(!0);const e=await It(t,r,0);if(e.success&&e.player){n(e.player);const t=e.player.relationships.find((e=>e.name===r));w(t||{name:r,relscore:0})}x(!1)}},N=async e=>{if(!k||C)return;if(I(!0),h&&!h())return m&&m(620),void I(!1);f&&await f();const n=((e,t,n)=>{if(!n.relbitadd)return{allowed:!0};if("married"===n.relbitadd){var a;const n=null===(a=e.relationships)||void 0===a?void 0:a.find((e=>!0===e.married&&e.name!==t));if(n)return{allowed:!1,reason:`You are already married to ${n.name}`}}if("friend"===n.relbitadd){const n=[];Ct.forEach((e=>{const a=e.type;"rival"===e[t]&&n.push(a)}));for(const a of n){var o;const n=null===(o=e.relationships)||void 0===o?void 0:o.find((e=>e.name===a));if(!0===(null===n||void 0===n?void 0:n.friend))return{allowed:!1,reason:`${t} won't be friends with you because you're friends with ${a}`}}}if("love"===n.relbitadd||"crush"===n.relbitadd){const e=Ct.find((e=>e.type===t));if(e){const n=Object.entries(e).filter((e=>{let[t,n]=e;return"type"!==t&&"symbol"!==t&&"love"===n}));if(n.length>0)return{allowed:!1,reason:`${t} is already in love with ${n[0][0]}`}}}return{allowed:!0}})(t,r,e);if(!n.allowed)return m&&m(`\u274c ${n.reason}`),void I(!1);if(g&&y){var a;const n=t.icon||"\ud83d\ude0a",o=i||("npc"===s?"\ud83e\udd14":"\ud83d\ude0a"),l=(null===(a=t._id)||void 0===a?void 0:a.toString())||t.playerId,c=r;let d=null;await Pt(g,y,n,o,v,(e=>{d=e}),l,c,e,t,b);const u=e.chance||1,p=d?((e,t,n,a,o)=>{let r=e||1;if("Talk"===t.interaction&&n.matchingInterests>0&&(r+=.5*n.matchingInterests),"Talk"===t.interaction&&n.matchingRandom>0&&(r+=.5*n.matchingRandom),a&&a.relationships){const e=a.relationships.find((e=>e.name===o));if(e&&e.relstatus)for(let n=1;n<=3;n++){const a=t[`relbuff${n}`];a&&e.relstatus.includes(a)&&(r+=t[`relbuffamount${n}`]||.2)}}return Math.min(r,1)})(u,e,d,t,r):u;console.log("\ud83c\udfb2 Chance calculation:",{baseChance:u,conversationResults:d,modifiedChance:p});const m=Math.random()<=p;await j(m,e)}else{const t=Math.random()<=(e.chance||1);await j(t,e)}},j=async(e,a)=>{if(e){const e=a.relscoreresult||0,l=await It(t,r,e);if(l.success&&l.player){n(l.player);let d=l.player.relationships.find((e=>e.name===r));if(w(d),a.relbitadd){const e=await At(t,r,a.relbitadd,!0);if(e.success&&e.player){n(e.player),d=e.player.relationships.find((e=>e.name===r)),w(d);let t=[];if("npc"===s){t=((e,t)=>{const n=[];return Ct.forEach((a=>{const o=a.type;if(o===e)return;const r=a[e];r&&("love"===t&&"love"===r||"friend"===t&&"rival"===r?n.push({npc:o,setScore:-50,clearAllStatuses:!0,setStatus:"rival"}):"friend"===t&&"friend"===r?n.push({npc:o,scoreChange:30}):"rival"===t&&"rival"===r?n.push({npc:o,scoreChange:50}):"rival"===t&&"love"===r&&n.push({npc:o,setScore:-50,clearAllStatuses:!0,setStatus:"rival"}))})),n})(r,a.relbitadd);for(const a of t)if(a.clearAllStatuses){var o,i;const t=await It(e.player,a.npc,a.setScore-((null===(o=e.player.relationships)||void 0===o||null===(i=o.find((e=>e.name===a.npc)))||void 0===i?void 0:i.relscore)||0));if(t.success&&t.player){const e=p.filter((e=>!1===e.isaninteraction)).map((e=>e.interaction.toLowerCase()));for(const n of e)await At(t.player,a.npc,n,!1);if(a.setStatus){const e=await At(t.player,a.npc,"met",!0),o=await At(e.success?e.player:t.player,a.npc,a.setStatus,!0);o.success&&o.player&&n(o.player)}}}else if(a.scoreChange){const t=await It(e.player,a.npc,a.scoreChange);if(t.success&&t.player){var c;const e=null===(c=t.player.relationships)||void 0===c?void 0:c.find((e=>e.name===a.npc));if(e&&!e.met){const e=await At(t.player,a.npc,"met",!0);e.success&&e.player?n(e.player):n(t.player)}else n(t.player)}}}if(m){const e=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r="";if(n&&t){switch(t){case"met":r=`${o[602]} ${e}.`;break;case"friend":r=`${o[603]} ${e}.`;break;case"crush":r=`${o[604]} ${e}.`;break;case"love":r=`${o[605]} ${e}.`;break;case"married":r=`${o[606]} ${e} ${o[607]}`;break;case"rival":r=`${o[606]} ${e} ${o[608]}`;break;default:r=`${o[615]} ${e} ${o[616]}`}if(a&&a.length>0){const e=a.filter((e=>"rival"===e.setStatus||e.scoreChange<0)),t=a.filter((e=>e.scoreChange>0&&"rival"!==e.setStatus));if(e.length>0)if(1===e.length){const t=e[0];"rival"===t.setStatus?r+=` ${t.npc} ${o[609]}`:r+=` ${t.npc} ${o[610]}`}else r+=` ${e.map((e=>e.npc)).join(` ${o[614]} `)} ${o[611]}`;t.length>0&&(1===t.length?r+=` ${t[0].npc} ${o[612]}`:r+=` ${t.map((e=>e.npc)).join(` ${o[614]} `)} ${o[613]}`)}}return r}(r,a.relbitadd,!0,t,A);e&&m(e)}}}if(a.relbitremove){const e=await At(t,r,a.relbitremove,!1);e.success&&e.player&&(n(e.player),d=e.player.relationships.find((e=>e.name===r)),w(d))}const u=p.filter((e=>{if(!1!==e.isaninteraction)return!1;if("number"!==typeof e.relscoremin)return!1;const t=e.interaction.toLowerCase();return d.relscore<e.relscoremin&&!0===d[t]}));for(const e of u){const a=e.interaction.toLowerCase(),o=await At(t,r,a,!1);o.success&&o.player&&(n(o.player),d=o.player.relationships.find((e=>e.name===r)),w(d))}if(0!==e){const t=r;oe.showOutcome(t,e>0)}}}else{const e=-(a.relscoreresult||0),o=await It(t,r,e);if(o.success&&o.player){n(o.player);let e=o.player.relationships.find((e=>e.name===r));w(e);const a=p.filter((t=>{if(!1!==t.isaninteraction)return!1;if("number"!==typeof t.relscoremin)return!1;const n=t.interaction.toLowerCase();return e.relscore<t.relscoremin&&!0===e[n]}));for(const o of a){const a=o.interaction.toLowerCase(),s=await At(t,r,a,!1);s.success&&s.player&&(n(s.player),e=s.player.relationships.find((e=>e.name===r)),w(e))}}if(e<0){const e=r;oe.showOutcome(e,!1)}}l&&l(a,e),I(!1)};if(!k)return null;const P=(E=k.relscore)>50?"#4CAF50":E>0?"#8BC34A":0===E?"#9E9E9E":E>-50?"#FF9800":"#F44336";var E;const R=p.filter((e=>{if(!1!==e.isaninteraction)return!1;const t=e.interaction.toLowerCase();return e.isvisible&&!0===k[t]}));if(d)return(0,u.jsxs)("div",{className:"relationship-card-compact",children:[(0,u.jsx)("span",{className:"relationship-name",children:r}),(0,u.jsxs)("span",{className:"relationship-score",style:{color:P},children:["[",k.relscore,"]"]}),R.map((e=>(0,u.jsxs)("span",{className:"relationship-status",children:["\u2022 ",K(e.interaction,A)]},e.interaction)))]});const $=p.filter((e=>{var t,n;if(!1===e.isaninteraction)return!1;if(!e.isvisible)return!1;const a=null!==(t=e.relscoremin)&&void 0!==t?t:-100,o=null!==(n=e.relscoremax)&&void 0!==n?n:100;if(k.relscore<a||k.relscore>o)return!1;if(e.relbitrequired&&!k[e.relbitrequired])return!1;for(let r=1;r<=3;r++){const t=e[`relbitblock${r}`];if(t)if("all"===t){if(k.met||k.friend||k.crush||k.love||k.married||k.rival)return!1}else if(k[t])return!1}return!0}));return(0,u.jsx)("div",{className:"relationship-card",children:(0,u.jsxs)("div",{className:"relationship-card-content",children:[(0,u.jsx)("h3",{className:"relationship-title",children:A[601]}),(0,u.jsx)("div",{className:"relationship-score-bar-container",children:(0,u.jsx)("div",{className:"relationship-score-gradient",children:(0,u.jsx)("div",{className:"relationship-score-marker",style:{left:(k.relscore+100)/200*100+"%"}})})}),(0,u.jsx)("div",{className:"relationship-status-display",children:R.map((e=>(0,u.jsx)("span",{className:`relationship-status-badge ${e.interaction.toLowerCase()}`,children:K(e.interaction,A)},e.interaction)))}),c&&$.length>0&&(0,u.jsx)("div",{className:"relationship-actions",children:$.map((e=>(0,u.jsx)("button",{className:"panel-button",onClick:()=>N(e),disabled:C,children:K(e.interaction,A)},e.interaction)))})]})})},Mt=a.memo(Dt),Lt=e=>{let{onClose:t,npcData:n,inventory:r,setInventory:l,backpack:d,setBackpack:p,currentPlayer:m,setCurrentPlayer:h,setResources:f,TILE_SIZE:g,updateStatus:v,masterResources:b,masterInteractions:k,masterTraders:w,zoomLevel:S,setZoomLevel:x,centerCameraOnPlayer:C}=e;const I=(0,o.k)(),[A,j]=(0,a.useState)([]),[E,R]=(0,a.useState)([]),[$,O]=(0,a.useState)([]),[z,L]=(0,a.useState)(""),[F,_]=(0,a.useState)(""),[U,H]=(0,a.useState)(!1),[W,Y]=(0,a.useState)(0),[J,Q]=(0,a.useState)(!1),[Z,X]=(0,a.useState)(0),[ee,te]=(0,a.useState)(!1);n||(console.warn("NPCPanel was opened with missing npcData."),n={type:"Unknown NPC",symbol:"\u2753"}),(0,a.useEffect)((()=>{(async()=>{if(null!==m&&void 0!==m&&m.username){const e=await c(m.username);te(e)}})()}),[m]),(0,a.useEffect)((()=>{if(k&&n&&"quest"===n.action){const e=k.find((e=>"Quest"===e.interaction||"quest"===e.interaction));if(e){Y(e.relscoremin||0);const t=Tt(m,n.type),a=(null===t||void 0===t?void 0:t.relscore)||0;H(a>=e.relscoremin)}else H(!0)}if(n&&"trade"===n.action){const e=k.find((e=>"Trade"===e.interaction||"trade"===e.interaction));if(e){X(e.relscoremin||0);const t=Tt(m,n.type),a=(null===t||void 0===t?void 0:t.relscore)||0;Q(a>=e.relscoremin)}else Q(!0)}}),[k,n,m]),(0,a.useEffect)((()=>{if(n&&n.type){if("quest"===n.action){const e=setTimeout((()=>{ne()}),100);return()=>clearTimeout(e)}if("heal"===n.action){const e=b.filter((e=>e.type===n.type));R(e)}else if("trade"===n.action){const e=null===w||void 0===w?void 0:w.find((e=>e.trader===n.type));if(e&&e.trades){const t=e.trades.map((e=>{var t,a,o,r,s,i,l,c;const d=b.find((t=>t.type===e.gives.type));return{type:e.gives.type,symbol:(null===d||void 0===d?void 0:d.symbol)||"?",tradeqty:e.gives.quantity,ingredient1:null===(t=e.requires[0])||void 0===t?void 0:t.type,ingredient1qty:null===(a=e.requires[0])||void 0===a?void 0:a.quantity,ingredient2:null===(o=e.requires[1])||void 0===o?void 0:o.type,ingredient2qty:null===(r=e.requires[1])||void 0===r?void 0:r.quantity,ingredient3:null===(s=e.requires[2])||void 0===s?void 0:s.type,ingredient3qty:null===(i=e.requires[2])||void 0===i?void 0:i.quantity,ingredient4:null===(l=e.requires[3])||void 0===l?void 0:l.type,ingredient4qty:null===(c=e.requires[3])||void 0===c?void 0:c.quantity,requires:e.requiresSkill,source:n.type,gemcost:(null===d||void 0===d?void 0:d.gemcost)||null}}));O(t)}else{const e=b.filter((e=>e.source===n.type));O(e)}}}}),[n,null===m||void 0===m?void 0:m.activeQuests,null===m||void 0===m?void 0:m.completedQuests,null===m||void 0===m?void 0:m.ftuestep,b,w]);const ne=async()=>{try{var e;let t=(await ae.getQuests()).filter((e=>e.giver===n.type)).filter((e=>{const t=m.activeQuests.find((t=>t.questId===e.title)),n=m.completedQuests.some((t=>t.questId===e.title));if(t){return t.completed&&!t.rewardCollected}return!0===e.repeatable||"true"===e.repeatable||!n}));const a=null===(e=m.relationships)||void 0===e?void 0:e.find((e=>e.name===n.type));t=t.filter((e=>{if(e.rel||e.relscore){if(!a)return!1;if(e.rel&&!0!==a[e.rel])return!1;if(e.relscore&&(a.relscore||0)<e.relscore)return!1}return!0})),!0===m.firsttimeuser&&(t=t.filter((e=>!!(null!=e.ftuestep&&void 0!==e.ftuestep&&""!==e.ftuestep&&0!==e.ftuestep)&&!(e.ftuestep>(m.ftuestep||0))))),j(t)}catch(t){console.error("Error fetching quests:",t)}},oe=async(e,t)=>"heal"===t?re(e):"trade"===t?se(e):void 0,re=async e=>{var t,a,o;if(_(""),!e)return void _("Invalid healing recipe selected.");const s=null===m||void 0===m||null===(t=m.location)||void 0===t?void 0:t.g,i=null===(a=m._id)||void 0===a?void 0:a.toString(),c=null===(o=N.A.getPlayersInGrid(s))||void 0===o?void 0:o[i];if(!c)return void console.error(`Player ${m.username} not found in NPCsInGrid.`);const u=c.hp,f=c.maxhp;if("hp"===n.output&&u>=f)return void v(401);if(!await q({playerId:m.playerId,recipe:e,inventory:r,backpack:d,setInventory:l,setBackpack:p,setCurrentPlayer:h,updateStatus:v}))return;await B(m.playerId,h);const g=n.qtycollected,y=Math.min(g,f-u);try{await(async(e,t,n,a)=>{try{if(console.log("made it to modifyPlayerStatsInGridState"),console.log("statToMod = ",e,"; amountToMod = ",t),!e||!t)return void console.error("Invalid stat or amount to modify.");const o=N.A.getPlayersInGrid(a),r=null===o||void 0===o?void 0:o[n];if(!r)return console.warn(`\ud83d\uded1 Player ${n} not found in playersInGrid for gridId ${a}`),void console.warn("\ud83e\udde0 All available PCs:",Object.keys(o));const s=(r[e]||0)+t;N.A.updatePC(a,n,{[e]:s}),console.log(`\u2705 Modified ${e} for player ${n} by +${t}. New value: ${s}`)}catch(o){console.error("Error in modifyPlayerStats:",o)}})("hp",y,m._id,s),h((e=>({...e,hp:Math.min(e.maxhp,e.hp+y)}))),v(`${I[405]}${y}.`)}catch(b){console.error("Error applying healing:",b)}},se=async e=>{if(_(""),!e)return void _("Invalid recipe selected.");let t=e.tradeqty||1;const{multiplier:a,bonusMessage:o}=Nt(n.type,m);t=Math.floor(t*a);const s=(e=>{var t;let{resource:n,quantity:a,currentPlayer:o,inventory:r,backpack:s,masterResources:i}=e;const l="Money"===n,c="Gem"===n,d="homestead"===(null===o||void 0===o||null===(t=o.location)||void 0===t?void 0:t.gtype);if(l||c)return!0;var u;if(!l&&!c&&!d&&!(null===o||void 0===o||null===(u=o.skills)||void 0===u?void 0:u.some((e=>"Backpack"===e.type&&e.quantity>0))))return!1;const p=d?r:s,{warehouse:m,backpack:h}=D(o,i||[]),f=d?m:h;return p.filter((e=>e&&"Money"!==e.type&&"Gem"!==e.type&&"number"===typeof e.quantity)).reduce(((e,t)=>e+t.quantity),0)+a<=f})({resource:e.type,quantity:t,currentPlayer:m,inventory:r,backpack:d,masterResources:b}),i=Array.isArray(r)?r:[],c=Array.isArray(d)?d:[];if(!s){var u;const t="homestead"===(null===m||void 0===m||null===(u=m.location)||void 0===u?void 0:u.gtype),n="Money"===e.type,a="Gem"===e.type;if(n||a||t)v(20);else{var f;const e=null===m||void 0===m||null===(f=m.skills)||void 0===f?void 0:f.some((e=>"Backpack"===e.type&&e.quantity>0));v(e?21:19)}return}const g=await q({playerId:m.playerId,recipe:e,inventory:i,backpack:c,setInventory:l,setBackpack:p,setCurrentPlayer:h,updateStatus:v});if(!g||void 0!==g.success&&!g.success)return void _("Not enough ingredients.");if(!await G({playerId:m.playerId,currentPlayer:m,resource:e.type,quantity:t,inventory:g.updatedInventory,backpack:g.updatedBackpack,setInventory:l,setBackpack:p,setCurrentPlayer:h,updateStatus:v,masterResources:b}))return void _("Failed to complete trade.");await P(m,"Collect",e.type,t,h);const y=[];for(let n=1;n<=4;n++){const t=e[`ingredient${n}`],a=e[`ingredient${n}qty`];t&&a&&y.push(`${a} ${t}`)}const k=y.join(", ");v(`Exchanged ${k} for ${t} ${K(e.type,I)}.${o}`)},ie=async()=>{if(n&&n.id)try{const e=m.location.g;await T.Ay.removeNPC(e,n.id),v(`${K(n.type,I)} has been removed from the grid.`),t()}catch(e){console.error("Error selling NPC:",e),v(`\u274c Failed to remove ${K(n.type,I)}.`)}else console.error("Cannot sell NPC: Missing NPC data or ID")};return(0,u.jsxs)(V,{onClose:t,descriptionKey:"1013",title:`${n.symbol} ${K(n.type,I)}`,panelName:"NPCPanel",children:["quest"===n.action&&(0,u.jsxs)("div",{className:"quest-options",children:[(0,u.jsx)(Mt,{currentPlayer:m,setCurrentPlayer:h,targetName:n.type,targetType:"npc",targetEmoji:n.symbol,showActions:!0,compact:!1,masterInteractions:k,updateStatus:v,masterResources:b,playerPosition:((e,t,n)=>{const a=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,o=null===(t=m._id)||void 0===t?void 0:t.toString(),r=null===(n=N.A.getPlayersInGrid(a))||void 0===n?void 0:n[o];return(null===r||void 0===r?void 0:r.position)||null})(),targetPosition:((e,t)=>{const a=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,o=null===(t=T.Ay.getNPCsInGrid(a))||void 0===t?void 0:t[n.id];return(null===o||void 0===o?void 0:o.position)||null})(),TILE_SIZE:g,checkDistance:()=>{var e,t,a,o;const r=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,s=null===(t=m._id)||void 0===t?void 0:t.toString(),i=null===(a=N.A.getPlayersInGrid(r))||void 0===a?void 0:a[s];if(null===i||void 0===i||!i.position)return!1;const l=null===(o=T.Ay.getNPCsInGrid(r))||void 0===o?void 0:o[n.id];if(null===l||void 0===l||!l.position)return!1;return(0,y.gd)(i.position,l.position)<=(0,y.ZW)(m,b)},onInteractionClick:()=>new Promise((e=>{if("closer"!==S)x("closer"),setTimeout((()=>{var t,n,a;const o=null===m||void 0===m||null===(t=m.location)||void 0===t?void 0:t.g,r=null===(n=m._id)||void 0===n?void 0:n.toString(),s=null===(a=N.A.getPlayersInGrid(o))||void 0===a?void 0:a[r];if(null!==s&&void 0!==s&&s.position){var i;const e=(null===b||void 0===b||null===(i=b.find((e=>"globalTuning"===e.type)))||void 0===i?void 0:i.closerZoom)||50;C(s.position,e)}setTimeout(e,300)}),100);else{var t,n,a;const o=null===m||void 0===m||null===(t=m.location)||void 0===t?void 0:t.g,r=null===(n=m._id)||void 0===n?void 0:n.toString(),s=null===(a=N.A.getPlayersInGrid(o))||void 0===a?void 0:a[r];null!==s&&void 0!==s&&s.position&&C(s.position,g),e()}})),onRelationshipChange:(e,t)=>{}}),U&&(0,u.jsxs)(u.Fragment,{children:[A.length>0?(0,u.jsx)("h3",{children:I[204]}):(0,u.jsx)("h3",{children:I[205]}),A.map((e=>{const t=m.activeQuests.some((t=>t.questId===e.title&&t.completed&&!t.rewardCollected))?"reward":"accept",a="reward"===t?()=>(async e=>{try{const{multiplier:t,bonusMessage:a}=Nt(n.type,m),o=Math.floor((e.rewardqty||1)*t),c=Array.isArray(r)?r:[],u=Array.isArray(d)?d:[];if(!await G({playerId:m.playerId,currentPlayer:m,resource:e.reward,quantity:o,inventory:c,backpack:u,setInventory:l,setBackpack:p,setCurrentPlayer:h,updateStatus:v,masterResources:b}))return;await P(m,"Collect",e.reward,o,h);let f=m.completedQuests.map((t=>t.questId===e.title?{...t,rewardCollected:!0}:t));f.some((t=>t.questId===e.title))||f.push({questId:e.title,rewardCollected:!0,timestamp:Date.now()});const g=m.activeQuests.filter((t=>t.questId!==e.title)),y={...m,completedQuests:f,activeQuests:g};await s.A.post(`${i.A}/api/update-profile`,{playerId:m.playerId,updates:{completedQuests:y.completedQuests,activeQuests:g}}).then((e=>{})),h((e=>({...e,completedQuests:y.completedQuests,activeQuests:g}))),j((t=>t.filter((t=>t.title!==e.title)))),v(a?`Action item complete! Received ${o} ${K(e.reward,I)}. ${a}`:201)}catch(t){console.error("Error collecting quest reward:",t),alert("Failed to collect quest reward.")}})(e):()=>(async e=>{if(!e)return;const t=A.find((t=>t.title===e));if(!t)return void console.error(`Quest "${e}" not found in available quests.`);let n={goal1:0,goal2:0,goal3:0},a=0,o=0;for(let s=1;s<=3;s++){const e=t[`goal${s}action`],i=t[`goal${s}item`],l=t[`goal${s}qty`];if(e&&i&&l)if(o++,"Gain skill with"===e){var r;(null===(r=m.skills)||void 0===r?void 0:r.some((e=>e.type===i)))?(n[`goal${s}`]=1,a++):n[`goal${s}`]=0}else n[`goal${s}`]=0}const l=o>0&&a===o;try{const t=await s.A.post(`${i.A}/api/add-player-quest`,{playerId:m.playerId,questId:e,startTime:Date.now(),progress:n,completed:l});t.data.success?(h(t.data.player),v(202)):L(`Failed to accept quest: ${t.data.error}`)}catch(c){console.error("Error accepting quest:",c),L("Error accepting quest. Check console.")}})(e.title);return(0,u.jsx)(bt,{quest:{symbol:e.symbol,title:e.title,textbody:e.textbody,goals:[{action:e.goal1action,item:e.goal1item,qty:e.goal1qty},{action:e.goal2action,item:e.goal2item,qty:e.goal2qty},{action:e.goal3action,item:e.goal3item,qty:e.goal3qty}],reward:e.reward,rewardqty:e.rewardqty},state:t,onClick:a},e.title)}))]}),ee&&(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-danger",onClick:ie,style:{width:"100%",padding:"10px"},children:I[490]})})]}),"heal"===n.action&&E.length>0&&(0,u.jsxs)("div",{className:"heal-options",children:[(0,u.jsx)("br",{}),((e,t,n)=>{const a=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,o=null===(t=m._id)||void 0===t?void 0:t.toString(),r=null===(n=N.A.getPlayersInGrid(a))||void 0===n?void 0:n[o];return r?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("h2",{children:[I[511]," ",(0,u.jsx)("br",{}),r.hp," / ",r.maxhp]})}):(0,u.jsx)("h4",{children:I[512]})})(),(0,u.jsx)("br",{}),E.map((e=>{const t=(0,xt.gU)(e,b),n=M(e,r,1),a=e.qtycollected;return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,I),details:`${I[463]} \u2764\ufe0f\u200d\ud83e\ude79 +${a}<br>${I[461]} ${t.join(", ")||"None"}`,disabled:!n,onClick:()=>re(e),gemCost:e.gemcost||null,onGemPurchase:e.gemcost&&!n?e=>oe(e,"heal"):null,resource:e,inventory:r,backpack:d,masterResources:b,currentPlayer:m},e.type)})),F&&(0,u.jsx)("p",{className:"error-message",children:F}),ee&&(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-danger",onClick:ie,style:{width:"100%",padding:"10px"},children:I[490]})})]}),"trade"===n.action&&(0,u.jsxs)("div",{className:"trade-options",children:[(0,u.jsx)(Mt,{currentPlayer:m,setCurrentPlayer:h,targetName:n.type,targetType:"npc",targetEmoji:n.symbol,showActions:!0,compact:!1,masterInteractions:k,updateStatus:v,masterResources:b,playerPosition:((e,t,n)=>{const a=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,o=null===(t=m._id)||void 0===t?void 0:t.toString(),r=null===(n=N.A.getPlayersInGrid(a))||void 0===n?void 0:n[o];return(null===r||void 0===r?void 0:r.position)||null})(),targetPosition:((e,t)=>{const a=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,o=null===(t=T.Ay.getNPCsInGrid(a))||void 0===t?void 0:t[n.id];return(null===o||void 0===o?void 0:o.position)||null})(),TILE_SIZE:g,checkDistance:()=>{var e,t,a,o;const r=null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.g,s=null===(t=m._id)||void 0===t?void 0:t.toString(),i=null===(a=N.A.getPlayersInGrid(r))||void 0===a?void 0:a[s];if(null===i||void 0===i||!i.position)return!1;const l=null===(o=T.Ay.getNPCsInGrid(r))||void 0===o?void 0:o[n.id];if(null===l||void 0===l||!l.position)return!1;return(0,y.gd)(i.position,l.position)<=(0,y.ZW)(m,b)},onInteractionClick:()=>new Promise((e=>{if("closer"!==S)x("closer"),setTimeout((()=>{var t,n,a;const o=null===m||void 0===m||null===(t=m.location)||void 0===t?void 0:t.g,r=null===(n=m._id)||void 0===n?void 0:n.toString(),s=null===(a=N.A.getPlayersInGrid(o))||void 0===a?void 0:a[r];if(null!==s&&void 0!==s&&s.position){var i;const e=(null===b||void 0===b||null===(i=b.find((e=>"globalTuning"===e.type)))||void 0===i?void 0:i.closerZoom)||50;C(s.position,e)}setTimeout(e,300)}),100);else{var t,n,a;const o=null===m||void 0===m||null===(t=m.location)||void 0===t?void 0:t.g,r=null===(n=m._id)||void 0===n?void 0:n.toString(),s=null===(a=N.A.getPlayersInGrid(o))||void 0===a?void 0:a[r];null!==s&&void 0!==s&&s.position&&C(s.position,g),e()}})),onRelationshipChange:(e,t)=>{}}),J?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:I[420]}),$.length>0?$.map((e=>{const t=M(e,r,d,1),n=(e.tradeqty,[1,2,3,4].map((t=>{var n,a,o;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const l=((null===r||void 0===r||null===(n=r.find((e=>e.type===s)))||void 0===n?void 0:n.quantity)||0)+((null===d||void 0===d||null===(a=d.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0);return`<span style="color: ${l>=i?"green":"red"}; display: block;">${(null===(o=b.find((e=>e.type===s)))||void 0===o?void 0:o.symbol)||""} ${K(s,I)} ${i} / ${l}</span>`})).join(""));return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,I),details:`${I[461]}<div>${n}</div>`,disabled:!t,onClick:()=>se(e),gemCost:e.gemcost||null,onGemPurchase:e.gemcost&&!t?e=>oe(e,"trade"):null,resource:e,inventory:r,backpack:d,masterResources:b,currentPlayer:m},e.type)})):(0,u.jsx)("p",{children:I[423]}),(()=>{const e={Iago:1201,Juliet:1202,Falstaff:1203,Apothecary:1204,Gertrude:1205,Leontes:1206,Caliban:1207};return e[n.type]?(0,u.jsx)("div",{className:"trader-story",children:(0,u.jsx)("p",{children:I[e[n.type]]})}):null})()]}):(0,u.jsx)("div",{}),ee&&(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-danger",onClick:ie,style:{width:"100%",padding:"10px"},children:I[490]})})]})]})},Bt=a.memo(Lt),Gt=async e=>{if(e.modifiedRecipe){const t=e.buildOptions.map((t=>t.type===e.modifiedRecipe.type?e.modifiedRecipe:t));return qt({...e,buildOptions:t})}return qt(e)},qt=async e=>{let{TILE_SIZE:t,selectedItem:n,buildOptions:a,inventory:o,setInventory:r,backpack:s,setBackpack:i,resources:l,setResources:c,currentPlayer:d,setCurrentPlayer:u,gridId:p,updateStatus:m}=e;if(!d)return void console.warn("Current Player not provided; inventory changes will not be saved.");if(!n)return void console.warn("Invalid building selection.");const h=d._id.toString(),f=N.A.getPlayersInGrid(p),y=null===f||void 0===f?void 0:f[h],v=null===y||void 0===y?void 0:y.position,b=(0,xt.fE)(p,d);if(!b)return;const{tileX:k,tileY:w}=b,S=k,x=w;if(console.log("playerPosition = ",v),console.log("x = ",k," y = ",w),!v||null==k||null==w)return void console.warn("Player position is invalid.");const C=a.find((e=>e.type===n)),I=C.range||1;if(console.log(`\ud83c\udfd7\ufe0f Building ${n} with range ${I}`),"npc"!==C.category){const e=[];for(let t=0;t<I;t++)for(let n=0;n<I;n++)e.push({x:S+t,y:x-n});console.log("\ud83d\udccd Tiles to check for placement:",e);const a=e.find((e=>l.some((t=>t.x===e.x&&t.y===e.y))));if(a)return console.warn(`Cannot build ${n} - tile at (${a.x}, ${a.y}) is occupied.`),void A.A.addFloatingText(306,S,x,t)}if(!await q({playerId:d.playerId,recipe:C,inventory:o,backpack:s,setInventory:r,setBackpack:i,setCurrentPlayer:u,updateStatus:m}))return void A.A.addFloatingText(305,v.x,v.y,t);console.log("selectedResource.action=",C.action);const E=[];for(let g=1;g<=4;g++){const e=C[`ingredient${g}`],t=C[`ingredient${g}qty`];e&&t&&E.push(`${t} ${e}`)}const R=E.length>0?E.join(", "):"free";if("npc"===C.category)T.Ay.spawnNPC(p,C,v),console.log("Spawned NPC:",p,C,v),A.A.addFloatingText(300,v.x,v.y,t),m(`${C.type} purchased for ${R}.`),await P(d,"Buy",C.type,1,u),!0===d.firsttimeuser&&"Cow"===C.type&&(console.log("\ud83c\udf93 First-time user purchased first Cow, advancing FTUE step"),await(0,xe.incrementFTUEStep)(d.playerId,d,u));else{console.log("Placing resource on the grid:",n);const e=l.find((e=>e.x===S&&e.y===x));console.log("\ud83d\udd0d Existing resource at location before setResources:",e);const o={type:n,x:S,y:x},r=(0,xt.if)(o,a);I>1&&(r.range=I,r.anchorKey=`${n}_${S}_${x}`);let s=[...l,r];console.log("\ud83d\udce6 Preparing resource update with:",r);try{if(I>1)for(let e=0;e<I;e++)for(let t=0;t<I;t++){if(0===e&&0===t)continue;const n={type:"shadow",x:S+e,y:x-t,parentAnchorKey:r.anchorKey,passable:r.passable};s.push(n)}console.log("\ud83e\uddea Updating local state with all resources"),g.A.setResources(s),c(s),await(0,j.mQ)(p,o,!0),A.A.addFloatingText(300,v.x,v.y,t),m(`${n} purchased for ${R}.`),await P(d,"Build",n,1,u),await P(d,"Buy",n,1,u)}catch($){return void console.error("Error placing resource on grid:",$)}}},Ft=e=>{let{TILE_SIZE:t,resources:n,setResources:r,inventory:l,setInventory:c,backpack:d,setBackpack:p,currentPlayer:m,setCurrentPlayer:h,gridId:f,masterResources:g,masterSkills:y,updateStatus:v,isDeveloper:b,currentSeason:k}=e;const{closePanel:w}=(0,F.d)(),[S,x]=(0,a.useState)([]),[C,I]=(0,a.useState)([]),[A,T]=(0,a.useState)(!1),N=(0,o.k)();(0,a.useEffect)((()=>{(async()=>{try{const e=await s.A.get(`${i.A}/api/inventory/${m.playerId}`);c(e.data.inventory||[]);const t=(await s.A.get(`${i.A}/api/resources`)).data;I(t);const n=t.filter((e=>!!("Build"===e.source||"BuildTown"===e.source&&"town"===m.location.gtype&&("Mayor"===m.role||b)||"BuildValley"===e.source&&"homestead"!=m.location.gtype)&&(!e.season||!k||e.season===k)));x(n)}catch(e){console.error("Error fetching build panel data:",e)}finally{T(!1)}})()}),[m]);const j=async e=>Gt({TILE_SIZE:t,selectedItem:e.type,buildOptions:S,inventory:l,setInventory:c,backpack:d,setBackpack:p,resources:n,setResources:r,currentPlayer:m,setCurrentPlayer:h,gridId:f,updateStatus:v,modifiedRecipe:e});return(0,u.jsx)(V,{onClose:w,descriptionKey:"1002",titleKey:"1102",panelName:"BuildPanel",children:(0,u.jsx)("div",{className:"standard-panel",children:A?(0,u.jsx)("p",{children:N[98]}):(0,u.jsx)(u.Fragment,{children:S.map((e=>{(0,xt.gU)(e,C);const a=M(e,l,d),o=(e=>{var t;return!e||(null===(t=m.skills)||void 0===t?void 0:t.some((t=>t.type===e)))})(e.requires),s=[1,2,3,4].map((t=>{var n,a,o;const r=e[`ingredient${t}`],s=e[`ingredient${t}qty`];if(!r||!s)return"";const i=(null===l||void 0===l||null===(n=l.find((e=>e.type===r)))||void 0===n?void 0:n.quantity)||0,c=(null===d||void 0===d||null===(a=d.find((e=>e.type===r)))||void 0===a?void 0:a.quantity)||0,u=i+c;return`<span style="color: ${u>=s?"green":"red"}; display: block;">${(null===(o=C.find((e=>e.type===r)))||void 0===o?void 0:o.symbol)||""} ${K(r,N)} ${s} / ${u}</span>`})).join(""),i=o?"green":"red",y=(e.requires?`<span style="color: ${i};">${N[460]}${K(e.requires,N)}</span><br>`:"")+`${N[461]}<div>${s}</div>`,b=`\n                ${N[820]}${C.filter((t=>t.source===e.type)).map((e=>`${e.symbol||""} ${K(e.type,N)}`)).join(", ")||"None"}\n              `;return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,N),details:y,info:b,disabled:!a||!o,onClick:()=>a&&o&&qt({TILE_SIZE:t,selectedItem:e.type,buildOptions:S,inventory:l,setInventory:c,backpack:d,setBackpack:p,resources:n,setResources:r,setErrorMessage:console.error,currentPlayer:m,setCurrentPlayer:h,gridId:f,updateStatus:v}),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||a&&o?null:j,resource:e,inventory:l,backpack:d,masterResources:g||C,currentPlayer:m},e.type)}))})})})},Vt=a.memo(Ft),_t=e=>{let{TILE_SIZE:t,resources:n,setResources:r,inventory:l,setInventory:c,backpack:d,setBackpack:p,currentPlayer:m,setCurrentPlayer:h,gridId:f,masterResources:g,masterSkills:y,updateStatus:v,isDeveloper:b,currentSeason:k}=e;const{closePanel:w}=(0,F.d)(),[S,x]=(0,a.useState)([]),[C,I]=(0,a.useState)([]),[A,T]=(0,a.useState)(!1),N=(0,o.k)();(0,a.useEffect)((()=>{(async()=>{try{var e;const t=await s.A.get(`${i.A}/api/inventory/${m.playerId}`);c(t.data.inventory||[]);const n=(await s.A.get(`${i.A}/api/resources`)).data;I(n);const a="homestead"===(null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.gtype),o=n.filter((e=>"Buy"===e.source&&(!(!b&&!a&&!1===e.passable)&&(!e.season||!k||e.season===k))));x(o)}catch(t){console.error("Error fetching buy panel data:",t)}finally{T(!1)}})()}),[m]);const j=async e=>Gt({TILE_SIZE:t,selectedItem:e.type,buildOptions:S,inventory:l,setInventory:c,backpack:d,setBackpack:p,resources:n,setResources:r,currentPlayer:m,setCurrentPlayer:h,gridId:f,updateStatus:v,modifiedRecipe:e});return(0,u.jsx)(V,{onClose:w,descriptionKey:"1003",titleKey:"1103",panelName:"BuyPanel",children:(0,u.jsx)("div",{className:"standard-panel",children:A?(0,u.jsx)("p",{children:N[98]}):(0,u.jsx)(u.Fragment,{children:S.map((e=>{var a;(0,xt.gU)(e,C);const o=M(e,l),s=(e=>{var t;return!e||(null===(t=m.skills)||void 0===t?void 0:t.some((t=>t.type===e)))})(e.requires),i=[1,2,3,4].map((t=>{var n,a,o;const r=e[`ingredient${t}`],s=e[`ingredient${t}qty`];if(!r||!s)return"";const i=(null===l||void 0===l||null===(n=l.find((e=>e.type===r)))||void 0===n?void 0:n.quantity)||0,c=(null===d||void 0===d||null===(a=d.find((e=>e.type===r)))||void 0===a?void 0:a.quantity)||0,u=i+c;return`<span style="color: ${u>=s?"green":"red"}; display: block;">${(null===(o=C.find((e=>e.type===r)))||void 0===o?void 0:o.symbol)||""} ${K(r,N)} ${s} / ${u}</span>`})).join(""),y=s?"green":"red",b=(e.requires?`<span style="color: ${y};">${N[460]}${K(e.requires,N)}</span><br>`:"")+`${N[461]}<div>${i}</div>`,k=(0,u.jsxs)("div",{className:"info-content",children:[(0,u.jsxs)("div",{children:[N[820],e.output?`${(null===(a=C.find((t=>t.type===e.output)))||void 0===a?void 0:a.symbol)||""} ${K(e.output,N)}`:"Nothing"]}),(0,u.jsxs)("div",{children:[N[821],e.qtycollected||1]})]});return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,N),details:b,info:k,disabled:!o||!s,onClick:()=>o&&s&&qt({TILE_SIZE:t,selectedItem:e.type,buildOptions:S,inventory:l,setInventory:c,backpack:d,setBackpack:p,resources:n,setResources:r,setErrorMessage:console.error,currentPlayer:m,setCurrentPlayer:h,gridId:f,updateStatus:v}),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||o&&s?null:j,resource:e,inventory:l,backpack:d,masterResources:g||C,currentPlayer:m},e.type)}))})})})},Ut=a.memo(_t),Ht=e=>{let{TILE_SIZE:t,resources:n,setResources:r,inventory:l,setInventory:c,backpack:d,setBackpack:p,currentPlayer:m,setCurrentPlayer:h,gridId:f,masterResources:g,masterSkills:y,updateStatus:v,isDeveloper:b,currentSeason:k}=e;const{closePanel:w}=(0,F.d)(),[S,x]=(0,a.useState)([]),[C,I]=(0,a.useState)([]),[A,T]=(0,a.useState)(!1),N=(0,o.k)();(0,a.useEffect)((()=>{(async()=>{try{var e;const t=await s.A.get(`${i.A}/api/inventory/${m.playerId}`);c(t.data.inventory||[]);const n=(await s.A.get(`${i.A}/api/resources`)).data;I(n);const a="homestead"===(null===m||void 0===m||null===(e=m.location)||void 0===e?void 0:e.gtype),o=n.filter((e=>"Deco"===e.source&&(!(!b&&!a&&!1===e.passable)&&(!e.season||!k||e.season===k))));x(o)}catch(t){console.error("Error fetching buy panel data:",t)}finally{T(!1)}})()}),[m]);const j=async e=>Gt({TILE_SIZE:t,selectedItem:e.type,buildOptions:S,inventory:l,setInventory:c,backpack:d,setBackpack:p,resources:n,setResources:r,currentPlayer:m,setCurrentPlayer:h,gridId:f,updateStatus:v,modifiedRecipe:e});return(0,u.jsx)(V,{onClose:w,descriptionKey:"1031",titleKey:"1131",panelName:"BuyDecoPanel",children:(0,u.jsx)("div",{className:"standard-panel",children:A?(0,u.jsx)("p",{children:N[98]}):(0,u.jsx)(u.Fragment,{children:S.map((e=>{(0,xt.gU)(e,C);const a=M(e,l),o=(e=>{var t;return!e||(null===(t=m.skills)||void 0===t?void 0:t.some((t=>t.type===e)))})(e.requires),s=[1,2,3,4].map((t=>{var n,a,o;const r=e[`ingredient${t}`],s=e[`ingredient${t}qty`];if(!r||!s)return"";const i=(null===l||void 0===l||null===(n=l.find((e=>e.type===r)))||void 0===n?void 0:n.quantity)||0,c=(null===d||void 0===d||null===(a=d.find((e=>e.type===r)))||void 0===a?void 0:a.quantity)||0,u=i+c;return`<span style="color: ${u>=s?"green":"red"}; display: block;">${(null===(o=C.find((e=>e.type===r)))||void 0===o?void 0:o.symbol)||""} ${K(r,N)} ${s} / ${u}</span>`})).join(""),i=o?"green":"red",y=(e.requires?`<span style="color: ${i};">${N[460]}${K(e.requires,N)}</span><br>`:"")+`${N[461]}<div>${s}</div>`;return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,N),details:y,disabled:!a||!o,onClick:()=>a&&o&&qt({TILE_SIZE:t,selectedItem:e.type,buildOptions:S,inventory:l,setInventory:c,backpack:d,setBackpack:p,resources:n,setResources:r,setErrorMessage:console.error,currentPlayer:m,setCurrentPlayer:h,gridId:f,updateStatus:v}),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||a&&o?null:j,resource:e,inventory:l,backpack:d,masterResources:g||C,currentPlayer:m},e.type)}))})})})},Kt=a.memo(Ht),Wt=async e=>{let{selectedItem:t,TILE_SIZE:a,resources:o,setResources:r,currentPlayer:s,setCurrentPlayer:i,inventory:l,setInventory:c,backpack:d,setBackpack:u,gridId:p,masterResources:m,masterSkills:h,updateStatus:f}=e;try{console.log(m);const e=(0,xt.fE)(p,s);if(!e)return;const{tileX:h,tileY:y}=e;if("d"!==await(0,xt.tJ)(p,h,y))return void A.A.addFloatingText(303,h,y,a);if(o.find((e=>e.x===h&&e.y===y)))return void A.A.addFloatingText(304,h,y,a);if(!await q({playerId:s.playerId,recipe:t,inventory:l,backpack:d,setInventory:c,setBackpack:u,setCurrentPlayer:i,updateStatus:f}))return void A.A.addFloatingText(305,h,y,a);const v=Date.now()+1e3*(t.growtime||0);console.log(`\u23f1\ufe0f Planting ${t.type}: growtime = ${t.growtime}, growEndTime = ${v}, secondsFromNow = ${(v-Date.now())/1e3}`),console.log("\ud83c\udf31 Attempting to plant:",t.type,"at",h,y);const b=(0,xt.if)({type:t.type,x:h,y:y,growEnd:v},m);console.log("\ud83c\udf3e Enriched resource before setResources:",b);const k=g.A.getResources()||[];g.A.setResources([...k,b]),console.log("\ud83e\uddea Global resources after planting:",g.A.getResources()),r([...k,b]);const w=await(0,j.mQ)(p,{type:t.type,x:h,y:y,growEnd:v},!0);if(null===w||void 0===w||!w.success)throw new Error("Server update failed.");if(Se.addSeed({type:t.type,x:h,y:y,growEnd:v,output:t.output}),A.A.addFloatingText(302,h,y,a),!0===s.firsttimeuser&&4===s.ftuestep){console.log("\ud83c\udf93 Player placed a farm plot at FTUE step 4, incrementing step");const{incrementFTUEStep:e}=await Promise.resolve().then(n.bind(n,836));await e(s.playerId,s,i)}}catch(y){console.error("\u274c Error in handleFarmPlotPlacement:",y)}},Yt=async e=>{var t;let{TILE_SIZE:n,actionType:a,gridId:o,currentPlayer:r,tileTypes:s,setTileTypes:i}=e;if(console.log("handleTerraform;  currentPlayer = ",r),null===r||void 0===r||!r.location)return void console.error("\u274c handleTerraform: Missing currentPlayer location.");const l=(0,xt.fE)(o,r);if(!l)return;const{tileX:c,tileY:d}=l,u=null===s||void 0===s||null===(t=s[d])||void 0===t?void 0:t[c];if(console.log("tile at ",d,", ",c," = ",u),!u)return void console.error("\u274c handleTerraform: Could not find tile at given coordinates.");if("l"===u)return void A.A.addFloatingText(320,c,d,n);if("w"===u)return void A.A.addFloatingText(320,c,d,n);let p;switch(a){case"till":p="d";break;case"plantGrass":p="g";break;case"pave":p="p";break;case"stone":p="s";break;case"water":p="w";break;default:return void console.error(`\u274c handleTerraform: Unknown actionType "${a}"`)}console.log(`\ud83c\udf31 handleTerraform: Changing tile at (${c}, ${d}) to "${p}"`),await(0,j.Ke)(o,c,d,p,i)},Jt=(e,t)=>{if(!e||e<=t)return"0s";const n=e-t,a=Math.floor(n/864e5),o=Math.floor(n%864e5/36e5),r=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3),i=[];return a>0&&i.push(`${a}d`),o>0&&i.push(`${o}h`),r>0&&i.push(`${r}m`),(s>0||0===i.length)&&i.push(`${s}s`),i.join(" ")},Qt=e=>{if(!e||e<=0)return"0s";const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),o=Math.floor(e%60),r=[];return t>0&&r.push(`${t}d`),n>0&&r.push(`${n}h`),a>0&&r.push(`${a}m`),(o>0||0===r.length)&&r.push(`${o}s`),r.slice(0,2).join(" ")},Zt=e=>{let{onClose:t,TILE_SIZE:n,inventory:r,setInventory:l,backpack:c,setBackpack:d,resources:p,setResources:m,tiles:h,tileTypes:f,setTileTypes:g,currentPlayer:y,setCurrentPlayer:v,gridId:b,masterResources:k,masterSkills:w,updateStatus:S,currentSeason:x}=e;const C=(0,o.k)(),[I,A]=(0,a.useState)([]),[T,N]=(0,a.useState)([]),[j,P]=(0,a.useState)(!1),[E,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{$()}),[]);const $=async()=>{try{const e=await s.A.get(`${i.A}/api/inventory/${y.playerId}`);l(e.data.inventory||[]);const t=(await s.A.get(`${i.A}/api/resources`)).data;N(t);const n=t.filter((e=>"farmplot"===e.category&&(!e.season||!x||e.season===x)));A(n)}catch(e){console.error("Error fetching farming panel data:",e)}finally{P(!1)}};return(0,u.jsx)(V,{onClose:t,descriptionKey:"1004",titleKey:"1104",panelName:"FarmingPanel",children:(0,u.jsx)("div",{className:"standard-panel",children:j?(0,u.jsx)("p",{children:C[98]}):(0,u.jsx)(u.Fragment,{children:I.map((e=>{(0,xt.gU)(e,T);const t=M(e,r,1),a=(e=>{var t;return!e||(null===(t=y.skills)||void 0===t?void 0:t.some((t=>t.type===e)))})(e.requires),o=e.symbol||"",s=[1,2,3,4].map((t=>{var n,a,o;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const l=(null===r||void 0===r||null===(n=r.find((e=>e.type===s)))||void 0===n?void 0:n.quantity)||0,d=(null===c||void 0===c||null===(a=c.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0,u=l+d;return`<span style="color: ${u>=i?"green":"red"}; display: block;">${(null===(o=T.find((e=>e.type===s)))||void 0===o?void 0:o.symbol)||""} ${K(s,C)} ${i} / ${u}</span>`})).join(""),i=a?"green":"red",h=(e.requires?`<span style="color: ${i};">${C[460]}${K(e.requires,C)}</span><br>`:"")+(e.growtime?`${C[458]}${Qt(e.growtime)}<br>`:"")+`${C[461]}<div>${s}</div>`,f=`${C[820]}${T.filter((t=>t.source===e.type)).map((e=>`${e.symbol||""} ${K(e.type,C)}`)).join(", ")||"None"}`;return(0,u.jsx)(St,{symbol:o,name:K(e.type,C),details:h,info:f,disabled:E||!t||!a,onClick:()=>t&&a&&(async e=>{E||(R(!0),setTimeout((()=>{R(!1)}),500),await Wt({selectedItem:e,TILE_SIZE:n,resources:p,setResources:m,currentPlayer:y,setCurrentPlayer:v,inventory:r,setInventory:l,backpack:c,setBackpack:d,gridId:b,masterResources:k,masterSkills:w,updateStatus:S}))})(e)},e.type)}))})})})},Xt=a.memo(Zt),en=e=>{let{onClose:t,TILE_SIZE:n,inventory:r,setInventory:l,backpack:c,setBackpack:d,resources:p,setResources:m,tiles:h,tileTypes:f,setTileTypes:g,currentPlayer:y,setCurrentPlayer:v,gridId:b,masterResources:k,masterSkills:w,updateStatus:S,isDeveloper:x}=e;const C=(0,o.k)(),[I,A]=(0,a.useState)([]),[T,N]=(0,a.useState)([]),[j,P]=(0,a.useState)(!1),[E,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{$()}),[]);const $=async()=>{try{const e=await s.A.get(`${i.A}/api/inventory/${y.playerId}`);l(e.data.inventory||[]);const t=(await s.A.get(`${i.A}/api/resources`)).data;N(t);const n=t.filter((e=>"farmplot"===e.category));A(n)}catch(e){console.error("Error fetching farming panel data:",e)}finally{P(!1)}},O=e=>{var t;return!e||(null===(t=y.skills)||void 0===t?void 0:t.some((t=>t.type===e)))},z=async e=>{E||(R(!0),setTimeout((()=>{R(!1)}),500),await Yt({TILE_SIZE:n,actionType:e,gridId:b,currentPlayer:y,tileTypes:f,setTileTypes:g}))};return(0,u.jsx)(V,{onClose:t,descriptionKey:"1033",titleKey:"1133",panelName:"ToolsPanel",children:(0,u.jsx)("div",{className:"standard-panel",children:j?(0,u.jsx)("p",{children:C[98]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(St,{symbol:"\u26cf\ufe0f",name:K("Till Land",C),details:`${C[461]} None`,disabled:E,info:C[310],onClick:()=>z("till")}),(0,u.jsx)(St,{symbol:"\ud83d\udfe9",name:K("Plant Grass",C),details:`${C[461]} None<br>${C[460]}${K("Grower",C)}`,disabled:E||!O("Grower"),info:C[311],onClick:()=>z("plantGrass")}),(0,u.jsx)(St,{symbol:"\ud83d\udfe8",name:K("Lay Pavement",C),details:`${C[461]} None<br>${C[460]}${K("Pickaxe",C)}`,disabled:E||!O("Pickaxe"),info:C[312],onClick:()=>z("pave")}),(0,u.jsx)(St,{symbol:"\u2b1c\ufe0f",name:K("Lay Stone",C),details:`${C[461]} None<br>${C[460]}${K("Pickaxe",C)}`,disabled:E||!O("Pickaxe"),info:C[312],onClick:()=>z("stone")}),x&&(0,u.jsx)(St,{symbol:"\ud83d\udca7",name:K("Create Water",C),details:`${C[461]} None<br>Developer Only`,disabled:E,info:"Creates a water tile (Developer only)",onClick:()=>z("water")})]})})})},tn=a.memo(en);async function nn(e){let{currentPlayer:t,setInventory:n,setBackpack:a,setCurrentPlayer:o,setResources:r,stationType:l,currentStationPosition:c,gridId:d,TILE_SIZE:u,updateStatus:p,onClose:m}=e;console.log(`\ud83d\udd12 [PROTECTED SELLING] Starting protected sale for ${l} at (${c.x}, ${c.y})`);const h=g.A.getResources().filter((e=>{if(e.x===c.x&&e.y===c.y)return!0;const t=e.range||1;return t>1&&(c.x>=e.x&&c.x<e.x+t&&c.y<=e.y&&c.y>e.y-t)}));console.log(`\ud83d\udd0d Resources at/covering position (${c.x}, ${c.y}):`,h);const f=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,y=`sell-refund-${l}-${c.x}-${c.y}-${d}`;try{const e=await s.A.post(`${i.A}/api/sell-for-refund`,{playerId:t.playerId,gridId:d,stationX:c.x,stationY:c.y,stationType:l,transactionId:f,transactionKey:y});if(e.data.success){const{refundIngredients:t,totalMoneyRefund:a,inventory:s,removedStation:i}=e.data;s&&(n(s),o((e=>({...e,inventory:s}))));const h=g.A.getResources().find((e=>e.x===c.x&&e.y===c.y));await(0,j.mQ)(d,{x:c.x,y:c.y,type:null},!0),console.log("\u2705 Removed main resource from database");const f=g.A.getResources().filter((e=>{if(e.x===c.x&&e.y===c.y)return!1;if(h&&h.range&&h.range>1&&"shadow"===e.type){const t=h.anchorKey||`${h.type}-${h.x}-${h.y}`;if(e.parentAnchorKey===t)return!1}return!0}));return g.A.setResources(f),r(f),(0,E.MV)(c.x,c.y,u),console.log(`\u2705 Station ${l} sold successfully for ${a} Money.`),p(`Sold ${l} for ${a} Money.`),m(),{success:!0,totalMoneyRefund:a}}}catch(I){var v,b,k,w;if(console.error("Error in protected station selling:",I),429===(null===(v=I.response)||void 0===v?void 0:v.status))p(471);else if(400===(null===(b=I.response)||void 0===b?void 0:b.status)){var S,x,C;console.error("\u274c 400 Error details:",null===(S=I.response)||void 0===S?void 0:S.data),p(`\u274c Cannot sell: ${(null===(x=I.response)||void 0===x||null===(C=x.data)||void 0===C?void 0:C.error)||"Invalid request"}`)}else p("\u274c Failed to sell station");return{success:!1,error:(null===(k=I.response)||void 0===k||null===(w=k.data)||void 0===w?void 0:w.error)||"Unknown error"}}}async function an(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{if(a&&o){const e=o.find((e=>e.name===t));if(e&&"Event"===e.type){var r;if(null===(r=a.trophies)||void 0===r?void 0:r.some((e=>e.name===t)))return console.log(`\u26a0\ufe0f Player already has Event trophy: ${t}`),{success:!1,message:"Trophy already earned"}}}const l=await s.A.post(`${i.A}/api/earn-trophy`,{playerId:e,trophyName:t,progressIncrement:n});if(l.data.success){const{trophy:e,isNewMilestone:n}=l.data;return n?(console.log(`\ud83c\udfc6 Trophy milestone earned: ${t}`,e),(0,m.D)("Trophy",e)):console.log(`\ud83d\udcc8 Trophy progress: ${t} - ${e.progress}/${e.nextMilestone}`),l.data}return l.data}catch(l){return console.error("Error earning trophy:",l),{success:!1,error:l.message}}}const on=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,stationType:m,currentStationPosition:h,gridId:f,isDeveloper:g,TILE_SIZE:y,updateStatus:v,masterSkills:b,setResources:k,masterResources:w}=e;const S=(0,o.k)(),[x,C]=(0,a.useState)(m||"Skills Panel"),[I,A]=(0,a.useState)([]),[T,N]=(0,a.useState)([]),[j,E]=(0,a.useState)([]),[R,$]=(0,a.useState)([]),[O,z]=(0,a.useState)([]),[D,L]=(0,a.useState)(""),[G,F]=(0,a.useState)(!1),[_,U]=(0,a.useState)("\ud83d\udcd8");(0,a.useEffect)((()=>{m?m!==x&&C(m):C("Basic Skills")}),[m]),(0,a.useEffect)((()=>{(async()=>{F(!0);try{console.log("Fetching skills and inventory for:",x);const[e,t,n]=await Promise.all([s.A.get(`${i.A}/api/inventory/${d.playerId}`),s.A.get(`${i.A}/api/skills/${d.playerId}`),s.A.get(`${i.A}/api/resources`)]),a=e.data.inventory||[],o=e.data.backpack||[],l=t.data.skills||[],u=n.data;r(a),c(o),A(u);const p=u.find((e=>e.type===m));U((null===p||void 0===p?void 0:p.symbol)||"\ud83d\udcaa");const h=l.filter((e=>u.some((t=>t.type===e.type&&"skill"===t.category))));$(h);const f=l.filter((e=>u.some((t=>t.type===e.type&&"upgrade"===t.category))));z(f);let g=u.filter((e=>"skill"===e.category&&e.source===x&&!h.some((t=>t.type===e.type)))),y=u.filter((e=>"upgrade"===e.category&&e.source===x&&!f.some((t=>t.type===e.type))));if(!0===(null===d||void 0===d?void 0:d.firsttimeuser)){const e=e=>{if(e.requires){if(!(h.some((t=>t.type===e.requires))||f.some((t=>t.type===e.requires))))return!1}return null==d.ftuestep||null==e.level||e.level<=d.ftuestep};g=g.filter(e),y=y.filter(e)}N(g),E(y)}catch(e){console.error("Error fetching resources, inventory, or skills:",e)}finally{F(!1)}})()}),[x]);const H=e=>!e||R.some((t=>t.type===e))||O.some((t=>t.type===e)),Y=async e=>J(e.type,e),J=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=[...T,...j].find((t=>t.type===e)),o=t||a;if(!await q({playerId:d.playerId,recipe:o,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:v}))return void console.warn("Failed to spend ingredients.");const u=[...R],m=[...O];"skill"===a.category?u.push({type:a.type,category:a.category,quantity:1}):"upgrade"===a.category&&m.push({type:a.type,category:a.category,quantity:1}),$(u),z(m),v(`\ud83d\udcaa ${K(a.type,S)} skill acquired.`);try{await s.A.post(`${i.A}/api/update-skills`,{playerId:d.playerId,skills:[...u,...m]}),await P(d,"Gain skill with",a.type,1,p),await an(d.playerId,"Skill Builder",1),await B(d.playerId,p),!0===d.firsttimeuser&&"Axe"===a.type&&(console.log("\ud83c\udf93 First-time user acquired Axe skill, advancing FTUE step"),await(0,xe.incrementFTUEStep)(d.playerId,d,p)),"skill"===a.category?N((e=>e.filter((e=>e.type!==a.type)))):"upgrade"===a.category&&E((e=>e.filter((e=>e.type!==a.type))))}catch(h){console.error("Error updating player on server:",h),L("Error updating player on server.")}},Q=g&&["Warehouse","Adventure Camp","Laboratory","School","Guild"].includes(x)&&h&&f;return(0,u.jsx)(V,{onClose:t,descriptionKey:"1005",title:`${_} ${x}`,panelName:"SkillsAndUpgradesPanel",children:(0,u.jsxs)("div",{className:"standard-panel",children:[Q&&(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-danger",onAction:async()=>{try{await nn({currentPlayer:d,stationType:m,currentStationPosition:h,gridId:f,setResources:k,setInventory:r,setCurrentPlayer:p,updateStatus:v,onClose:t})&&t()}catch(e){console.error("Error selling station:",e),v("Failed to sell station")}},transactionKey:`sell-refund-${m}-${h.x}-${h.y}-${f}`,children:S[490]})}),G?(0,u.jsx)("p",{children:S[98]}):(0,u.jsxs)(u.Fragment,{children:[!["Warehouse","Adventure Camp","Laboratory","School","Guild"].includes(x)&&(0,u.jsxs)("div",{className:"skills-owned",children:[(0,u.jsx)("h3",{children:S[1303]}),R.length>0?R.map(((e,t)=>(0,u.jsx)("div",{children:K(e.type,S)},t))):(0,u.jsx)("p",{children:S[1305]})]}),!["Warehouse","Adventure Camp","Laboratory","School","Guild"].includes(x)&&(0,u.jsxs)("div",{className:"upgrades-owned",children:[(0,u.jsx)("h3",{children:S[1304]}),O.length>0?O.map(((e,t)=>(0,u.jsx)("div",{children:e.type},t))):(0,u.jsx)("p",{children:S[1306]})]}),(0,u.jsxs)("div",{className:"skills-to-acquire",children:[T.length>0&&(0,u.jsx)("h3",{children:S[1301]}),(0,u.jsx)("div",{className:"skills-options",children:T.map((e=>{const t=M(e,n,l,1),a=H(e.requires),o=[1,2,3,4].map((t=>{var a,o,r;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const c=((null===n||void 0===n||null===(a=n.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0)+((null===l||void 0===l||null===(o=l.find((e=>e.type===s)))||void 0===o?void 0:o.quantity)||0);return`<span style="color: ${c>=i?"green":"red"}; display: block;">${(null===(r=I.find((e=>e.type===s)))||void 0===r?void 0:r.symbol)||""} ${K(s,S)} ${i} / ${c}</span>`})).join(""),r=a?"green":"red",s=(e.requires?`<span style="color: ${r};">${S[460]}${K(e.requires,S)}</span><br>`:"")+`${S[461]}<div>${o}</div>`,i=e.output?`+${e.qtycollected||1} to ${S[e.output]||e.output}`:null;let c="";const p=b[e.type];if(p&&"object"===typeof p){const e=Object.keys(p);if(e.length>0){c=`Collection multiplied: ${e.join(", ")}`}}const m=I.filter((t=>t.requires===e.type)).map((e=>`${e.symbol||""} ${K(e.type,S)}`)).join(", ")||"None",h=(0,u.jsxs)("div",{className:"info-content",children:[i&&(0,u.jsx)("div",{children:i}),"None"!==m&&(0,u.jsxs)("div",{style:{display:"block",marginBottom:"3px"},children:[(0,u.jsx)("strong",{children:"Unlocks:"})," ",m]}),c&&(0,u.jsx)("div",{style:{color:"blue"},children:c})]});return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,S),details:s,info:h,disabled:!t||!a,onClick:()=>J(e.type),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||t&&a?null:Y,resource:e,inventory:n,backpack:l,masterResources:w||I,currentPlayer:d},e.type)}))})]}),(0,u.jsxs)("div",{className:"upgrades-to-acquire",children:[j.length>0&&(0,u.jsx)("h3",{children:S[1302]}),(0,u.jsx)("div",{className:"skills-options",children:j.map((e=>{const t=M(e,n,l,1),a=H(e.requires),o=[1,2,3,4].map((t=>{var a,o,r;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const c=((null===n||void 0===n||null===(a=n.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0)+((null===l||void 0===l||null===(o=l.find((e=>e.type===s)))||void 0===o?void 0:o.quantity)||0);return`<span style="color: ${c>=i?"green":"red"}; display: block;">${(null===(r=I.find((e=>e.type===s)))||void 0===r?void 0:r.symbol)||""} ${K(s,S)} ${i} / ${c}</span>`})).join(""),r=a?"green":"red",s=(e.requires?`<span style="color: ${r};">${S[460]}${K(e.requires,S)}</span><br>`:"")+`${S[461]}<div>${o}</div>`,i=e.output?`+${e.qtycollected||1} to ${S[e.output]||e.output}`:null;let c="";const p=b[e.type];if(p&&"object"===typeof p){const e=Object.keys(p);if(e.length>0){const t=e.slice(0,10).join(", "),n=e.length>1?"resources":"resource";c=`Collection multiplied on ${e.length} ${n} (${t}${e.length>10?", ...":""}).`}}const m=I.filter((t=>t.requires===e.type)).map((e=>`${e.symbol||""} ${K(e.type,S)}`)).join(", ")||"None",h=(0,u.jsxs)("div",{className:"info-content",children:[i&&(0,u.jsx)("div",{children:i}),"None"!==m&&(0,u.jsxs)("div",{style:{display:"block",marginBottom:"3px"},children:[(0,u.jsx)("strong",{children:"Unlocks:"})," ",m]}),c&&(0,u.jsx)("div",{style:{color:"blue"},children:c})]});return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,S),details:s,info:h,disabled:!t||!a,onClick:()=>J(e.type),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||t&&a?null:Y,resource:e,inventory:n,backpack:l,masterResources:w||I,currentPlayer:d},e.type)}))})]})]}),D&&(0,u.jsx)("p",{className:"error-message",children:D})]})})},rn=a.memo(on);async function sn(e){if(!e)return console.warn("\u26a0\ufe0f No settlementId provided to getMayorUsername."),"Error";try{var t;const n=await s.A.get(`${i.A}/api/get-settlement/${e}`),a=null===(t=n.data.roles)||void 0===t?void 0:t.find((e=>"Mayor"===e.roleName));if(!a||!a.playerId||"Vacant"===a.playerId)return"Vacant";return(await s.A.get(`${i.A}/api/player/${a.playerId}`)).data.username||"Unknown"}catch(n){return console.error("\u274c Failed to fetch mayor username:",n),"Error"}}const ln=e=>{var t;if(!e||!e.grids)return console.warn("calculateSettlementPopulation: No settlement data or grids provided"),0;return((null===(t=e.grids)||void 0===t?void 0:t.flat())||[]).filter((e=>"homestead"===e.gridType&&!1===e.available)).length||0};const cn=function(e){var t;let{onClose:n,currentPlayer:r,setModalContent:l,setIsModalOpen:c}=e;const d=(0,o.k)(),[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(""),[b,k]=(0,a.useState)(0),[w,S]=(0,a.useState)(0),[x,C]=(0,a.useState)([]),[I,A]=(0,a.useState)(""),T=g.A.getResources()||[],N={School:0,Hospital:0,Library:0};return T.forEach((e=>{"School"===e.type&&N.School++,"Hospital"===e.type&&N.Hospital++,"Library"===e.type&&N.Library++})),(0,a.useEffect)((()=>{(async()=>{if(m(!0),r&&r.settlementId)try{console.log("\ud83c\udfdb\ufe0f Fetching full settlement data for ID:",r.settlementId);const e=(await s.A.get(`${i.A}/api/get-settlement/${r.settlementId}`)).data;f(e),C(e.taxlog||[]),k(e.taxrate||0);const t=ln(e);S(t);const n=await sn(r.settlementId);A(n)}catch(e){console.error("\u274c Error fetching government data:",e)}finally{m(!1)}else console.warn("\u26a0\ufe0f currentPlayer or settlementId is not available yet.")})()}),[r]),(0,u.jsx)(V,{onClose:n,descriptionKey:"1007",titleKey:"1107",panelName:"GovPanel",children:(0,u.jsx)("div",{className:"standard-panel",children:p?(0,u.jsx)("p",{children:d[98]}):(0,u.jsxs)(u.Fragment,{children:[y&&(0,u.jsx)("p",{className:"error-message",children:y}),h&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:(0,u.jsx)("strong",{children:d[3001]})}),(0,u.jsx)("h3",{style:{color:"rgb(154, 106, 22)"},children:(0,u.jsx)("strong",{children:h.displayName||h.name||"Unnamed Settlement"})}),(0,u.jsxs)("h3",{children:[d[3002]," ",(0,u.jsx)("strong",{children:w})]})]}),(0,u.jsxs)("h3",{children:[d[3003]," ",b,"%"]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(null!==r&&void 0!==r&&r.settlementId){console.log("\ud83d\udce4 Requesting tax log for settlement ID:",r.settlementId);try{const e=await s.A.get(`${i.A}/api/settlement/${r.settlementId}/taxlog`);console.log("\ud83d\udce5 Tax log response:",e.data);const t=e.data.taxlog||[];console.log("\ud83d\udcca Parsed taxlog:",t);const n=(0,u.jsxs)("table",{className:"tax-log-table",style:{width:"100%",textAlign:"left",borderCollapse:"collapse"},children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:{padding:"6px 12px"},children:d[5102]}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:d[5103]}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:d[5104]}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:d[5105]})]})}),(0,u.jsx)("tbody",{children:[...t].reverse().map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{style:{padding:"6px 12px"},children:new Date(e.date).toLocaleDateString()}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.totalcollected}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.currentmayor}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.mayortake})]},t)))})]});l({title:d[5100],size:"large",message:0===t.length?d[5101]:void 0,custom:n}),c(!0)}catch(e){console.error("\u274c Failed to fetch tax log:",e),l({title:"Error",message:"Failed to load tax log.",size:"small"}),c(!0)}}else console.warn("\u26a0\ufe0f Cannot show tax log: settlementId missing.")},children:d[3020]})}),(0,u.jsx)("p",{children:d[3004]}),(0,u.jsx)("h3",{children:d[2085]}),(0,u.jsx)("h2",{style:{color:"rgb(154, 106, 22)"},children:(0,u.jsx)("strong",{children:I||"Vacant"})}),(0,u.jsx)("p",{children:d[3005]}),(0,u.jsx)("p",{children:d[3009]}),(0,u.jsx)("p",{children:d[3010]}),(0,u.jsx)("p",{children:d[3011]}),(0,u.jsx)("p",{children:d[3012]}),(0,u.jsx)("p",{children:d[3013]}),"town"===(null===r||void 0===r||null===(t=r.location)||void 0===t?void 0:t.gtype)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:d[2090]}),(0,u.jsx)("p",{children:N.School>0?`${d[2092]}${N.School}`:d[2093]}),(0,u.jsx)("p",{children:N.Hospital>0?`${d[2094]}${N.Hospital}`:d[2095]}),(0,u.jsx)("p",{children:N.Library>0?`${d[2098]}${N.Library}`:d[2099]})]})]})})})};const dn=function(e){let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,updateStatus:m,masterResources:h}=e;const f=(0,o.k)(),[g,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)([]),[k,w]=(0,a.useState)(""),[S,x]=(0,a.useState)(""),C=async()=>{y(!0);try{var e,t;const n=await s.A.get(`${i.A}/api/get-frontier/${d.frontierId}`);b((null===(e=n.data.bank)||void 0===e?void 0:e.offers)||[]),x((null===(t=n.data.bank)||void 0===t?void 0:t.phase)||"")}catch(n){console.error("\u274c Error fetching bank offers:",n)}finally{y(!1)}};(0,a.useEffect)((()=>{const e=()=>{const e=Date.now(),t=(JSON.parse(localStorage.getItem("timers"))||{}).bank||{};t.phase!==S&&(console.log("\ud83c\udfe6 Bank phase changed, fetching new data..."),C()),w(Jt(t.endTime,e))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[S,null===d||void 0===d?void 0:d.frontierId]),(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.frontierId&&C()}),[null===d||void 0===d?void 0:d.frontierId]);const I=e=>{const t=h.find((t=>t.type===e));return(null===t||void 0===t?void 0:t.symbol)||"\u2753"};return(0,u.jsx)(V,{onClose:t,descriptionKey:"1017",titleKey:"1117",panelName:"BankPanel",children:g?(0,u.jsx)("p",{children:f[98]}):(0,u.jsx)(u.Fragment,{children:"active"===S?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:f[1402]})," ",(0,u.jsx)("h2",{children:k}),v.length>0?v.map(((e,t)=>{var a,o;const s=((null===n||void 0===n||null===(a=n.find((t=>t.type===e.itemBought)))||void 0===a?void 0:a.quantity)||0)+((null===l||void 0===l||null===(o=l.find((t=>t.type===e.itemBought)))||void 0===o?void 0:o.quantity)||0);return(0,u.jsx)(St,{className:"resource-button",onClick:()=>(async e=>{if(!e||!d)return;if(!await q({playerId:d.playerId,recipe:{ingredient1:e.itemBought,ingredient1qty:e.qtyBought},inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:m}))return;await G({playerId:d.playerId,currentPlayer:d,resource:e.itemGiven,quantity:e.qtyGiven,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:m,masterResources:h})&&(await P(d,"Sell",e.itemBought,e.qtyBought,p),m(`\u2705 Exchanged ${e.qtyBought} ${e.itemBought} for ${e.qtyGiven} ${e.itemGiven}.`))})(e),disabled:!M({ingredient1:e.itemBought,ingredient1qty:e.qtyBought},n,l,1),hideInfo:!0,children:(0,u.jsxs)("div",{className:"resource-details",children:[(0,u.jsx)("span",{children:(0,u.jsx)("strong",{children:f[1403]})})," ",I(e.itemBought)," ",e.itemBought," x",e.qtyBought," / ",s,(0,u.jsx)("br",{}),f[1404]," ",I(e.itemGiven)," ",e.qtyGiven," "]})},t)})):(0,u.jsx)("p",{children:f[1405]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:f[1406]})," ",(0,u.jsx)("h2",{children:k}),(0,u.jsx)("p",{children:f[1407]})," "]})})})};const un=function(e){let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,updateStatus:m,masterResources:h,setModalContent:f,setIsModalOpen:g}=e;const y=(0,o.k)(),[v,b]=(0,a.useState)([]),[k,w]=(0,a.useState)("loading"),[S,x]=(0,a.useState)("\u23f3"),[C,I]=(0,a.useState)([]),[A,T]=(0,a.useState)([]),[N,j]=(0,a.useState)([]),[P,E]=(0,a.useState)({}),[R,$]=(0,a.useState)(!1),[O,z]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{if(null!==d&&void 0!==d&&d.playerId){$(!0);try{const e=await s.A.get(`${i.A}/api/inventory/${d.playerId}`);j(e.data.inventory||[])}catch(e){console.error("\u274c Error fetching latest inventory:",e)}finally{$(!1)}}})(),null!==d&&void 0!==d&&d.settlementId&&D()}),[null===d||void 0===d?void 0:d.playerId,null===d||void 0===d?void 0:d.settlementId]),(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.settlementId&&D()}),[k]),(0,a.useEffect)((()=>{const e=()=>{const e=Date.now(),t=(JSON.parse(localStorage.getItem("timers"))||{}).train||{},n=t.phase;w(n||"unknown");const a=t.endTime;a&&!isNaN(a)?x(Jt(a,e)):x("N/A")};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[]);const D=async()=>{try{var e,t,n;const a=await s.A.get(`${i.A}/api/get-settlement/${d.settlementId}`),o=(null===(e=a.data)||void 0===e?void 0:e.currentoffers)||[];b(o),I((null===(t=a.data)||void 0===t?void 0:t.nextoffers)||[]);const r=((null===(n=a.data)||void 0===n?void 0:n.trainlog)||[]).find((e=>"Current Train"===e.status));r?(T(r.rewards||[]),r.trainnumber&&z(r.trainnumber)):T([]),await M(o)}catch(a){console.error("\u274c Error fetching train offers:",a)}},M=async e=>{try{const t=[...new Set(e.filter((e=>e.claimedBy)).map((e=>e.claimedBy)))];if(0===t.length)return;const n=t.map((async e=>{try{return{playerId:e,username:(await s.A.get(`${i.A}/api/player/${e}`)).data.username}}catch(t){return console.error(`\u274c Error fetching username for player ${e}:`,t),{playerId:e,username:"Unknown"}}})),a=(await Promise.all(n)).reduce(((e,t)=>{let{playerId:n,username:a}=t;return e[n]=a,e}),{});E((e=>({...e,...a})))}catch(t){console.error("\u274c Error fetching usernames:",t)}},[L,B]=(0,a.useState)(!1),[F,_]=(0,a.useState)({logic:"",trainNumber:null}),U=async()=>{if(f&&g)if(null!==d&&void 0!==d&&d.settlementId)try{const e=(await s.A.get(`${i.A}/api/settlement/${d.settlementId}/trainlog`)).data.trainlog||[],t=(0,u.jsxs)("table",{className:"train-log-table",style:{width:"100%",textAlign:"left",borderCollapse:"collapse"},children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Train #"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Date"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Status"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Offers Filled"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Total Winners"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Reward Summary"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Logic"})]})}),(0,u.jsx)("tbody",{children:[...e].reverse().map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.trainnumber||"-"}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:new Date(e.date).toLocaleDateString()}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.status||""}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:"Next Train"===e.status||"Current Train"===e.status?"n/a":e.alloffersfilled?"\u2705":"\u274c"}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:"Next Train"===e.status||"Current Train"===e.status?"n/a":e.totalwinners}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:(e.rewards||[]).map((e=>`${e.qty} ${e.item}`)).join(", ")}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.logic?(0,u.jsx)("button",{onClick:()=>{return t=e.logic,n=e.trainnumber,_({logic:t,trainNumber:n}),void B(!0);var t,n},className:"train-logic-button",children:"Logic"}):"-"})]},t)))})]});f({title:"Train Log",size:"large",message:0===e.length?"No recent train activity.":void 0,custom:t}),g(!0)}catch(e){console.error("\u274c Failed to fetch train log:",e),f({title:"Error",message:"Failed to load train log.",size:"small"}),g(!0)}else console.warn("\u26a0\ufe0f Cannot show train log: settlementId missing.");else console.warn("Modal context functions not available.")},H=e=>{var t;return(null===(t=h.find((t=>t.type===e)))||void 0===t?void 0:t.symbol)||"\u2753"},K=(e,t)=>t.length?(0,u.jsxs)("div",{className:"offer-section",children:[(0,u.jsx)("h4",{children:e}),t.map(((e,t)=>{var a;const o=e.claimedBy===d.playerId,f=e.filled,g=(null===N||void 0===N?void 0:N.some((t=>t.type===e.itemBought&&t.quantity>=e.qtyBought)))||!1,k=(null===N||void 0===N||null===(a=N.find((t=>t.type===e.itemBought)))||void 0===a?void 0:a.quantity)||0,w=`Offer:<div>${`<span style="color: ${k>=e.qtyBought?"green":"red"};">${H(e.itemBought)} ${e.itemBought} ${e.qtyBought} / ${k}</span>`}</div><br>Reward:<div>${`+${H(e.itemGiven)} ${e.itemGiven} ${e.qtyGiven.toLocaleString()}`}</div>`;let S="";if(f){S=P[e.claimedBy]||"Unknown"}else if(o&&g)S=y[2005];else if(o)S=y[2006];else if(e.claimedBy){const t=P[e.claimedBy]||"Unknown";S=`${y[2007]} (${t})`}else S=y[2008];return(0,u.jsx)(St,{name:f||e.claimedBy?P[e.claimedBy]||"Unknown":"",className:"train-offer-card "+(e.claimedBy?"resource-button":"unclaimed"),onClick:()=>f?null:o?(async e=>{if(!e||e.claimedBy!==d.playerId)return;if(await q({playerId:d.playerId,recipe:{type:e.itemBought,ingredient1:e.itemBought,ingredient1qty:e.qtyBought},inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:m}))try{await s.A.post(`${i.A}/api/update-train-offer/${d.settlementId}`,{updateOffer:{...e,filled:!0}}),await G({playerId:d.playerId,currentPlayer:d,resource:"Money",quantity:e.qtyGiven,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:m,masterResources:h}),b((t=>{const n=t.findIndex((t=>t.itemBought===e.itemBought&&t.qtyBought===e.qtyBought&&t.claimedBy===d.playerId&&!t.filled));if(-1===n)return t;const a=[...t];return a[n]={...a[n],filled:!0},a})),m(`\u2705 Delivered ${e.qtyBought} ${e.itemBought}.`)}catch(t){console.error("\u274c Error fulfilling offer:",t),D()}})(e):e.claimedBy?null:(async e=>{if(!e||e.claimedBy)return;if(v.some((e=>e.claimedBy===d.playerId&&!e.filled)))m(2014);else try{const t=v.findIndex((t=>t.itemBought===e.itemBought&&t.qtyBought===e.qtyBought&&!t.claimedBy&&!t.filled));if(-1===t)return void console.warn("\u26a0\ufe0f No matching unclaimed offer found to claim.");const n={...v[t],claimedBy:d.playerId};200===(await s.A.post(`${i.A}/api/update-train-offer/${d.settlementId}`,{updateOffer:n})).status&&(b((e=>{const a=[...e];return a[t]=n,a})),E((e=>({...e,[d.playerId]:d.username}))))}catch(n){var t;console.error("\u274c Error claiming train offer:",n),409===(null===(t=n.response)||void 0===t?void 0:t.status)?(m(2017),D()):m(505)}})(e),disabled:f||!o&&e.claimedBy||o&&!g,details:w,children:f||e.claimedBy?!f&&e.claimedBy?y[2007]:"":S},t)}))]}):null,W=v.filter((e=>e.claimedBy===d.playerId&&!e.filled)),Y=v.filter((e=>!e.claimedBy)),J=v.filter((e=>e.claimedBy&&e.claimedBy!==d.playerId&&!e.filled)),Q=v.filter((e=>e.filled)),Z=("departing"===k||"arriving"===k)&&(v.length>0&&v.every((e=>e.filled)));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(V,{onClose:t,descriptionKey:"1022",titleKey:"1122",panelName:"TrainPanel",children:R?(0,u.jsx)("p",{children:y[98]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h3",{children:[y[2020]," ",k," ",O?`(Train #${O})`:""]}),(0,u.jsxs)("h2",{children:["\u23f3 ",S]}),"loading"===k&&(0,u.jsxs)(u.Fragment,{children:[(()=>{if(!A.length||"loading"!==k)return null;const e=new Set,t=A.filter((t=>!e.has(t.item)&&(e.add(t.item),!0)));return(0,u.jsxs)("div",{className:"reward-section",children:[(0,u.jsx)("h4",{children:y[2004]}),(0,u.jsx)("div",{className:"train-rewards-container",children:t.map(((e,t)=>(0,u.jsxs)("div",{className:"train-reward-item",children:[H(e.item)," ",e.qty," ",e.item]},t)))})]})})(),K(y[2009],W),K(y[2010],Y),K(y[2011],J),K(y[2012],Q)]}),Z&&(0,u.jsx)("div",{className:"train-rewards-banner",children:y[2016]}),("loading"===k||"departing"===k)&&(()=>{if(!["loading","departing"].includes(k))return null;if(!C.length)return null;const e=new Set,t=C.filter((t=>!e.has(t.itemBought)&&(e.add(t.itemBought),!0)));return(0,u.jsxs)("div",{className:"next-shipment-preview",children:[(0,u.jsx)("h4",{children:y[2003]}),(0,u.jsx)("div",{className:"next-shipment-container",children:t.map(((e,t)=>(0,u.jsxs)("div",{className:"next-shipment-item",children:[H(e.itemBought)," ",e.itemBought]},t)))})]})})(),(0,u.jsx)("button",{className:"standard-button",onClick:()=>U(),children:y[2015]})]})}),L&&(0,u.jsx)("div",{className:"train-logic-modal-overlay",children:(0,u.jsxs)("div",{className:"train-logic-modal",children:[(0,u.jsx)("button",{onClick:()=>B(!1),className:"train-logic-modal-close",children:"\xd7"}),(0,u.jsxs)("h3",{children:["Train #",F.trainNumber||"?"," Logic"]}),(0,u.jsx)("pre",{children:F.logic||"No logic information available"})]})})]})},pn=e=>{let{onClose:t,currentPlayer:n,setCurrentPlayer:r}=e;const l=(0,o.k)(),[c,d]=(0,a.useState)(null),[p,m]=(0,a.useState)(0),[h,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),{updateStatus:k}=(0,a.useContext)(Ie),[w,S]=(0,a.useState)([]),[x,C]=(0,a.useState)(""),[I,A]=(0,a.useState)(null),[T,N]=(0,a.useState)(!1),[j,E]=(0,a.useState)(""),[R,$]=(0,a.useState)([]),[O,z]=(0,a.useState)(0),[D,M]=(0,a.useState)(null),[L,B]=(0,a.useState)({x:0,y:0}),[G,q]=(0,a.useState)(""),[F,_]=(0,a.useState)(!1),[U,H]=(0,a.useState)(null),[K,W]=(0,a.useState)(""),[Y,J]=(0,a.useState)(0);(0,a.useEffect)((()=>{Q()}),[n.settlementId]),(0,a.useEffect)((()=>{const e=()=>{const e=Date.now(),t=(JSON.parse(localStorage.getItem("timers"))||{}).elections||{},n=t.phase||"Administration";n!==g&&(console.log("\ud83d\uddf3\ufe0f Election phase changing to:",n),y(n));const a=t.endTime;a&&!isNaN(a)?b(Jt(a,e)):b("N/A")};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[]),(0,a.useEffect)((()=>{console.log("\ud83d\uddf3\ufe0f Phase changed to:",g),"Counting"===g&&(S([]),$([])),Q()}),[g]);const Q=async()=>{try{const a=(await s.A.get(`${i.A}/api/get-settlement/${n.settlementId}`)).data;d(a),m(a.taxrate||0),z(a.taxrate||0),S(a.campaignPromises||[]),q(a.displayName||"");const o=a.roles.find((e=>"Mayor"===e.roleName));f(o&&o.playerId.toString()===n._id.toString());const r=await sn(n.settlementId);W(r);const l=ln(a);if(J(l),N(!1),E(""),a.votes){const t=a.votes.find((e=>String(e.voterId)===String(n._id)));if(t){var e;N(!0);const n=null===(e=a.campaignPromises)||void 0===e?void 0:e.find((e=>String(e.playerId)===String(t.candidateId)));E((null===n||void 0===n?void 0:n.username)||"Unknown")}}if("Voting"===g&&!T){var t;const e=(null===(t=a.campaignPromises)||void 0===t?void 0:t.reduce(((e,t)=>(e.find((e=>e.playerId===t.playerId))||e.push({playerId:t.playerId,username:t.username}),e)),[]))||[];$(e)}}catch(a){console.error("\u274c Error fetching election data:",a)}};return console.log("hasVoted:",T),console.log("electionPhase:",g),(0,u.jsxs)(V,{onClose:t,descriptionKey:"1012",titleKey:"1112",panelName:"Courthouse",children:[(0,u.jsxs)("div",{className:"panel-content courthouse-panel",children:[h&&(0,u.jsx)("h2",{children:l[2080]}),(0,u.jsxs)("div",{className:"debug-buttons",children:[(0,u.jsx)("h3",{children:l[2082]}),h?(0,u.jsxs)("div",{className:"settlement-name-editor",children:[(0,u.jsx)("input",{type:"text",value:G,onChange:e=>q(e.target.value),placeholder:l[2081]}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(h&&G.trim())try{(await s.A.post(`${i.A}/api/update-settlement`,{settlementId:n.settlementId,updates:{displayName:G}})).data.success?(k(`Settlement renamed to ${G}`),d((e=>({...e,displayName:G})))):k("\u274c Error updating settlement name.")}catch(e){console.error("\u274c Error saving settlement name:",e),k("\u274c Failed to save settlement name.")}},disabled:!G.trim(),children:l[2083]})]}):(0,u.jsx)("h3",{style:{color:"rgb(154, 106, 22)"},children:(0,u.jsx)("strong",{children:(null===c||void 0===c?void 0:c.displayName)||"Unnamed"})}),(0,u.jsxs)("h3",{children:[l[3002]," ",(0,u.jsx)("strong",{children:Y})]}),(0,u.jsxs)("h3",{children:[l[2041]," ",p,"%"]}),h&&(0,u.jsxs)("div",{className:"tax-rate-editor",children:[(0,u.jsx)("input",{type:"range",min:"0",max:"20",value:O,onChange:e=>z(Number(e.target.value))}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[(0,u.jsxs)("span",{style:{flex:1},children:[l[2042]," ",O,"%"]}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(h)try{console.log(`\ud83d\udcbe Saving new tax rate: ${O}%`);const e=await s.A.post(`${i.A}/api/update-settlement`,{settlementId:n.settlementId,updates:{taxrate:O}});e.data.success?(console.log("\u2705 Tax rate updated successfully."),k(`\ud83d\udcb0 Tax rate set to ${O}%`),m(O)):(console.error("\u274c Failed to update tax rate:",e.data.error),k("\u274c Error updating tax rate."))}catch(e){console.error("\u274c Error saving tax rate:",e),k("\u274c Failed to save tax rate.")}},style:{width:"auto",maxWidth:"100px",padding:"6px 10px",fontSize:"12px",flexShrink:0},children:l[2043]})]})]}),!h&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:l[2085]}),(0,u.jsx)("h2",{style:{color:"rgb(154, 106, 22)"},children:(0,u.jsx)("strong",{children:K||"Vacant"})})]}),!h&&(0,u.jsx)("h2",{children:l[2079]}),(0,u.jsx)("p",{children:l[2084]}),(0,u.jsx)("br",{}),(0,u.jsx)("h2",{children:l[2045]}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(null!==n&&void 0!==n&&n.settlementId){console.log("\ud83d\uddf3\ufe0f Show Election Log clicked"),console.log("\ud83d\udce4 Fetching election log for settlement:",n.settlementId);try{const e=await s.A.get(`${i.A}/api/settlement/${n.settlementId}/electionlog`);console.log("\ud83d\udce5 Election log API response:",e.data);const t=e.data.electionlog||[],a=(0,u.jsxs)("table",{className:"election-log-table",style:{width:"100%",textAlign:"left",borderCollapse:"collapse"},children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Date"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Candidates"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Elected Mayor"})]})}),(0,u.jsx)("tbody",{children:[...t].reverse().map(((e,t)=>{var n;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{style:{padding:"6px 12px"},children:new Date(e.date).toLocaleDateString()}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:(null===(n=e.candidates)||void 0===n?void 0:n.length)>0?e.candidates.map(((e,t)=>(0,u.jsxs)("div",{children:[e.username,": ",e.votes," votes"]},t))):(0,u.jsx)("em",{children:"No candidates"})}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.electedmayor||"None"})]},t)}))})]});H({title:"Recent Election Results",size:"large",message:0===t.length?"No election results recorded yet.":void 0,custom:a}),_(!0)}catch(e){console.error("\u274c Failed to fetch election log:",e),H({title:"Error",message:"Failed to load election log.",size:"small"}),_(!0)}}else console.warn("\u26a0\ufe0f Cannot show election log: settlementId missing.")},children:"Recent Election Results"}),(0,u.jsx)("p",{children:(0,u.jsxs)("strong",{children:["Counting"===g&&l[2062],"Voting"===g&&l[2061],"Campaigning"===g&&l[2060],"Administration"===g&&l[2063]]})}),(0,u.jsx)("p",{children:v}),"Campaigning"===g&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:l[2048]}),(0,u.jsx)("div",{className:"campaign-promises",children:w.length>0?w.map(((e,t)=>(0,u.jsxs)("div",{className:"campaign-entry",children:[(0,u.jsxs)("strong",{children:[e.username,":"]})," ",e.text]},t))):(0,u.jsx)("p",{children:l[2071]})}),!w.some((e=>e.playerId===n._id))&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("textarea",{value:x,onChange:e=>C(e.target.value),placeholder:l[2072]}),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(x.trim())if(x.length>200)k("Campaign promises cannot exceed 200 characters.");else try{const e=await s.A.post(`${i.A}/api/save-campaign-promise`,{settlementId:n.settlementId,playerId:n._id,username:n.username,text:x});e.data.message&&(console.log(`\ud83d\udce2 ${e.data.message}`),k("\ud83c\udfdb\ufe0f Campaign promise submitted."),S(e.data.campaignPromises),C(""))}catch(e){console.error("\u274c Error submitting campaign promise:",e),k("\u274c Failed to submit campaign promise.")}},children:"Submit Campaign Promise"})]})]}),(0,u.jsx)("div",{className:"voting-section"}),"Voting"===g&&(0,u.jsxs)("div",{className:"voting-section",children:[T?(0,u.jsx)("p",{children:l[2077]}):R.length>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:"Cast Your Vote"}),R.map(((e,t)=>(0,u.jsxs)("div",{className:"candidate-row",onMouseEnter:t=>{M(e.playerId),B({x:t.clientX+10,y:t.clientY-40})},onMouseLeave:()=>M(null),children:[(0,u.jsx)("input",{type:"radio",name:"vote",value:e.playerId,onChange:()=>{A(e.playerId)}}),e.username]},e.playerId||t))),(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(I)try{const e=await s.A.post(`${i.A}/api/cast-vote`,{settlementId:n.settlementId,voterId:n._id,candidateId:I});if(e.data.message){console.log(`\ud83d\uddf3\ufe0f ${e.data.message}`),k("\ud83c\udfdb\ufe0f Vote successfully cast."),N(!0);const t=R.find((e=>e.playerId===I));E((null===t||void 0===t?void 0:t.username)||"Unknown"),await P(n,"Vote","Election",1),Q()}}catch(e){console.error("\u274c Error casting vote:",e),"Already voted."===e.response.data.error?k("\u274c You already voted."):k("\u274c Failed to cast vote.")}},disabled:!I,children:l[2074]}),D&&(0,u.jsxs)("div",{className:"candidate-tooltip",style:{left:L.x,top:L.y},children:[(0,u.jsx)("strong",{children:l[2076]}),(0,u.jsx)("br",{}),'"',(e=>{var t;return(null===(t=w.find((t=>t.playerId===e)))||void 0===t?void 0:t.text)||"No campaign promise made."})(D),'"']})]}):(0,u.jsx)("p",{children:l[2078]}),0===R.length&&(0,u.jsx)("p",{children:(0,u.jsx)("em",{children:"No one ran for mayor this election cycle."})})]})]})]}),F&&(0,u.jsx)(De,{isOpen:F,onClose:()=>_(!1),title:null===U||void 0===U?void 0:U.title,size:null===U||void 0===U?void 0:U.size,message:null===U||void 0===U?void 0:U.message,custom:null===U||void 0===U?void 0:U.custom})]})};function mn(e,t,n,a,o,r){const s=[],i={harvest:"Harvest complete",craft:"Crafting complete",animal:"Collection complete",logging:"Logging complete"}[e]||"Collection complete";if(t&&Object.keys(t).length>0){const e=Object.entries(t).map((e=>{let[t,a]=e;const s=null===n||void 0===n?void 0:n[t],i=r(t,o);if(s&&s.hasSkills){return`${a} ${i} with ${s.skills.join(", ")} applied (${s.multiplier}x)`}return`${a} ${i}`})).join(", ");s.push(`${i}: ${e}`)}if(a&&Object.keys(a).length>0){const e=Object.entries(a).map((e=>{let[t,n]=e;return`${n} ${r(t,o)}`})).join(", ");s.push(`${e} replanted`)}return s.join(" | ")}const hn=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:y,masterResources:v,masterSkills:b,TILE_SIZE:k,isDeveloper:w,currentSeason:S}=e;const x=(0,o.k)(),[C,I]=(0,a.useState)([]),[N,j]=(0,a.useState)([]),[E,R]=(0,a.useState)(""),[$,O]=(0,a.useState)("\ud83d\uded6"),{updateStatus:D}=(0,a.useContext)(Ie),[L,q]=(0,a.useState)(null),[F,_]=(0,a.useState)(!1),[U,H]=(0,a.useState)(null),[Y,J]=(0,a.useState)(null),[Q,Z]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(0);(0,a.useEffect)((()=>{var e;if(!h||!f)return;console.log("\ud83d\udd04 Checking GlobalGridStateTilesAndResources for active crafting timers...");const t=null===(e=g.A.getResources())||void 0===e?void 0:e.find((e=>e.x===f.x&&e.y===f.y));if(t&&t.craftEnd){H(t.craftedItem),Z(!0),_(!0);const e=()=>{const e=Math.max(0,Math.floor((t.craftEnd-Date.now())/1e3));J(e),0===e&&(console.log("\u2705 Crafting complete! Ready to collect."),Z(!1),ee(!0))};e();const n=setInterval(e,1e3);return()=>clearInterval(n)}console.log("\u274c No active crafting timer found."),H(null),Z(!1),ee(!1),J(null),_(!1)}),[h,f,g.A.getResources(),Y]),(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];r(e);const t=(await s.A.get(`${i.A}/api/inventory/${d.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(r(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[d]),(0,a.useEffect)((()=>{try{let e=v.filter((e=>e.source===h&&(!e.season||!S||e.season===S)));const t=T.Ay.getNPCsInGrid(y);if(t){const n=Object.values(t).filter((e=>e&&e.type)).map((e=>e.type));console.log("Existing NPC types on grid:",n),e=e.filter((e=>!1!==e.repeatable||!n.includes(e.type)||(console.log(`Filtering out non-repeatable ${e.type} - already exists on grid`),!1)))}I(e);const n=v.find((e=>e.type===h));O((null===n||void 0===n?void 0:n.symbol)||"\ud83d\uded6"),q(n),j(v||[])}catch(e){console.error("Error processing masterResources:",e)}}),[h,v,y,te]),(0,a.useEffect)((()=>{const e=setInterval((()=>{ne((e=>e+1))}),2e3);return()=>clearInterval(e)}),[]);const ae=async(e,t,n)=>{var a,o;if(console.log(`\ud83d\udd12 [PROTECTED CRAFTING] Starting protected collection for ${n.type}`),n)try{const l=await s.A.post(`${i.A}/api/crafting/collect-item`,{playerId:d.playerId,gridId:y,stationX:f.x,stationY:f.y,craftedItem:U,transactionId:e,transactionKey:t});if(l.data.success){const{collectedItem:e,isNPC:t,inventory:s,updatedStation:i}=l.data;console.log("MasterSkills:",b),console.log("Station Type:",h);const u=z(h,d.skills||[],b),w=(a=1,o=u.multiplier,Math.floor(a*o));if(console.log("[DEBUG] qtyCollected after multiplier:",w),t){const t=N.find((t=>t.type===e));t&&(T.Ay.spawnNPC(y,t,{x:f.x,y:f.y}),ne((e=>e+1))),A.A.addFloatingText(`+${w} ${K(e,x)}`,f.x,f.y,k)}else{if(!await G({playerId:d.playerId,currentPlayer:d,resource:e,quantity:w,inventory:d.inventory,backpack:d.backpack,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:D,masterResources:v}))return void console.error("\u274c Failed to add buffed crafted item to inventory.");A.A.addFloatingText(`+${w} ${K(e,x)}`,f.x,f.y,k)}await P(d,"Craft",e,w,p);const S=g.A.getResources().map((e=>e.x===f.x&&e.y===f.y?{...e,craftEnd:void 0,craftedItem:void 0}:e));g.A.setResources(S),m(S),_(!1),H(null),J(null),ee(!1),await B(d.playerId,p);const C=function(e,t,n,a,o,r){return mn(e,{[t]:n},a?{[t]:a}:{},null,o,r)}("craft",e,w,u.hasSkills?u:null,x,K);D(C),console.log(`${n.type} collected successfully using protected endpoint.`)}}catch(u){var l;console.error("Error in protected crafting collection:",u),429===(null===(l=u.response)||void 0===l?void 0:l.status)?D(471):D("\u274c Failed to collect item")}else console.error("\u274c No valid crafted item to collect.")},oe=(()=>{const e=Object.entries(b||{}).filter((e=>{let[t,n]=e;return n&&"object"===typeof n&&n[h]>1})).map((e=>{var t;let[n,a]=e;return{skillName:n,multiplier:a[h],hasSkill:null===(t=d.skills)||void 0===t?void 0:t.some((e=>e.type===n))}}));if(0===e.length)return null;const t=e.filter((e=>e.hasSkill)),n=e.filter((e=>!e.hasSkill)),a=t.reduce(((e,t)=>e*t.multiplier),1);let o=[];if(t.length>0)if(1===t.length)o.push(`${x[805]}${K(t[0].skillName,x)}${x[806]}${t[0].multiplier}x.`);else{const e=t.map((e=>`${K(e.skillName,x)} (${e.multiplier}x)`)).join(" & ");o.push(`Your ${e} skills combine to increase output by ${a}x.`)}return n.length>0&&n.forEach((e=>{const t=N.find((t=>t.type===e.skillName)),n=(null===t||void 0===t?void 0:t.source)||"Skill Shop";o.push(`${x[801]}${K(e.skillName,x)}${x[802]}${K(n,x)}${x[803]}${e.multiplier}x.`)})),o.join(" ")})();return(0,u.jsx)(V,{onClose:t,descriptionKey:"1009",title:`${$} ${K(h,x)}`,panelName:"CraftingStation",children:(0,u.jsxs)("div",{className:"standard-panel",children:[oe&&(0,u.jsx)("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f0f0f0",borderRadius:"5px",fontStyle:"italic"},children:oe}),(null===C||void 0===C?void 0:C.length)>0?C.map((e=>{(0,xt.gU)(e,N||[]);const t=M(e,n,Array.isArray(l)?l:[],1),a=(e=>{var t;return!e||(null===(t=d.skills)||void 0===t?void 0:t.some((t=>t.type===e)))})(e.requires),o=a?"green":"red",h=U===e.type&&Y>0,v=U===e.type&&0===Y,b=h?`${x[441]} ${Jt(Date.now()+1e3*Y,Date.now())}`:v?x[457]:e.crafttime?`${x[458]} ${Qt(e.crafttime)}`:x[459],w=(0,u.jsxs)("div",{className:"info-content",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:x[421]})," ",N.filter((t=>[t.ingredient1,t.ingredient2,t.ingredient3,t.ingredient4].includes(e.type))).map((e=>`${e.symbol||""} ${K(e.type,x)}`)).join(", ")||"None"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:x[422]})," \ud83d\udcb0 ",e.minprice||"n/a"]})]}),S=[1,2,3,4].map((t=>{var a,o,r;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const c=((null===n||void 0===n||null===(a=n.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0)+((null===l||void 0===l||null===(o=l.find((e=>e.type===s)))||void 0===o?void 0:o.quantity)||0);return`<span style="color: ${c>=i?"green":"red"}; display: block;">${(null===(r=N.find((e=>e.type===s)))||void 0===r?void 0:r.symbol)||""} ${K(s,x)} ${i} / ${c}</span>`})).join("");return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,x),className:"resource-button "+(h?"in-progress":v?"ready":""),details:h?b:(e.requires?`<span style="color: ${o};">${x[460]}${K(e.requires,x)}</span><br>`:"")+`${b}<br>`+(v?"":`${x[461]}<div>${S}</div>`),info:w,disabled:!v&&(null!==U||!t||!a),onClick:void 0,isTransactionMode:!0,transactionKey:v?`crafting-collect-${e.type}-${f.x}-${f.y}`:`crafting-start-${e.type}-${f.x}-${f.y}`,onTransactionAction:v?(t,n)=>ae(t,n,e):(t,n)=>(async(e,t,n)=>{if(console.log(`\ud83d\udd12 [PROTECTED CRAFTING] Starting protected craft for ${n.type}`),R(""),n)try{const a=await s.A.post(`${i.A}/api/crafting/start-craft`,{playerId:d.playerId,gridId:y,stationX:f.x,stationY:f.y,recipe:n,transactionId:e,transactionKey:t});if(a.data.success){const{craftEnd:e,craftedItem:t,inventory:o,backpack:s}=a.data;o&&(r(o),p((e=>({...e,inventory:o})))),s&&(c(s),p((e=>({...e,backpack:s}))));const i=g.A.getResources().map((n=>n.x===f.x&&n.y===f.y?{...n,craftEnd:e,craftedItem:t}:n));g.A.setResources(i),m(i),H(t),J(Math.max(0,Math.floor((e-Date.now())/1e3))),_(!0),Z(!0),ee(!1),await B(d.playerId,p),A.A.addFloatingText(404,f.x,f.y,k),D(`${x[440]} ${K(n.type,x)}`),console.log(`\u2705 ${n.type} crafting started using protected endpoint.`)}}catch(l){var a,o;console.error("Error in protected crafting start:",l),429===(null===(a=l.response)||void 0===a?void 0:a.status)?D(451):400===(null===(o=l.response)||void 0===o?void 0:o.status)?D(450):D(452)}else R("Invalid recipe selected.")})(t,n,e)},e.type)})):(0,u.jsx)("p",{children:x[424]}),E&&(0,u.jsx)("p",{className:"error-message",children:E}),("homestead"===d.location.gtype||w)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-success",onAction:async(e,n)=>{await nn({currentPlayer:d,setInventory:r,setBackpack:c,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:y,TILE_SIZE:k,updateStatus:D,onClose:t})},transactionKey:`sell-refund-${h}-${f.x}-${f.y}-${y}`,children:x[425]})})]})]})})},fn=a.memo(hn),gn=JSON.parse('[{"workerType":"Kent","offsetX":2,"offsetY":-1},{"workerType":"The Shepherd","offsetX":2,"offsetY":0},{"workerType":"Farm Hand","offsetX":0,"offsetY":-2},{"workerType":"Rancher","offsetX":1,"offsetY":-2},{"workerType":"Lumberjack","offsetX":2,"offsetY":-2},{"workerType":"Crafter","offsetX":3,"offsetY":-2}]'),yn=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:y,masterResources:v,masterSkills:b,masterTrophies:k,TILE_SIZE:w,isDeveloper:S}=e;const x=(0,o.k)(),[C,I]=(0,a.useState)([]),[N,j]=(0,a.useState)([]),[E,R]=(0,a.useState)(""),[$,O]=(0,a.useState)("\ud83d\uded6"),{updateStatus:z}=(0,a.useContext)(Ie),[D,L]=(0,a.useState)(null),[F,_]=(0,a.useState)(!1),[U,H]=(0,a.useState)(null),[Y,J]=(0,a.useState)(null),[Q,Z]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(0);(0,a.useEffect)((()=>{var e;if(!h||!f)return;const t=null===(e=g.A.getResources())||void 0===e?void 0:e.find((e=>e.x===f.x&&e.y===f.y));if(t&&t.craftEnd){console.log(`\u23f3 Active crafting found: ${t.craftedItem} until ${new Date(t.craftEnd).toLocaleTimeString()}`),H(t.craftedItem),Z(!0),_(!0);const e=()=>{const e=Math.max(0,Math.floor((t.craftEnd-Date.now())/1e3));J(e),0===e&&(Z(!1),ee(!0))};e();const n=setInterval(e,1e3);return()=>clearInterval(n)}console.log("\u274c No active crafting timer found."),H(null),Z(!1),ee(!1),J(null),_(!1)}),[h,f,g.A.getResources(),Y]),(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];r(e);const t=(await s.A.get(`${i.A}/api/inventory/${d.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(r(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[d]),(0,a.useEffect)((()=>{try{let e=v.filter((e=>e.source===h));!0===d.firsttimeuser&&null!=d.ftuestep&&(console.log(`\ud83c\udf93 Filtering FarmHouse recipes by FTUE step: ${d.ftuestep}`),e=e.filter((e=>null==e.level||e.level<=d.ftuestep)));const t=T.Ay.getNPCsInGrid(y);if(t){const n=Object.values(t).filter((e=>e&&e.type)).map((e=>e.type));console.log("Existing NPC types on grid:",n),e=e.filter((e=>!1!==e.repeatable||!n.includes(e.type)||(console.log(`Filtering out non-repeatable ${e.type} - already exists on grid`),!1)))}I(e);const n=v.find((e=>e.type===h));O((null===n||void 0===n?void 0:n.symbol)||"\ud83d\uded6"),L(n),j(v||[])}catch(e){console.error("Error processing masterResources:",e)}}),[h,v,y,te]),(0,a.useEffect)((()=>{const e=setInterval((()=>{ne((e=>e+1))}),2e3);return()=>clearInterval(e)}),[]);const ae=async e=>{console.log("\ud83d\udd0d [GEM DEBUG] handleGemPurchase called with:",e);if(!await q({playerId:d.playerId,recipe:e,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:z}))return void console.warn("Failed to spend ingredients for gem purchase.");console.log("\ud83d\udd0d [GEM DEBUG] Ingredients spent successfully");const t=N.find((t=>t.type===e.type));if(t&&"npc"===t.category){const n=gn.find((t=>t.workerType===e.type)),a=(null===n||void 0===n?void 0:n.offsetX)||0,o=(null===n||void 0===n?void 0:n.offsetY)||0,r={x:f.x+a,y:f.y+o};console.log(`Spawning ${e.type} at offset (${a}, ${o}) from Farm House`),T.Ay.spawnNPC(y,t,r),"worker"===t.action&&await an(d.playerId,"First Farm Worker",1,d,k),await P(d,"Craft",e.type,1,p),"Farm House"===h&&"Kent"===e.type&&(console.log("\ud83c\udf93 Player hired Kent at FarmHouse, incrementing FTUE step"),await(0,xe.incrementFTUEStep)(d.playerId,d,p)),"Farm House"===h&&"The Shepherd"===e.type&&(console.log("\ud83c\udf93 Player hired The Shepherd at FarmHouse, incrementing FTUE step"),await(0,xe.incrementFTUEStep)(d.playerId,d,p)),z(`\ud83d\udc8e ${K(e.type,x)} hired instantly!`),A.A.addFloatingText(`+1 ${K(e.type,x)}`,f.x,f.y,w),ne((e=>e+1)),await B(d.playerId,p)}else z("Gem purchase not supported for this item type")};return(0,u.jsx)(V,{onClose:t,descriptionKey:"1032",titleKey:"1132",panelName:"FarmHouse",children:(0,u.jsxs)("div",{className:"standard-panel",children:[(null===C||void 0===C?void 0:C.length)>0?C.map((e=>{(0,xt.gU)(e,N||[]);const t=M(e,n,Array.isArray(l)?l:[],1),a=(e=>{var t;return!e||(null===(t=d.skills)||void 0===t?void 0:t.some((t=>t.type===e)))})(e.requires),o=a?"green":"red",S=U===e.type&&Y>0,C=U===e.type&&0===Y,I=S?`${x[441]} ${Jt(Date.now()+1e3*Y,Date.now())}`:C?x[457]:e.crafttime?`${x[458]} ${Qt(e.crafttime)}`:x[459];let j;j="Farm Hand"===e.type?(0,u.jsx)("div",{className:"info-content",children:(0,u.jsx)("div",{children:x[350]})}):"Rancher"===e.type?(0,u.jsx)("div",{className:"info-content",children:(0,u.jsx)("div",{children:x[351]})}):"Lumberjack"===e.type?(0,u.jsx)("div",{className:"info-content",children:(0,u.jsx)("div",{children:x[352]})}):"Crafter"===e.type?(0,u.jsx)("div",{className:"info-content",children:(0,u.jsx)("div",{children:x[353]})}):"Kent"===e.type?(0,u.jsx)("div",{className:"info-content",children:(0,u.jsx)("div",{children:x[354]})}):"The Shepherd"===e.type?(0,u.jsx)("div",{className:"info-content",children:(0,u.jsx)("div",{children:x[355]})}):(0,u.jsxs)("div",{className:"info-content",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:x[421]})," ",N.filter((t=>[t.ingredient1,t.ingredient2,t.ingredient3,t.ingredient4].includes(e.type))).map((e=>`${e.symbol||""} ${K(e.type,x)}`)).join(", ")||"None"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:x[422]})," \ud83d\udcb0 ",e.minprice||"n/a"]})]});const E=[1,2,3,4].map((t=>{var a,o,r;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const c=((null===n||void 0===n||null===(a=n.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0)+((null===l||void 0===l||null===(o=l.find((e=>e.type===s)))||void 0===o?void 0:o.quantity)||0);return`<span style="color: ${c>=i?"green":"red"}; display: block;">${(null===(r=N.find((e=>e.type===s)))||void 0===r?void 0:r.symbol)||""} ${K(s,x)} ${i} / ${c}</span>`})).join("");return(0,u.jsx)(St,{symbol:e.symbol,name:K(e.type,x),className:"resource-button "+(S?"in-progress":C?"ready":""),details:S?I:(e.requires?`<span style="color: ${o};">${x[460]}${K(e.requires,x)}</span><br>`:"")+`${I}<br>`+(C?"":`${x[461]}<div>${E}</div>`),info:j,disabled:!C&&(null!==U||!t||!a),onClick:void 0,isTransactionMode:!0,transactionKey:C?`crafting-collect-${e.type}-${f.x}-${f.y}`:`crafting-start-${e.type}-${f.x}-${f.y}`,onTransactionAction:C?(t,n)=>(async(e,t,n)=>{if(n){console.log("\ud83d\udd0d [COLLECT DEBUG] Starting collection:",{craftedItem:U,recipeType:null===n||void 0===n?void 0:n.type,ftuestep:d.ftuestep,firsttimeuser:d.firsttimeuser,stationType:h});try{const n=await s.A.post(`${i.A}/api/crafting/collect-item`,{playerId:d.playerId,gridId:y,stationX:f.x,stationY:f.y,craftedItem:U,transactionId:e,transactionKey:t});if(n.data.success){const{collectedItem:e,isNPC:t,inventory:a,updatedStation:o}=n.data;console.log("\ud83d\udd0d [COLLECT DEBUG] Server response:",{collectedItem:e,isNPC:t,hasInventory:!!a}),console.log("MasterSkills:",b);const s=1*(d.skills||[]).filter((t=>{var n;const a=N.find((e=>e.type===t.type)),o="skill"===(null===a||void 0===a?void 0:a.category)||"upgrade"===(null===a||void 0===a?void 0:a.category),r=((null===b||void 0===b||null===(n=b[t.type])||void 0===n?void 0:n[e])||1)>1;return o&&r})).map((e=>e.type)).reduce(((t,n)=>{var a;return t*((null===b||void 0===b||null===(a=b[n])||void 0===a?void 0:a[e])||1)}),1);if(console.log("[DEBUG] qtyCollected after multiplier:",s),A.A.addFloatingText(`+${s} ${K(e,x)}`,f.x,f.y,w),t){const t=N.find((t=>t.type===e));if(t){const n=gn.find((t=>t.workerType===e)),a=(null===n||void 0===n?void 0:n.offsetX)||0,o=(null===n||void 0===n?void 0:n.offsetY)||0,r={x:f.x+a,y:f.y+o};console.log(`Spawning ${e} at offset (${a}, ${o}) from Farm House, final position: (${r.x}, ${r.y})`),T.Ay.spawnNPC(y,t,r),"worker"===t.action&&await an(d.playerId,"First Farm Worker",1,d,k),ne((e=>e+1))}}else await G({playerId:d.playerId,currentPlayer:d,resource:e,quantity:s,inventory:d.inventory,backpack:d.backpack,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:z,masterResources:v})||console.error("\u274c Failed to add buffed crafted item to inventory.");await P(d,"Craft",e,s,p),console.log("\ud83d\udd0d [SHEPHERD DEBUG] Checking for FTUE advancement:",{collectedItem:e,isTheShepherd:"The Shepherd"===e,ftuestep:d.ftuestep,firsttimeuser:d.firsttimeuser,shouldAdvance:"The Shepherd"===e&&!0===d.firsttimeuser&&5===d.ftuestep}),"The Shepherd"===e&&(console.log("\ud83c\udf93 Player hired The Shepherd at FarmHouse, incrementing FTUE step"),console.log("\ud83d\udd0d [SHEPHERD DEBUG] About to call incrementFTUEStep"),await(0,xe.incrementFTUEStep)(d.playerId,d,p),console.log("\ud83d\udd0d [SHEPHERD DEBUG] incrementFTUEStep completed"));const i=g.A.getResources().map((e=>e.x===f.x&&e.y===f.y?{...e,craftEnd:void 0,craftedItem:void 0}:e));g.A.setResources(i),m(i),_(!1),H(null),J(null),ee(!1),await B(d.playerId,p)}}catch(o){var a;console.error("Error in protected crafting collection:",o),429===(null===(a=o.response)||void 0===a?void 0:a.status)?z(471):z(454)}}else console.error("\u274c No valid crafted item to collect.")})(t,n,e):(t,n)=>(async(e,t,n)=>{if(console.log(`\ud83d\udd12 [PROTECTED CRAFTING] Starting protected craft for ${n.type}`),R(""),n)try{const a={playerId:d.playerId,gridId:y,stationX:f.x,stationY:f.y,recipe:n,transactionId:e,transactionKey:t,isGemPurchase:t&&t.includes("crafting-gem-")};console.log("\ud83d\udd0d [CRAFT DEBUG] Sending to server:",a);const o=await s.A.post(`${i.A}/api/crafting/start-craft`,a);if(o.data.success){const{craftEnd:e,craftedItem:t,inventory:a,backpack:s}=o.data;a&&(r(a),p((e=>({...e,inventory:a})))),s&&(c(s),p((e=>({...e,backpack:s}))));const i=g.A.getResources().map((n=>n.x===f.x&&n.y===f.y?{...n,craftEnd:e,craftedItem:t}:n));g.A.setResources(i),m(i),H(t),J(Math.max(0,Math.floor((e-Date.now())/1e3))),_(!0),Z(!0),ee(!1),await B(d.playerId,p),A.A.addFloatingText(404,f.x,f.y,w),z(`${x[440]} ${K(n.type,x)}`)}}catch(u){var a,o,l;console.error("Error in protected crafting start:",u),console.error("Error response data:",null===(a=u.response)||void 0===a?void 0:a.data),429===(null===(o=u.response)||void 0===o?void 0:o.status)?z(451):400===(null===(l=u.response)||void 0===l?void 0:l.status)?z(450):z(452)}else R("Invalid recipe selected.")})(t,n,e),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||t&&a&&null===U?null:ae,resource:e,inventory:n,backpack:l,masterResources:v||N,currentPlayer:d,hideGem:S||C||!e.gemcost},e.type)})):(0,u.jsx)("p",{children:x[456]}),E&&(0,u.jsx)("p",{className:"error-message",children:E}),S&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-danger",onAction:async(e,n)=>{await nn({currentPlayer:d,setInventory:r,setBackpack:c,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:y,TILE_SIZE:w,updateStatus:z,onClose:t})},transactionKey:`sell-refund-${h}-${f.x}-${f.y}-${y}`,children:x[490]})})]})]})})},vn=a.memo(yn);const bn=function(e){let{isOpen:t,title:n,message:o}=e;const[r,s]=(0,a.useState)(0),i=["\u23f3","\u231b"];return(0,a.useEffect)((()=>{if(!t)return void s(0);const e=setInterval((()=>{s((e=>(e+1)%i.length))}),500);return()=>clearInterval(e)}),[t]),t?(0,u.jsx)(De,{isOpen:t,onClose:()=>{},title:n,size:"small",className:"progress-modal",children:(0,u.jsxs)("div",{className:"progress-modal-content",children:[(0,u.jsx)("div",{className:"progress-message",children:o}),(0,u.jsx)("div",{className:"progress-hourglass",children:i[r]})]})}):null};function kn(e){let{isOpen:t,onClose:n,crops:o,onExecute:r,showBulkReplant:s,hasRequiredSkill:i,strings:l}=e;const[c,d]=(0,a.useState)({}),[p,m]=(0,a.useState)({});a.useEffect((()=>{if(t&&o.length>0){const e={};if(o.forEach((t=>{e[t.type]=!0})),d(e),s){const e={};o.forEach((t=>{i(t.replantRequires)&&(e[t.type]=!0)})),m(e)}}}),[t,o,s,i]);return t?(0,u.jsx)(De,{isOpen:t,onClose:n,title:l[315]||"Select Crops to Harvest",size:"medium",children:(0,u.jsxs)("div",{style:{padding:"20px",fontSize:"16px"},children:[(0,u.jsxs)("div",{style:{marginBottom:"15px",display:"flex",gap:"10px"},children:[(0,u.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,u.jsx)("button",{onClick:()=>{const e={};o.forEach((t=>{e[t.type]=!0})),d(e)},style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"3px"},children:l[316]||"Select All"}),(0,u.jsx)("button",{onClick:()=>d({}),style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#808080",color:"white",border:"none",borderRadius:"3px"},children:l[317]||"Deselect All"})]}),s&&(0,u.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"auto"},children:[(0,u.jsx)("button",{onClick:()=>{const e={};o.forEach((t=>{i(t.replantRequires)&&(e[t.type]=!0)})),m(e)},style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"3px"},children:l[316]||"Select All"}),(0,u.jsx)("button",{onClick:()=>m({}),style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#808080",color:"white",border:"none",borderRadius:"3px"},children:l[317]||"Deselect All"})]})]}),s&&(0,u.jsxs)("div",{style:{display:"flex",marginBottom:"10px",fontSize:"14px",fontWeight:"bold"},children:[(0,u.jsx)("div",{style:{width:"30px",paddingLeft:"5px"},children:l[342]||"Harvest?"}),(0,u.jsx)("div",{style:{flex:1}}),(0,u.jsx)("div",{style:{width:"120px",textAlign:"center"},children:l[343]||"Replant?"})]}),(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:o.map((e=>{const t=i(e.replantRequires);return(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",padding:"5px",borderBottom:"1px solid #eee"},children:[(0,u.jsx)("div",{style:{width:"30px"},children:(0,u.jsx)("input",{type:"checkbox",checked:c[e.type]||!1,onChange:t=>d((n=>({...n,[e.type]:t.target.checked}))),style:{width:"20px"}})}),(0,u.jsxs)("div",{style:{flex:1,textAlign:"left"},children:[e.symbol," ",K(e.type,l)," (",e.count,")"]}),s&&(0,u.jsx)("div",{style:{marginLeft:"60px",width:"80px",display:"flex",justifyContent:"center"},children:(0,u.jsx)("input",{type:"checkbox",checked:p[e.type]||!1,onChange:n=>{t&&m((t=>({...t,[e.type]:n.target.checked})))},disabled:!t,style:{width:"20px",opacity:t?1:.5,cursor:t?"pointer":"not-allowed"},title:t?"":`Requires ${e.replantRequires||"unknown skill"} to replant ${e.type}`})})]},e.type)}))}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)("button",{onClick:()=>{r(c,p)},style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},disabled:Object.values(c).every((e=>!e)),children:l[318]||"Harvest Selected"})})]})}):null}async function wn(e){let{selectedCropTypes:t,selectedReplantTypes:n,resources:a,masterResources:o,masterSkills:r,currentPlayer:l,setCurrentPlayer:c,setInventory:d,setBackpack:u,setResources:p,gridId:m,showBulkReplant:h,strings:f,refreshPlayerAfterInventoryUpdate:y}=e;const v=Object.keys(t).filter((e=>t[e]));if(0===v.length)return f[449]||"No crops selected for harvest.";const b=await async function(e,t,n,a,o){let r=0;const s=[],i=(o.inventory||[]).filter((e=>"Money"!==e.type&&"Gem"!==e.type)).reduce(((e,t)=>e+(t.quantity||0)),0),l=(o.backpack||[]).filter((e=>"Money"!==e.type&&"Gem"!==e.type)).reduce(((e,t)=>e+(t.quantity||0)),0),c=D(o,n),d=c.warehouse||0,u=c.backpack||0,p=d+u,m=i+l,h=p-m;console.log("Bulk harvest capacity check:",{warehouseCapacity:d,backpackCapacity:u,totalCapacity:p,currentWarehouseUsage:i,currentBackpackUsage:l,currentTotalUsage:m,availableSpace:h});for(const b of e){const e=t.filter((e=>e.type===b));if(0===e.length)continue;const i=n.find((e=>e.type===b));if(!i)continue;const l=z(b,o.skills||[],a),c=i.qtycollected||1,d=Math.floor(c*l.multiplier),u=e.length*d;s.push({type:b,count:e.length,baseYield:c,skillMultiplier:l.multiplier,skillInfo:l,yieldPerCrop:d,totalYield:u,positions:e.map((e=>({x:e.x,y:e.y}))),symbol:i.symbol||"\ud83c\udf3e"}),r+=u}const f=[],g={};for(const b of s){const e=n.find((e=>"farmplot"===e.category&&e.output===b.type));if(e){for(let t=1;t<=4;t++){const n=e[`ingredient${t}`],a=e[`ingredient${t}qty`];if(n&&a){const e=a*b.count;g[n]=(g[n]||0)+e}}f.push({farmplotType:e.type,cropType:b.type,count:b.count,positions:b.positions,growtime:e.growtime||60})}}const y={};let v=!0;return Object.entries(g).forEach((e=>{var t,n,a,r;let[s,i]=e;const l=((null===(t=o.inventory)||void 0===t||null===(n=t.find((e=>e.type===s)))||void 0===n?void 0:n.quantity)||0)+((null===(a=o.backpack)||void 0===a||null===(r=a.find((e=>e.type===s)))||void 0===r?void 0:r.quantity)||0);y[s]={needed:i,has:l,enough:l>=i},l<i&&(v=!1)})),{canHarvest:h>=r,totalCapacityNeeded:r,availableSpace:h,currentTotalUsage:m,totalCapacity:p,warehouseCapacity:d,backpackCapacity:u,harvestDetails:s,replantDetails:f,seedsNeeded:g,hasEnoughSeeds:y,canReplantAll:v}}(v,a,o,r,l);if(!b.canHarvest){const e=b.totalCapacityNeeded,t=b.availableSpace;return`${f[447]||"Not enough space"}: ${e} needed, ${t} available`}if(h&&!b.canReplantAll){const e=Object.entries(b.hasEnoughSeeds).filter((e=>{let[t,n]=e;return!n.enough})).map((e=>{let[t,n]=e;return`${K(t,f)}: ${n.needed-n.has} more needed`})).join(", ");console.log(`\u26a0\ufe0f Not enough seeds for replanting: ${e}`)}const k=function(e,t){const n=[];return e.harvestDetails.forEach((e=>{const a=t[e.type]||!1;n.push({cropType:e.type,positions:e.positions,replant:a,expectedYield:e.totalYield})})),n}(b,n),w=`bulk-harvest-${l._id}-${Date.now()}`,S=`bulk-harvest-${m}`,x=await s.A.post(`${i.A}/api/bulk-harvest`,{playerId:l._id,gridId:m,operations:k,transactionId:w,transactionKey:S});if(x.data.success){const e=x.data.results;d(x.data.inventory.warehouse),u(x.data.inventory.backpack),c((e=>({...e,inventory:x.data.inventory.warehouse,backpack:x.data.inventory.backpack})));const t=new Set;Object.values(e.harvested).forEach((e=>{e.positions.forEach((e=>t.add(`${e.x},${e.y}`)))}));const n=a.filter((e=>!t.has(`${e.x},${e.y}`)));e.replanted&&Object.entries(e.replanted).forEach((e=>{let[t,a]=e;a.positions.forEach(((e,o)=>{n.push({x:e.x,y:e.y,type:t,growEnd:a.growEndTimes[o],stage:1})}))})),g.A.setResources(n),p(n);const s={};Object.entries(e.harvested).forEach((e=>{let[t,n]=e;const a=z(t,l.skills||[],r);a.hasSkills&&(s[t]=a)}));const i={};e.harvested&&Object.entries(e.harvested).forEach((e=>{let[t,n]=e;i[t]=n.quantity}));const m={};e.replanted&&Object.entries(e.replanted).forEach((e=>{let[t,n]=e;m[t]=n.count}));const h=mn("harvest",i,s,m,f,K);return Object.entries(e.harvested).forEach((e=>{let[t,n]=e;P({questProgressCategory:"collect",itemName:t,quantity:n.quantity,currentPlayer:l,setCurrentPlayer:c,masterResources:o})})),Object.entries(e.seedsUsed||{}).forEach((e=>{let[t,n]=e;P({questProgressCategory:"spend",itemName:t,quantity:n,currentPlayer:l,setCurrentPlayer:c,masterResources:o})})),h}return f[448]||"Bulk harvest failed"}function Sn(e){let{isOpen:t,onClose:n,animals:o,onExecute:r,strings:s}=e;const[i,l]=(0,a.useState)({});a.useEffect((()=>{if(t&&o.length>0){const e={};o.forEach((t=>{e[t.type]=!0})),l(e)}}),[t,o]);return t?(0,u.jsx)(De,{isOpen:t,onClose:n,title:s[319]||"Select Animals to Collect",size:"medium",children:(0,u.jsxs)("div",{style:{padding:"20px",fontSize:"16px"},children:[(0,u.jsxs)("div",{style:{marginBottom:"15px",display:"flex",gap:"10px"},children:[(0,u.jsx)("button",{onClick:()=>{const e={};o.forEach((t=>{e[t.type]=!0})),l(e)},style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"3px"},children:s[316]||"Select All"}),(0,u.jsx)("button",{onClick:()=>l({}),style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"3px"},children:s[317]||"Deselect All"})]}),(0,u.jsx)("div",{style:{marginBottom:"20px"},children:o.map(((e,t)=>(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",padding:"5px",backgroundColor:t%2===0?"transparent":"#f0f0f0"},children:[(0,u.jsx)("input",{type:"checkbox",checked:i[e.type]||!1,onChange:t=>{l((n=>({...n,[e.type]:t.target.checked})))},style:{marginRight:"10px"}}),(0,u.jsxs)("span",{children:[e.symbol," ",K(e.type,s)," (",e.count,")"]})]},e.type)))}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)("button",{onClick:()=>{r()},style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},disabled:Object.values(i).every((e=>!e)),children:s[318]||"Collect Selected"})})]})}):null}function xn(e){let{isOpen:t,onClose:n,stationGroups:o,onExecute:r,hasBulkRestartCraft:s,strings:i}=e;const[l,c]=(0,a.useState)([]),[d,p]=(0,a.useState)({});a.useEffect((()=>{if(t&&o.length>0&&(c(o),s)){const e={};o.forEach((t=>{if(t.canRestart){const n=`${t.stationType}-${t.craftedItem}`;e[n]=!0}})),p(e)}}),[t,o,s]);const m=e=>l.some((t=>t.stationType===e.stationType&&t.craftedItem===e.craftedItem));return t?(0,u.jsx)(De,{isOpen:t,onClose:n,title:i[467]||"Select Crafting Stations to Collect",size:"medium",children:(0,u.jsxs)("div",{style:{padding:"20px",fontSize:"16px"},children:[(0,u.jsxs)("div",{style:{marginBottom:"15px",display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,u.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,u.jsx)("button",{onClick:()=>{const e=[];o.forEach((t=>{e.push(t)})),c(e)},style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"3px"},children:i[316]||"Select All"}),(0,u.jsx)("button",{onClick:()=>c([]),style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#808080",color:"white",border:"none",borderRadius:"3px"},children:i[317]||"Deselect All"})]}),s&&(0,u.jsxs)("div",{style:{display:"flex",gap:"10px",marginLeft:"auto"},children:[(0,u.jsx)("button",{onClick:()=>{const e={};o.forEach((t=>{e[`${t.stationType}-${t.craftedItem}`]=!0})),p(e)},style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"3px"},children:i[316]||"Select All"}),(0,u.jsx)("button",{onClick:()=>p({}),style:{padding:"5px 10px",fontSize:"12px",backgroundColor:"#808080",color:"white",border:"none",borderRadius:"3px"},children:i[317]||"Deselect All"})]})]}),(0,u.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",fontWeight:"bold",borderBottom:"1px solid #ccc",paddingBottom:"5px"},children:[(0,u.jsx)("span",{style:{marginRight:"10px",width:"20px"}}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"30px"}}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"120px"},children:i[476]||"Collect"}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"120px"},children:i[161]||"From"}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"40px"},children:i[164]||"Qty"}),s&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{style:{marginRight:"10px",width:"80px"}}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"80px"},children:i[475]||"Restart?"}),(0,u.jsx)("span",{style:{width:"200px"},children:i[177]||"Need"})]})]}),o.map(((e,t)=>{const n=`${e.stationType}-${e.craftedItem}`;return(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",padding:"5px",backgroundColor:t%2===0?"transparent":"#f0f0f0"},children:[(0,u.jsx)("input",{type:"checkbox",checked:m(e),onChange:t=>(e=>{c((t=>t.some((t=>t.stationType===e.stationType&&t.craftedItem===e.craftedItem))?t.filter((t=>!(t.stationType===e.stationType&&t.craftedItem===e.craftedItem))):[...t,e]))})(e),style:{marginRight:"10px",width:"20px"}}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"30px"},children:e.stationSymbol}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"120px"},children:K(e.stationType,i)}),(0,u.jsx)("span",{style:{marginRight:"10px",width:"120px",fontWeight:"bold"},children:K(e.craftedItem,i)}),(0,u.jsxs)("span",{style:{marginRight:"10px",width:"60px",color:"#666"},children:["(",e.stationCount,")"]}),s&&(()=>{const t=e.recipe;let a=e.affordable,o=[];if(t){const n=[];for(let e=1;e<=5;e++){const a=t[`ingredient${e}`],o=t[`ingredient${e}qty`];a&&n.push({type:a,quantity:o||1})}n.length>0&&(o=n.map(((t,n)=>{const a=t.quantity*e.stationCount;return(0,u.jsxs)("div",{style:{color:"#666"},children:[t.type," x",a]},n)})))}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{marginLeft:"60px",width:"80px",display:"flex",justifyContent:"center"},children:(0,u.jsx)("input",{type:"checkbox",checked:a&&d[n]||!1,onChange:e=>{a&&p((t=>({...t,[n]:e.target.checked})))},disabled:!a,style:{width:"20px",cursor:a?"pointer":"not-allowed",opacity:a?1:.5},title:a?"Restart crafting after collection":"Not enough ingredients to restart"})}),(0,u.jsx)("div",{style:{width:"200px"},children:o.length>0?(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",color:a?"#666":"red"},children:o}):(0,u.jsx)("span",{style:{color:"#666"},children:"-"})})]})})()]},n)}))]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)("button",{onClick:()=>{r(l,d)},style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},disabled:0===l.length,children:i[318]||"Collect Selected"})})]})}):null}async function Cn(e){var t;let{selectedGroups:n,selectedRestartStations:a,hasBulkRestartCraft:o,currentPlayer:r,setCurrentPlayer:l,inventory:c,setInventory:d,backpack:u,setBackpack:p,setResources:m,gridId:h,masterResources:f,masterSkills:y,strings:v,updateStatus:b}=e;if(0===n.length)return"No crafting stations selected for collection.";const k=n.flatMap((e=>e.stations));console.log(`\ud83d\udd28 Found ${k.length} crafting stations ready to collect`);const w=k.map((e=>{const t=`${e.type}-${e.craftedItem}`,r=o&&a[t];let s=null;if(r){const t=n.find((t=>t.stationType===e.type&&t.craftedItem===e.craftedItem));t&&t.recipe&&(s=t.recipe)}return{x:e.x,y:e.y,type:e.type,craftedItem:e.craftedItem,transactionId:`bulk-craft-collect-${Date.now()}-${Math.random()}`,shouldRestart:r,restartRecipe:s}}));console.log("\ud83d\udd28 Attempting bulk crafting collection with stations:",w.length);const S=`bulk-craft-collect-${r._id}-${Date.now()}`,x=`bulk-craft-collect-${h}`,C=await s.A.post(`${i.A}/api/bulk-craft/collect`,{playerId:r._id,gridId:h,stations:w,transactionId:S,transactionKey:x});if(console.log("\ud83d\udd28 Bulk crafting response:",C.data),console.log("\ud83d\udd28 Number of results returned:",null===(t=C.data.results)||void 0===t?void 0:t.length),C.data.success&&C.data.results){const e=C.data.results,t=g.A.getResources(),n={},a={},o={};for(const s of e){if(s.collected){const{station:e,collectedItem:a,isNPC:i}=s,l=t.findIndex((t=>t.x===e.x&&t.y===e.y));-1!==l&&(t[l].craftEnd=void 0,t[l].craftedItem=void 0);const c=e.stationType||e.type,d=(r.skills||[]).filter((e=>{var t;const n=f.find((t=>t.type===e.type)),a="skill"===(null===n||void 0===n?void 0:n.category)||"upgrade"===(null===n||void 0===n?void 0:n.category),o=((null===y||void 0===y||null===(t=y[e.type])||void 0===t?void 0:t[c])||1)>1;return a&&o})).map((e=>e.type)),u=d.reduce(((e,t)=>{var n;return e*((null===y||void 0===y||null===(n=y[t])||void 0===n?void 0:n[c])||1)}),1),p=1*u;if(i){const t=f.find((e=>e.type===a));t&&T.Ay.spawnNPC(h,t,{x:e.x,y:e.y})}else n[a]=(n[a]||0)+p,!o[a]&&d.length>0&&(o[a]={skills:d,multiplier:u,hasSkills:!0})}if(s.restarted){const e=s.station.craftedItem||s.craftType;a[e]=(a[e]||0)+1;const n=t.findIndex((e=>e.x===s.station.x&&e.y===s.station.y));-1!==n&&(t[n].craftEnd=s.newCraftEnd,t[n].craftedItem=s.newCraftedItem)}}C.data.inventory&&(d(C.data.inventory.warehouse),p(C.data.inventory.backpack),l((e=>({...e,inventory:C.data.inventory.warehouse,backpack:C.data.inventory.backpack})))),g.A.setResources(t),m(t);for(const[s,i]of Object.entries(n))await G({playerId:r.playerId,currentPlayer:r,resource:s,quantity:i,inventory:r.inventory,backpack:r.backpack,setInventory:d,setBackpack:p,setCurrentPlayer:l,updateStatus:b,masterResources:f}),await P(r,"Craft",s,i,l);if(await B(r.playerId,l,!1),Object.keys(n).length>0){const e=[];return e.push(mn("craft",n,o,null,v,K)),Object.keys(a).length>0&&e.push(function(e,t,n,a){return e&&0!==Object.keys(e).length?`${Object.entries(e).map((e=>{let[t,o]=e;return`${o} ${a(t,n)}`})).join(", ")} ${{craft:"restarted",harvest:"replanted"}[t]||"restarted"}`:""}(a,"craft",v,K)),e.join(" | ")}return"Failed to collect any crafted items."}return"Failed to collect crafted items."}const In=e=>{let{onClose:t,npc:n,inventory:r,setInventory:l,backpack:c,setBackpack:d,currentPlayer:p,setCurrentPlayer:m,resources:h,setResources:f,stationType:y,currentStationPosition:v,gridId:b,TILE_SIZE:k,updateStatus:w,masterResources:S,masterSkills:x,currentSeason:C}=e;const I=(0,o.k)(),[j,E]=(0,a.useState)([]),[R,$]=(0,a.useState)(""),[O,z]=(0,a.useState)("\ud83d\uded6"),[D,L]=(0,a.useState)(null),[F,_]=(0,a.useState)([]),[U,H]=(0,a.useState)([]),[W,Y]=(0,a.useState)(!1),[J,Q]=(0,a.useState)({}),[X,ee]=(0,a.useState)({}),[te,ae]=(0,a.useState)([]),[oe,re]=(0,a.useState)(!1),[se,ie]=(0,a.useState)({}),[le,ce]=(0,a.useState)([]),[de,ue]=(0,a.useState)(!1),[pe,me]=(0,a.useState)({}),[he,fe]=(0,a.useState)({}),[ye,be]=(0,a.useState)([]),ke=p.skills||[],we=ke.some((e=>"Bulk Replant"===e.type)),Se=ke.some((e=>"Bulk Restart Craft"===e.type)),[xe,Ce]=(0,a.useState)(!1),[Ie,Ae]=(0,a.useState)({isOpen:!1,message:""}),{setBusyOverlay:Te,clearNPCOverlay:Ne}=ne(),{startBulkOperation:je,endBulkOperation:Pe}=Ee();async function Re(e,t,n,a){let o=null;Ae({isOpen:!0,message:I[477]||"Processing..."});try{o=await a()}catch(r){console.error(`${e} failed:`,r),o=r.message||`Failed to complete ${e}.`}finally{Ae({isOpen:!1,message:""}),n&&Ne(n.id),Pe(t),o&&w(o)}}const $e=(null===n||void 0===n?void 0:n.type)||y,Oe=["Farmer","Farm Hand"].includes($e),ze=["Farmer","Farm Hand"].includes($e)&&we,De=["Farmer","Rancher"].includes($e),Me=["Farmer","Lumberjack"].includes($e),Le=(["Farmer","Lumberjack"].includes($e),["Farmer","Farm Hand"].includes($e)),Be=["Farmer","Crafter"].includes($e);(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];l(e);const t=(await s.A.get(`${i.A}/api/inventory/${p.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(l(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[p]),(0,a.useEffect)((()=>{try{const e=S.filter((e=>"farmplot"===e.category)).map((e=>e.output)).filter(Boolean),t=S.filter((t=>!(!e.includes(t.type)||"Oak Tree"===t.type)&&(!t.season||!C||t.season===C)));E(t);const n=S.find((e=>e.type===y));z((null===n||void 0===n?void 0:n.symbol)||"\ud83d\uded6"),L(n)}catch(e){console.error("Error loading worker offers:",e)}}),[y,S]),(0,a.useEffect)((()=>{var e;const t=(null===(e=p.skills)||void 0===e?void 0:e.map((e=>e.type)))||[];let n=["Farm Hand"];"Crafter"!==$e&&"Farmer"!==$e||n.push("Crafter"),"Rancher"!==$e&&"Farmer"!==$e||n.push("Rancher");let a=S.filter((e=>("skill"===e.category||"upgrade"===e.category)&&n.includes(e.source)&&!t.includes(e.type)));"Farm Hand"===$e?a=a.filter((e=>["Bulk Harvest","Bulk Replant"].includes(e.type))):"Rancher"===$e?a=a.filter((e=>"Bulk Animal Collect"===e.type)):"Lumberjack"===$e?a=a.filter((e=>["Logging","Better Logging"].includes(e.type))):"Crafter"===$e&&(a=a.filter((e=>["Bulk Crafting","Bulk Restart Craft"].includes(e.type)))),_(a.filter((e=>"skill"===e.category))),H(a.filter((e=>"upgrade"===e.category)))}),[S,p,$e]);async function Ge(){console.log("\ud83d\udc2e Executing selective animal collect"),re(!1),t(),$("");const e=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action&&["Farmer","Rancher"].includes(e.type)));e&&Te(e.id);const n=`bulk-animal-collect-${Date.now()}`;je("bulk-animal-collect",n),await Re("bulk-animal-collect",n,e,(async()=>await async function(e){let{selectedAnimalTypes:t,gridId:n,currentPlayer:a,setCurrentPlayer:o,setInventory:r,setBackpack:s,setResources:i,updateStatus:l,TILE_SIZE:c,masterResources:d,masterSkills:u,strings:p}=e;const m=Object.keys(t).filter((e=>t[e]));if(0===m.length)return"No animals selected for collection.";const h=Object.values(T.Ay.getNPCsInGrid(n)||{}).filter((e=>"processing"===e.state&&m.includes(e.type))),f=e=>new Promise((t=>setTimeout(t,e))),g={},y={};for(const v of h){const e=await Z(v,v.position.y,v.position.x,r,s,i,a,o,c,d,u,n,(()=>{}),(()=>{}),l,(()=>{}),(()=>{}),p);if(e&&"success"===e.type&&e.collectedItem){const{collectedItem:t,collectedQuantity:n,skillsApplied:a}=e;if(g[t]=(g[t]||0)+n,!y[t]&&a&&a.length>0){const e=n;y[t]={skills:a,multiplier:e,hasSkills:!0}}}await f(100)}if(await f(100),await B(a.playerId,o,!1),Object.keys(g).length>0)return mn("animal",g,y,null,p,K);return"Failed to collect from any animals."}({selectedAnimalTypes:se,gridId:b,currentPlayer:p,setCurrentPlayer:m,setInventory:l,setBackpack:d,setResources:f,updateStatus:w,TILE_SIZE:k,masterResources:S,masterSkills:x,strings:I}))),t()}const qe=e=>{switch(e){case"Bulk Harvest":return I[427];case"Bulk Animal Collect":return I[431];case"Logging":return I[432];case"Better Logging":return I[433];case"Bulk Crafting":return I[464];case"Bulk Restart Craft":return I[468]||"Automatically restart crafting after collection";default:return""}};return(0,u.jsxs)(V,{onClose:t,descriptionKey:"1023",title:null!==n&&void 0!==n&&n.symbol?`${n.symbol} ${$e}`:$e,panelName:"FarmHandPanel",children:[(0,u.jsxs)("div",{className:"standard-panel",children:[Oe&&(null===ke||void 0===ke?void 0:ke.some((e=>"Bulk Harvest"===e.type)))&&(0,u.jsx)("div",{children:(0,u.jsx)(St,{symbol:"\ud83d\ude9c",name:"Bulk Harvest",className:"resource-button bulk-skill",details:I[428],onClick:function(){console.log("\ud83d\ude9c Opening selective harvest modal");const e=function(e,t){const n={};console.log("\ud83c\udf3e prepareBulkHarvestData - Total resources:",e.length),console.log("\ud83c\udf3e Sample resources:",e.slice(0,5).map((e=>({type:e.type,stage:e.stage,x:e.x,y:e.y})))),e.filter((e=>(0,xt.AQ)(e.type,t))).forEach((e=>{if(!n[e.type]){const a=t.find((t=>t.type===e.type)),o=t.find((t=>"farmplot"===t.category&&t.output===e.type));n[e.type]={count:0,symbol:(null===a||void 0===a?void 0:a.symbol)||"\ud83c\udf3e",replantRequires:null===o||void 0===o?void 0:o.requires}}n[e.type].count++}));const a=Object.entries(n).map((e=>{let[t,n]=e;return{type:t,count:n.count,symbol:n.symbol,replantRequires:n.replantRequires}}));return console.log("\ud83c\udf3e Found ready crops:",a),a}(h,S);0!==e.length?(ae(e),Y(!0)):w(I[344]||"No crops ready for harvest.")}})}),De&&(null===ke||void 0===ke?void 0:ke.some((e=>"Bulk Animal Collect"===e.type)))&&(0,u.jsx)("div",{children:(0,u.jsx)(St,{symbol:"\ud83d\udc2e",name:"Bulk Animal Collect",className:"resource-button bulk-skill",details:I[434],onClick:function(){console.log("\ud83d\udc2e Opening selective animal collect modal");const e=Object.values(T.Ay.getNPCsInGrid(b)||{}),t=e.filter((e=>"processing"===e.state));if(console.log("\ud83d\udc2e Processing animals:",t.map((e=>({id:e.id,type:e.type,state:e.state,grazeEnd:e.grazeEnd,position:e.position})))),0===t.length)return void w("No animals are ready to collect.");const n=e.find((e=>"worker"===e.action&&["Farmer","Rancher"].includes(e.type)));n&&Te(n.id);const a={};t.forEach((e=>{a[e.type]=(a[e.type]||0)+1}));const o=Object.entries(a).map((e=>{let[t,n]=e;const a=S.find((e=>e.type===t));return{type:t,count:n,symbol:(null===a||void 0===a?void 0:a.symbol)||"\ud83d\udc2e"}}));ce(o);const r={};o.forEach((e=>{r[e.type]=!0})),ie(r),re(!0)}})}),Me&&(null===ke||void 0===ke?void 0:ke.some((e=>"Logging"===e.type)))&&(0,u.jsx)("div",{children:(0,u.jsx)(St,{symbol:"\ud83e\ude93",name:"Logging",className:"resource-button bulk-skill",details:I[435],onClick:async function(){console.log("\ud83e\ude93\ud83e\ude93\ud83e\ude93\ud83e\ude93\ud83e\ude93 Logging initiated \ud83e\ude93\ud83e\ude93\ud83e\ude93\ud83e\ude93\ud83e\ude93\ud83e\ude93"),t(),$("");const e=Array.isArray(r)?r:[],n=Array.isArray(c)?c:[],a=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action&&["Farmer","Lumberjack"].includes(e.type)));a&&Te(a.id);const o=`bulk-logging-${Date.now()}`;je("bulk-logging",o);try{const t=(p.skills||[]).filter((e=>["Logging","Better Logging"].includes(e.type))).reduce(((e,t)=>{const n=S.find((e=>e.type===t.type));return e+((null===n||void 0===n?void 0:n.qtycollected)||0)}),0);if(0===t)return void w("No logging skills available.");const a=Object.values(T.Ay.getNPCsInGrid(b)||{}),o=a.find((e=>"Lumberjack"===e.type)),r=a.find((e=>"Farmer"===e.type||"Farm Hand"===e.type));let i,c;if(o)i=o.position,c="Lumberjack";else if(r)i=r.position,c="Farmer";else{var s;const e=null===(s=N.A.getPlayersInGrid(b))||void 0===s?void 0:s[p.playerId];e&&e.position?(i=e.position,c="Player"):(i={x:0,y:0},c="Default")}console.log(`\ud83e\ude93 Using ${c} position as center: (${i.x}, ${i.y})`);const u=h.filter((e=>"Oak Tree"===e.type)).map((e=>({...e,distance:Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}))).sort(((e,t)=>e.distance-t.distance));if(0===u.length)return void w(I[437]||"No trees available to chop.");const g=u.slice(0,t);console.log(`\ud83c\udf32 Found ${u.length} trees, will chop ${g.length} closest to Lumberjack`);const y=e=>new Promise((t=>setTimeout(t,e))),v=[];for(const s of g)await ve(s,s.y,s.x,0,f,e,l,n,d,b,A.A.addFloatingText,k,p,m,S,0,(()=>{}),w,I),v.push({x:s.x,y:s.y}),await y(100);await y(300),setTimeout((async()=>{for(const t of v){const a=("function"===typeof f?await new Promise((e=>{f((t=>(e(t),t)))})):h).find((e=>e.x===t.x&&e.y===t.y&&"doober"===e.category));console.log("\ud83e\udeb5\ud83e\udeb5\ud83e\udeb5 Found wood doober at",t,":",a),a?(console.log("Calling handleDooberClick"),await ge(a,a.y,a.x,h,f,l,d,e,n,p.skills,b,A.A.addFloatingText,k,p,m,w,S,x,I),await y(100)):console.warn("\u26a0\ufe0f No doober found at position:",t)}w(`\ud83e\udeb5 Logging complete: ${g.length} trees chopped and collected.`)}),50),await B(p.playerId,m)}catch(i){console.error("Logging failed:",i),$("Failed to auto-chop trees.")}finally{Pe(o);const e=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action&&["Farmer","Lumberjack"].includes(e.type)));e&&Ne(e.id)}}})}),Be&&(null===ke||void 0===ke?void 0:ke.some((e=>"Bulk Crafting"===e.type)))&&(0,u.jsx)("div",{children:(0,u.jsx)(St,{symbol:"\ud83d\uded6",name:"Bulk Crafting",className:"resource-button bulk-skill",details:I[465],onClick:function(){console.log("\ud83d\uded6 Opening selective crafting modal");const e=Date.now(),t=(g.A.getResources()||[]).filter((t=>{const n=S.find((e=>e.type===t.type));return!(!n||"crafting"!==n.category)&&(t.craftEnd&&t.craftEnd<=e&&t.craftedItem)}));if(0===t.length)return void w(I[466]||"No crafting stations ready to collect.");const n={};t.forEach((e=>{const t=`${e.type}-${e.craftedItem}`;if(!n[t]){const a=S.find((t=>t.type===e.type)),o=S.find((t=>t.type===e.craftedItem)),r=S.find((t=>t.source===e.type&&t.type===e.craftedItem));n[t]={stationType:e.type,stationSymbol:(null===a||void 0===a?void 0:a.symbol)||"\ud83c\udfed",craftedItem:e.craftedItem,craftedSymbol:(null===o||void 0===o?void 0:o.symbol)||"\ud83d\udd28",recipe:r,stations:[],count:0}}n[t].stations.push(e),n[t].count++}));const a=Object.values(n);be(a);const o={};if(a.forEach((e=>{o[`${e.stationType}-${e.craftedItem}`]=!0})),me(o),Se){const e={},t={};[...r||[],...c||[]].forEach((e=>{t[e.type]=(t[e.type]||0)+e.quantity})),a.forEach((n=>{const a=S.find((e=>e.type===n.craftedItem));if(a){let o=!0;for(let e=1;e<=5;e++){const r=a[`ingredient${e}`],s=a[`ingredient${e}qty`]||1;if(r){const e=s*n.count;if((t[r]||0)<e){o=!1;break}}}o&&(e[`${n.stationType}-${n.craftedItem}`]=!0)}})),fe(e)}else fe({});ue(!0)}})}),F.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:I[430]}),F.map((e=>{const t=M(e,r,1,c),n=`Costs:<div>${[1,2,3,4].map((t=>{var n,a,o;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const l=((null===(n=r.find((e=>e.type===s)))||void 0===n?void 0:n.quantity)||0)+((null===(a=c.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0);return`<span style="color: ${l>=i?"green":"red"}; display: block;">${(null===(o=S.find((e=>e.type===s)))||void 0===o?void 0:o.symbol)||""} ${s} ${i} / ${l}</span>`})).join("")}</div>`;return(0,u.jsx)(St,{symbol:e.symbol,name:e.type,className:"resource-button",details:n,onClick:()=>(async e=>{$("");const t=Array.isArray(r)?r:[],n=Array.isArray(c)?c:[];if(!await q({playerId:p.playerId,recipe:e,inventory:t,backpack:n,setInventory:l,setBackpack:d,setCurrentPlayer:m,updateStatus:w}))return void $("Not enough ingredients.");const a=[...p.skills||[],{type:e.type,category:e.category,quantity:1}];await s.A.post(`${i.A}/api/update-skills`,{playerId:p.playerId,skills:a}),await P(p,"Gain skill with",e.type,1,m),await B(p.playerId,m),w(`${e.type} acquired.`)})(e),disabled:!t,info:qe(e.type)?(0,u.jsx)("div",{children:qe(e.type)}):void 0},e.type)}))]}),Le&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:I[426]}),(null===j||void 0===j?void 0:j.length)>0?j.map((e=>{var t,n;const a=10*(e.maxprice||100),o=((null===(t=r.find((e=>"Money"===e.type)))||void 0===t?void 0:t.quantity)||0)+((null===(n=c.find((e=>"Money"===e.type)))||void 0===n?void 0:n.quantity)||0)>=a,s=`Buy 1 for: \ud83d\udcb0 ${a}`;I[422];return(0,u.jsx)(St,{symbol:e.symbol,name:e.type,className:"resource-button",details:s,disabled:!o,onClick:()=>(async e=>{$("");const t=10*(e.maxprice||100),n={ingredient1:"Money",ingredient1qty:t,type:e.type},a=Array.isArray(r)?r:[],o=Array.isArray(c)?c:[];if(!await q({playerId:p.playerId,recipe:n,inventory:a,backpack:o,setInventory:l,setBackpack:d,setCurrentPlayer:m,updateStatus:w}))return void $("Not enough money.");await G({playerId:p.playerId,currentPlayer:p,resource:e.type,quantity:1,inventory:a,backpack:o,setInventory:l,setBackpack:d,setCurrentPlayer:m,updateStatus:w,masterResources:S})?w(`Bought 1 ${e.type} for ${t} Money.`):$("Not enough space to carry that item.")})(e)},e.type)})):(0,u.jsx)("p",{children:I[423]})]}),R&&(0,u.jsx)("p",{className:"error-message",children:R})]}),(0,u.jsx)(kn,{isOpen:W,onClose:()=>{Y(!1);const e=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action));e&&Ne(e.id)},crops:te,onExecute:async function(e,t){console.log("\ud83d\ude9c Executing selective harvest"),Y(!1),$("");const n=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action));n&&Te(n.id);const a=`bulk-harvest-${Date.now()}`;je("bulk-harvest",a),await Re("bulk-harvest",a,n,(async()=>await wn({selectedCropTypes:e,selectedReplantTypes:t,resources:h,masterResources:S,masterSkills:x,currentPlayer:p,setCurrentPlayer:m,setInventory:l,setBackpack:d,setResources:f,gridId:b,showBulkReplant:ze,strings:I,refreshPlayerAfterInventoryUpdate:B})))},showBulkReplant:ze,hasRequiredSkill:e=>{var t;return!e||(null===(t=p.skills)||void 0===t?void 0:t.some((t=>t.type===e)))},strings:I}),(0,u.jsx)(Sn,{isOpen:oe,onClose:()=>{re(!1);const e=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action&&["Farmer","Rancher"].includes(e.type)));e&&Ne(e.id)},animals:le,onExecute:()=>Ge(),strings:I}),(0,u.jsx)(xn,{isOpen:de,onClose:()=>{ue(!1);const e=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action&&["Farmer","Crafter"].includes(e.type)));e&&Ne(e.id)},stationGroups:ye,onExecute:async function(){console.log("\ud83d\uded6 Executing selective crafting"),ue(!1),$("");const e=Object.values(T.Ay.getNPCsInGrid(b)||{}).find((e=>"worker"===e.action&&["Farmer","Crafter"].includes(e.type)));e&&Te(e.id);const n=`bulk-crafting-${Date.now()}`;je("bulk-crafting",n);const a=Object.keys(pe).filter((e=>pe[e])).map((e=>ye.find((t=>`${t.stationType}-${t.craftedItem}`===e)))).filter(Boolean);await Re("bulk-crafting",n,e,(async()=>await Cn({selectedGroups:a,selectedRestartStations:he,hasBulkRestartCraft:Se,currentPlayer:p,setCurrentPlayer:m,inventory:r,setInventory:l,backpack:c,setBackpack:d,setResources:f,gridId:b,masterResources:S,masterSkills:x,strings:I,updateStatus:w}))),t()},hasBulkRestartCraft:Se,strings:I}),(0,u.jsx)(bn,{isOpen:Ie.isOpen,title:I[478]||"Processing...",message:Ie.message})]})},An=a.memo(In),Tn=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:g,TILE_SIZE:y,updateStatus:v,masterResources:b,masterTrophies:k,isDeveloper:w}=e;const S=(0,o.k)(),[x,C]=(0,a.useState)([]),[I,A]=(0,a.useState)(""),[T,j]=(0,a.useState)("\ud83d\uded6"),[E,R]=(0,a.useState)(null),[$,O]=(0,a.useState)(0);(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];r(e);const t=(await s.A.get(`${i.A}/api/inventory/${d.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(r(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[d]),(0,a.useEffect)((()=>{if(!b||!h)return;const e=b.filter((e=>e.source===h&&(!d.powers||!d.powers.some((t=>t.type===e.type)))));C(e);const t=b.find((e=>e.type===h));j((null===t||void 0===t?void 0:t.symbol)||"\ud83d\uded6"),R(t)}),[h,$,b]);const z=async e=>D(e),D=async e=>{if(A(""),!e)return void A("Invalid recipe selected.");if(!await q({playerId:d.playerId,recipe:e,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:v}))return;await B(d.playerId,p);if("power"===e.category){const n=[...d.powers||[]],a=n.findIndex((t=>t.type===e.type));if(a>=0?n[a].quantity+=1:n.push({type:e.type,quantity:1}),await s.A.post(`${i.A}/api/update-powers`,{playerId:d.playerId,powers:n}),p((e=>({...e,powers:n}))),e.output&&"number"===typeof e.qtycollected)if("range"===e.output){const t=(d.range||0)+e.qtycollected;await s.A.post(`${i.A}/api/update-profile`,{playerId:d.playerId,updates:{range:t}});const n={...d,range:t};p(n),localStorage.setItem("player",JSON.stringify(n)),console.log(`\ud83c\udfaf Updated range on player document: ${t}`)}else{var t;const n=null===(t=N.A.getAllPCs(g))||void 0===t?void 0:t[d.playerId];if(n){const t=n[e.output]||0,a=t+e.qtycollected;await N.A.updatePC(g,d.playerId,{[e.output]:a}),console.log(`\ud83e\udde0 Updated ${e.output} for player ${d.playerId}: ${t} -> ${a}`)}}}else{if(!await G({playerId:d.playerId,currentPlayer:d,resource:e.type,quantity:e.qtycollected||1,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:v,masterResources:b}))return void console.warn(`Failed to gain ${e.type}`)}await P(d,"Buy",e.type,1,p),v(`${S[80]} ${e.type}.`),"Boat"===e.type&&null!==d&&void 0!==d&&d.playerId&&an(d.playerId,"Mariner",1,d,k),O((e=>e+1))};return(0,u.jsx)(V,{onClose:t,descriptionKey:"1025",title:`${T} ${h}`,panelName:"ShopStation",children:(0,u.jsxs)("div",{className:"standard-panel",children:["Store"===h&&(0,u.jsx)("p",{style:{fontWeight:"bold",color:"#4CAF50"},children:S[410]}),(null===x||void 0===x?void 0:x.length)>0?x.map((e=>{const t=M(e,n,l,1),a=(e=>{var t,n;return!e||(null===(t=d.skills)||void 0===t?void 0:t.some((t=>t.type===e)))||(null===(n=d.powers)||void 0===n?void 0:n.some((t=>t.type===e)))})(e.requires),o=e.output?S[e.output]||e.output:"",r=e.output&&"number"===typeof e.qtycollected?(0,u.jsxs)("span",{style:{color:"blue"},children:[e.qtycollected>0?"+":"",e.qtycollected," for ",o]}):null,s=[1,2,3,4].map((t=>{var a,o,r;const s=e[`ingredient${t}`],i=e[`ingredient${t}qty`];if(!s||!i)return"";const c=((null===n||void 0===n||null===(a=n.find((e=>e.type===s)))||void 0===a?void 0:a.quantity)||0)+((null===l||void 0===l||null===(o=l.find((e=>e.type===s)))||void 0===o?void 0:o.quantity)||0);return`<span style="color: ${c>=i?"green":"red"}; display: block;">${(null===(r=b.find((e=>e.type===s)))||void 0===r?void 0:r.symbol)||""} ${s} ${i} / ${c}</span>`})).join(""),i=a?"green":"red",c=(e.output&&"number"===typeof e.qtycollected?`<span style="color: blue;">${e.qtycollected>0?"+":""}${e.qtycollected} for ${S[e.output]||e.output}</span><br>`:"")+(e.requires?`<span style="color: ${i};">Requires: ${e.requires}</span><br>`:"")+`Costs:<div>${s}</div>`,p=(0,u.jsxs)("div",{className:"info-content",children:[r&&(0,u.jsx)("div",{style:{marginBottom:"4px"},children:(0,u.jsx)("strong",{children:r})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:S[422]})," \ud83d\udcb0 ",e.minprice||"n/a"]})]});return(0,u.jsx)(St,{symbol:e.symbol,name:e.type,className:"resource-button",details:c,info:p,disabled:!t||!a,onClick:()=>D(e),gemCost:e.gemcost||null,onGemPurchase:!e.gemcost||t&&a?null:z,resource:e,inventory:n,backpack:l,masterResources:b,currentPlayer:d},e.type)})):(0,u.jsx)("p",{children:S[423]}),I&&(0,u.jsx)("p",{className:"error-message",children:I}),("homestead"===d.location.gtype||w)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-danger",onAction:async()=>{try{await nn({currentPlayer:d,stationType:h,currentStationPosition:f,gridId:g,setResources:m,setInventory:r,setCurrentPlayer:p,updateStatus:v,onClose:t})&&t()}catch(e){console.error("Error selling station:",e),v("Failed to sell station")}},transactionKey:`sell-refund-${h}-${f.x}-${f.y}-${g}`,children:S[490]})})]})]})})},Nn=a.memo(Tn),jn=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:g,TILE_SIZE:y,updateStatus:v,masterResources:b,isDeveloper:k}=e;const[w,S]=(0,a.useState)(null),[x,C]=(0,a.useState)(null),I=(0,o.k)();console.log("Inside Animal Stall:",{stationType:h,currentStationPosition:f}),(0,a.useEffect)((()=>{const e=b.find((e=>e.type===h));S(e)}),[h,b]),(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];r(e);const t=(await s.A.get(`${i.A}/api/inventory/${d.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(r(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[d]);return(0,u.jsx)(V,{onClose:t,descriptionKey:"1011",titleKey:"1111",panelName:"AnimalStall",children:(0,u.jsxs)("div",{className:"standard-panel",children:[(0,u.jsxs)("h2",{children:[(null===w||void 0===w?void 0:w.symbol)||"\ud83d\uded6"," ",h]}),("homestead"===d.location.gtype||k)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-success",onAction:async(e,n)=>{await nn({currentPlayer:d,setInventory:r,setBackpack:c,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:g,TILE_SIZE:y,updateStatus:v,onClose:t})},transactionKey:`sell-refund-${h}-${f.x}-${f.y}-${g}`,children:I[425]})})]})]})})},Pn=a.memo(jn),En=e=>{let{onClose:t,inventory:n,setInventory:r,backpack:l,setBackpack:c,currentPlayer:d,setCurrentPlayer:p,setResources:m,stationType:h,currentStationPosition:f,gridId:g,currentResource:y,TILE_SIZE:v,updateStatus:b,masterResources:k}=e;const[w,S]=(0,a.useState)(!1),[x,C]=(0,a.useState)(null),[I,A]=(0,a.useState)(Date.now()),T=(0,o.k)();console.log("--------Inside Crop Panel:",{stationType:h,currentStationPosition:f,currentResource:y}),(0,a.useEffect)((()=>{const e=k.find((e=>e.type===h));C(e)}),[h,k]),(0,a.useEffect)((()=>{const e=setInterval((()=>{A(Date.now())}),1e3);return()=>clearInterval(e)}),[]);(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];r(e);const t=(await s.A.get(`${i.A}/api/inventory/${d.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(r(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[d]);return(0,u.jsx)(V,{onClose:t,descriptionKey:"1030",titleKey:"1130",panelName:"CropPanel",children:(0,u.jsxs)("div",{className:"standard-panel",children:[(0,u.jsxs)("h2",{children:[(null===x||void 0===x?void 0:x.symbol)||"\ud83c\udf31"," ",h]}),(0,u.jsx)("p",{children:(()=>{if(!y||!y.growEnd)return"Unknown status";const e=Math.max(0,y.growEnd-I);if(e<=0)return"Ready for harvest!";const t=Math.floor(e/864e5),n=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3),r=[];return t>0&&r.push(`${t}d`),n>0&&r.push(`${n}h`),a>0&&r.push(`${a}m`),(o>0||0===r.length)&&r.push(`${o}s`),`${r.join(" ")} remaining`})()}),"homestead"===d.location.gtype&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(w)return;S(!0),setTimeout((()=>{S(!1)}),2e3);const e=[];for(let t=1;t<=3;t++){const n=x[`ingredient${t}`],a=x[`ingredient${t}qty`];n&&a&&e.push({type:n,quantity:a})}if(e.length)try{for(const{type:t,quantity:o}of e){if(!await G({playerId:d.playerId,currentPlayer:d,resource:t,quantity:o,inventory:n,backpack:l,setInventory:r,setBackpack:c,setCurrentPlayer:p,updateStatus:b,masterResources:k}))return}await(0,j.mQ)(g,{type:null,x:f.x,y:f.y},m,!0),m((e=>e.filter((e=>!(e.x===f.x&&e.y===f.y)))));const a=e.filter((e=>"Money"===e.type)).reduce(((e,t)=>e+t.quantity),0);console.log(`Sold ${h} successfully for ${a} Money.`),b(439),t()}catch(a){console.error("Error selling the stall:",a)}else console.error("No ingredients found for refund.")},disabled:w,children:T[438]})})]})]})})},Rn=a.memo(En),$n=e=>{var t;let{onClose:n,inventory:r,setInventory:l,backpack:c,setBackpack:d,currentPlayer:p,setCurrentPlayer:m,setResources:h,stationType:f,currentStationPosition:g,gridId:y,TILE_SIZE:v,updateStatus:b,masterResources:k,isDeveloper:w}=e;const[S,x]=(0,a.useState)(null),C="homestead"===(null===p||void 0===p||null===(t=p.location)||void 0===t?void 0:t.gtype),I=(0,o.k)();console.log("Inside Deco Panel:",{stationType:f,currentStationPosition:g}),(0,a.useEffect)((()=>{const e=k.find((e=>e.type===f&&(C||!1!==e.passable)));x(e)}),[f,k,C]),(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("inventory"))||[];l(e);const t=(await s.A.get(`${i.A}/api/inventory/${p.playerId}`)).data.inventory||[];JSON.stringify(e)!==JSON.stringify(t)&&(l(t),localStorage.setItem("inventory",JSON.stringify(t)))}catch(e){console.error("Error syncing inventory:",e)}})()}),[p]);return(0,u.jsx)(V,{onClose:n,descriptionKey:"1028",titleKey:"1128",panelName:"DecoPanel",children:(0,u.jsxs)("div",{className:"standard-panel",children:[(0,u.jsxs)("h2",{children:[(null===S||void 0===S?void 0:S.symbol)||"\ud83d\uded6"," ",K(f,I)]}),("homestead"===p.location.gtype||w)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-success",onAction:async(e,t)=>{await nn({currentPlayer:p,setInventory:l,setBackpack:d,setCurrentPlayer:m,setResources:h,stationType:f,currentStationPosition:g,gridId:y,TILE_SIZE:v,updateStatus:b,onClose:n})},transactionKey:`sell-refund-${f}-${g.x}-${g.y}-${y}`,children:I[425]})})]})]})})},On=a.memo($n);const zn=function(e){let{onClose:t,inventory:n,setInventory:r,currentPlayer:l,setCurrentPlayer:c,globalTuning:d,setModalContent:p,setIsModalOpen:m}=e;const h=(0,o.k)(),[f,g]=(0,a.useState)([]),[y,v]=(0,a.useState)(null),[b,k]=(0,a.useState)({}),[w,S]=(0,a.useState)(0),[x,C]=(0,a.useState)([]),[I,A]=(0,a.useState)([]),[T,N]=(0,a.useState)(l),[j,E]=(0,a.useState)(0),{updateStatus:R}=(0,a.useContext)(Ie),[$,O]=(0,a.useState)([]),[z,D]=(0,a.useState)({}),[M,L]=(0,a.useState)(!1),[F,_]=(0,a.useState)(!1),U=(null===d||void 0===d?void 0:d.tradeStallHaircut)||.25,H=(null===d||void 0===d?void 0:d.tradeStallSlots)||[],Y=e=>H.find((t=>t.slotIndex===e))||{maxAmount:50,sellWaitTime:l.firsttimeuser?5e3:3e5,unlocked:0===e,unlockCost:0,requiresGoldPass:!1},J=e=>{const t=f[e],n=Y(e);return!!t&&(void 0===t.locked?!!(t.resource&&t.amount>0)||0===e:!0!==t.locked||!(!n.requiresGoldPass||"Gold"!==l.accountStatus))},Q=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=await s.A.get(`${i.A}/api/resources`);if(C(t.data),O(t.data),!e){const e=await s.A.get(`${i.A}/api/inventory/${l.playerId}`);r(e.data.inventory||[])}const n=(await s.A.get(`${i.A}/api/player-trade-stall`,{params:{playerId:T.playerId}})).data.tradeStall||[],a=Array.from({length:6},((e,t)=>{const a=n.find((e=>e&&e.slotIndex===t));return a||{slotIndex:t,locked:!0,resource:null,amount:0,price:0,sellTime:null,boughtBy:null,boughtFor:null}}));if(g(a),T.playerId===l.playerId){const e=a.reduce(((e,t)=>null!==t&&void 0!==t&&t.resource&&null!==t&&void 0!==t&&t.amount&&null!==t&&void 0!==t&&t.price&&(null===t||void 0===t||!t.boughtBy)?e+t.amount*t.price:e),0);S(e)}else S(0)}catch(t){console.error("Error fetching TradeStall data:",t)}};(0,a.useEffect)((()=>{Q(),(async()=>{try{const e=(await s.A.get(`${i.A}/api/players-in-settlement`,{params:{settlementId:l.location.s}})).data.players||[];A(e);const t=e.map((e=>s.A.get(`${i.A}/api/player-trade-stall`,{params:{playerId:e.playerId}}).then((t=>({playerId:e.playerId,tradeStall:t.data.tradeStall||[]}))).catch((t=>({playerId:e.playerId,tradeStall:[]}))))),n=await Promise.all(t),a={};n.forEach((e=>{a[e.playerId]=e.tradeStall})),D(a),window.tradeStallLastFetch=Date.now()}catch(e){console.error("Error fetching settlement players:",e)}})()}),[null===T||void 0===T?void 0:T.playerId,null===l||void 0===l?void 0:l.playerId]),(0,a.useEffect)((()=>{const e=e=>{M&&!e.target.closest(".username-container")&&L(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[M]),(0,a.useEffect)((()=>{if(null!==y&&!0===l.firsttimeuser&&l.ftuestep<=3){const e=n.find((e=>"Wheat"===e.type));if(e){const t=Y(y),n=Math.min(e.quantity,t.maxAmount);k((e=>({...e,Wheat:n})))}}}),[y,l.firsttimeuser,l.ftuestep,n]);const Z=e=>{if(e.playerId===l.playerId)return!0;if(e.playerId===T.playerId)return f.some((e=>(null===e||void 0===e?void 0:e.resource)&&(null===e||void 0===e?void 0:e.amount)>0&&!(null!==e&&void 0!==e&&e.boughtBy)));const t=z[e.playerId];return!t||t.some((e=>(null===e||void 0===e?void 0:e.resource)&&(null===e||void 0===e?void 0:e.amount)>0&&!(null!==e&&void 0!==e&&e.boughtBy)))},X=()=>I.filter((e=>{if(e.playerId===l.playerId)return!0;const t=z[e.playerId];return t&&t.some((e=>(null===e||void 0===e?void 0:e.resource)&&(null===e||void 0===e?void 0:e.amount)>0&&!(null!==e&&void 0!==e&&e.boughtBy)))})).sort(((e,t)=>e.playerId===l.playerId?-1:t.playerId===l.playerId?1:0)),ee=(e,t)=>{const a=n.find((t=>t.type===e)),o=a?a.quantity:0,r=Y(y),s=Math.min(o,r.maxAmount);k((n=>({...n,[e]:Math.min(Math.max(0,t),s)})))},te=async(e,t,a,o)=>{const d=x.find((e=>e.type===a)),u=(null===d||void 0===d?void 0:d.minprice)||0,p=Y(y),m=[...f];m[y]={slotIndex:y,resource:a,amount:o,price:u,sellTime:Date.now()+p.sellWaitTime,boughtBy:null,boughtFor:null};try{await s.A.post(`${i.A}/api/update-player-trade-stall`,{playerId:l.playerId,tradeStall:m}),await s.A.post(`${i.A}/api/update-inventory`,{playerId:l.playerId,inventory:n.map((e=>e.type===a?{...e,quantity:e.quantity-o}:e)).filter((e=>e.quantity>0))}),await B(l.playerId,c);const e=await s.A.get(`${i.A}/api/inventory/${l.playerId}`);r(e.data.inventory),g(m),v(null),ne(m),D((e=>({...e,[l.playerId]:m})))}catch(h){throw console.error("Error adding item to Trade Stall:",h),h}},ne=e=>{console.log("Inside calculateTotalSetllValue; Current Inventory:",n);const t=e.reduce(((e,t)=>null!==t&&void 0!==t&&t.amount&&null!==t&&void 0!==t&&t.price?e+t.amount*t.price:e),0);S(t)},ae=e=>{const t=x.find((t=>t.type===e));return(null===t||void 0===t?void 0:t.symbol)||""};return(0,u.jsxs)(V,{onClose:t,descriptionKey:"1008",titleKey:"1108",panelName:"TradeStall",children:[(0,u.jsxs)("div",{className:"username-container",children:[(0,u.jsx)("button",{className:"arrow-button",onClick:()=>{if(L(!1),I.length>0){let e=j,t=0;do{if(e=(e-1+I.length)%I.length,t++,t>=I.length)return E(e),void N(I[e])}while(e!==j&&!Z(I[e]));E(e),N(I[e])}},children:"\ud83d\udc48"}),(0,u.jsxs)("div",{style:{flexGrow:1,textAlign:"center",position:"relative"},children:[(0,u.jsx)("span",{className:"username clickable",onClick:async()=>{if(M)L(!1);else{L(!0);const t=Date.now();if(t-(window.tradeStallLastFetch||0)>3e4||0===Object.keys(z).length){_(!0);try{const e=I.filter((e=>{var t;return(null===(t=e.location)||void 0===t?void 0:t.s)===l.location.s})).map((e=>s.A.get(`${i.A}/api/player-trade-stall`,{params:{playerId:e.playerId}}).then((t=>({playerId:e.playerId,tradeStall:t.data.tradeStall||[]}))).catch((t=>({playerId:e.playerId,tradeStall:[]}))))),n=await Promise.all(e),a={};n.forEach((e=>{a[e.playerId]=e.tradeStall})),D(a),window.tradeStallLastFetch=t}catch(e){console.error("Error fetching player trade stalls:",e)}finally{_(!1)}}}},style:{cursor:"pointer"},children:(null===T||void 0===T?void 0:T.playerId)===(null===l||void 0===l?void 0:l.playerId)?"You":(null===T||void 0===T?void 0:T.username)||"N/A"}),M&&(0,u.jsx)("div",{className:"player-dropdown",children:F?(0,u.jsx)("div",{className:"player-dropdown-loading",children:"\u23f3"}):X().length>0?X().map((e=>{const t=(e=>{const t=z[e];if(!t)return[];const n=new Set;return t.forEach((e=>{null!==e&&void 0!==e&&e.resource&&(null===e||void 0===e?void 0:e.amount)>0&&(null===e||void 0===e||!e.boughtBy)&&n.add(e.resource)})),Array.from(n).map((e=>ae(e)))})(e.playerId);return(0,u.jsxs)("div",{className:"player-dropdown-item",onClick:()=>(e=>{const t=I.findIndex((t=>t.playerId===e.playerId));-1!==t&&(E(t),N(e)),L(!1)})(e),children:[(0,u.jsx)("div",{children:e.playerId===l.playerId?"You":e.username}),t.length>0&&(0,u.jsx)("div",{className:"player-resources",children:t.join(" ")})]},e.playerId)})):(0,u.jsx)("div",{className:"player-dropdown-item",style:{textAlign:"center",color:"#999",justifyContent:"center"},children:"No players with items"})})]}),(0,u.jsx)("button",{className:"arrow-button",onClick:()=>{if(L(!1),I.length>0){let e=j,t=0;do{if(e=(e+1)%I.length,t++,t>=I.length)return E(e),void N(I[e])}while(e!==j&&!Z(I[e]));E(e),N(I[e])}},children:"\ud83d\udc49"})]}),(0,u.jsx)("div",{className:"trade-stall-slots",children:f.map(((e,t)=>{if(!0===l.firsttimeuser&&l.ftuestep<=3&&t>0)return null;const a=T.playerId===l.playerId,o=!(null!==e&&void 0!==e&&e.resource),d=null===e||void 0===e?void 0:e.boughtBy,p=(null===e||void 0===e?void 0:e.sellTime)&&e.sellTime<=Date.now(),m=(null===e||void 0===e?void 0:e.sellTime)&&e.sellTime>Date.now(),y=J(t),b=Y(t);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"trade-slot-container",children:[(0,u.jsx)("div",{className:`trade-slot ${o?"empty":"filled"} ${d?"purchased":""} ${y?"":"locked"} ${t>=4?"gold-slot":""}`,onClick:()=>(e=>{const t=f[e],n=T.playerId===l.playerId,a=!(null!==t&&void 0!==t&&t.resource),o=J(e),r=Y(e);if(console.log("Slot clicked:",e,"Is unlocked:",o,"Is own stall:",n,"Is empty:",a),n&&!o){if(r.requiresGoldPass&&"Gold"!==l.accountStatus)return;if(!r.requiresGoldPass)return}n&&a&&o&&v(e)})(t),style:{cursor:a&&o&&y?"pointer":"default"},children:t>=4&&"Gold"!==l.accountStatus&&a?(0,u.jsxs)("div",{className:"trade-slot-locked",children:[(0,u.jsx)("div",{className:"trade-slot-lock-icon",children:"\ud83d\udd12"}),(0,u.jsx)("div",{className:"trade-slot-lock-text",children:h[171]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem",marginTop:"4px"},children:[h[173]," ",b.maxAmount]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Qt(b.sellWaitTime/1e3)," ",h[174]]})]}):!y&&a?(0,u.jsxs)("div",{className:"trade-slot-locked",children:[(0,u.jsx)("div",{className:"trade-slot-lock-icon",children:"\ud83d\udd12"}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem",marginTop:"4px"},children:[h[173]," ",b.maxAmount]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Qt(b.sellWaitTime/1e3)," ",h[174]]})]}):o?(0,u.jsxs)("div",{className:"trade-slot-empty-text",children:[(0,u.jsxs)("div",{children:["\u2795 ",h[156]]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem",marginTop:"4px"},children:[h[173]," ",b.maxAmount]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Qt(b.sellWaitTime/1e3)," ",h[174]]})]}):(0,u.jsxs)("div",{className:"trade-slot-content",children:[(0,u.jsx)("div",{className:"trade-slot-item-name",children:`${e.amount}x ${ae(e.resource)} ${K(e.resource,h)}`}),d&&(0,u.jsxs)("div",{className:"trade-slot-status",children:[h[157]," ",e.boughtBy]}),m&&!d&&(0,u.jsx)("div",{className:"trade-slot-status timer",children:Jt(e.sellTime,Date.now())}),p&&!d&&(0,u.jsx)("div",{className:"trade-slot-status ready",children:h[159]})]})}),t>=4&&"Gold"!==l.accountStatus&&a?(0,u.jsx)("div",{className:"trade-button-container",children:(0,u.jsx)("div",{className:"standard-buttons",style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,u.jsx)("button",{className:"btn-gold",style:{width:"100%"},onClick:()=>tt(1,l,R),children:h[9061]})})}):!y&&a?(0,u.jsx)("div",{className:"trade-button-container",children:(0,u.jsx)("div",{className:"standard-buttons",style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,u.jsxs)("button",{className:"btn-success",style:{width:"100%"},onClick:()=>(async e=>{const t=Y(e);if(t&&!t.requiresGoldPass)try{const a={ingredient1:"Wood",ingredient1qty:t.unlockCost};if(!await q({playerId:l.playerId,recipe:a,inventory:l.inventory||n,backpack:l.backpack||[],setInventory:r,setBackpack:()=>{},setCurrentPlayer:c,updateStatus:R}))return console.warn("Not enough Wood to unlock this slot."),void R(`${h[177]} ${t.unlockCost} ${ae("Wood")} ${h[176]} ${h[178]}`);const o=f.map(((t,n)=>n===e?{...t,locked:!1}:t));await s.A.post(`${i.A}/api/update-player-trade-stall`,{playerId:l.playerId,tradeStall:o}),g(o),c({...l,tradeStall:o}),await B(l.playerId,c),await Q(!0),R(`${h[170]}`)}catch(a){console.error("Error unlocking slot:",a),R("Failed to unlock slot")}})(t),children:[h[175]," ",b.unlockCost," ",ae("Wood")," ",h[176]]})})}):!o&&(0,u.jsxs)("div",{className:"trade-button-container",children:[(0,u.jsx)(W,{className:"trade-buy-button "+(a||d?"disabled":"enabled"),disabled:a||d,transactionKey:`buy-trade-${T.playerId}-${t}`,onAction:(e,a)=>(async(e,t,a)=>{var o;const d=f[a];if(!d||d.amount<=0)return;const u=((await s.A.get(`${i.A}/api/player-trade-stall`,{params:{playerId:T.playerId}})).data.tradeStall||[])[a];if(!u||u.boughtBy)return R(155),void Q();const p=d.amount*d.price;if(p>((null===(o=n.find((e=>"Money"===e.type)))||void 0===o?void 0:o.quantity)||0))return console.warn("Not enough money to complete the purchase."),void R(152);try{const e={ingredient1:"Money",ingredient1qty:p};if(!await q({playerId:l.playerId,recipe:e,inventory:l.inventory||n,backpack:l.backpack||[],setInventory:r,setBackpack:()=>{},setCurrentPlayer:c,updateStatus:R}))return void console.warn("Not enough Money to buy this item.");await G({playerId:l.playerId,currentPlayer:l,resource:d.resource,quantity:d.amount,inventory:l.inventory||n,backpack:l.backpack||[],setInventory:r,setBackpack:()=>{},setCurrentPlayer:c,updateStatus:R,masterResources:[]});const t=[...f];t[a]={slotIndex:a,resource:d.resource,amount:d.amount,price:d.price,sellTime:null,boughtBy:l.username,boughtFor:p},await s.A.post(`${i.A}/api/update-player-trade-stall`,{playerId:T.playerId,tradeStall:t}),g(t),await Q(!0),R(22)}catch(m){throw console.error("Error processing purchase:",m),m}})(0,0,t),onClick:e=>e.stopPropagation(),children:d?"Sold":"Buy \ud83d\udcb0"+e.amount*e.price}),d?(0,u.jsxs)(W,{className:"trade-collect-button collect-payment",disabled:!a,transactionKey:"collect-payment",onAction:(e,n)=>(async(e,t,n)=>{console.log(`\ud83d\udd12 [PROTECTED COLLECTION] Starting protected collection for slot ${n}`);try{const a=await s.A.post(`${i.A}/api/trade-stall/collect-payment`,{playerId:l.playerId,slotIndex:n,transactionId:e,transactionKey:`${t}-${n}`});a.data.success&&(a.data.tradeStall&&(g(a.data.tradeStall),D((e=>({...e,[l.playerId]:a.data.tradeStall})))),a.data.inventory&&(r(a.data.inventory),c((e=>({...e,inventory:a.data.inventory,tradeStall:a.data.tradeStall})))),await P(l,"Sell",a.data.resource,a.data.amount,c),3===l.ftuestep&&(console.log("\ud83c\udf93 Player at FTUE step 3 sold wheat, incrementing FTUE step"),await(0,xe.incrementFTUEStep)(l.playerId,l,c)),R(`\ud83d\udcb0 Collected ${a.data.collected}.`),await Q(!0))}catch(o){var a;console.error("Error in protected collection:",o),429===(null===(a=o.response)||void 0===a?void 0:a.status)?R(471):R("\u274c Failed to collect payment")}})(e,n,t),onClick:e=>e.stopPropagation(),children:["Collect \ud83d\udcb0",e.boughtFor]}):p?(0,u.jsxs)(W,{className:"trade-collect-button sell-to-game",disabled:!a,transactionKey:"sell-to-game",onAction:(e,n)=>(async(e,t,n)=>{console.log(`\ud83d\udd12 [PROTECTED SELL] Starting protected sell for slot ${n}`);try{const a=await s.A.post(`${i.A}/api/trade-stall/sell-to-game`,{playerId:l.playerId,slotIndex:n,transactionId:e,transactionKey:`${t}-${n}`});a.data.success&&(a.data.tradeStall&&(g(a.data.tradeStall),c((e=>({...e,tradeStall:a.data.tradeStall}))),D((e=>({...e,[l.playerId]:a.data.tradeStall})))),a.data.inventory&&(r(a.data.inventory),c((e=>({...e,inventory:a.data.inventory})))),await P(l,"Sell",a.data.resource,a.data.amount,c),3===l.ftuestep&&(console.log("\ud83c\udf93 Player at FTUE step 3 sold wheat, incrementing FTUE step"),await(0,xe.incrementFTUEStep)(l.playerId,l,c)),R(`\ud83d\udcb0 Sold ${a.data.amount}x ${a.data.resource} for ${a.data.sold}.`),await Q(!0))}catch(o){var a;console.error("Error in protected sell:",o),429===(null===(a=o.response)||void 0===a?void 0:a.status)?R(471):R("\u274c Failed to sell item")}})(e,n,t),onClick:e=>e.stopPropagation(),children:["Sell \ud83d\udcb0",Math.floor(e.amount*e.price*U)]}):(0,u.jsx)("button",{className:"trade-collect-button "+(a?"disabled":"not-yours"),disabled:!0,children:a?m?"Wait...":"No Action":"Not Yours"})]})]},t)})}))}),null!==y&&(0,u.jsxs)("div",{className:"inventory-modal wider",children:[(0,u.jsx)("button",{className:"close-button",onClick:()=>v(null),children:"\u2716"}),(0,u.jsx)("h3",{children:h[160]}),(0,u.jsxs)("p",{style:{textAlign:"center",margin:"0 0 10px 0",fontSize:"14px",color:"#666"},children:[Y(y).maxAmount," ",h[158]]}),(0,u.jsx)("div",{className:"inventory-modal-scroll",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:h[161]}),(0,u.jsx)("th",{children:h[162]}),(0,u.jsx)("th",{children:h[163]}),(0,u.jsx)("th",{children:h[164]}),(0,u.jsx)("th",{})]})}),(0,u.jsx)("tbody",{children:n.filter((e=>{x.find((t=>t.type===e.type));return"Money"!==e.type&&"Gem"!==e.type})).map((e=>{const t=x.find((t=>t.type===e.type)),a=(null===t||void 0===t?void 0:t.minprice)||"N/A";return(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[null===t||void 0===t?void 0:t.symbol," ",K(e.type,h)]}),(0,u.jsx)("td",{children:e.quantity}),(0,u.jsx)("td",{children:a}),(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"amount-input",children:[(0,u.jsx)("button",{onClick:()=>ee(e.type,(b[e.type]||0)-1),disabled:(b[e.type]||0)<=0,children:"-"}),(0,u.jsx)("input",{type:"number",value:b[e.type]||0,onChange:t=>ee(e.type,parseInt(t.target.value,10)||0)}),(0,u.jsx)("button",{onClick:()=>ee(e.type,(b[e.type]||0)+1),disabled:(b[e.type]||0)>=Math.min(e.quantity,Y(y).maxAmount),children:"+"}),(0,u.jsx)("button",{onClick:()=>ee(e.type,Math.min(e.quantity,Y(y).maxAmount)),style:{marginLeft:"4px"},children:h[165]})]})}),(0,u.jsx)("td",{children:(0,u.jsx)(W,{className:"add-button",onAction:(t,a)=>(async(e,t,a)=>{const o=b[a]||0,r=n.find((e=>e.type===a));if(null===y||o<=0||!r||o>r.quantity)console.warn("Invalid amount or resource exceeds available quantity.");else{if(o===r.quantity&&(0,xt.AQ)(a,$)){const n=$.find((e=>e.output===a&&"farmplot"===e.category));if(n&&n.ingredient1qty>0)return p({title:"\u26a0\ufe0f Warning",message:`This will leave you with 0 ${a}, so you will not be able to plant ${a} again.`,message2:"Are you sure?",size:"small",onClose:()=>m(!1),children:(0,u.jsxs)("div",{className:"standard-buttons",style:{display:"flex",gap:"10px",justifyContent:"center",marginTop:"10px"},children:[(0,u.jsx)("button",{className:"btn-neutral",onClick:()=>m(!1),children:"Cancel"}),(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{m(!1),await te(e,t,a,o)},children:"Yes, Sell All"})]})}),void m(!0)}await te(e,t,a,o)}})(t,a,e.type),transactionKey:`add-to-trade-slot-${e.type}`,disabled:!(b[e.type]>0&&b[e.type]<=e.quantity),children:h[166]})})]},e.type)}))})]})})]})]})};function Dn(e){let{onClose:t,backpack:n,setBackpack:r,currentPlayer:l,setCurrentPlayer:c,gridId:d,setModalContent:p,setIsModalOpen:m,isDeveloper:h,stationType:f,currentStationPosition:g,setResources:y,setInventory:v,TILE_SIZE:b,globalTuning:k}=e;const w=(0,o.k)(),[S,x]=(0,a.useState)([]),[C,I]=(0,a.useState)(null),[A,T]=(0,a.useState)({}),[N,j]=(0,a.useState)([]),{updateStatus:P}=(0,a.useContext)(Ie),[E,R]=(0,a.useState)([]),[$,O]=(0,a.useState)(!0),[z,D]=(0,a.useState)(Date.now()),M=(null===k||void 0===k?void 0:k.tradeStallHaircut)||.25,L=e=>{var t;return(null===k||void 0===k||null===(t=k.tradeStallSlots)||void 0===t?void 0:t.find((t=>t.slotIndex===e)))||{maxAmount:50,sellWaitTime:3e5}};(0,a.useEffect)((()=>{const e=[];for(let t=0;t<4;t++)e.push({slotIndex:t,resource:null,amount:0,price:0,sellTime:null,boughtBy:null,boughtFor:null,sellerUsername:null,sellerId:null});x(e)}),[]),(0,a.useEffect)((()=>{(async()=>{O(!0);try{const e=await s.A.get(`${i.A}/api/resources`);j(e.data),R(e.data);const t=await s.A.get(`${i.A}/api/load-grid/${d}`);t.data.outpostTradeStall&&Array.isArray(t.data.outpostTradeStall)&&x(t.data.outpostTradeStall)}catch(e){console.error("Error fetching Outpost data:",e),P("Failed to load Outpost data")}finally{O(!1)}})()}),[d]),(0,a.useEffect)((()=>{const e=setInterval((()=>{D(Date.now())}),1e3);return()=>clearInterval(e)}),[]);const B=e=>{const t=N.find((t=>t.type===e));return(null===t||void 0===t?void 0:t.symbol)||""},G=(e,t)=>{const a=n.find((t=>t.type===e)),o=a?a.quantity:0,r=L(C),s=Math.min(o,r.maxAmount);T((n=>({...n,[e]:Math.min(Math.max(0,t),s)})))},q=async(e,t,a,o)=>{const u=N.find((e=>e.type===a)),p=(null===u||void 0===u?void 0:u.minprice)||0,m=L(C);try{const u=await s.A.post(`${i.A}/api/outpost/add-item`,{gridId:d,slotIndex:C,resource:a,amount:o,price:p,sellTime:Date.now()+m.sellWaitTime,sellerUsername:l.username,sellerId:l.playerId,transactionId:e,transactionKey:t});if(u.data.success){x(u.data.outpostTradeStall);const e=n.map((e=>e.type===a?{...e,quantity:e.quantity-o}:e)).filter((e=>e.quantity>0));r(e),c((t=>({...t,backpack:e}))),I(null),P(`Added ${o}x ${a} to Outpost`)}}catch(h){throw console.error("Error adding item to Outpost:",h),P("Failed to add item to Outpost"),h}};return $?(0,u.jsx)(V,{onClose:t,descriptionKey:"1008",titleKey:"1108",panelName:"OutpostPanel",children:(0,u.jsxs)("div",{style:{textAlign:"center",padding:"20px"},children:[w[98]," "]})}):(0,u.jsxs)(V,{onClose:t,descriptionKey:"1008",titleKey:"1108",panelName:"OutpostPanel",children:[(0,u.jsx)("div",{className:"outpost-header",children:(null===w||void 0===w?void 0:w[179])||"Outpost"}),(0,u.jsx)("div",{className:"trade-stall-slots",children:S.slice(0,4).map(((e,t)=>{const n=!(null!==e&&void 0!==e&&e.resource),a=null===e||void 0===e?void 0:e.boughtBy,o=(null===e||void 0===e?void 0:e.sellerId)===l.playerId,r=(null===e||void 0===e?void 0:e.sellTime)&&e.sellTime<=z&&o,p=(null===e||void 0===e?void 0:e.sellTime)&&e.sellTime>z;return(0,u.jsxs)("div",{className:"trade-slot-container",children:[(0,u.jsx)("div",{className:`trade-slot ${n?"empty":"filled"} ${a?"purchased":""}`,onClick:()=>(e=>{const t=S[e];(null===t||void 0===t||!t.resource)&&I(e)})(t),style:{cursor:n?"pointer":"default"},children:n?(0,u.jsxs)("div",{className:"trade-slot-empty-text",children:[(0,u.jsxs)("div",{children:["\u2795 ",w[156]]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem",marginTop:"4px"},children:[w[173]," ",L(t).maxAmount]}),(0,u.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Qt(L(t).sellWaitTime/1e3)," ",w[174]]})]}):(0,u.jsxs)("div",{className:"trade-slot-content",children:[(0,u.jsx)("div",{className:"trade-slot-item-name",children:`${e.amount}x ${B(e.resource)} ${K(e.resource,w)}`}),e.sellerUsername&&(0,u.jsx)("div",{style:{fontSize:"0.75rem",color:"#666"},children:e.sellerUsername}),a&&(0,u.jsxs)("div",{className:"trade-slot-status",children:[w[157]," ",e.boughtBy]}),p&&!a&&(0,u.jsx)("div",{className:"trade-slot-status timer",children:Jt(e.sellTime,z)}),r&&!a&&(0,u.jsx)("div",{className:"trade-slot-status ready",children:w[159]})]})}),!n&&(0,u.jsx)("div",{className:"trade-button-container",children:a&&o?(0,u.jsxs)(W,{className:"trade-collect-button collect-payment",onAction:(e,n)=>(async(e,t,n)=>{const a=S[n];if(a&&a.sellerId===l.playerId&&a.boughtBy)try{const o=await s.A.post(`${i.A}/api/outpost/collect-payment`,{gridId:d,slotIndex:n,playerId:l.playerId,transactionId:e,transactionKey:t});o.data.success&&(x(o.data.outpostTradeStall),o.data.inventory&&c((e=>({...e,inventory:o.data.inventory}))),P(`\ud83d\udcb0 Collected ${a.boughtFor}.`))}catch(o){throw console.error("Error collecting payment:",o),P("Failed to collect payment"),o}})(e,n,t),transactionKey:`outpost-collect-${t}`,children:["Collect \ud83d\udcb0",e.boughtFor]}):a||o?r&&o?(0,u.jsxs)(W,{className:"trade-collect-button sell-to-game",onAction:(e,n)=>(async(e,t,n)=>{const a=S[n];if(a&&a.resource&&a.sellerId===l.playerId)try{const a=await s.A.post(`${i.A}/api/outpost/sell-to-game`,{gridId:d,slotIndex:n,playerId:l.playerId,transactionId:e,transactionKey:t});a.data.success&&(x(a.data.outpostTradeStall),a.data.inventory&&c((e=>({...e,inventory:a.data.inventory}))),P(`\ud83d\udcb0 Sold ${a.data.amount}x ${a.data.resource} for ${a.data.sold}.`))}catch(o){throw console.error("Error selling to game:",o),P("Failed to sell item"),o}})(e,n,t),transactionKey:`outpost-sell-${t}`,children:["Sell \ud83d\udcb0",Math.floor(e.amount*e.price*M)]}):(0,u.jsx)("button",{className:"trade-collect-button disabled",disabled:!0,children:p?"Wait...":"No Action"}):(0,u.jsxs)(W,{className:"trade-buy-button enabled",onAction:(e,n)=>(async(e,t,n)=>{var a,o;const r=S[n];if(!r||!r.resource||r.boughtBy)return;const u=r.amount*r.price;if(u>((null===(a=l.inventory)||void 0===a||null===(o=a.find((e=>"Money"===e.type)))||void 0===o?void 0:o.quantity)||0))P(152);else try{const a=await s.A.post(`${i.A}/api/outpost/buy-item`,{gridId:d,slotIndex:n,buyerId:l.playerId,buyerUsername:l.username,transactionId:e,transactionKey:t});a.data.success&&(x(a.data.outpostTradeStall),a.data.inventory&&c((e=>({...e,inventory:a.data.inventory}))),P(`Bought ${r.amount}x ${r.resource} for ${u}`))}catch(p){throw console.error("Error buying from Outpost:",p),P("Failed to buy item"),p}})(e,n,t),transactionKey:`outpost-buy-${t}`,children:["Buy \ud83d\udcb0",e.amount*e.price]})})]},t)}))}),null!==C&&(0,u.jsxs)("div",{className:"inventory-modal wider",children:[(0,u.jsx)("button",{className:"close-button",onClick:()=>I(null),children:"\u2716"}),(0,u.jsx)("h3",{children:w[160]}),(0,u.jsxs)("p",{style:{textAlign:"center",margin:"0 0 10px 0",fontSize:"14px",color:"#666"},children:[L(C).maxAmount," ",w[158]]}),(0,u.jsx)("div",{className:"inventory-modal-scroll",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:w[161]}),(0,u.jsx)("th",{children:w[162]}),(0,u.jsx)("th",{children:w[163]}),(0,u.jsx)("th",{children:w[164]}),(0,u.jsx)("th",{})]})}),(0,u.jsx)("tbody",{children:(n||[]).filter((e=>"Money"!==e.type&&"Gem"!==e.type)).map((e=>{const t=N.find((t=>t.type===e.type)),a=(null===t||void 0===t?void 0:t.minprice)||"N/A";return(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[null===t||void 0===t?void 0:t.symbol," ",K(e.type,w)]}),(0,u.jsx)("td",{children:e.quantity}),(0,u.jsx)("td",{children:a}),(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"amount-input",children:[(0,u.jsx)("button",{onClick:()=>G(e.type,(A[e.type]||0)-1),disabled:(A[e.type]||0)<=0,children:"-"}),(0,u.jsx)("input",{type:"number",value:A[e.type]||0,onChange:t=>G(e.type,parseInt(t.target.value,10)||0)}),(0,u.jsx)("button",{onClick:()=>G(e.type,(A[e.type]||0)+1),disabled:(A[e.type]||0)>=Math.min(e.quantity,L(C).maxAmount),children:"+"}),(0,u.jsx)("button",{onClick:()=>G(e.type,Math.min(e.quantity,L(C).maxAmount)),style:{marginLeft:"5px"},children:w[165]})]})}),(0,u.jsx)("td",{children:(0,u.jsx)(W,{className:"add-button",onAction:(t,a)=>(async(e,t,a)=>{const o=A[a]||0,r=n.find((e=>e.type===a));if(null===C||o<=0||!r||o>r.quantity)console.warn("Invalid amount or resource exceeds available quantity.");else{if(o===r.quantity&&(0,xt.AQ)(a,E)){const n=E.find((e=>e.output===a&&"farmplot"===e.category));if(n&&n.ingredient1qty>0)return p({title:"\u26a0\ufe0f Warning",message:`This will leave you with 0 ${a}, so you will not be able to plant ${a} again.`,message2:"Are you sure?",size:"small",onClose:()=>m(!1),children:(0,u.jsxs)("div",{className:"standard-buttons",style:{display:"flex",gap:"10px",justifyContent:"center",marginTop:"10px"},children:[(0,u.jsx)("button",{className:"btn-neutral",onClick:()=>m(!1),children:"Cancel"}),(0,u.jsx)("button",{className:"btn-success",onClick:()=>{m(!1),q(e,t,a,o)},children:"Proceed"})]})}),void m(!0)}await q(e,t,a,o)}})(t,a,e.type),transactionKey:`outpost-add-${e.type}`,disabled:!(A[e.type]>0&&A[e.type]<=e.quantity),children:w[166]})})]},e.type)}))})]})})]}),h&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)(W,{className:"btn-success",onAction:async(e,n)=>{await nn({currentPlayer:l,setInventory:v,setBackpack:r,setCurrentPlayer:c,setResources:y,stationType:f,currentStationPosition:g,gridId:d,TILE_SIZE:b,updateStatus:P,onClose:t})},transactionKey:`sell-refund-${f}-${null===g||void 0===g?void 0:g.x}-${null===g||void 0===g?void 0:g.y}-${d}`,children:w[425]||"Sell for Refund"})})]})]})}const Mn=a.memo(Dn);const Ln=function(e){var t;let{onClose:n,inventory:r,setInventory:l,backpack:c,setBackpack:p,currentPlayer:m,setCurrentPlayer:h,resources:f,updateStatus:g,masterResources:y}=e;const v=(0,o.k)(),[b,k]=(0,a.useState)([]),[w,S]=(0,a.useState)(!0),[x,C]=(0,a.useState)([]),[I,A]=(null===m||void 0===m||null===(t=m.location)||void 0===t||t.g,(0,a.useState)((null===m||void 0===m?void 0:m.messages)||[]));(0,a.useEffect)((()=>{Array.isArray(null===m||void 0===m?void 0:m.messages)&&A(m.messages)}),[null===m||void 0===m?void 0:m.messages]),(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch(`${i.A}/api/messages`),t=await e.json();k(t),d(m,(()=>{}),"mailbox",!1),S(!1);const n=(await s.A.get(`${i.A}/api/player/${m.playerId}`)).data.messages||[],a=n.filter((e=>!e.read));if(a.length>0){const e=n.map((e=>e.read?e:{...e,read:!0}));await s.A.post(`${i.A}/api/update-player-messages`,{playerId:m.playerId,messages:e}),C(a.map((e=>e.messageId)))}h((e=>({...e,messages:n}))),A(n)}catch(e){console.error("\u274c Error fetching or updating mailbox data:",e)}})()}),[]);const T=e=>{var t;return(null===(t=f.find((t=>t.type===e)))||void 0===t?void 0:t.symbol)||""},N=e=>e&&0!==e.length?(0,u.jsx)("div",{className:"reward-summary",children:e.map(((e,t)=>(0,u.jsxs)("span",{className:"reward-item",children:[T(e.item)," ",e.qty," ",e.item]},t)))}):null;return m&&Array.isArray(m.messages)?(0,u.jsxs)(De,{onClose:()=>{console.log("\ud83d\udced Closing mailbox"),C([]),n()},title:v[1606],className:"mailbox-modal",children:[w&&0===I.length?(0,u.jsx)("p",{children:v[1601]}):0===I.length?(0,u.jsx)("p",{children:v[1602]}):[...I].reverse().map(((e,t)=>{const n=b.find((t=>t.id===e.messageId));if(!n)return console.warn(`\ud83d\udced No template found for messageId: ${e.messageId}`),null;const a=e.rewards&&e.rewards.length>0?e.rewards:n.rewards;return(0,u.jsxs)("div",{className:"mailbox-message",children:[(0,u.jsxs)("div",{className:"message-left",children:[(0,u.jsxs)("h3",{children:[n.title,(!e.read||x.includes(e.messageId))&&(0,u.jsx)("span",{className:"unread-tag",children:"\ud83c\udd95"})]}),(0,u.jsx)("p",{className:"message-body",children:n.body}),(0,u.jsxs)("p",{className:"mailbox-timestamp",children:[v[1603],": ",new Date(e.timestamp).toLocaleString()]})]}),(0,u.jsxs)("div",{className:"message-actions",children:[(null===a||void 0===a?void 0:a.length)>0&&N(a),(0,u.jsxs)("div",{className:"standard-buttons",children:[(null===a||void 0===a?void 0:a.length)>0&&(0,u.jsx)(W,{className:"btn-success",transactionKey:`mailbox-collect-${e.messageId}-${I.length-1-t}`,onAction:(e,n)=>(async(e,t,n)=>{console.log(`\ud83d\udd12 [PROTECTED MAILBOX] Starting protected collection for message ${n}`);try{const a=await s.A.post(`${i.A}/api/mailbox/collect-rewards`,{playerId:m.playerId,messageIndex:n,transactionId:e,transactionKey:t});if(a.data.success){const{messages:e,inventory:t,backpack:o,skills:r,powers:s,relocations:i,collectedItems:c}=a.data;if(h((n=>({...n,messages:e||n.messages,inventory:t||n.inventory,backpack:o||n.backpack,skills:r||n.skills,powers:s||n.powers,relocations:void 0!==i?i:n.relocations}))),t&&l(t),o&&p(o),A(e||[]),r&&c)for(const n of c){const e=n.match(/(\d+)\s+(.+)/);if(e){const[,t,n]=e;r.some((e=>e.type===n))&&await P(m,"Gain skill with",n,parseInt(t),h)}}await B(m.playerId,h),b.find((e=>{var t;return e.id===(null===(t=m.messages[n])||void 0===t?void 0:t.messageId)})),g(`Collected rewards: ${c.join(", ")}`)}}catch(o){var a;console.error("Error in protected mailbox collection:",o),429===(null===(a=o.response)||void 0===a?void 0:a.status)?g(471):g("\u274c Failed to collect rewards")}})(e,n,I.length-1-t),children:v[1604]}),(0,u.jsx)("button",{className:"delete-btn",title:"Delete",onClick:()=>{window.confirm("Are you sure you want to delete this message?")&&(async(e,t)=>{try{const n=[...m.messages];n.splice(t,1),await s.A.post(`${i.A}/api/update-player-messages`,{playerId:e,messages:n}),h((e=>({...e,messages:n}))),g(1607)}catch(n){console.error("\u274c Error deleting message:",n),g("\u274c Failed to delete message.")}})(m.playerId,t)},children:"\ud83d\uddd1\ufe0f"})]})]})]},t)})),(0,u.jsx)("p",{children:v[1605]})]}):(0,u.jsx)(De,{onClose:n,title:v[1606],message:"No messages available."})};const Bn=function(e){let{onClose:t,currentPlayer:n}=e;const r=(0,o.k)(),[l,c]=(0,a.useState)("..."),[d,p]=(0,a.useState)([]),[m,h]=(0,a.useState)({type:"Unknown",phase:"Unknown",endTime:null}),[f,g]=(0,a.useState)([]),[y,v]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("timers")),t=(null===e||void 0===e?void 0:e.seasons)||{type:"Unknown",phase:"Unknown",endTime:null};h(t)}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e=await s.A.get(`${i.A}/api/tuning/seasons`);p(e.data)}catch(e){console.error("\u274c Failed to load season tuning:",e)}})()}),[]),(0,a.useEffect)((()=>{const e=()=>{const e=new Date,t=new Date(m.endTime);c(Jt(t,e))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[m]),(0,a.useEffect)((()=>{const e=setInterval((()=>{const e=Date.now(),t=new Date(m.endTime).getTime(),n=Math.floor((t-e)/1e3);v(n)}),1e3);return()=>clearInterval(e)}),[m]),(0,a.useEffect)((()=>{20===y&&(console.warn("\ud83d\udd01 Forcing refresh \u2014 countdown reached 10s"),window.location.reload())}),[y]),(0,a.useEffect)((()=>{(async()=>{try{var e,t,a;if(null===n||void 0===n||!n.frontierId)return;const o=await s.A.get(`${i.A}/api/get-frontier/${n.frontierId}`),r=(null===(e=o.data)||void 0===e?void 0:e.seasonlog)||[],l=null===(t=o.data)||void 0===t||null===(a=t.seasons)||void 0===a?void 0:a.seasonNumber,c=r.find((e=>e.seasonnumber===l)),d=(null===c||void 0===c?void 0:c.seasonwinners)||[];g(d.map(((e,t)=>({username:e.username,netWorth:e.networth}))))}catch(o){console.error("\u274c Error fetching season winners:",o)}})()}),[n]);const b=d.findIndex((e=>e.seasonType===m.type)),k=(b-1+d.length)%d.length,w=b>=0?d[k]:{seasonType:"Unknown"},S=`\ud83d\uddd3\ufe0f ${w.seasonType} \u2192 ${m.type}`,x=r[5035],C=r[5036];return(0,u.jsxs)(De,{isOpen:!0,onClose:t,title:S,message:x,message2:C,size:"standard",children:[(0,u.jsxs)("h2",{children:[(0,u.jsxs)("strong",{children:[m.type," begins in:"]})," ",l]}),(0,u.jsxs)("h3",{children:["\ud83d\udcb0 Results from ",w.seasonType]}),f.length>0?f.map(((e,t)=>(0,u.jsxs)("p",{children:[t+1,". ",(0,u.jsx)("strong",{children:e.username})," \u2013 Net Worth: ",e.netWorth]},t))):(0,u.jsx)("p",{children:"No data available."}),(0,u.jsx)("br",{}),(0,u.jsxs)("ul",{style:{paddingLeft:"1.5rem",marginBottom:"1rem"},children:[(0,u.jsx)("p",{children:"\ud83e\uddd1\u200d\ud83c\udf3e Sending players home"}),(0,u.jsx)("p",{children:"\ud83d\udee0\ufe0f Resetting towns and valleys"}),(0,u.jsx)("p",{children:"\ud83d\udcb0 Nerfing money accounts"}),(0,u.jsx)("p",{children:"\ud83d\udcec Sending out rewards"})]}),(0,u.jsx)("br",{})]})};const Gn=function(e){let{onClose:t,currentPlayer:n,setCurrentPlayer:r}=e;const l=(0,o.k)(),[c,d]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(0),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[k,w]=(0,a.useState)(""),[S,x]=(0,a.useState)([]),[C,I]=(0,a.useState)([]),[A,T]=(0,a.useState)([]),[N,j]=(0,a.useState)(""),[P,E]=(0,a.useState)(""),[R,$]=(0,a.useState)(""),O=e=>{if(null===e||void 0===e||!e.length)return"no items";return[...new Set(e.map((e=>e.itemBought)))].join(", ")},z=async()=>{try{var e,t,a,o,r,l,c;const u=(await s.A.get(`${i.A}/api/get-settlement/${n.settlementId}`)).data;console.log("Settlement data fetched:",u),d(u.displayName),f(u.taxrate);const p=await sn(n.settlementId);console.log("\ud83d\udc51 Mayor:",p),m(p),x(u.currentoffers),I(u.nextoffers);const h=await s.A.get(`${i.A}/api/get-frontier/${n.frontierId}`);T((null===(e=h.data.bank)||void 0===e?void 0:e.offers)||[]);const g=JSON.parse(localStorage.getItem("timers"))||{};w((null===(t=g.bank)||void 0===t?void 0:t.phase)||""),b((null===(a=g.train)||void 0===a?void 0:a.phase)||""),y((null===(o=g.elections)||void 0===o?void 0:o.phase)||"");const v=Date.now();j(Jt(null===(r=g.train)||void 0===r?void 0:r.endTime,v)),E(Jt(null===(l=g.elections)||void 0===l?void 0:l.endTime,v)),$(Jt(null===(c=g.bank)||void 0===c?void 0:c.endTime,v))}catch(u){console.error("Error fetching town data:",u)}};return(0,a.useEffect)((()=>{z();const e=setInterval(z,1e3);return()=>clearInterval(e)}),[n]),(0,u.jsxs)(De,{onClose:t,className:"modal-TownNews",size:"standard",children:[(0,u.jsxs)("h3",{children:[l[1501],' "',c||"...",'"']}),p?(0,u.jsxs)("p",{children:[l[1502]," ",p,l[1503]," ",h,"%."]}):(0,u.jsxs)(u.Fragment,{children:[" ",(0,u.jsxs)("p",{children:[l[1512]," ",l[1515]," ",h,"%."]}),"  "]}),(0,u.jsx)("h4",{children:l[1504]}),"Campaigning"===g&&(0,u.jsx)("p",{children:l[1505]}),"Voting"===g&&(0,u.jsx)("p",{children:l[1506]}),"Counting"===g&&(0,u.jsxs)("p",{children:[l[1518]," ",P,"."]}),"arriving"===v&&(0,u.jsxs)("p",{children:[l[1507]," ",O(S),"."]}),"departing"===v&&(0,u.jsxs)("p",{children:[l[1513]," ",N,". ",l[1514]," ",O(C),"."]}),"loading"===v&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("p",{children:[l[1509]," ",O(S),". ",l[1517]," ",N,"."]})}),"active"===k&&(0,u.jsxs)("p",{children:[l[1516]," ",O(A),"."]}),"refreshing"===k&&(0,u.jsx)("p",{children:l[1511]})]})};const qn=function(e){var t;let{onClose:n,currentPlayer:r,setModalContent:l,setIsModalOpen:c}=e;const d=(0,o.k)(),[p,m]=(0,a.useState)(""),[h,f]=(0,a.useState)([]),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)([]),[k,w]=(0,a.useState)(0),[S,x]=(0,a.useState)({}),C=()=>{const e=JSON.parse(localStorage.getItem("timers"));return(null===e||void 0===e?void 0:e.seasons)||{type:"Unknown",phase:"Unknown",endTime:null}};(0,a.useEffect)((()=>{(async()=>{try{const e=await s.A.get(`${i.A}/api/tuning/seasons`);b(e.data)}catch(e){console.error("\u274c Failed to fetch season cycle",e)}})()}),[]),(0,a.useEffect)((()=>{const e=()=>{const e=C(),t=new Date,n=new Date(null===e||void 0===e?void 0:e.endTime);m(Jt(n,t))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[]),(0,a.useEffect)((()=>{(async()=>{if(r&&r.frontierId)try{console.log("\ud83d\udcb0 Fetching top citizens and leading settlement for frontier:",r.frontierId);const e=(await s.A.get(`${i.A}/api/players-by-frontier-with-dev-status/${r.frontierId}`)).data,t=(await s.A.get(`${i.A}/api/settlements`)).data,n=t.reduce(((e,t)=>(e[t._id]=t.displayName||t.name||"Unknown Settlement",e)),{});x(n);const a={};e.forEach((e=>{if(e.isDeveloper)return;const t=e.settlementId||"unknown",o=e.netWorth||0;a[t]||(a[t]={totalNetWorth:0,settlementName:n[t]||"Unknown Settlement"}),a[t].totalNetWorth+=o}));let o=null,l=-1;for(const[r,s]of Object.entries(a))s.totalNetWorth>l&&(l=s.totalNetWorth,o=r);const c=o&&a[o]?a[o].settlementName:"No data available";let d="Unknown";if(o&&t){const e=t.find((e=>e._id===o));e&&(d=ln(e))}c&&(n[c+"_pop"]=d),w(l);const u=e.filter((e=>!e.isDeveloper)).map((e=>({username:e.username,netWorth:e.netWorth||0}))).sort(((e,t)=>t.netWorth-e.netWorth)).slice(0,3);f(u),y(c)}catch(e){console.error("\u274c Error fetching top citizens and settlement:",e)}else console.warn("\u26a0\ufe0f currentPlayer or frontierId is not available yet.")})()}),[r]);const I=C();return(e=>{var t;if(!v.length||!e)return"Unknown";const n=(v.findIndex((t=>t.seasonType===e))+1)%v.length;null===(t=v[n])||void 0===t||t.seasonType})(null===I||void 0===I?void 0:I.type),(0,u.jsxs)(V,{onClose:n,descriptionKey:"1015",titleKey:"1115",panelName:"SeasonPanel",children:["onSeason"===(null===I||void 0===I?void 0:I.phase)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h2",{children:[d[3053]," ",(null===I||void 0===I?void 0:I.type)||d[3054]]}),(0,u.jsx)("p",{children:d[3055]}),(0,u.jsx)("h2",{children:p})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("h2",{children:d[3056]})}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>{const e=(0,u.jsxs)("div",{style:{textAlign:"left",paddingLeft:"20px",paddingRight:"20px"},children:[(0,u.jsx)("p",{children:d[15001]}),(0,u.jsx)("h3",{style:{marginTop:"20px",marginBottom:"10px"},children:d[15002]}),(0,u.jsxs)("ol",{style:{paddingLeft:"40px"},children:[(0,u.jsx)("li",{children:d[15003]}),(0,u.jsx)("li",{children:d[15004]}),(0,u.jsx)("li",{children:d[15005]}),(0,u.jsx)("li",{children:d[15006]})]}),(0,u.jsx)("h3",{style:{marginTop:"20px",marginBottom:"10px"},children:d[15007]}),(0,u.jsxs)("ol",{start:"7",style:{paddingLeft:"40px"},children:[(0,u.jsx)("li",{children:d[15008]}),(0,u.jsx)("li",{children:d[15009]}),(0,u.jsx)("li",{children:d[15010]}),(0,u.jsx)("li",{children:d[15011]}),(0,u.jsx)("li",{children:d[15012]}),(0,u.jsx)("li",{children:d[15013]}),(0,u.jsx)("li",{children:d[15014]}),(0,u.jsx)("li",{children:d[15015]}),(0,u.jsx)("li",{children:d[15016]}),(0,u.jsx)("li",{children:d[15017]})]}),(0,u.jsx)("h3",{style:{marginTop:"20px",marginBottom:"10px"},children:d[15018]}),(0,u.jsxs)("ol",{start:"17",style:{paddingLeft:"40px"},children:[(0,u.jsx)("li",{children:d[15019]}),(0,u.jsx)("li",{children:d[15020]}),(0,u.jsx)("li",{children:d[15021]}),(0,u.jsx)("li",{children:d[15022]})]})]});l({title:"Season Rules",size:"large",custom:e}),c(!0)},style:{marginTop:"20px",padding:"10px",fontWeight:"bold"},children:d[15e3]})}),(0,u.jsx)("p",{children:d[3057]}),(0,u.jsx)("h3",{children:d[3058]}),(0,u.jsx)("p",{children:d[3051]}),h.length>0?(0,u.jsx)("div",{children:h.map(((e,t)=>(0,u.jsxs)("p",{children:[t+1,". ",(0,u.jsx)("strong",{children:e.username})," : ",e.netWorth.toLocaleString()]},t)))}):(0,u.jsx)("p",{children:d[3052]}),(0,u.jsx)("h3",{children:d[3059]}),g?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:g})}),(0,u.jsxs)("p",{children:[d[3060]," ",k.toLocaleString()]}),(0,u.jsxs)("p",{children:[d[3061]," ",(null===(t=S[g+"_pop"])||void 0===t?void 0:t.toLocaleString())||d[3062]]})]}):(0,u.jsx)("p",{children:d[3063]}),(0,u.jsx)("div",{className:"panel-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{if(null!==r&&void 0!==r&&r.frontierId){console.log("\ud83d\udcdc Fetching season log for frontier:",r.frontierId);try{const e=(await s.A.get(`${i.A}/api/frontier/${r.frontierId}/seasonlog`)).data.seasonlog||[],t=(0,u.jsxs)("table",{className:"season-log-table",style:{width:"100%",textAlign:"left",borderCollapse:"collapse"},children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Season"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Date"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Top Settlement"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Top Players by Net Worth"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Grids Reset"}),(0,u.jsx)("th",{style:{padding:"6px 12px"},children:"Players Relocated"})]})}),(0,u.jsx)("tbody",{children:[...e].reverse().map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{style:{padding:"6px 12px"},children:["#",e.seasonnumber," ",e.seasontype]}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:new Date(e.date).toLocaleDateString()}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.winningsettlement}),(0,u.jsx)("td",{style:{padding:"6px 12px",whiteSpace:"pre-line"},children:e.seasonwinners.map((e=>`${e.username}: ${e.networth.toLocaleString()}`)).join("\n")}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.gridsreset}),(0,u.jsx)("td",{style:{padding:"6px 12px"},children:e.playersrelocated})]},t)))})]});l({title:"Season Log",size:"large",message:0===e.length?"No season history found.":void 0,custom:t}),c(!0)}catch(e){console.error("\u274c Failed to fetch season log:",e),l({title:"Error",message:"Failed to load season log.",size:"small"}),c(!0)}}else console.warn("\u26a0\ufe0f Cannot show season log: frontierId missing.")},style:{marginTop:"20px",padding:"10px",fontWeight:"bold"},children:d[3064]})})]})},Fn=e=>{let{onClose:t,pcData:n,currentPlayer:o,setCurrentPlayer:r,inventory:c,setInventory:d,backpack:p,setBackpack:m,updateStatus:h,masterInteractions:f,masterTrophies:g,isDeveloper:y,controllerUsername:v,setControllerUsername:b}=e;const[k,w]=(0,a.useState)(0),[S,x]=(0,a.useState)(0),[C,I]=(0,a.useState)(!1),[A,T]=(0,a.useState)(!1),[j,P]=(0,a.useState)(n),[E,R]=(0,a.useState)(!1);console.log("made it to SocialPanel; pc = ",n),(0,a.useEffect)((()=>{if(n&&n.username!==o.username){var e;const t=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.g;if(!t)return;const a=N.A.getPlayersInGrid(t)[n.playerId];a&&(I(a.iscamping||!1),T(a.isinboat||!1),P((e=>({...e,iscamping:a.iscamping,isinboat:a.isinboat,hp:a.hp,username:a.username}))))}}),[n,o]),(0,a.useEffect)((()=>{if(!n)return console.warn("SocialPanel was opened with missing pcData."),void P({username:"Unknown",hp:0,iscamping:!1});if(n.username===o.username){var e,t,a,r;P({...n,iscamping:o.iscamping||!1,isinboat:o.isinboat||!1,hp:o.hp||n.hp}),I(o.iscamping||!1),T(o.isinboat||!1);const s=(null===(e=o.backpack)||void 0===e||null===(t=e.find((e=>"Tent"===e.type)))||void 0===t?void 0:t.quantity)||0;w(s);const i=(null===(a=o.backpack)||void 0===a||null===(r=a.find((e=>"Boat"===e.type)))||void 0===r?void 0:r.quantity)||0;x(i)}else P(n)}),[n,o,o.iscamping,o.isinboat]);return(0,u.jsxs)(V,{onClose:t,descriptionKey:"1014",titleKey:"1114",panelName:"SocialPanel",children:[(0,u.jsx)("div",{className:"panel-content",children:(0,u.jsxs)("div",{className:"debug-buttons",children:[(0,u.jsxs)("h2",{children:[j.username,j.username===o.username&&" (You)"]}),j.username===o.username&&(0,u.jsxs)("button",{className:"btn-success",onClick:()=>R(!0),children:[o.icon||"\ud83d\ude42"," Change Avatar"]}),(0,u.jsxs)("h3",{children:["\u2764\ufe0f\u200d\ud83e\ude79 HP: ",j.hp]}),j.username!==o.username&&(0,u.jsxs)(u.Fragment,{children:[j.iscamping&&(0,u.jsx)("h3",{style:{fontWeight:"bold",color:"#4CAF50"},children:"\ud83c\udfd5\ufe0f Camping."}),j.isinboat&&(0,u.jsx)("h3",{style:{fontWeight:"bold",color:"#2196F3"},children:"\ud83d\udef6 In a boat."})]}),j.username!==o.username&&(0,u.jsx)(Mt,{currentPlayer:o,setCurrentPlayer:r,targetName:j.username,targetType:"player",showActions:!0,compact:!1,masterInteractions:f,updateStatus:h,onRelationshipChange:(e,t)=>{}}),y&&j.username!==o.username&&(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-danger",onClick:async()=>{var e;if(!n||!n.playerId)return console.error("\u274c Cannot remove: No player data"),void h("Failed to remove player from grid state");const a=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.g;if(!a)return console.error("\u274c Cannot remove: No grid ID found"),void h("Failed to remove player from grid state");const r=n.playerId;console.log(`\ud83d\uddd1\ufe0f Removing player ${n.username} (${r}) from grid ${a}`);try{console.log("\ud83d\udce4 Calling /remove-single-pc to remove player from database...");if(!(await s.A.post(`${i.A}/api/remove-single-pc`,{gridId:a,playerId:r})).data.success)throw new Error("Failed to remove player from database");console.log(`\u2705 Successfully removed player ${n.username} from database`),N.A.removePC(a,r),console.log(`\u2705 Successfully removed player ${n.username} from local grid state`),v===n.username&&(console.log(`\ud83c\udfae Removed player ${n.username} was the NPCController, clearing controller`),b&&b(null)),l.Ay&&(console.log(`\ud83c\udfae Forcing NPCController reassignment after removing ${n.username}`),l.Ay.emit("leave-grid",{gridId:a,playerId:r,username:n.username}),setTimeout((()=>{console.log("\ud83d\udd04 Requesting current players from server after removal"),l.Ay.emit("request-current-grid-players",{gridId:a})}),50),v===n.username&&setTimeout((()=>{l.Ay.emit("request-npc-controller",{gridId:a})}),100)),h(`Removed ${n.username} from grid${v===n.username?" and cleared NPC control":""}`),n.username!==o.username&&t()}catch(c){console.error("\u274c Error removing player from grid state:",c),h("Failed to remove player from grid state")}},children:"\ud83d\uddd1\ufe0f Remove from GridState (dev only)"})}),j.username===o.username&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),C?(0,u.jsx)("h3",{style:{fontWeight:"bold",color:"#4CAF50"},children:"\ud83c\udfd5\ufe0f Camping."}):(0,u.jsxs)("p",{children:["You have ",(0,u.jsx)("strong",{children:k})," tents."]}),C?(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{I(!1),P((e=>({...e,iscamping:!1}))),r((e=>({...e,iscamping:!1}))),w((e=>e+1));try{if((await s.A.post(`${i.A}/api/update-profile`,{playerId:o.playerId,updates:{iscamping:!1}})).data.success){var e;h(30);const t=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.g;t&&N.A.updatePC(t,o.playerId,{iscamping:!1})}else I(!0),P((e=>({...e,iscamping:!0}))),r((e=>({...e,iscamping:!0}))),w((e=>e-1))}catch(t){console.error("\u274c Error putting away tent:",t),h(29),I(!0),P((e=>({...e,iscamping:!0}))),r((e=>({...e,iscamping:!0}))),w((e=>e-1))}},children:"\u26fa Put Away Tent"}):(0,u.jsx)("button",{className:"btn-success",disabled:A,onClick:()=>{k<=0?(console.warn("\ud83d\udeab No tents found. Button press ignored."),h(27)):(async()=>{if(console.log("\u26fa\ufe0f handlePitchTent called; tentCount = ",k),!(k<=0)){I(!0),P((e=>({...e,iscamping:!0}))),r((e=>({...e,iscamping:!0}))),w((e=>e-1));try{var e;if(!(await s.A.post(`${i.A}/api/update-profile`,{playerId:o.playerId,updates:{iscamping:!0}})).data.success)return I(!1),P((e=>({...e,iscamping:!1}))),r((e=>({...e,iscamping:!1}))),void w((e=>e+1));const t={ingredient1:"Tent",ingredient1qty:1};if(!await q({playerId:o.playerId,recipe:t,inventory:c,backpack:p,setInventory:d,setBackpack:m,setCurrentPlayer:r,updateStatus:h}))return await s.A.post(`${i.A}/api/update-profile`,{playerId:o.playerId,updates:{iscamping:!1}}),I(!1),P((e=>({...e,iscamping:!1}))),r((e=>({...e,iscamping:!1}))),void w((e=>e+1));console.log("\u26fa\ufe0f iscamping: updated profile successfully"),h(28),null!==o&&void 0!==o&&o.playerId&&an(o.playerId,"Adventurer",1,o,g);const n=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.g;n&&N.A.updatePC(n,o.playerId,{iscamping:!0})}catch(t){console.error("\u274c Error pitching tent:",t),h(29),I(!1),P((e=>({...e,iscamping:!1}))),r((e=>({...e,iscamping:!1}))),w((e=>e+1))}}})()},children:"\ud83c\udfd5\ufe0f Pitch Tent"}),A?(0,u.jsx)("h3",{style:{fontWeight:"bold",color:"#2196F3"},children:"\ud83d\udef6 In a boat."}):(0,u.jsxs)("p",{children:["You have ",(0,u.jsx)("strong",{children:S})," boats."]}),A?(0,u.jsx)("button",{className:"btn-success",onClick:async()=>{T(!1),P((e=>({...e,isinboat:!1}))),r((e=>({...e,isinboat:!1})));try{if((await s.A.post(`${i.A}/api/update-profile`,{playerId:o.playerId,updates:{isinboat:!1}})).data.success){var e;h("You got out of your boat.");const t=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.g;t&&N.A.updatePC(t,o.playerId,{isinboat:!1})}else T(!0),P((e=>({...e,isinboat:!0}))),r((e=>({...e,isinboat:!0})))}catch(t){console.error("\u274c Error getting out of boat:",t),h("Failed to get out of boat."),T(!0),P((e=>({...e,isinboat:!0}))),r((e=>({...e,isinboat:!0})))}},children:"\ud83d\udef6 Get Out of Boat"}):(0,u.jsx)("button",{className:"btn-success",disabled:C,onClick:()=>{S<=0?(console.warn("\ud83d\udeab No boats found. Button press ignored."),h("You don't have a boat.")):(async()=>{if(console.log("\ud83d\udef6 handleGetInBoat called; boatCount = ",S),!(S<=0)){T(!0),P((e=>({...e,isinboat:!0}))),r((e=>({...e,isinboat:!0})));try{const t=await s.A.post(`${i.A}/api/update-profile`,{playerId:o.playerId,updates:{isinboat:!0}});if(t.data.success){var e;console.log("\ud83d\udef6 isinboat: updated profile successfully; response = ",t),h("You got in your boat.");const n=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.g;n&&N.A.updatePC(n,o.playerId,{isinboat:!0})}else T(!1),P((e=>({...e,isinboat:!1}))),r((e=>({...e,isinboat:!1})))}catch(t){console.error("\u274c Error getting in boat:",t),h("Failed to get in boat."),T(!1),P((e=>({...e,isinboat:!1}))),r((e=>({...e,isinboat:!1})))}}})()},children:"\ud83d\udef6 Get in Boat"})]})]})}),E&&(0,u.jsx)(at,{currentPlayer:o,setCurrentPlayer:r,updateStatus:h,currentIcon:o.icon,playerId:o.playerId,onClose:()=>R(!1),onSave:e=>{P((t=>({...t,icon:e}))),R(!1)}})]})},Vn=a.memo(Fn),_n=e=>{var t;let{onClose:n,currentPlayer:r,setCurrentPlayer:s,masterResources:i,masterSkills:l,TILE_SIZE:c}=e;const d=(0,o.k)(),[p,m]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),{updateStatus:g}=(0,a.useContext)(Ie),[y,v]=(0,a.useState)(0),[b,k]=(0,a.useState)({});(0,a.useEffect)((()=>{const e=setInterval((()=>{var e;const t=null===(e=N.A.getAllPCs(r.location.g))||void 0===e?void 0:e[r._id];t&&k(t)}),500);return()=>clearInterval(e)}),[r._id,r.location.g]);const w=()=>{var e;return(null===(e=N.A.getAllPCs(r.location.g))||void 0===e?void 0:e[r._id])||{}},S=e=>{const t=(null===b||void 0===b?void 0:b[e])||0;let n;n="maxhp"===e?"baseMaxhp":"hp"===e?"baseHp":`base${e.charAt(0).toUpperCase()+e.slice(1)}`;const a=r[n]||0;return{base:a,modifier:t-a,total:t}},x=S("hp"),C=S("maxhp"),I=S("damage"),A=S("armorclass"),T=S("attackbonus"),j=S("attackrange"),P=S("speed");return(0,u.jsxs)(V,{onClose:n,descriptionKey:"1024",titleKey:"1124",panelName:"CombatPanel",children:[(0,u.jsx)("div",{className:"standard-panel",children:h?(0,u.jsx)("p",{children:"Loading..."}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"combat-stats",children:[(0,u.jsx)("h3",{children:"Your Stats:"}),(0,u.jsx)("br",{}),(0,u.jsxs)("h3",{children:["\u2764\ufe0f\u200d\ud83e\ude79 Health: ",(0,u.jsx)("span",{className:"stat-total",children:x.total})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("h4",{children:["\u2764\ufe0f\u200d\ud83e\ude79 Max Health:",(0,u.jsx)("br",{})," ",(0,u.jsx)("span",{className:"stat-total blue-text",children:0!==C.modifier?C.total:C.base}),"  ("," ",C.base," + ",(0,u.jsx)("span",{className:"stat-total blue-text",children:C.modifier})," ",")"]}),(0,u.jsxs)("h4",{children:["\ud83d\udee1\ufe0f Armor Class: ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"stat-total blue-text",children:0!==A.modifier?A.total:A.base}),"  ("," ",A.base," + ",(0,u.jsx)("span",{className:"stat-total blue-text",children:A.modifier})," ",")"]}),(0,u.jsx)("br",{}),(0,u.jsxs)("h4",{children:["\u2694\ufe0f Attack Bonus: ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"stat-total blue-text",children:0!==T.modifier?T.total:T.base}),"  ("," ",T.base," + ",(0,u.jsx)("span",{className:"stat-total blue-text",children:T.modifier})," ",")"]}),(0,u.jsxs)("h4",{children:["\u2694\ufe0f Damage: ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"stat-total blue-text",children:0!==I.modifier?I.total:I.base}),"  ("," ",I.base," + ",(0,u.jsx)("span",{className:"stat-total blue-text",children:I.modifier})," ",")"]}),(0,u.jsxs)("h4",{children:["\ud83d\udd2d Attack Range: ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"stat-total blue-text",children:0!==j.modifier?j.total:j.base}),"  ("," ",j.base," + ",(0,u.jsx)("span",{className:"stat-total blue-text",children:j.modifier})," ",")"]}),(0,u.jsxs)("h4",{children:["\ud83c\udfaf Speed: ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"stat-total blue-text",children:0!==P.modifier?P.total:P.base}),"  ("," ",P.base," + ",(0,u.jsx)("span",{className:"stat-total blue-text",children:P.modifier})," ",")"]}),(0,u.jsx)("br",{}),(0,u.jsxs)("h4",{children:["\u26fa\ufe0f Is Camping: ",r.iscamping?"Yes":"No"]}),(0,u.jsxs)("h4",{children:["\ud83d\udef6 In Boat: ",r.isinboat?"Yes":"No"]})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{className:"combat-powers",children:[(0,u.jsx)("h3",{children:"Weapons & Abilities:"}),(0,u.jsx)("br",{}),null!==(t=r.powers)&&void 0!==t&&t.length?r.powers.map(((e,t)=>{const n=i.find((t=>t.type===e.type));if(!n)return null;const a=(n.qtycollected||1)*(e.quantity||0),o=n.output?d[n.output]||n.output:"Unknown";return(0,u.jsx)("h4",{children:(0,u.jsxs)("span",{className:"stat-total blue-text",children:[(0,u.jsx)("strong",{children:n.type})," ",(0,u.jsx)("br",{})," (",a>0?"+":"",a," for ",o,")"]})},t)})):(0,u.jsx)("p",{children:"No extra weapons or abilities."})]})]})}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{className:"resource-button",onClick:()=>{const e=r.location.g,t=r._id,n={hp:r.baseHp||0,maxhp:r.baseMaxhp||0,damage:r.baseDamage||0,armorclass:r.baseArmorclass||0,attackbonus:r.baseAttackbonus||0,attackrange:r.baseAttackrange||0,speed:r.baseSpeed||0},a=r.powers||[],o={hp:0,maxhp:0,damage:0,armorclass:0,attackbonus:0,attackrange:0,speed:0};a.forEach((e=>{const t=i.find((t=>t.type===e.type));t&&t.output&&o.hasOwnProperty(t.output)&&(o[t.output]+=(e.quantity||0)*(t.qtycollected||1))}));const s={};Object.keys(n).forEach((e=>{s[e]=n[e]+(o[e]||0)}));const l=w();void 0!==(null===l||void 0===l?void 0:l.hp)?s.hp=l.hp:s.hp&&0!==s.hp||(s.hp=s.maxhp),s.playerId=t,s.username=r.username,s.position=r.position||{},s.icon=r.icon||"\ud83d\ude00",s.iscamping=r.iscamping||!1,s.isinboat=r.isinboat||!1,s.lastUpdated=(new Date).toISOString();const c=w(),d=null===c||void 0===c?void 0:c.position;s.position=d&&"number"===typeof d.x&&"number"===typeof d.y?d:{x:0,y:0},N.A.updatePC(e,t,s),g("\u2705 Combat stats refreshed from base stats + powers.")},children:"\ud83d\udd04 Fix Combat Stats"})]})},Un=a.memo(_n),Hn=(0,a.memo)((e=>{let{currentPlayer:t,updateStatus:n,onClose:a}=e;const r=(0,o.k)(),s="Gold"===t.accountStatus;return(0,u.jsx)(V,{onClose:a,descriptionKey:"1027",titleKey:"1127",panelName:"GoldBenefitsPanel",children:(0,u.jsxs)("div",{className:"panel-content",children:[(0,u.jsx)("div",{className:"standard-buttons",style:{display:"flex",justifyContent:"center",width:"100%"},children:s?(0,u.jsx)("p",{children:r[9060]}):(0,u.jsx)("button",{className:"btn-gold",style:{width:"100%"},onClick:()=>tt(1,t,n),children:r[9061]})}),(0,u.jsx)("br",{}),(0,u.jsx)("h2",{children:r[9050]}),(0,u.jsx)("p",{children:r[9051]}),(0,u.jsx)("p",{children:r[9052]}),(0,u.jsx)("p",{children:r[9053]}),(0,u.jsx)("p",{children:r[9054]}),(0,u.jsx)("p",{children:r[9055]}),(0,u.jsx)("p",{children:r[9056]}),(0,u.jsx)("p",{children:r[9057]}),(0,u.jsx)("p",{children:r[9058]})]})})}));function Kn(e,t){let n="";switch(e){case"facebook":n=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`;break;case"twitter":n=`https://twitter.com/intent/tweet?text=Come+play+Valley+View!&url=${encodeURIComponent(t)}`;break;case"reddit":n=`https://www.reddit.com/submit?url=${encodeURIComponent(t)}&title=Check+out+Valley+View!`;break;default:return void console.warn("Unsupported network:",e)}window.open(n,"_blank","noopener,noreferrer")}const Wn=function(e){let{onClose:t}=e;(0,o.k)();const n=window.location.href;return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"share-modal",children:[(0,u.jsx)("h2",{children:"\ud83d\udce2 Share Valley View"}),(0,u.jsx)("p",{children:"Invite others to help out and join the adventure!"}),(0,u.jsxs)("div",{className:"share-buttons",children:[(0,u.jsx)("button",{className:"facebook-btn",onClick:()=>Kn("facebook",n),children:"Facebook"}),(0,u.jsx)("button",{className:"twitter-btn",onClick:()=>Kn("twitter",n),children:"Twitter / X"}),(0,u.jsx)("button",{className:"reddit-btn",onClick:()=>Kn("reddit",n),children:"Reddit"})]}),(0,u.jsxs)("div",{className:"copy-link",children:[(0,u.jsx)("input",{type:"text",readOnly:!0,value:n}),(0,u.jsx)("button",{className:"shared-button",onClick:()=>{return e=n,void navigator.clipboard.writeText(e).then((()=>alert("\u2705 Link copied to clipboard!"))).catch((()=>alert("\u274c Failed to copy link.")));var e},children:"\ud83d\udccb Copy"})]}),(0,u.jsxs)("div",{className:"discord-section",children:[(0,u.jsx)("p",{children:"and"}),(0,u.jsx)("button",{className:"discord-btn",onClick:()=>window.open("https://discord.gg/mQgRP2K9","_blank"),children:"Join our Discord"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"standard-buttons",children:(0,u.jsx)("button",{className:"btn-success",onClick:t,children:"Close"})})]})})},Yn=()=>{const[e,t]=(0,a.useState)({x:100,y:100}),[n,o]=(0,a.useState)({x:100,y:100}),[r,s]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const n=setTimeout((()=>{const n=Math.floor(4*Math.random()),a=100+200*Math.random();let r=e.x,i=e.y;switch(n){case 0:i=Math.max(50,e.y-a);break;case 1:r=Math.min(950,e.x+a);break;case 2:i=Math.min(550,e.y+a);break;case 3:r=Math.max(50,e.x-a)}const l=Math.sqrt(Math.pow(r-e.x,2)+Math.pow(i-e.y,2));s(l/100),o({x:r,y:i}),t({x:r,y:i})}),1e3+1e3*r);return()=>clearTimeout(n)}),[e,r]),(0,u.jsx)("div",{className:"cowboy-emoji",style:{position:"absolute",left:`${n.x}px`,top:`${n.y}px`,fontSize:"28px",transition:r>0?`all ${r}s linear`:"none",zIndex:10,userSelect:"none"},children:"\ud83e\udd20"})};const Jn=function(){var e,t,r,v,w,S,I,P,E,R,$,O,z,D,M,L,B,G;Math.floor(1e4*Math.random()),(0,a.useEffect)((()=>{const e=Math.floor(1e4*Math.random());console.log(`\ud83e\udde9 App mounted. Instance ID: ${e}`),console.trace()}),[]),(0,a.useEffect)((()=>{var e;const t=document.getElementById("root");return console.log("\ud83d\udce6 App mounted. Parent contents:",null===t||void 0===t||null===(e=t.innerHTML)||void 0===e?void 0:e.slice(0,200)),()=>{console.log("\ud83d\udca5 App unmounted.")}}),[]);const q=(0,o.k)(),{uiLocked:V}=(0,a.useContext)(be),[_,U]=(0,a.useState)(!1),{activeModal:H,setActiveModal:K,openModal:W,closeModal:Y}=rt(),[Q,Z]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({title:"",message:"",message2:""}),{updateStatus:ne}=(0,a.useContext)(Ie),ae=Ee();(0,a.useEffect)((()=>{/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(te({title:"Unsupported Device",size:"small",children:(0,u.jsxs)("div",{style:{fontSize:"1rem",textAlign:"center",padding:"1rem"},children:["\ud83d\udeab This game is intended for desktop browsers only.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"Please revisit on a laptop or desktop computer."]}),onClose:()=>{}}),Z(!0))}),[]);const oe=()=>W&&W("Mailbox");(0,a.useEffect)((()=>{const e=new URLSearchParams(window.location.search),t=e.get("purchase"),n=e.get("playerId"),a=e.get("offerId");if("success"===t&&n&&a){console.log("\ud83e\uddfe Processing store purchase via App.js effect:",{playerId:n,offerId:a}),s.A.post(`${i.A}/api/purchase-store-offer`,{playerId:n,offerId:a}).then((()=>{console.log("\ud83d\udcec Purchase reward sent successfully."),"1"===String(a)?(ne&&ne("\ud83c\udf89 Congratulations on purchasing a Gold Pass!"),s.A.get(`${i.A}/api/player/${n}`).then((e=>{Nt("GoldBenefitsPanel"),te({title:q[5060],message:q[5061],message2:q[5062],size:"small"}),Z(!0)})).catch((e=>{console.error("\u274c Failed to refresh player data after Gold purchase:",e)}))):(ne&&ne("\u2705 Purchase successful! Check your Inbox."),oe&&oe())})).catch((e=>{console.error("\u274c Failed to fulfill purchase:",e),ne&&ne("\u26a0\ufe0f Purchase may not have been fulfilled. Contact support if missing.")}));const e=new URL(window.location.href);e.search="",window.history.replaceState({},document.title,e.toString())}}),[]),(0,a.useEffect)((()=>{let e,t=!1;return e=setInterval((async()=>{try{(null===ee||void 0===ee?void 0:ee.title)===q[1e4]&&Z(!1),t&&window.location.reload()}catch(e){console.warn("\u274c Server unreachable:",e.message),t||(te({title:q[1e4],message:q[10001],message2:q[10002]}),Z(!0),t=!0)}}),2e3),()=>clearInterval(e)}),[]),(0,a.useEffect)((()=>{(async()=>{var e,t;console.log("Checking for on or off Season on app start");const n=localStorage.getItem("timers");if(!n)return void console.warn("No timers in localStorage yet.");let a=null;try{a=JSON.parse(n)}catch(r){return void console.warn("Malformed timers in localStorage:",r)}if("offSeason"===(null===(e=a)||void 0===e||null===(t=e.seasons)||void 0===t?void 0:t.phase)){console.log("\ud83d\udd75\ufe0f Initial local phase is offSeason, confirming with server...");try{var o;const e=null===(o=(await s.A.get(`${i.A}/api/get-global-season-phase`)).data)||void 0===o?void 0:o.phase;At("offSeason"===e),console.log("offSeason"===e?"\u2705 Server confirms offSeason":"\u274c Server says it's not offSeason")}catch(l){console.error("\u274c Error confirming season with server:",l)}}})()}),[]);const re=(()=>{const e=JSON.parse(localStorage.getItem("timers"));return(null===e||void 0===e?void 0:e.seasons)||{type:"Unknown",phase:"Unknown",endTime:null}})(),[se,ie]=(0,a.useState)(null),[le,de]=(0,a.useState)((()=>localStorage.getItem("gridId")||null)),[pe,me]=(0,a.useState)([]),[he,ge]=(0,a.useState)([]),[ye,ve]=(0,a.useState)([]),[ke,we]=(0,a.useState)([]),[Ae,Ne]=(0,a.useState)([]),[je,Pe]=(0,a.useState)([]),[Re,Oe]=(0,a.useState)(null),[Be,Ge]=(0,a.useState)([]),[qe,Fe]=(0,a.useState)([]),[Ve,_e]=(0,a.useState)([]);(0,a.useEffect)((()=>{void 0!==he&&null!==he&&(g.A.setTiles(he),console.log("GlobalGridStateTilesAndResources tiles updated:",he))}),[he]),(0,a.useEffect)((()=>{void 0!==pe&&null!==pe&&(g.A.setResources(pe),console.log("GlobalGridStateTilesAndResources resources updated:",pe))}),[pe]);const[Ue,He]=(0,a.useState)("close"),Ke=null!==Re&&void 0!==Re&&Re.closerZoom?{closer:Re.closerZoom,close:Re.closeZoom,far:Re.farZoom}:{closer:50,close:30,far:16},We=Ke[Ue],[Ye,Je]=(0,a.useState)(null),[Qe,Ze]=(0,a.useState)(null);(0,a.useEffect)((()=>{var e;null!==se&&void 0!==se&&null!==(e=se.location)&&void 0!==e&&e.s&&Ze(se.location.s)}),[se]),(0,a.useLayoutEffect)((()=>{var e;if(Ue&&"settlement"!==Ue&&"frontier"!==Ue&&null!==se&&void 0!==se&&null!==(e=se.location)&&void 0!==e&&e.g&&null!==se&&void 0!==se&&se._id){var t,n,a;const e=se.location.g,o=String(se._id),r=null===bt||void 0===bt||null===(t=bt[e])||void 0===t||null===(n=t.pcs)||void 0===n||null===(a=n[o])||void 0===a?void 0:a.position;r&&We&&(0,X.di)(r,We)}}),[Ue,We]);const[Xe,et]=(0,a.useState)(null),[tt,at]=(0,a.useState)({}),[ot,st]=(0,a.useState)({}),[lt,dt]=(0,a.useState)(null),yt=k(),vt=(0,a.useContext)(b);(0,a.useEffect)((()=>{T.Ay.registerSetGridState(vt)}),[vt]);const bt=C(),wt=(0,a.useContext)(x);(0,a.useEffect)((()=>{N.A.registerSetPlayersInGrid(wt)}),[wt]),(0,a.useEffect)((()=>{N.A.registerTileSize(We)}),[We]);const[St,Ct]=(0,a.useState)(!1),[It,At]=(0,a.useState)(!1),{activePanel:Tt,openPanel:Nt,closePanel:jt}=(0,F.d)(),{closeAllPanels:Pt}=(0,F.d)(),[Et,Rt]=(0,a.useState)(null),[$t,Ot]=(0,a.useState)(null),[zt,Dt]=(0,a.useState)(null),[Mt,Lt]=(0,a.useState)(!1),[Gt,qt]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(0,m.p)("Trophy",(e=>{Nt("TrophyPanel")})),(0,m.p)("To Do",(e=>{Nt("QuestPanel")}))}),[Nt]),(0,a.useEffect)((()=>{localStorage.getItem("player")||(console.log("[Watcher] No stored player found \u2014 showing login panel."),Ct(!0),Nt("LoginPanel"),yn(!0))}),[Tt]);const[Ft,_t]=(0,a.useState)(null),[Ht,Wt]=(0,a.useState)(null),[Yt,Qt]=(0,a.useState)(!1),[Zt,en]=(0,a.useState)((()=>new Set)),[nn,an]=(0,a.useState)({}),[on,sn]=(0,a.useState)({chat:!1,store:!1,mailbox:!1}),ln=(0,a.useMemo)((()=>ye),[ye]),mn=(0,a.useMemo)((()=>he),[he]),hn=(0,a.useMemo)((()=>pe),[pe]),[gn,yn]=(0,a.useState)(!1);let bn=!1;const[kn,wn]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(!l.Ay)return;l.Ay.off("connect",l.Ay.__vvgame_connect_listener);const e=()=>{console.log("\ud83d\udce1 Socket connected!"),null!==se&&void 0!==se&&se.playerId&&(console.log("\ud83d\udce1 Rejoining playerId room:",se.playerId),l.Ay.emit("join-player-room",se.playerId))};return l.Ay.on("connect",e),l.Ay.__vvgame_connect_listener=e,()=>{l.Ay.off("connect",e),delete l.Ay.__vvgame_connect_listener}}),[l.Ay,se]),(0,a.useEffect)((()=>{let e=null;return(async()=>{if(console.log("\ud83c\udfc1\ud83c\udfc1\ud83c\udfc1 App initialization begun."),bn)console.log("Initialization is already in progress. Skipping.");else{bn=!0;try{var t,n,a,o,r,u,p,m;console.log("\ud83c\udfc1\u2705 1 InitAppWrapper; Merging player data and initializing inventory...");const[y,b,k,w,S,x]=await Promise.all([(0,f.hC)(),(0,f._M)(),(0,f.Xs)(),(0,f.sk)(),(0,f.Mp)(),(0,f.zz)()]);we(b),Pe(y),Oe(k),Ge(w),Fe(S),_e(x),Ne(!0),console.log("\ud83c\udfc1\u2705 2 InitAppWrapper; getting local player...");const C=localStorage.getItem("player");if(!C)return console.log("No stored player found, showing login screen."),Ct(!0),Nt("LoginPanel"),void yn(!0);const I=JSON.parse(C);console.log("\ud83c\udfc1\u2705 2.1 InitAppWrapper; fetching player from server...");const A=(await s.A.get(`${i.A}/api/player/${I.playerId}`)).data;if(!A||!A.playerId)return console.error("Invalid full player data from server:",A),void Ct(!0);console.log("\ud83c\udfc1\u2705 2.2 InitAppWrapper; updating lastActive timestamp...");try{await s.A.post(`${i.A}/api/update-last-active`,{playerId:I.playerId})}catch(v){console.warn("Failed to update lastActive:",v)}console.log("\ud83c\udfc1\u2705 2.5 InitAppWrapper; checking for stale gridId after relocation...");const j=localStorage.getItem("gridId"),P=null===(t=A.location)||void 0===t?void 0:t.g;j&&P&&j!==P&&(console.warn("\ud83c\udf2a\ufe0f Detected stale gridId from localStorage. Updating to new home grid."),localStorage.setItem("gridId",P),de(P)),console.log("\ud83c\udfc1\u2705 3 InitAppWrapper; Merging player data and initializing inventory...");let E={...I,...A};if(ie(E),null!==(n=E)&&void 0!==n&&n.username){const e=await c(E.username);U(e)}at(A.inventory||[]),st(A.backpack||[]),console.log("\ud83c\udfc1\u2705 4. Determining local gridId...");const R=(null===I||void 0===I||null===(a=I.location)||void 0===a?void 0:a.g)||localStorage.getItem("gridId");if(!R)return void console.error("No gridId found. Unable to initialize grid.");de(R),localStorage.setItem("gridId",R),l.Ay.connect(),l.Ay.emit("join-grid",{gridId:R,playerId:A.playerId}),console.log("\ud83d\udce1 Connected to socket and joined grid:",R),l.Ay.emit("player-joined-grid",{gridId:R,playerId:A.playerId,username:A.username,playerData:A}),l.Ay.emit("join-player-room",{playerId:A.playerId}),console.log(`\ud83d\udce1 Joined socket room for playerId: ${A.playerId}`),l.Ay.emit("set-username",{username:A.username}),console.log(`\ud83c\udfae Requesting current NPCController for grid: ${R}`),l.Ay.emit("request-npc-controller",{gridId:R}),console.log("\ud83c\udfc1\u2705 5 InitAppWrapper; Initializing grid tiles and resources..."),await(0,h.F)(We,R,ve,me,ge,ne,A,ke),console.log("\ud83c\udfc1\u2705 6 InitAppWrapper; Initializing NPC NPCsInGrid..."),await T.Ay.initializeGridState(R);const $=T.Ay.getNPCsInGrid(R);console.log("initializedState (NPCs): ",$),console.log("\ud83c\udfc1\u2705 7 InitAppWrapper; Initializing playersInGrid..."),await N.A.initializePlayersInGrid(R);const O=N.A.getPlayersInGrid(R),z=String(I.playerId),D=null===O||void 0===O||null===(o=O[z])||void 0===o?void 0:o.position;console.log("Player position from playersInGrid:",D),D&&(0,X.V5)(D,We),console.log("\ud83c\udfc1\u2705 8 InitAppWrapper; Resolving player location...");const M=A._id.toString();let L=null===O||void 0===O?void 0:O[M];const B=(null===(r=A.location)||void 0===r?void 0:r.g)!==R,G=!L;if(console.log("isLocationMismatch = ",B),console.log("isMissingFromGrid = ",G),G&&le===A.location.g){var g;console.warn("\ud83e\udded Player not in correct NPCsInGrid or missing entirely. Repositioning...");const e={x:0,y:0};console.warn("InitAppWrapper: adding PC to NPCsInGrid"),await N.A.addPlayer(le,A.playerId,A),console.warn("InitAppWrapper: refreshing NPCsInGrid"),wt((e=>({...e,[le]:N.A.getPlayersInGrid(le)})));const t=null===(g=N.A.getPlayersInGrid(le))||void 0===g?void 0:g[M];console.log("Refreshed gridPlayer:",t),console.warn("InitAppWrapper: adding PC to NPCsInGrid"),de(le),localStorage.setItem("gridId",le),A.location={...A.location,x:e.x,y:e.y,g:le},console.log("\u2705 Player repositioned into NPCsInGrid:",t)}else console.log("\u2705 Player found in local NPCsInGrid.");console.log("\ud83c\udfc1\u2705 11 InitAppWrapper: updating localStorage with player data"),E={...A,location:{...A.location,x:(null===L||void 0===L||null===(u=L.position)||void 0===u?void 0:u.x)||3,y:(null===L||void 0===L||null===(p=L.position)||void 0===p?void 0:p.y)||3,g:A.location.g}},ie(E),localStorage.setItem("player",JSON.stringify(E)),console.log("\u2705 LocalStorage updated with combat stats:",E),null!==(m=E.settings)&&void 0!==m&&m.hasDied&&(console.log("\u2620\ufe0f Player died last session. Showing death modal."),te({title:q[5001],message:q[5002],message2:q[5003],size:"small"}),Z(!0),await s.A.post(`${i.A}/api/update-profile`,{playerId:E.playerId,updates:{settings:{...E.settings,hasDied:!1}}}),E.settings.hasDied=!1,localStorage.setItem("player",JSON.stringify(E)));const F=function(e){if(null===e||void 0===e||!e.username)return console.warn("\u26a0\ufe0f getBadgeState called without valid currentPlayer"),{};const t=`badges_${e.username}`,n=localStorage.getItem(t);return n?JSON.parse(n):{}}(E);sn(F);(E.messages||[]).some((e=>!e.read))&&d(E,sn,"mailbox",!0),e=(0,l.xY)(E,sn,d),console.log("\u2705\ud83c\udfc1\u2705\ud83c\udfc1\u2705\ud83c\udfc1\u2705 App initialization complete.");const V=localStorage.getItem("initialZoomLevel");V&&(He(V),localStorage.removeItem("initialZoomLevel")),wn(!0),!0===E.firsttimeuser&&void 0!==E.ftuestep&&E.ftuestep>=0&&console.log("\ud83c\udf93 FTUE step detected for first-time user:",E.ftuestep,", will show after grid loads")}catch(v){var y;console.error("Error during app initialization:",v),404===(null===(y=v.response)||void 0===y?void 0:y.status)?(console.log("Player not found (possibly deleted). Clearing local storage and showing login panel."),localStorage.removeItem("player"),localStorage.removeItem("playerId"),ie(null),Ct(!0)):ne("ERR_NETWORK"===v.code?1:0)}}})(),()=>{var t;null===(t=e)||void 0===t||t()}}),[]),(0,a.useEffect)((()=>{if(null===se||void 0===se||!se.username)return;const e=localStorage.getItem(`badges_${se.username}`);e&&sn(JSON.parse(e));const t=(0,l.xY)(se,sn,d);return()=>{null===t||void 0===t||t()}}),[se,l.Ay]),(0,a.useEffect)((()=>{if(!0===(null===se||void 0===se?void 0:se.firsttimeuser)&&void 0!==(null===se||void 0===se?void 0:se.ftuestep)&&se.ftuestep>=0&&se.ftuestep!==Xe&&(null===Xe||se.ftuestep>Xe)){kn&&he.length>0&&pe.length>0?(console.log("\ud83c\udf93 FTUE step changed to:",se.ftuestep,", showing FTUE (grid loaded)"),qt(!0),et(se.ftuestep)):console.log("\ud83c\udf93 FTUE step changed to:",se.ftuestep,", but waiting for grid to load")}}),[null===se||void 0===se?void 0:se.ftuestep,Xe,kn,he.length,pe.length]),(0,a.useEffect)((()=>{!0===(null===se||void 0===se?void 0:se.firsttimeuser)&&void 0!==(null===se||void 0===se?void 0:se.ftuestep)&&se.ftuestep>=0&&!Gt&&kn&&he.length>0&&pe.length>0&&se.ftuestep!==Xe&&(console.log("\ud83c\udf93 Grid loaded, showing pending FTUE step:",se.ftuestep),qt(!0),et(se.ftuestep))}),[kn,he.length,pe.length,se,Xe,Gt]),(0,a.useEffect)((()=>(le&&ke&&(Se.initializeFarmState(pe),Se.startSeedTimer({gridId:le,setResources:me,masterResources:ke})),()=>{Se.stopSeedTimer()})),[le,pe,ke]),(0,a.useEffect)((()=>{if(!kn)return void console.log("App not initialized. Skipping NPC management.");const e=setInterval((()=>{var e;const t=null===yt||void 0===yt||null===(e=yt[le])||void 0===e?void 0:e.npcs;if(!t)return void console.warn("No NPCs in NPCsInGrid for gridId:",le);Ht===(null===se||void 0===se?void 0:se.username)&&Object.values(t).forEach((e=>{"function"===typeof e.update?e.gridId&&e.gridId!==le?console.warn(`\u26a0\ufe0f NPC ${e.id} (${e.type}) has gridId ${e.gridId} but is being updated in grid ${le}. Skipping.`):e.update(Date.now(),yt[le],le,We):console.warn("\ud83d\uded1 Skipping NPC without update() method:",e)}))}),1e3);return()=>clearInterval(e)}),[kn,le,yt,se,We,Ht]),(0,a.useEffect)((()=>{if(!kn)return void console.log("App not initialized. Skipping PC management.");const e=setInterval((async()=>{if(bt&&le&&null!==se&&void 0!==se&&se._id){var e,t,n,a,o;const r=String(se._id),l=null===bt||void 0===bt||null===(e=bt[le])||void 0===e||null===(t=e.pcs)||void 0===t?void 0:t[r],c=null===l||void 0===l||null===(n=l.position)||void 0===n?void 0:n.x,d=null===l||void 0===l||null===(a=l.position)||void 0===a?void 0:a.y,u=null===he||void 0===he||null===(o=he[d])||void 0===o?void 0:o[c],p=null===pe||void 0===pe?void 0:pe.flat().find((e=>{const t=(null===e||void 0===e?void 0:e.range)||1;return c>=(null===e||void 0===e?void 0:e.x)&&c<(null===e||void 0===e?void 0:e.x)+t&&d<=(null===e||void 0===e?void 0:e.y)&&d>(null===e||void 0===e?void 0:e.y)-t}));null===p||void 0===p||p.type;if((null===l||void 0===l?void 0:l.hp)<=0&&se)console.log("\ud83d\udc80 Player is dead. Handling death..."),await(async(e,t,n,a,o,r,l,c,d,u,p)=>{console.log("\u26b0\ufe0f Handling player death for",e.username);try{const d=e.location.g,u=await(0,y.FV)(e.gridId),m={x:u.x,y:u.y,g:e.gridId!==d?e.gridId:d,s:e.settlementId,gtype:"homestead"},h={...e.location,...m};let f=25;"Gold"===e.accountStatus&&(f=Math.floor(e.baseMaxhp/2)),console.log(`Restored HP for ${e.username}: ${f}`),e.hp=f,e.backpack=[];const g={...e.location};e.location=h,await s.A.post(`${i.A}/api/update-profile`,{playerId:e._id,updates:{backpack:[],hp:f,location:h,settings:e.settings}}),t(e),localStorage.setItem("player",JSON.stringify(e)),await N.A.updatePC(d,e._id,{hp:f}),console.log(`Player ${e.username} teleported to home grid with ${f} HP.`),console.log("\ud83d\udce6 Player before changePlayerLocation:",JSON.stringify(e,null,2)),await(0,j.t3)(e,g,h,t,n,a,r,o,l,c,p)}catch(m){console.error("Error during player death handling and teleportation:",m)}})(se,ie,de,ve,me,ge,We,ne,0,0,Pt),te({title:q[5001],message:q[5002],message2:q[5003],size:"small"}),Z(!0);else if("l"===u){const e=2;bt[le].pcs[r].hp-=e,A.A.addFloatingText(`- ${e} \u2764\ufe0f\u200d\ud83e\ude79 HP`,c,d,We),console.log("\ud83d\udd25 Player is standing on lava. Applying 2 damage.")}}}),1e3);return()=>clearInterval(e)}),[kn,le,bt,se,We,pe,me,at,st,tt,ot,ke,je]),(0,a.useEffect)((()=>{if(!kn)return void console.log("App not initialized. Skipping PC Health Check.");const e=setInterval((async()=>{if(bt&&le&&null!==se&&void 0!==se&&se._id){var e,t,n,a;const o=String(se._id),r=null===bt||void 0===bt||null===(e=bt[le])||void 0===e||null===(t=e.pcs)||void 0===t?void 0:t[o],s=null===r||void 0===r||null===(n=r.position)||void 0===n?void 0:n.x,i=null===r||void 0===r||null===(a=r.position)||void 0===a?void 0:a.y;if((null===r||void 0===r?void 0:r.hp)<=se.baseMaxhp/4&&"homestead"===se.location.gtype){const e=2;bt[le].pcs[o].hp+=e,A.A.addFloatingText(`+ ${e} \u2764\ufe0f\u200d\ud83e\ude79 HP`,s,i,We)}}}),1e4);return()=>clearInterval(e)}),[kn,le,bt,se,We,pe,me,at,st,tt,ot,ke,je]);const[Sn,xn]=(0,a.useState)((()=>JSON.parse(localStorage.getItem("timers"))||{seasons:{phase:"",endTime:null,type:""},elections:{phase:"",endTime:null},train:{phase:"",endTime:null},taxes:{phase:"",endTime:null},bank:{phase:"",endTime:null}})),[Cn,In]=(0,a.useState)({seasons:"",elections:"",train:"",taxes:"",bank:""});(0,a.useEffect)((()=>{if(null===se||void 0===se||!se.settlementId)return;(async()=>{await Tn(),console.log("\u2705 Timers initialized:",Sn)})();const e=setInterval(Tn,6e4);return()=>clearInterval(e)}),[se]);const Tn=async()=>{if(se){if(null!==se&&void 0!==se&&se.settlementId&&null!==se&&void 0!==se&&se.frontierId)try{var e,t,n,a,o,r,l,c,d,u,p;const m=(await s.A.get(`${i.A}/api/get-frontier/${se.frontierId}`)).data,h={seasons:{type:(null===(e=m.seasons)||void 0===e?void 0:e.seasonType)||"Unknown",phase:(null===(t=m.seasons)||void 0===t?void 0:t.phase)||"Unknown",endTime:null!==(n=m.seasons)&&void 0!==n&&n.endTime?new Date(m.seasons.endTime).getTime():null},elections:{phase:(null===(a=m.elections)||void 0===a?void 0:a.phase)||"Unknown",endTime:null!==(o=m.elections)&&void 0!==o&&o.endTime?new Date(m.elections.endTime).getTime():null},train:{phase:(null===(r=m.train)||void 0===r?void 0:r.phase)||"Unknown",endTime:null!==(l=m.train)&&void 0!==l&&l.endTime?new Date(m.train.endTime).getTime():null},taxes:{phase:(null===(c=m.taxes)||void 0===c?void 0:c.phase)||"Unknown",endTime:null!==(d=m.taxes)&&void 0!==d&&d.endTime?new Date(m.taxes.endTime).getTime():null},bank:{phase:(null===(u=m.bank)||void 0===u?void 0:u.phase)||"Unknown",endTime:null!==(p=m.bank)&&void 0!==p&&p.endTime?new Date(m.bank.endTime).getTime():null}};xn(h),localStorage.setItem("timers",JSON.stringify(h)),console.log("\u2705 Current Time:",Date.now())}catch(m){console.error("\u274c Error fetching timers data:",m)}}else console.warn("\u26d4 No player loaded \u2014 skipping fetchTimersData.")};(0,a.useEffect)((()=>{const e=()=>{const e=Date.now();In({seasons:Jt(Sn.seasons.endTime,e),elections:Jt(Sn.elections.endTime,e),train:Jt(Sn.train.endTime,e),taxes:Jt(Sn.taxes.endTime,e),bank:Jt(Sn.bank.endTime,e)})};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[Sn]),(0,a.useEffect)((()=>{"offSeason"===Sn.seasons.phase?At(!0):At(!1);const e=setInterval((async()=>{const e=Date.now();let t=!1;if(Sn.seasons.endTime&&e>=Sn.seasons.endTime&&(console.log("\ud83c\udf31 Season phase ended."),t=!0),Sn.elections.endTime&&e>=Sn.elections.endTime&&(console.log("\ud83c\udfdb\ufe0f Election phase ended. Fetching new election data..."),t=!0),Sn.train.endTime&&e>=Sn.train.endTime&&(console.log("\ud83d\ude82 Train cycle ended. Fetching new train data..."),t=!0),Sn.taxes.endTime&&e>=Sn.taxes.endTime&&(console.log("\ud83d\udcb0 Tax cycle ended. Fetching new tax data..."),t=!0),Sn.bank.endTime&&e>=Sn.bank.endTime&&(console.log("\ud83d\udcb0 Bank cycle ended. Fetching new bank timer..."),t=!0),t){var n,a;console.log("\u23f3 A phase has ended! Fetching updated timers..."),await Tn();"offSeason"===(null===(n=JSON.parse(localStorage.getItem("timers")))||void 0===n||null===(a=n.seasons)||void 0===a?void 0:a.phase)&&(At(!0),console.log("\ud83d\udd53 OffSeason detected immediately after fetch."))}}),1e3);return()=>clearInterval(e)}),[Sn]);const jn=(0,a.useRef)(null===(e=Sn.seasons)||void 0===e?void 0:e.phase);(0,a.useEffect)((()=>{var e;const t=null===(e=Sn.seasons)||void 0===e?void 0:e.phase;"offSeason"===jn.current&&"onSeason"===t&&(console.warn("\ud83d\udd01 offSeason ended \u2014 forcing full app reload."),window.location.reload()),jn.current=t}),[null===(t=Sn.seasons)||void 0===t?void 0:t.phase]),(0,a.useEffect)((()=>{(0,l.ZR)(le,se,Ae,wt,Ht,Wt)}),[l.Ay,le,Ae,se,Ht]),(0,a.useEffect)((()=>{kn?(0,l.zN)(We,le,se,wt,En):console.log("App not initialized. Skipping PC socket changes.")}),[l.Ay,le,se]),(0,a.useEffect)((()=>{kn?(0,l.j0)(We,le,vt,Ce):console.log("App not initialized. Skipping NPC socket changes.")}),[l.Ay,le,kn]),(0,a.useEffect)((()=>{(0,l.Bp)(We,le,Ae,me,ke,xt.if)}),[l.Ay,le,Ae]),(0,a.useEffect)((()=>{(0,l.BD)(le,ge,xt.El)}),[l.Ay,le]),(0,a.useEffect)((()=>{(0,l.zK)(le,se,Wt)}),[l.Ay,le,se]),(0,a.useEffect)((()=>{(0,l.uv)()}),[l.Ay]),(0,a.useEffect)((()=>{l.Ay&&se&&le&&(0,l.jg)(le,se,Qt)}),[l.Ay,se,le]),(0,a.useEffect)((()=>{if(!l.Ay||!le)return;return(0,l.Wc)(le,en)}),[l.Ay,le]),(0,a.useEffect)((()=>{if(!l.Ay||null===se||void 0===se||!se.playerId)return;return(0,l.xY)(se,sn,d)}),[l.Ay,se]),(0,a.useEffect)((()=>{if(!l.Ay||!se)return;return(0,l.kf)(an)}),[l.Ay,se]);const En=(0,a.useRef)(0);(0,a.useEffect)((()=>{const e=e=>{if(H)return;if(It)return;if("frontier"===Ue||"settlement"===Ue)return;const t=document.activeElement;(!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)&&(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault(),(0,X.Eu)(e,se,We,ke,ie,de,ve,ge,me,ne,Pt,En,ae))},t=e=>{(0,X.zQ)(e)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[se,ke,We,H,Ue]);let $n=!1;const Dn=(0,a.useCallback)((async(e,t)=>{var a,o;if($n)return;$n=!0;const r=pe.find((n=>{const a=n.range||1;return t>=n.x&&t<n.x+a&&e<=n.y&&e>n.y-a}));console.log("\u2b06\ufe0f handleTileClick invoked with:",{rowIndex:e,colIndex:t,resource:r});const s=(null===se||void 0===se?void 0:se.gridId)===(null===se||void 0===se||null===(a=se.location)||void 0===a?void 0:a.g);if(r&&"homestead"===(null===se||void 0===se||null===(o=se.location)||void 0===o?void 0:o.gtype)&&!s&&!_){const e=!1,t=["Mailbox","Trade Stall","Warehouse"],n="station"===(null===r||void 0===r?void 0:r.category)&&t.includes(null===r||void 0===r?void 0:r.type),a="npc"===(null===r||void 0===r?void 0:r.category)||"travel"===(null===r||void 0===r?void 0:r.category);if(n||!a&&!e)return console.warn("\ud83d\udeab Blocked interaction on another player's homestead."),ne(90),void($n=!1)}if(!le||"string"!==typeof le)return void console.error("Invalid gridId:",le);if(null===se||void 0===se||!se.username||"string"!==typeof se.username)return void console.error("Invalid username:",null===se||void 0===se?void 0:se.username);if(null===se||void 0===se||!se._id)return void console.error("No player ID found");const i=N.A.getPlayerPosition(le,String(se._id)),l={x:t,y:e};if(!i||"undefined"===typeof i.x||"undefined"===typeof i.y)return console.error("\u26a0\ufe0f Player position is invalid in NPCsInGrid; playerPos: ",i),void($n=!1);if(r&&"npc"!==r.category){if((0,y.gd)(i,l)>(0,y.ZW)(se,ke))return A.A.addFloatingText(24,l.x,l.y,We),void($n=!1)}var c,d;if(r)if(console.log("App.js: Resource clicked:",r),"npc"===r.category);else if("travel"===r.category){var u;if(null!==ae&&void 0!==ae&&null!==(u=ae.isAnyBulkOperationActive)&&void 0!==u&&u.call(ae)){ae.getActiveBulkOperations();return void ne(470)}const{handleTransitSignpost:e}=await Promise.resolve().then(n.bind(n,704));await e(se,r.type,ie,de,ve,ge,me,ne,We,se.skills,Pt,ae,ke)}else if("training"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),Nt("SkillsAndUpgradesPanel");else if("crafting"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),Nt("CraftingStation");else if("farmhouse"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),Nt("FarmHouse");else if("shop"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),Nt("ShopStation");else if("stall"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),Nt("AnimalStall");else if("farmplot"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le,resource:r}),Nt("CropPanel");else if("deco"===r.category)Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),Nt("DecoPanel");else if("station"===r.category)switch(Dt({type:r.type,position:{x:r.x,y:r.y},gridId:le}),r.type){case"Courthouse":Nt("Courthouse");break;case"Trade Stall":case"Trade":case"Trading Post":Nt("TradeStall");break;case"Outpost":Nt("OutpostPanel");break;case"Mailbox":W("Mailbox");break;case"Train":Nt("TrainPanel");break;case"Bank":Nt("BankPanel");break;case"Worker Slot":const e=pe.find((e=>"Farm House"===e.type&&"farmhouse"===e.category));e?(Dt({type:"Farm House",position:{x:e.x,y:e.y},gridId:le}),Nt("FarmHouse")):(console.warn("Farm House not found on grid"),ne("Farm House not found"));break;default:console.warn(`Unhandled station type: ${r.type}`)}else fe(r,r.y,r.x,pe,me,at,st,tt,ot,A.A.addFloatingText,le,We,he,se,ie,de,ve,ge,ne,ke,je,te,Z,Pt,q,ae,Nt).finally((()=>{$n=!1}));else if(console.log("isTeleportEnabled:",null===se||void 0===se||null===(c=se.settings)||void 0===c?void 0:c.isTeleportEnabled),null!==se&&void 0!==se&&null!==(d=se.settings)&&void 0!==d&&d.isTeleportEnabled){const n={x:t,y:e};console.log("\ud83d\udccd Player teleporting to grid position:",n);const a={...se,position:n};ie(a),localStorage.setItem("player",JSON.stringify(a)),null!==se&&void 0!==se&&se._id&&N.A.updatePC(le,se._id,{position:n})}$n=!1}),[pe,le,tt,se,lt,We]);(0,a.useEffect)((()=>{let e=Date.now();const t=()=>{e=Date.now()};window.addEventListener("mousemove",t),window.addEventListener("keydown",t),document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&t()}));const n=setInterval((()=>{const t=Date.now()-e;t>=12e5?(console.warn("\ud83d\udd01 Inactive too long. Showing refresh modal."),te({title:q[70],message:q[71],message2:q[72],size:"small",onClose:()=>Z(!1),children:(0,u.jsx)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",marginTop:"10px"},children:(0,u.jsx)("button",{className:"btn-success",onClick:()=>{Z(!1),window.location.reload()},children:q[73]})})}),Z(!0),setTimeout((()=>{console.warn("\ud83d\udd01 Auto-refreshing due to inactivity..."),window.location.reload()}),3e4)):t>=9e5&&(console.warn("\ud83d\udc4b Inactive for a while. Releasing controller role."),Ht===(null===se||void 0===se?void 0:se.username)&&l.Ay.emit("relinquish-npc-controller",{gridId:le}))}),6e4);return()=>{window.removeEventListener("mousemove",t),window.removeEventListener("keydown",t),clearInterval(n)}}),[se,Ht,le]);const[Fn,_n]=(0,a.useState)(!1),[Kn,Jn]=(0,a.useState)(!1),Qn=(null===se||void 0===se?void 0:se.gridId)===(null===se||void 0===se||null===(r=se.location)||void 0===r?void 0:r.g),[Zn,Xn]=(0,a.useState)(!1),[ea,ta]=(0,a.useState)(!1);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(A.A,{}),(0,u.jsxs)("header",{className:"app-header",children:[(0,u.jsxs)("div",{className:"header-controls-left",children:[(0,u.jsx)("h1",{children:q[0]}),"Gold"===(null===se||void 0===se?void 0:se.accountStatus)&&(0,u.jsxs)("button",{className:"gold-button",onClick:()=>Nt("ProfilePanel"),children:[se.icon," ",se.username]}),"Free"===(null===se||void 0===se?void 0:se.accountStatus)&&(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("ProfilePanel"),children:[se.icon," ",se.username]}),(0,u.jsxs)("div",{className:"zoom-controls",children:[(0,u.jsx)("button",{className:"zoom-button",disabled:!se,onClick:()=>{var e,t,n,a;const o=null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.g;if(!o||null===se||void 0===se||!se._id)return void console.warn("No valid gridId or playerId found for currentPlayer.");const r=String(se._id),s=null===bt||void 0===bt||null===(t=bt[o])||void 0===t||null===(n=t.pcs)||void 0===n||null===(a=n[r])||void 0===a?void 0:a.position;se.iscamping?ne(32):"closer"===Ue?(He("close"),setTimeout((()=>{(0,X.di)(s,Ke.close)}),50)):"close"===Ue?(He("far"),setTimeout((()=>{(0,X.di)(s,Ke.far)}),50)):"far"===Ue?(He("settlement"),ne(12)):"settlement"===Ue&&(He("frontier"),ne(13))},children:"\u2212"}),(0,u.jsx)("button",{className:"zoom-button",disabled:!se,onClick:async()=>{var e,t,n,a;const o=null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.g;if(!o||null===se||void 0===se||!se._id)return void console.warn("No valid gridId or playerId found for currentPlayer.");const r=String(se._id),s=null===bt||void 0===bt||null===(t=bt[o])||void 0===t||null===(n=t.pcs)||void 0===n||null===(a=n[r])||void 0===a?void 0:a.position;if(se.iscamping)ne(32);else if("frontier"===Ue)He("settlement"),ne(12);else if("settlement"===Ue){(0,X.di)(s,Ke.far),He("far");const{username:e,gridType:t}=await(0,y.qJ)(o);"town"===t?ne(14):["valley0","valley1","valley2","valley3"].includes(t)?ne(16):"homestead"===t?e?await(0,j.qh)(t,e,ne,se,se.location.g):ne("This homestead is unoccupied."):(console.warn(`Unexpected gridType: ${t}`),ne("Unknown location."))}else"far"===Ue?(setTimeout((()=>{(0,X.di)(s,Ke.close)}),50),He("close")):"close"===Ue&&(setTimeout((()=>{(0,X.di)(s,Ke.closer)}),50),He("closer"))},children:"+"})]}),(0,u.jsxs)("button",{className:"shared-button",disabled:!se,onClick:()=>Nt("InventoryPanel"),children:[q[10103]," "]}),(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("HowToMoneyPanel"),children:["\ud83d\udcb0 ",Array.isArray(null===se||void 0===se?void 0:se.inventory)?((null===(v=se.inventory.find((e=>"Money"===e.type)))||void 0===v?void 0:v.quantity)||0).toLocaleString():"..."]}),(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("HowToGemsPanel"),children:["\ud83d\udc8e ",Array.isArray(null===se||void 0===se?void 0:se.inventory)?((null===(w=se.inventory.find((e=>"Gem"===e.type)))||void 0===w?void 0:w.quantity)||0).toLocaleString():"..."]}),(0,u.jsxs)("div",{className:"nav-button-wrapper",children:[(0,u.jsx)("button",{className:"shared-button",disabled:!se,onClick:()=>W("Mailbox"),children:q[10105]}),on.mailbox&&(0,u.jsx)("div",{className:"badge-dot"})]}),(0,u.jsxs)("div",{className:"nav-button-wrapper",children:[(0,u.jsx)("button",{className:"shared-button gold-button",disabled:!se,onClick:()=>K("Store"),children:q[10104]}),on.store&&(0,u.jsx)("div",{className:"badge-dot"})]})]}),(0,u.jsxs)("div",{className:"header-controls-right",children:[(0,u.jsxs)("div",{className:"nav-button-wrapper",children:[(0,u.jsx)("button",{className:"shared-button",disabled:!se,onClick:()=>Xn((e=>!e)),children:q[10107]}),on.chat&&(0,u.jsx)("div",{className:"badge-dot"})]}),(0,u.jsx)("button",{className:"shared-button",onClick:()=>Lt(!0),children:q[10106]}),(0,u.jsxs)("button",{className:"shared-button",disabled:!se,onClick:()=>K("LanguagePicker"),children:["\ud83c\udf0e ",(null===(S=Me.find((e=>e.code===(null===se||void 0===se?void 0:se.language))))||void 0===S?void 0:S.label)||"Language"]})]})]}),(0,u.jsxs)("div",{className:"status-bar-wrapper",children:[" ",(0,u.jsx)(Te,{})," "]}),Zn&&se&&(0,u.jsx)("div",{className:"chat-panel-slideout "+(ea?"closing":""),children:(0,u.jsx)(p,{currentGridId:null===(I=se.location)||void 0===I?void 0:I.g,currentSettlementId:null===(P=se.location)||void 0===P?void 0:P.s,currentFrontierId:se.frontierId,currentPlayer:se,onClose:()=>{ta(!0),setTimeout((()=>{Xn(!1),ta(!1)}),300)}})}),(0,u.jsxs)("div",{className:"nav-column",children:[(0,u.jsx)("button",{className:"nav-button "+(Tt?"":"selected"),title:q[12009],onClick:()=>jt(),children:"\ud83c\udfe1"}),(0,u.jsx)("button",{className:"nav-button "+("QuestPanel"===Tt?"selected":""),title:q[12004],disabled:!se,onClick:()=>Nt("QuestPanel"),children:"\u2705"}),(0,u.jsx)("button",{className:"nav-button "+("FarmingPanel"===Tt?"selected":""),title:q[12001],disabled:!se,onClick:()=>{var e;se.iscamping||se.isinboat?ne(340):"homestead"!==(null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.gtype)||Qn||_?Nt("FarmingPanel"):ne(90)},children:"\ud83d\ude9c"}),(0,u.jsx)("button",{className:"nav-button "+("ToolsPanel"===Tt?"selected":""),title:q[12012],disabled:!se,onClick:()=>{var e;se.iscamping||se.isinboat?ne(340):"homestead"!==(null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.gtype)||Qn?Nt("ToolsPanel"):ne(90)},children:"\u26cf\ufe0f"}),(0,u.jsx)("button",{className:"nav-button "+("BuyPanel"===Tt?"selected":""),title:q[12003],disabled:!se,onClick:()=>{var e;se.iscamping||se.isinboat?ne(340):"homestead"!==(null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.gtype)||Qn||_?Nt("BuyPanel"):ne(90)},children:"\ud83d\udc2e"}),(0,u.jsx)("button",{className:"nav-button "+("BuildPanel"===Tt?"selected":""),title:q[12002],disabled:!se,onClick:()=>{var e;se.iscamping||se.isinboat?ne(340):"homestead"!==(null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.gtype)||Qn||_?Nt("BuildPanel"):ne(90)},children:"\u2692\ufe0f"}),(0,u.jsx)("button",{className:"nav-button "+("SkillsAndUpgradesPanel"===Tt?"selected":""),title:q[12005],disabled:!se,onClick:()=>{Dt(null),Nt("SkillsAndUpgradesPanel")},children:"\ud83d\udcaa"}),!(null!==se&&void 0!==se&&se.firsttimeuser)&&(0,u.jsx)("button",{className:"nav-button "+("BuyDecoPanel"===Tt?"selected":""),title:q[12011],disabled:!se,onClick:()=>{var e;se.iscamping||se.isinboat?ne(340):"homestead"!==(null===se||void 0===se||null===(e=se.location)||void 0===e?void 0:e.gtype)||Qn||_?Nt("BuyDecoPanel"):ne(90)},children:"\ud83e\udeb4"}),!(null!==se&&void 0!==se&&se.firsttimeuser)&&(0,u.jsx)("button",{className:"nav-button "+("CombatPanel"===Tt?"selected":""),title:q[12006],disabled:!se,onClick:()=>Nt("CombatPanel"),children:"\u2694\ufe0f"}),!(null!==se&&void 0!==se&&se.firsttimeuser)&&(0,u.jsx)("button",{className:"nav-button "+("GovPanel"===Tt?"selected":""),title:q[12007],onClick:()=>Nt("GovPanel"),children:"\ud83c\udfdb\ufe0f"}),(0,u.jsx)("button",{className:"nav-button "+("TrophyPanel"===Tt?"selected":""),title:q[12013],onClick:()=>Nt("TrophyPanel"),children:"\ud83c\udfc6"}),_&&(0,u.jsx)("button",{className:"nav-button "+("DebugPanel"===Tt?"selected":""),title:"Debug",onClick:()=>Nt("DebugPanel"),children:"\ud83d\udc1e"})]}),(0,u.jsxs)("div",{className:"app-container",children:[(0,u.jsxs)("div",{className:"base-panel",children:[(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("HowToPanel"),children:[q[10109]," AWSD"]}),(0,u.jsx)("button",{className:"shared-button",onClick:()=>Nt("HowToPanel"),children:q[10110]}),(0,u.jsx)("br",{}),"Mayor"===(null===se||void 0===se?void 0:se.role)&&(0,u.jsxs)(u.Fragment,{children:[" ",(0,u.jsxs)("h2",{className:"player-role",children:[" ",q[10111]," "]}),(0,u.jsx)("br",{})]}),(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("CombatPanel"),children:[q[10112]," ",(0,u.jsxs)("strong",{children:[null!==se&&void 0!==se&&se._id&&null!==(E=null===bt||void 0===bt||null===(R=bt[le])||void 0===R||null===($=R.pcs)||void 0===$||null===(O=$[String(se._id)])||void 0===O?void 0:O.hp)&&void 0!==E?E:"?"," / ",null!==se&&void 0!==se&&se._id&&null!==(z=null===bt||void 0===bt||null===(D=bt[le])||void 0===D||null===(M=D.pcs)||void 0===M||null===(L=M[String(se._id)])||void 0===L?void 0:L.maxhp)&&void 0!==z?z:"?"]})]}),(0,u.jsx)("br",{}),"onSeason"===Sn.seasons.phase?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h2",{children:[q[10113]," ",(null===re||void 0===re?void 0:re.type)||"[Season unknown]"]}),(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("SeasonPanel"),children:[q[10114],(0,u.jsx)("br",{}),(0,u.jsx)("strong",{children:Cn.seasons})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h2",{children:[q[10113]," ",(null===re||void 0===re?void 0:re.type)||"[Season unknown]"]}),(0,u.jsxs)("button",{className:"shared-button",onClick:()=>Nt("SeasonPanel"),children:[q[10115],(0,u.jsx)("br",{}),(0,u.jsx)("strong",{children:Cn.seasons})]})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("h2",{children:[q[10116],(0,u.jsx)("span",{onClick:()=>_n(!Fn),style:{cursor:"pointer",fontSize:"16px",marginLeft:"5px"},children:Fn?"\u25bc":"\u25b6"})]}),Fn&&(0,u.jsxs)("div",{className:"timers-panel",children:[(0,u.jsx)("br",{}),"waiting"===Sn.taxes.phase?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:q[10117]}),(0,u.jsxs)("p",{children:[q[10118],Cn.taxes]})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("h4",{children:q[10119]})}),(0,u.jsxs)("h3",{children:[q[10120],Sn.elections.phase]}),(0,u.jsxs)("p",{children:[q[10121],Cn.elections]}),(0,u.jsxs)("h3",{children:[q[10122],Sn.train.phase]}),(0,u.jsxs)("p",{children:[q[10121],Cn.train]}),(0,u.jsxs)("h3",{children:[q[10123],Sn.bank.phase]}),(0,u.jsxs)("p",{children:[q[10124],Cn.bank]}),(0,u.jsx)("button",{className:"shared-button",onClick:()=>W("TownNews"),children:q[10125]})]}),(0,u.jsx)("br",{}),(0,u.jsx)("h2",{children:q[96]}),(0,u.jsx)("button",{className:"shared-button",onClick:()=>window.open("https://discord.gg/SZMw4vpUJV","_blank"),children:"Join Discord Server"}),(0,u.jsx)("button",{className:"shared-button",onClick:()=>window.location.href="mailto:valleyviewgamedev@gmail.com",children:q[97]}),(0,u.jsx)("br",{}),(0,u.jsx)("h3",{children:q[10126]}),(0,u.jsxs)("div",{children:[null!==bt&&void 0!==bt&&null!==(B=bt[le])&&void 0!==B&&B.pcs&&"object"===typeof bt[le].pcs?0===Object.entries(bt[le].pcs).length?(0,u.jsx)("h4",{style:{color:"white"},children:q[10127]}):Object.entries(bt[le].pcs).map((e=>{let[t,n]=e;return(0,u.jsxs)("p",{style:{color:"white"},children:[Zt.has(t)&&"\ud83d\udce1 ",(0,u.jsx)("strong",{children:n.username})]},t)})):(0,u.jsx)("h4",{style:{color:"white"},children:q[10127]}),(0,u.jsx)("h4",{style:{color:"white"},children:Ht?`\ud83d\udc2e ${Ht}`:"There is no NPCController"})]}),(0,u.jsx)("br",{})]}),(0,u.jsxs)("div",{className:"homestead",children:[gn&&(0,u.jsxs)("div",{className:"keyart-wrapper",children:[(0,u.jsx)("img",{src:"/assets/images/ValleyViewLoadScreen.png",alt:"Valley View Key Art",className:"keyart-image"}),(0,u.jsx)(Yn,{})]}),"far"===Ue||"closer"===Ue||"close"===Ue?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ue,{grid:ln,tileTypes:mn,resources:hn,handleTileClick:Dn,TILE_SIZE:We,setHoverTooltip:_t,currentPlayer:se,strings:q,badgeState:on}),(0,u.jsx)(ce,{TILE_SIZE:We,openPanel:Nt,setActiveStation:Dt,setInventory:at,setBackpack:st,setResources:me,currentPlayer:se,setCurrentPlayer:ie,onNPCClick:e=>{switch(console.log("App.js: Handling an NPC Panel:",e,e.action),e.action){case"quest":case"trade":case"heal":Rt(e),Nt("NPCPanel");break;case"worker":var t;Rt(e),Dt({type:e.type,position:e.position,gridId:null===(t=se.location)||void 0===t?void 0:t.g}),Nt("FarmHandPanel")}},onPCClick:e=>{console.log("App.js: Opening SocialPanel for PC:",e),Ot(e),Nt("SocialPanel")},masterResources:ke,masterSkills:je,setHoverTooltip:_t,setModalContent:te,setIsModalOpen:Z,updateStatus:ne,strings:q})]}):null,"settlement"===Ue&&(0,u.jsx)($e,{currentPlayer:se,isDeveloper:_,setZoomLevel:He,isRelocating:Ye,setIsRelocating:Je,setCurrentPlayer:ie,setGridId:de,setGrid:ve,setResources:me,setTileTypes:ge,TILE_SIZE:We,masterResources:ke,closeAllPanels:Pt,visibleSettlementId:Qe,setVisibleSettlementId:Ze,onClose:()=>He("far")}),"frontier"===Ue&&(0,u.jsx)(ze,{currentPlayer:se,isDeveloper:_,setZoomLevel:He,isRelocating:Ye,setIsRelocating:Je,setCurrentPlayer:ie,setGridId:de,setGrid:ve,setResources:me,setTileTypes:ge,masterResources:ke,TILE_SIZE:We,closeAllPanels:Pt,visibleSettlementId:Qe,setVisibleSettlementId:Ze,onClose:()=>He("settlement")})]}),Mt&&(0,u.jsx)(Wn,{onClose:()=>Lt(!1)}),Gt&&(0,u.jsx)(xe.Ay,{currentPlayer:se,setCurrentPlayer:ie,onClose:()=>qt(!1),openPanel:Nt,setActiveQuestGiver:Rt,gridId:le,setActiveStation:Dt,masterResources:ke,setResources:me,TILE_SIZE:We}),(0,u.jsxs)(De,{isOpen:Q,onClose:()=>{null!==ee&&void 0!==ee&&ee.onClose?ee.onClose():Z(!1)},title:ee.title,message:ee.message,message2:ee.message2,size:ee.size||"standard",children:[ee.children,ee.custom]}),"Mailbox"===H&&(0,u.jsx)(Ln,{onClose:Y,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,resources:ke,updateStatus:ne,masterResources:ke}),"TownNews"===H&&(0,u.jsx)(Gn,{onClose:Y,currentPlayer:se,setCurrentPlayer:ie,resources:ke}),"LanguagePicker"===H&&(0,u.jsx)(Le,{currentPlayer:se,setCurrentPlayer:ie,updateStatus:ne,onClose:()=>K(null),onSave:()=>K(null)}),"Store"===H&&(0,u.jsx)(nt,{onClose:function(){let{openMailbox:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};K(null),e&&setTimeout((()=>K("Mailbox")),100)},currentPlayer:se,setCurrentPlayer:ie,resources:ke,setModalContent:te,setIsModalOpen:Z}),It&&(0,u.jsx)(Bn,{currentPlayer:se,timers:Sn}),"ProfilePanel"===Tt&&(0,u.jsx)(it,{onClose:jt,currentPlayer:se,setCurrentPlayer:ie,handleLogout:()=>{console.log("Logging out user..."),T.Ay.stopGridStateUpdates(),ie(null),at({}),dt({x:0,y:0}),ve([]),me([]),ge([]),de(null),localStorage.removeItem("gridId"),localStorage.removeItem("player"),window.location.reload(),console.log("Player has logged out, and state has been reset.")},isRelocating:Ye,setIsRelocating:Je,zoomLevel:Ue,setZoomLevel:He}),"LoginPanel"===Tt&&(0,u.jsx)(ct,{onClose:jt,setCurrentPlayer:e=>{ie(e),jt()},zoomLevel:Ue,setZoomLevel:He,onLoginSuccess:async(e,t)=>{await(async e=>{console.log("Handling login success for player:",e),localStorage.setItem("player",JSON.stringify(e)),window.location.reload()})(e)}}),"DebugPanel"===Tt&&(0,u.jsx)(ut,{onClose:jt,currentPlayer:se,setCurrentPlayer:ie,setInventory:at,setResources:me,currentGridId:null===se||void 0===se||null===(G=se.location)||void 0===G?void 0:G.g,updateStatus:ne,TILE_SIZE:We,setGrid:ve,setGridId:de,setTileTypes:ge,closeAllPanels:Pt}),"InventoryPanel"===Tt&&(0,u.jsx)(pt,{onClose:jt,masterResources:ke,currentPlayer:se,setCurrentPlayer:ie,setInventory:at,setBackpack:st,updateStatus:ne,openPanel:Nt,setActiveStation:Dt,setModalContent:te,setIsModalOpen:Z}),"TrophyPanel"===Tt&&(0,u.jsx)(mt,{onClose:jt,masterResources:ke,masterTrophies:Ve,currentPlayer:se,setCurrentPlayer:ie,updateStatus:ne,openPanel:Nt,setActiveStation:Dt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st}),"BankPanel"===Tt&&(0,u.jsx)(dn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,updateStatus:ne,masterResources:ke}),"TrainPanel"===Tt&&(0,u.jsx)(un,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,updateStatus:ne,masterResources:ke,setModalContent:te,setIsModalOpen:Z}),"HowToPanel"===Tt&&(0,u.jsx)(ht,{onOpen:Nt,onClose:jt}),"HowToMoneyPanel"===Tt&&(0,u.jsx)(ft,{onOpen:Nt,onClose:jt}),"HowToGemsPanel"===Tt&&(0,u.jsx)(gt,{currentPlayer:se,updateStatus:ne,onOpen:Nt,onClose:jt}),"GoldBenefitsPanel"===Tt&&(0,u.jsx)(Hn,{currentPlayer:se,updateStatus:ne,onOpen:Nt,onClose:jt}),"GovPanel"===Tt&&(0,u.jsx)(cn,{onClose:jt,currentPlayer:se,setCurrentPlayer:ie,setModalContent:te,setIsModalOpen:Z}),"Courthouse"===Tt&&(0,u.jsx)(pn,{onClose:jt,currentPlayer:se,setCurrentPlayer:ie}),"QuestPanel"===Tt&&(0,u.jsx)(kt,{onClose:jt,currentPlayer:se,setCurrentPlayer:ie}),"SkillsAndUpgradesPanel"===Tt&&(0,u.jsx)(rn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,isDeveloper:_,TILE_SIZE:We,updateStatus:ne,masterSkills:je,setResources:me}),"CombatPanel"===Tt&&(0,u.jsx)(Un,{onClose:jt,inventory:tt,setInventory:at,currentPlayer:se,setCurrentPlayer:ie,masterResources:ke,masterSkills:je,TILE_SIZE:We,updateStatus:ne}),"CraftingStation"===Tt&&(0,u.jsx)(fn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,masterResources:ke,masterSkills:je,TILE_SIZE:We,updateStatus:ne,isDeveloper:_,currentSeason:null===re||void 0===re?void 0:re.type}),"FarmHouse"===Tt&&(0,u.jsx)(vn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,masterResources:ke,masterSkills:je,masterTrophies:Ve,TILE_SIZE:We,updateStatus:ne,isDeveloper:_}),"ShopStation"===Tt&&(0,u.jsx)(Nn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,TILE_SIZE:We,updateStatus:ne,masterResources:ke,masterTrophies:Ve,isDeveloper:_}),"FarmingPanel"===Tt&&(0,u.jsx)(Xt,{onClose:jt,TILE_SIZE:We,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,resources:pe,setResources:me,tiles:ye,tileTypes:he,setTileTypes:ge,currentPlayer:se,setCurrentPlayer:ie,gridId:le,masterResources:ke,masterSkills:je,updateStatus:ne,currentSeason:null===re||void 0===re?void 0:re.type}),"ToolsPanel"===Tt&&(0,u.jsx)(tn,{onClose:jt,TILE_SIZE:We,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,resources:pe,setResources:me,tiles:ye,tileTypes:he,setTileTypes:ge,currentPlayer:se,setCurrentPlayer:ie,gridId:le,masterResources:ke,masterSkills:je,updateStatus:ne,isDeveloper:_}),"BuildPanel"===Tt&&(0,u.jsx)(Vt,{onClose:jt,TILE_SIZE:We,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,resources:pe,setResources:me,currentPlayer:se,setCurrentPlayer:ie,gridId:le,masterResources:ke,masterSkills:je,updateStatus:ne,isDeveloper:_,currentSeason:null===re||void 0===re?void 0:re.type}),"BuyPanel"===Tt&&(0,u.jsx)(Ut,{onClose:jt,TILE_SIZE:We,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,resources:pe,setResources:me,currentPlayer:se,setCurrentPlayer:ie,gridId:le,masterResources:ke,masterSkills:je,updateStatus:ne,isDeveloper:_,currentSeason:null===re||void 0===re?void 0:re.type}),"BuyDecoPanel"===Tt&&(0,u.jsx)(Kt,{onClose:jt,TILE_SIZE:We,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,resources:pe,setResources:me,currentPlayer:se,setCurrentPlayer:ie,gridId:le,masterResources:ke,masterSkills:je,updateStatus:ne,isDeveloper:_,currentSeason:null===re||void 0===re?void 0:re.type}),"NPCPanel"===Tt&&(0,u.jsx)(Bt,{onClose:jt,npcData:Et,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,TILE_SIZE:We,updateStatus:ne,masterResources:ke,masterInteractions:Be,masterTraders:qe,zoomLevel:Ue,setZoomLevel:He,centerCameraOnPlayer:X.V5}),"FarmHandPanel"===Tt&&(0,u.jsx)(An,{onClose:jt,npc:Et,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,resources:pe,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,TILE_SIZE:We,updateStatus:ne,masterResources:ke,masterSkills:je,currentSeason:null===re||void 0===re?void 0:re.type}),"SocialPanel"===Tt&&(0,u.jsx)(Vn,{onClose:jt,pcData:$t,currentPlayer:se,setCurrentPlayer:ie,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,updateStatus:ne,masterInteractions:Be,masterTrophies:Ve,isDeveloper:_,controllerUsername:Ht,setControllerUsername:Wt}),"AnimalStall"===Tt&&(0,u.jsx)(Pn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,TILE_SIZE:We,updateStatus:ne,masterResources:ke,isDeveloper:_}),"AnimalPanel"===Tt&&(0,u.jsx)(J,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,npcId:null===zt||void 0===zt?void 0:zt.npcId,TILE_SIZE:We,updateStatus:ne,masterResources:ke}),"CropPanel"===Tt&&(0,u.jsx)(Rn,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,currentResource:null===zt||void 0===zt?void 0:zt.resource,TILE_SIZE:We,updateStatus:ne,masterResources:ke}),"DecoPanel"===Tt&&(0,u.jsx)(On,{onClose:jt,inventory:tt,setInventory:at,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,setResources:me,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,gridId:null===zt||void 0===zt?void 0:zt.gridId,TILE_SIZE:We,updateStatus:ne,masterResources:ke,isDeveloper:_}),"TradeStall"===Tt&&(0,u.jsx)(zn,{onClose:jt,inventory:tt,setInventory:at,currentPlayer:se,setCurrentPlayer:ie,updateStatus:ne,globalTuning:Re,setModalContent:te,setIsModalOpen:Z}),"OutpostPanel"===Tt&&(0,u.jsx)(Mn,{onClose:jt,backpack:ot,setBackpack:st,currentPlayer:se,setCurrentPlayer:ie,gridId:null===zt||void 0===zt?void 0:zt.gridId,setModalContent:te,setIsModalOpen:Z,isDeveloper:_,stationType:null===zt||void 0===zt?void 0:zt.type,currentStationPosition:null===zt||void 0===zt?void 0:zt.position,setResources:me,setInventory:at,TILE_SIZE:We,globalTuning:Re}),"SeasonPanel"===Tt&&(0,u.jsx)(qn,{onClose:jt,currentPlayer:se,setCurrentPlayer:ie,setModalContent:te,setIsModalOpen:Z}),Ft&&(0,u.jsx)("div",{className:"HoverTooltip",style:{position:"fixed",zIndex:9999,top:Ft.y,left:Ft.x,transform:"translate(-50%, -100%) translateY(-8px)",pointerEvents:"none"},dangerouslySetInnerHTML:{__html:Ft.content}})]}),V&&(0,u.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,backgroundColor:"rgba(0,0,0,0.0)",cursor:"wait"}})]})},Qn=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:a,getFCP:o,getLCP:r,getTTFB:s}=t;n(e),a(e),o(e),r(e),s(e)}))};if(console.warn("\ud83d\udd25 index.js evaluated again \u2014 app may remount"),window.__app_initialized__)console.log("\ud83d\uded1 App already initialized, preventing HMR remount");else{window.__app_initialized__=!0;let e="en";try{const t=localStorage.getItem("player");if(t){const n=JSON.parse(t);null!==n&&void 0!==n&&n.language&&(e=n.language)}}catch(Zn){console.warn("Failed to parse player data for language:",Zn)}const t=e,n=document.getElementById("root");console.log("\ud83e\udeb5 root element:",n),window.__root_created__?console.error("\u274c React root was already created!"):(console.warn("\ud83e\uddea Creating React root"),window.__root_created__=!0,window.__root=r.createRoot(n)),window.__app_rendered__?console.error("\u274c App already rendered \u2014 something is wrong"):(console.warn("\ud83e\uddea Rendering App..."),window.__app_rendered__=!0,window.__root.render((0,u.jsx)(ke,{children:(0,u.jsx)(te,{children:(0,u.jsx)(Pe,{children:(0,u.jsx)(o.s,{language:t,children:(0,u.jsx)(w,{children:(0,u.jsx)(I,{children:(0,u.jsx)(Ae,{children:(0,u.jsx)(F.e,{children:(0,u.jsx)(st,{children:(0,u.jsx)(Jn,{})})})})})})})})})})))}Qn()})();
//# sourceMappingURL=main.73eb6cf7.js.map